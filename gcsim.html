<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<script id="versionArea" type="text/javascript">
//<![CDATA[
var version = {title: "TiddlyWiki", major: 2, minor: 8, revision: 1, date: new Date("June 23, 2013"), extensions: {}};

//]]>
</script>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="copyright" content="
TiddlyWiki created by Jeremy Ruston, (jeremy [at] osmosoft [dot] com)

Copyright (c) Jeremy Ruston 2004-2007
Copyright (c) UnaMesa Association 2007-2012

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.

Redistributions in binary form must reproduce the above copyright notice, this
list of conditions and the following disclaimer in the documentation and/or other
materials provided with the distribution.

Neither the name of the UnaMesa Association nor the names of its contributors may be
used to endorse or promote products derived from this software without specific
prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS' AND ANY
EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.

" />
<!--PRE-HEAD-START-->
<!--{{{-->
<link rel='alternate' type='application/rss+xml' title='RSS' href='index.xml'/>
<script type="text/javascript" src="fckeditor/fckeditor.js"></script>
<!--}}}-->
<!--PRE-HEAD-END-->
<title> 信息管理学Information Management - ··································································信息管理与信息系统专业核心课程························································ </title>
<style id="styleArea" type="text/css">
#saveTest {display:none;}
#messageArea {display:none;}
#copyright {display:none;}
#storeArea {display:none;}
#storeArea div {padding:0.5em; margin:1em 0em 0em 0em; border-color:#fff #666 #444 #ddd; border-style:solid; border-width:2px; overflow:auto;}
#shadowArea {display:none;}
#javascriptWarning {width:100%; text-align:center; font-weight:bold; background-color:#dd1100; color:#fff; padding:1em 0em;}

</style>
<!--POST-HEAD-START-->

<!--POST-HEAD-END-->
</head>
<body onload="main();" onunload="if(window.unload) unload();">
<!--PRE-BODY-START-->

<!--PRE-BODY-END-->
<div id="copyright">
Welcome to TiddlyWiki created by Jeremy Ruston; Copyright &copy; 2004-2007 Jeremy Ruston, Copyright &copy; 2007-2011 UnaMesa Association
</div>
<noscript>

<div id="javascriptWarning">
This page requires JavaScript to function properly.<br /><br />
If you do not use JavaScript you may still <a href="/tiddlers">browse
the content of this wiki</a>.
</div>

</noscript>
<div id="saveTest"></div>
<div id="backstageCloak"></div>
<div id="backstageButton"></div>
<div id="backstageArea"><div id="backstageToolbar"></div></div>
<div id="backstage">
	<div id="backstagePanel"></div>
</div>
<div id="contentWrapper"></div>
<div id="contentStash"></div>
<div id="shadowArea">
<div title="ColorPalette">
<pre>Background: #fff
Foreground: #000
PrimaryPale: #8cf
PrimaryLight: #18f
PrimaryMid: #04b
PrimaryDark: #014
SecondaryPale: #ffc
SecondaryLight: #fe8
SecondaryMid: #db4
SecondaryDark: #841
TertiaryPale: #eee
TertiaryLight: #ccc
TertiaryMid: #999
TertiaryDark: #666
Error: #f88
</pre>
</div>
<div title="EditTemplate">
<pre>&lt;!--{{{--&gt;
&lt;div class='toolbar' macro='toolbar [[ToolbarCommands::EditToolbar]]'&gt;&lt;/div&gt;
&lt;div class='title' macro='view title'&gt;&lt;/div&gt;
&lt;div class='editor' macro='edit title'&gt;&lt;/div&gt;
&lt;div macro='annotations'&gt;&lt;/div&gt;
&lt;div class='editor' macro='edit text'&gt;&lt;/div&gt;
&lt;div class='editor' macro='edit tags'&gt;&lt;/div&gt;&lt;div class='editorFooter'&gt;&lt;span macro='message views.editor.tagPrompt'&gt;&lt;/span&gt;&lt;span macro='tagChooser excludeLists'&gt;&lt;/span&gt;&lt;/div&gt;
&lt;!--}}}--&gt;
</pre>
</div>
<div title="GettingStarted">
<pre>To get started with this blank [[TiddlyWiki]], you'll need to modify the following tiddlers:
* [[SiteTitle]] &amp; [[SiteSubtitle]]: The title and subtitle of the site, as shown above (after saving, they will also appear in the browser title bar)
* [[MainMenu]]: The menu (usually on the left)
* [[DefaultTiddlers]]: Contains the names of the tiddlers that you want to appear when the TiddlyWiki is opened
You'll also need to enter your username for signing your edits: &lt;&lt;option txtUserName&gt;&gt;
</pre>
</div>
<div title="ImportTiddlers">
<pre>&lt;&lt;importTiddlers&gt;&gt;
</pre>
</div>
<div title="MarkupPreHead">
<pre>&lt;!--{{{--&gt;
&lt;link rel='alternate' type='application/rss+xml' title='RSS' href='index.xml' /&gt;
&lt;!--}}}--&gt;
</pre>
</div>
<div title="OptionsPanel">
<pre>These [[InterfaceOptions]] for customising [[TiddlyWiki]] are saved in your browser

Your username for signing your edits. Write it as a [[WikiWord]] (eg [[JoeBloggs]])

&lt;&lt;option txtUserName&gt;&gt;
&lt;&lt;option chkSaveBackups&gt;&gt; [[SaveBackups]]
&lt;&lt;option chkAutoSave&gt;&gt; [[AutoSave]]
&lt;&lt;option chkRegExpSearch&gt;&gt; [[RegExpSearch]]
&lt;&lt;option chkCaseSensitiveSearch&gt;&gt; [[CaseSensitiveSearch]]
&lt;&lt;option chkAnimate&gt;&gt; [[EnableAnimations]]

----
Also see [[AdvancedOptions]]
</pre>
</div>
<div title="PageTemplate">
<pre>&lt;!--{{{--&gt;
&lt;div class='header' role='banner' macro='gradient vert [[ColorPalette::PrimaryLight]] [[ColorPalette::PrimaryMid]]'&gt;
&lt;div class='headerShadow'&gt;
&lt;span class='siteTitle' refresh='content' tiddler='SiteTitle'&gt;&lt;/span&gt;&amp;nbsp;
&lt;span class='siteSubtitle' refresh='content' tiddler='SiteSubtitle'&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;div class='headerForeground'&gt;
&lt;span class='siteTitle' refresh='content' tiddler='SiteTitle'&gt;&lt;/span&gt;&amp;nbsp;
&lt;span class='siteSubtitle' refresh='content' tiddler='SiteSubtitle'&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id='mainMenu' role='navigation' refresh='content' tiddler='MainMenu'&gt;&lt;/div&gt;
&lt;div id='sidebar'&gt;
&lt;div id='sidebarOptions' role='navigation' refresh='content' tiddler='SideBarOptions'&gt;&lt;/div&gt;
&lt;div id='sidebarTabs' role='complementary' refresh='content' force='true' tiddler='SideBarTabs'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id='displayArea' role='main'&gt;
&lt;div id='messageArea'&gt;&lt;/div&gt;
&lt;div id='tiddlerDisplay'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;!--}}}--&gt;
</pre>
</div>
<div title="StyleSheetColors">
<pre>/*{{{*/
body {background:[[ColorPalette::Background]]; color:[[ColorPalette::Foreground]];}

a {color:[[ColorPalette::PrimaryMid]];}
a:hover {background-color:[[ColorPalette::PrimaryMid]]; color:[[ColorPalette::Background]];}
a img {border:0;}

h1,h2,h3,h4,h5,h6 {color:[[ColorPalette::SecondaryDark]]; background:transparent;}
h1 {border-bottom:2px solid [[ColorPalette::TertiaryLight]];}
h2,h3 {border-bottom:1px solid [[ColorPalette::TertiaryLight]];}

.button {color:[[ColorPalette::PrimaryDark]]; border:1px solid [[ColorPalette::Background]];}
.button:hover {color:[[ColorPalette::PrimaryDark]]; background:[[ColorPalette::SecondaryLight]]; border-color:[[ColorPalette::SecondaryMid]];}
.button:active {color:[[ColorPalette::Background]]; background:[[ColorPalette::SecondaryMid]]; border:1px solid [[ColorPalette::SecondaryDark]];}

.header {background:[[ColorPalette::PrimaryMid]];}
.headerShadow {color:[[ColorPalette::Foreground]];}
.headerShadow a {font-weight:normal; color:[[ColorPalette::Foreground]];}
.headerForeground {color:[[ColorPalette::Background]];}
.headerForeground a {font-weight:normal; color:[[ColorPalette::PrimaryPale]];}

.tabSelected {color:[[ColorPalette::PrimaryDark]];
	background:[[ColorPalette::TertiaryPale]];
	border-left:1px solid [[ColorPalette::TertiaryLight]];
	border-top:1px solid [[ColorPalette::TertiaryLight]];
	border-right:1px solid [[ColorPalette::TertiaryLight]];
}
.tabUnselected {color:[[ColorPalette::Background]]; background:[[ColorPalette::TertiaryMid]];}
.tabContents {color:[[ColorPalette::PrimaryDark]]; background:[[ColorPalette::TertiaryPale]]; border:1px solid [[ColorPalette::TertiaryLight]];}
.tabContents .button {border:0;}

#sidebar {}
#sidebarOptions input {border:1px solid [[ColorPalette::PrimaryMid]];}
#sidebarOptions .sliderPanel {background:[[ColorPalette::PrimaryPale]];}
#sidebarOptions .sliderPanel a {border:none;color:[[ColorPalette::PrimaryMid]];}
#sidebarOptions .sliderPanel a:hover {color:[[ColorPalette::Background]]; background:[[ColorPalette::PrimaryMid]];}
#sidebarOptions .sliderPanel a:active {color:[[ColorPalette::PrimaryMid]]; background:[[ColorPalette::Background]];}

.wizard {background:[[ColorPalette::PrimaryPale]]; border:1px solid [[ColorPalette::PrimaryMid]];}
.wizard h1 {color:[[ColorPalette::PrimaryDark]]; border:none;}
.wizard h2 {color:[[ColorPalette::Foreground]]; border:none;}
.wizardStep {background:[[ColorPalette::Background]]; color:[[ColorPalette::Foreground]];
	border:1px solid [[ColorPalette::PrimaryMid]];}
.wizardStep.wizardStepDone {background:[[ColorPalette::TertiaryLight]];}
.wizardFooter {background:[[ColorPalette::PrimaryPale]];}
.wizardFooter .status {background:[[ColorPalette::PrimaryDark]]; color:[[ColorPalette::Background]];}
.wizard .button {color:[[ColorPalette::Foreground]]; background:[[ColorPalette::SecondaryLight]]; border: 1px solid;
	border-color:[[ColorPalette::SecondaryPale]] [[ColorPalette::SecondaryDark]] [[ColorPalette::SecondaryDark]] [[ColorPalette::SecondaryPale]];}
.wizard .button:hover {color:[[ColorPalette::Foreground]]; background:[[ColorPalette::Background]];}
.wizard .button:active {color:[[ColorPalette::Background]]; background:[[ColorPalette::Foreground]]; border: 1px solid;
	border-color:[[ColorPalette::PrimaryDark]] [[ColorPalette::PrimaryPale]] [[ColorPalette::PrimaryPale]] [[ColorPalette::PrimaryDark]];}

.wizard .notChanged {background:transparent;}
.wizard .changedLocally {background:#80ff80;}
.wizard .changedServer {background:#8080ff;}
.wizard .changedBoth {background:#ff8080;}
.wizard .notFound {background:#ffff80;}
.wizard .putToServer {background:#ff80ff;}
.wizard .gotFromServer {background:#80ffff;}

#messageArea {border:1px solid [[ColorPalette::SecondaryMid]]; background:[[ColorPalette::SecondaryLight]]; color:[[ColorPalette::Foreground]];}
#messageArea .button {color:[[ColorPalette::PrimaryMid]]; background:[[ColorPalette::SecondaryPale]]; border:none;}

.popupTiddler {background:[[ColorPalette::TertiaryPale]]; border:2px solid [[ColorPalette::TertiaryMid]];}

.popup {background:[[ColorPalette::TertiaryPale]]; color:[[ColorPalette::TertiaryDark]]; border-left:1px solid [[ColorPalette::TertiaryMid]]; border-top:1px solid [[ColorPalette::TertiaryMid]]; border-right:2px solid [[ColorPalette::TertiaryDark]]; border-bottom:2px solid [[ColorPalette::TertiaryDark]];}
.popup hr {color:[[ColorPalette::PrimaryDark]]; background:[[ColorPalette::PrimaryDark]]; border-bottom:1px;}
.popup li.disabled {color:[[ColorPalette::TertiaryMid]];}
.popup li a, .popup li a:visited {color:[[ColorPalette::Foreground]]; border: none;}
.popup li a:hover {background:[[ColorPalette::SecondaryLight]]; color:[[ColorPalette::Foreground]]; border: none;}
.popup li a:active {background:[[ColorPalette::SecondaryPale]]; color:[[ColorPalette::Foreground]]; border: none;}
.popupHighlight {background:[[ColorPalette::Background]]; color:[[ColorPalette::Foreground]];}
.listBreak div {border-bottom:1px solid [[ColorPalette::TertiaryDark]];}

.tiddler .defaultCommand {font-weight:bold;}

.shadow .title {color:[[ColorPalette::TertiaryDark]];}

.title {color:[[ColorPalette::SecondaryDark]];}
.subtitle {color:[[ColorPalette::TertiaryDark]];}

.toolbar {color:[[ColorPalette::PrimaryMid]];}
.toolbar a {color:[[ColorPalette::TertiaryLight]];}
.selected .toolbar a {color:[[ColorPalette::TertiaryMid]];}
.selected .toolbar a:hover {color:[[ColorPalette::Foreground]];}

.tagging, .tagged {border:1px solid [[ColorPalette::TertiaryPale]]; background-color:[[ColorPalette::TertiaryPale]];}
.selected .tagging, .selected .tagged {background-color:[[ColorPalette::TertiaryLight]]; border:1px solid [[ColorPalette::TertiaryMid]];}
.tagging .listTitle, .tagged .listTitle {color:[[ColorPalette::PrimaryDark]];}
.tagging .button, .tagged .button {border:none;}

.footer {color:[[ColorPalette::TertiaryLight]];}
.selected .footer {color:[[ColorPalette::TertiaryMid]];}

.error, .errorButton {color:[[ColorPalette::Foreground]]; background:[[ColorPalette::Error]];}
.warning {color:[[ColorPalette::Foreground]]; background:[[ColorPalette::SecondaryPale]];}
.lowlight {background:[[ColorPalette::TertiaryLight]];}

.zoomer {background:none; color:[[ColorPalette::TertiaryMid]]; border:3px solid [[ColorPalette::TertiaryMid]];}

.imageLink, #displayArea .imageLink {background:transparent;}

.annotation {background:[[ColorPalette::SecondaryLight]]; color:[[ColorPalette::Foreground]]; border:2px solid [[ColorPalette::SecondaryMid]];}

.viewer .listTitle {list-style-type:none; margin-left:-2em;}
.viewer .button {border:1px solid [[ColorPalette::SecondaryMid]];}
.viewer blockquote {border-left:3px solid [[ColorPalette::TertiaryDark]];}

.viewer table, table.twtable {border:2px solid [[ColorPalette::TertiaryDark]];}
.viewer th, .viewer thead td, .twtable th, .twtable thead td {background:[[ColorPalette::SecondaryMid]]; border:1px solid [[ColorPalette::TertiaryDark]]; color:[[ColorPalette::Background]];}
.viewer td, .viewer tr, .twtable td, .twtable tr {border:1px solid [[ColorPalette::TertiaryDark]];}

.viewer pre {border:1px solid [[ColorPalette::SecondaryLight]]; background:[[ColorPalette::SecondaryPale]];}
.viewer code {color:[[ColorPalette::SecondaryDark]];}
.viewer hr {border:0; border-top:dashed 1px [[ColorPalette::TertiaryDark]]; color:[[ColorPalette::TertiaryDark]];}

.highlight, .marked {background:[[ColorPalette::SecondaryLight]];}

.editor input {border:1px solid [[ColorPalette::PrimaryMid]];}
.editor textarea {border:1px solid [[ColorPalette::PrimaryMid]]; width:100%;}
.editorFooter {color:[[ColorPalette::TertiaryMid]];}
.readOnly {background:[[ColorPalette::TertiaryPale]];}

#backstageArea {background:[[ColorPalette::Foreground]]; color:[[ColorPalette::TertiaryMid]];}
#backstageArea a {background:[[ColorPalette::Foreground]]; color:[[ColorPalette::Background]]; border:none;}
#backstageArea a:hover {background:[[ColorPalette::SecondaryLight]]; color:[[ColorPalette::Foreground]]; }
#backstageArea a.backstageSelTab {background:[[ColorPalette::Background]]; color:[[ColorPalette::Foreground]];}
#backstageButton a {background:none; color:[[ColorPalette::Background]]; border:none;}
#backstageButton a:hover {background:[[ColorPalette::Foreground]]; color:[[ColorPalette::Background]]; border:none;}
#backstagePanel {background:[[ColorPalette::Background]]; border-color: [[ColorPalette::Background]] [[ColorPalette::TertiaryDark]] [[ColorPalette::TertiaryDark]] [[ColorPalette::TertiaryDark]];}
.backstagePanelFooter .button {border:none; color:[[ColorPalette::Background]];}
.backstagePanelFooter .button:hover {color:[[ColorPalette::Foreground]];}
#backstageCloak {background:[[ColorPalette::Foreground]]; opacity:0.6; filter:alpha(opacity=60);}
/*}}}*/
</pre>
</div>
<div title="StyleSheetLayout">
<pre>/*{{{*/
* html .tiddler {height:1%;}

body {font-size:.75em; font-family:arial,helvetica; margin:0; padding:0;}

h1,h2,h3,h4,h5,h6 {font-weight:bold; text-decoration:none;}
h1,h2,h3 {padding-bottom:1px; margin-top:1.2em;margin-bottom:0.3em;}
h4,h5,h6 {margin-top:1em;}
h1 {font-size:1.35em;}
h2 {font-size:1.25em;}
h3 {font-size:1.1em;}
h4 {font-size:1em;}
h5 {font-size:.9em;}

hr {height:1px;}

a {text-decoration:none;}

dt {font-weight:bold;}

ol {list-style-type:decimal;}
ol ol {list-style-type:lower-alpha;}
ol ol ol {list-style-type:lower-roman;}
ol ol ol ol {list-style-type:decimal;}
ol ol ol ol ol {list-style-type:lower-alpha;}
ol ol ol ol ol ol {list-style-type:lower-roman;}
ol ol ol ol ol ol ol {list-style-type:decimal;}

.txtOptionInput {width:11em;}

#contentWrapper .chkOptionInput {border:0;}

.externalLink {text-decoration:underline;}

.indent {margin-left:3em;}
.outdent {margin-left:3em; text-indent:-3em;}
code.escaped {white-space:nowrap;}

.tiddlyLinkExisting {font-weight:bold;}
.tiddlyLinkNonExisting {font-style:italic;}

/* the 'a' is required for IE, otherwise it renders the whole tiddler in bold */
a.tiddlyLinkNonExisting.shadow {font-weight:bold;}

#mainMenu .tiddlyLinkExisting,
	#mainMenu .tiddlyLinkNonExisting,
	#sidebarTabs .tiddlyLinkNonExisting {font-weight:normal; font-style:normal;}
#sidebarTabs .tiddlyLinkExisting {font-weight:bold; font-style:normal;}

.header {position:relative;}
.header a:hover {background:transparent;}
.headerShadow {position:relative; padding:4.5em 0 1em 1em; left:-1px; top:-1px;}
.headerForeground {position:absolute; padding:4.5em 0 1em 1em; left:0; top:0;}

.siteTitle {font-size:3em;}
.siteSubtitle {font-size:1.2em;}

#mainMenu {position:absolute; left:0; width:10em; text-align:right; line-height:1.6em; padding:1.5em 0.5em 0.5em 0.5em; font-size:1.1em;}

#sidebar {position:absolute; right:3px; width:16em; font-size:.9em;}
#sidebarOptions {padding-top:0.3em;}
#sidebarOptions a {margin:0 0.2em; padding:0.2em 0.3em; display:block;}
#sidebarOptions input {margin:0.4em 0.5em;}
#sidebarOptions .sliderPanel {margin-left:1em; padding:0.5em; font-size:.85em;}
#sidebarOptions .sliderPanel a {font-weight:bold; display:inline; padding:0;}
#sidebarOptions .sliderPanel input {margin:0 0 0.3em 0;}
#sidebarTabs .tabContents {width:15em; overflow:hidden;}

.wizard {padding:0.1em 1em 0 2em;}
.wizard h1 {font-size:2em; font-weight:bold; background:none; padding:0; margin:0.4em 0 0.2em;}
.wizard h2 {font-size:1.2em; font-weight:bold; background:none; padding:0; margin:0.4em 0 0.2em;}
.wizardStep {padding:1em 1em 1em 1em;}
.wizard .button {margin:0.5em 0 0; font-size:1.2em;}
.wizardFooter {padding:0.8em 0.4em 0.8em 0;}
.wizardFooter .status {padding:0 0.4em; margin-left:1em;}
.wizard .button {padding:0.1em 0.2em;}

#messageArea {position:fixed; top:2em; right:0; margin:0.5em; padding:0.5em; z-index:2000; _position:absolute;}
.messageToolbar {display:block; text-align:right; padding:0.2em;}
#messageArea a {text-decoration:underline;}

.tiddlerPopupButton {padding:0.2em;}
.popupTiddler {position: absolute; z-index:300; padding:1em; margin:0;}

.popup {position:absolute; z-index:300; font-size:.9em; padding:0; list-style:none; margin:0;}
.popup .popupMessage {padding:0.4em;}
.popup hr {display:block; height:1px; width:auto; padding:0; margin:0.2em 0;}
.popup li.disabled {padding:0.4em;}
.popup li a {display:block; padding:0.4em; font-weight:normal; cursor:pointer;}
.listBreak {font-size:1px; line-height:1px;}
.listBreak div {margin:2px 0;}

.tabset {padding:1em 0 0 0.5em;}
.tab {margin:0 0 0 0.25em; padding:2px;}
.tabContents {padding:0.5em;}
.tabContents ul, .tabContents ol {margin:0; padding:0;}
.txtMainTab .tabContents li {list-style:none;}
.tabContents li.listLink { margin-left:.75em;}

#contentWrapper {display:block;}
#splashScreen {display:none;}

#displayArea {margin:1em 17em 0 14em;}

.toolbar {text-align:right; font-size:.9em;}

.tiddler {padding:1em 1em 0;}

.missing .viewer,.missing .title {font-style:italic;}

.title {font-size:1.6em; font-weight:bold;}

.missing .subtitle {display:none;}
.subtitle {font-size:1.1em;}

.tiddler .button {padding:0.2em 0.4em;}

.tagging {margin:0.5em 0.5em 0.5em 0; float:left; display:none;}
.isTag .tagging {display:block;}
.tagged {margin:0.5em; float:right;}
.tagging, .tagged {font-size:0.9em; padding:0.25em;}
.tagging ul, .tagged ul {list-style:none; margin:0.25em; padding:0;}
.tagClear {clear:both;}

.footer {font-size:.9em;}
.footer li {display:inline;}

.annotation {padding:0.5em; margin:0.5em;}

* html .viewer pre {width:99%; padding:0 0 1em 0;}
.viewer {line-height:1.4em; padding-top:0.5em;}
.viewer .button {margin:0 0.25em; padding:0 0.25em;}
.viewer blockquote {line-height:1.5em; padding-left:0.8em;margin-left:2.5em;}
.viewer ul, .viewer ol {margin-left:0.5em; padding-left:1.5em;}

.viewer table, table.twtable {border-collapse:collapse; margin:0.8em 1.0em;}
.viewer th, .viewer td, .viewer tr,.viewer caption,.twtable th, .twtable td, .twtable tr,.twtable caption {padding:3px;}
table.listView {font-size:0.85em; margin:0.8em 1.0em;}
table.listView th, table.listView td, table.listView tr {padding:0 3px 0 3px;}

.viewer pre {padding:0.5em; margin-left:0.5em; font-size:1.2em; line-height:1.4em; overflow:auto;}
.viewer code {font-size:1.2em; line-height:1.4em;}

.editor {font-size:1.1em;}
.editor input, .editor textarea {display:block; width:100%; font:inherit;}
.editorFooter {padding:0.25em 0; font-size:.9em;}
.editorFooter .button {padding-top:0; padding-bottom:0;}

.fieldsetFix {border:0; padding:0; margin:1px 0px;}

.zoomer {font-size:1.1em; position:absolute; overflow:hidden;}
.zoomer div {padding:1em;}

* html #backstage {width:99%;}
* html #backstageArea {width:99%;}
#backstageArea {display:none; position:relative; overflow: hidden; z-index:150; padding:0.3em 0.5em;}
#backstageToolbar {position:relative;}
#backstageArea a {font-weight:bold; margin-left:0.5em; padding:0.3em 0.5em;}
#backstageButton {display:none; position:absolute; z-index:175; top:0; right:0;}
#backstageButton a {padding:0.1em 0.4em; margin:0.1em;}
#backstage {position:relative; width:100%; z-index:50;}
#backstagePanel {display:none; z-index:100; position:absolute; width:90%; margin-left:3em; padding:1em;}
.backstagePanelFooter {padding-top:0.2em; float:right;}
.backstagePanelFooter a {padding:0.2em 0.4em;}
#backstageCloak {display:none; z-index:20; position:absolute; width:100%; height:100px;}

.whenBackstage {display:none;}
.backstageVisible .whenBackstage {display:block;}
/*}}}*/
</pre>
</div>
<div title="StyleSheetLocale">
<pre>/***
StyleSheet for use when a translation requires any css style changes.
This StyleSheet can be used directly by languages such as Chinese, Japanese and Korean which need larger font sizes.
***/
/*{{{*/
body {font-size:0.8em;}
#sidebarOptions {font-size:1.05em;}
#sidebarOptions a {font-style:normal;}
#sidebarOptions .sliderPanel {font-size:0.95em;}
.subtitle {font-size:0.8em;}
.viewer table.listView {font-size:0.95em;}
/*}}}*/
</pre>
</div>
<div title="StyleSheetPrint">
<pre>/*{{{*/
@media print {
#mainMenu, #sidebar, #messageArea, .toolbar, #backstageButton, #backstageArea {display: none !important;}
#displayArea {margin: 1em 1em 0em;}
noscript {display:none;} /* Fixes a feature in Firefox 1.5.0.2 where print preview displays the noscript content */
}
/*}}}*/
</pre>
</div>
<div title="ViewTemplate">
<pre>&lt;!--{{{--&gt;
&lt;div class='toolbar' role='navigation' macro='toolbar [[ToolbarCommands::ViewToolbar]]'&gt;&lt;/div&gt;
&lt;div class='title' macro='view title'&gt;&lt;/div&gt;
&lt;div class='subtitle'&gt;&lt;span macro='view modifier link'&gt;&lt;/span&gt;, &lt;span macro='view modified date'&gt;&lt;/span&gt; (&lt;span macro='message views.wikified.createdPrompt'&gt;&lt;/span&gt; &lt;span macro='view created date'&gt;&lt;/span&gt;)&lt;/div&gt;
&lt;div class='tagging' macro='tagging'&gt;&lt;/div&gt;
&lt;div class='tagged' macro='tags'&gt;&lt;/div&gt;
&lt;div class='viewer' macro='view text wikified'&gt;&lt;/div&gt;
&lt;div class='tagClear'&gt;&lt;/div&gt;
&lt;!--}}}--&gt;
</pre>
</div>

</div>
<!--POST-SHADOWAREA-->
<div id="storeArea">
<div title="11信管" creator="inforabbi" modifier="inforabbi" created="201311020521" modified="201311171405" _hash="fd16aff6657cea2fd867104db5196f2085785266" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/11%E4%BF%A1%E7%AE%A1/1538190:4928fda686b8da6d666a4d43311e0af21427b1e3&quot;" server.page.revision="1538190" server.title="11信管">
<pre>*[[11信管的公共Space|http://xinguan.tiddlyspace.com/]]
*[[11信管名册]]


</pre>
</div>
<div title="11信管名册" creator="inforabbi" modifier="inforabbi" created="201311171405" modified="201409170638" _hash="871ea2e2b9249ab3ac4140a7a95d528d5b89f87d" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/11%E4%BF%A1%E7%AE%A1%E5%90%8D%E5%86%8C/1892379:e8ce615ce0a8b20852541c6e40b3b008266bfd15&quot;" server.page.revision="1892379" server.title="11信管名册">
<pre>|信管11名册|c
|!姓名|!学号|!用户名|!Tiddlyspace地址|
|胡妮娜|20112205021001|spongebob|[[胡妮娜的空间|http://spongebob.tiddlyspace.com]]|
|石圣源|20112205021003|shishengyuan|[[石圣源的空间|http://shishengyuan.tiddlyspace.com]]|
|胡超|20112205021005|hujingxian|[[胡超的空间|http://hujingxian.tiddlyspace.com]]|
|张蓓|20112205021006|beizweb|[[张蓓|http://beizweb.tiddlyspace.com]]|
|孟祥薇|20112205021007|mxw|[[孟祥薇|http://mxw.tiddlyspace.com]]|
|谢虹露|20112205021008|lulusspace|[[谢虹露|http://lulusspace.tiddlyspace.com]]|
|龙本池|20112205021009|longbc|[[龙本池|http://longbc.tiddlyspace.com]]|
|杨庆|20112205021010|garfield|[[杨庆|http://yangqing.tiddlyspace.com]]|
|刘春萍|20112205021011|lcp0223|[[ 刘春萍的空间 |http://lcp0223.tiddlyspace.com]]|
|赵博成|20112205021012|zbc|[[赵博成的空间|http://zbc.tiddlyspace.com]]|
|韦景树|20112205021013|wjs|[[韦景树的空间|http://wjs.tiddlyspace.com]]|
|周军信|20112205021014|doraemon|[[周军杏|http://doraemon.tiddlyspace.com]]|
|李清兰|20112205021015|lql|[[李清兰|http://lql.tiddlyspace.com]]|
|鲁先丽|20112205021016|lluxianli|[[鲁先丽|http://llluxianli.tiddlyspace.com]]|
|陈正燕|20112205021017|chenzhengyan|[[陈正燕|http://chenzhengyan.tiddlyspace.com]]|
|刘梦兰|20112205021018|lml|[[刘梦兰|http://kikelml.tiddlyspace.com]]|
|杨归成|20112205021019|ygcroom|[[杨规成|http://ygcroom.tiddlyspace.com]]|
|龙应才|20112205021020|cr7|[[龙应才|http://longyingcai.tiddlyspace.com]]|
|杨余婷|20112205021021|yangyuting|[[杨余婷|http://yangjiejie.tiddlyspace.com]]|
|朱洪材|20112205021022|zhcai|[[朱洪材|http://zhcai.tiddlyspace.com]]|
|黄谣谣|20112205021023|hyyspaceone|[[黄谣谣|http://hyyspaceone.tiddlyspace.com]]|
|蔡烨|20112205021024|ilovemyfamily|[[蔡烨|http://ilovemyfamily.tiddlyspace.com]]|
|余维|20112205021025|yuweik|[[余维|http://yuweik.tiddlyspace.com]]|
|吴志猛|20112205021026|wzm|[[吴志猛|http://wzm.tiddlyspace.com]]|
|何精岚|20112205021027|bluespace|[[何精岚|http://bluespace.tiddlyspace.com]]|
|蒲毅|20112205021028|saxophonepuyi|[[蒲毅|http://saxophonepuyi.tiddlyspace.com]]|
|宗成毅|20112205021029|nightmare2112|[[宗成毅|http://nightmare2112.tiddlyspace.com]]|
|吴琪依|20112205021030|corageshine|[[吴琪依|http://corageshine.tiddlyspace.com]]|
|龙际舟|20112205021031|ljz14785447813|[[龙际舟|http://ljz.tiddlyspace.com]]|
|李玮|20112205021032|moji|[[李玮|http://moji.tiddlyspace.com]]|
|刘丹|20112205021033|mrdan|[[刘丹|http://mrdan.tiddlyspace.com]]|
|曹旭芳|20112205021034|carrief|[[曹旭芳|http://carrief.tiddlyspace.com]]|
|钟建林|20112205021035|cucumis|[[钟建林|http://cucumis.tiddlyspace.com]]|
|赵云|20112205021036|zhaoyun|[[赵云|http://zhaoyun.tiddlyspace.com]]|
|张春燕|20112205021037|zcyswallow|[[张春燕|http://zcyswallow.tiddlyspace.com]]|
|孟丽娟|20112205021038|jessamine|[[孟丽娟|http://jessamine.tiddlyspace.com]]|
|张莎莎|20112205021039|crazysalina1992|[[张莎莎|http://salina1992.tiddlyspace.com]]|
|梁琼|20112205021040|liangqiong|[[梁琼|http://liangqiong  .tiddlyspace.com]]|
|付姣|20112205021041|xinguan2011fujiao|[[付姣|http://xinguan2011fujiao.tiddlyspace.com]]|
|谭玉|20112205021042|tansey0206|[[谭玉|http://tansey0206.tiddlyspace.com]]|
|蒙研瑜|20112205021043|myy|[[蒙研瑜|http://myy.tiddlyspace.com]]|
|曾平|20112205021044|shuangxue|[[曾平|http://shuangxue .tiddlyspace.com]]|
|冉莉琴|20112205021045|milkchocolate|[[冉丽琴|http://milkchocolate.tiddlyspace.com]]|
|张丽娅|20112205021046|zhangliy|[[张丽娅|http://zhangliy.tiddlyspace.com]]|
|吴胜金|20112205021047|dengdai|[[吴胜金|http://dengdai.tiddlyspace.com]]|
|杨再坤|20112205021048|yangkun|[[杨再坤|http://yangkun.tiddlyspace.com]]|
|郑茜|20112205021049|zhengqian|[[郑茜|http://zhengqian.tiddlyspace.com]]|
|赵丁莹|20112205021050|koine|[[赵丁莹|http://koine.tiddlyspace.com]]|
|周若云|20112205021052|imzry|[[周若云|http://imzry.tiddlyspace.com]]|
|李祥|20112205021053|heah|[[李翔|http://heah.tiddlyspace.com]]|
|陈斌|20112205021054|jamchen|[[陈斌|http://jamchen.tiddlyspace.com]]|
|曾珍|20112205021055|zzcastle|[[曾珍|http://zzcastle.tiddlyspace.com]]|
|余晓倩|20112205021056|yyxu|[[余晓倩|http://yyxu.tiddlyspace.com]]|
|罗玉宽|20112205021057|luoyukuan|[[罗玉宽|http://luoyukuan.tiddlyspace.com]]|
|戴梦如|20112205021059|jetaime|[[戴梦如|http://jetaime.tiddlyspace.com]]|
|沙昌辉|20112205021060|zois123|[[沙昌辉|http://zois123.tiddlyspace.com]]|</pre>
</div>
<div title="12信管" creator="inforabbi" modifier="inforabbi" created="201410080607" modified="201502010648" _hash="4364f522458640a57574b4721349a8a05603fa78" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/12%E4%BF%A1%E7%AE%A1/2069624:a4a08a5a4f2ef427da4cea76b876676c26386328&quot;" server.page.revision="2069624" server.title="12信管">
<pre>|12信管名册|c
|!姓名|!学号|!用户名|!Tiddlyspace地址|
|许世安|20122205021001|xushian|[[许世安的空间|http://xushian.tiddlyspace.com/]]|
|吴芳芳|20122205021002|wufangfang|[[吴芳芳|http://wufangfang.tiddlyspace.com/]]|
|朱猛男|20122205021003|daydayup|[[朱猛男|http://daydayup.tiddlyspace.com]]|
|彭求涛|20122205021004|pengqiutao|[[彭求涛|http://pengqiutao.tiddlyspace.com]]|
|李淑军|20122205021005|shujunli|[[李淑军|http://shujunli.tiddlyspace.com]]|
|张晓远|20122205021006|zhangxiaoyuan|[[张晓远|http://zhangxiaoyuan.tiddlyspace.com]]|
|郭天雨|20122205021008|guotianyu|[[郭天雨|http://guotianyu.tiddlyspace.com]]|
|洪媛慧|20122205021009|hyh|[[洪媛慧|http://hyh.tiddlyspace.com]]|
|陈俊每|20122205021010|ccchenjunmeiii|[[陈俊每|http://ccchenjunmei.tiddlyspace.com/]]|
|张梅先|20122205021011|zhangmei|[[张梅先|http://zhangmei.tiddlyspace.com]]|
|王洁|20122205021012|yiyayiyayo |[[王洁|http://yiyayiyayo.tiddlyspace.com]]|
|刘井艳|20122205021013|liujingyan|[[刘井艳|http://liujingyan.tiddlyspace.com]]|
|林楚丹|20122205021014|linchudan|[[林楚丹|http://linchudan.tiddlyspace.com]]|
|杜婷|20122205021015|duting|[[杜婷|http://duting.tiddlyspace.com]]|
|袁敏敏|20122205021016|yuanminmin|[[袁敏敏|http://yuanminmin.tiddlyspace.com]]|
|杨小川|20122205021017|yangxiaochuan|[[杨小川|http://yangxiaochuan.tiddlyspace.com]]|
|王杰|20122205021018|yiyayiyayo|[[王杰|http://dreamjie10.tiddlyspace.com]]|
|张宇|20122205021019|zhangyu|[[张宇|http://zhangyu.tiddlyspace.com]]|
|肖碧芸|20122205021020|xiaobiyun|[[肖碧芸|http://xiaobiyun.tiddlyspace.com]]|
|陈超|20122205021022|chenchao|[[陈超|http://chenchao.tiddlyspace.com]]|
|李维维|20122205021023|liweiwei|[[李维维|http://liweiwei.tiddlyspace.com]]|
|顾晓娇|20122205021024|guxiaoqiao|[[顾晓娇|http://guxiaoqiao.tiddlyspace.com]]|
|邹启|20112205021025|zouqi|[[邹启|http://zouqi.tiddlyspace.com]]|
|王莉莎|20122205021026|wanglisha|[[王莉莎|http://wanglisha.tiddlyspace.com/]]|
|陈洪|20122205021027|xiaosongshu|[[陈洪|http://xiaosongshu.tiddlyspace.com]]|
|郝鹏|20122205021028|hoo|[[郝鹏|http://hoo.tiddlyspace.com]]|
|令狐绍敏|20122205021029|erhuocun|[[令狐绍敏|http://erhuocun.tiddlyspace.com]]|
|田单|20112205021030|tiandan|[[田单|http://tiandan.tiddlyspace.com]]|
|张勇国|20122205021031|zhangjun12|[[张勇国|http://zhangjun12.tiddlyspace.com]]|
|田有花|20122205021033|tianyouhua|[[田有花|http://tianyouhua.tiddlyspace.com/]]|
|倪大菊|20122205021034|nidaju|[[倪大菊|http://nidaju.tiddlyspace.com]]|
|黄晓芬|20122205021035|dafen|[[黄晓芬|http://dafen.tiddlyspace.com]]|
|谭景艳|20122205021036|Lemodays|[[谭景艳|http://rains.tiddlyspace.com]]|
|田晓容|20122205021037|tianxiaorong|[[田晓容|http://tianxiaorong.tiddlyspace.com]]|
|洪芳|20122205021038|crystal|[[洪芳|http://crystal.tiddlyspace.com]]|
|耿忠义|20122205021039|virusim|[[耿忠义|http://virusim.tiddlyspace.com]]|
|徐远|20122205021040|xuyuan|[[徐远|http://xuyuan.tiddlyspace.com]]|
|蒲丽萍|20122205021041|puli|[[蒲丽萍|http://puli.tiddlyspace.com]]|
|陈鑫|20122205021042|chenxin|[[陈鑫|http://chenxin.tiddlyspace.com]]|
|向敏|20122205021043|xiangminxx|[[向敏|http://xiangminxx.tiddlyspace.com]]|
|汤纯|20122205021044|tangchun |[[汤纯|http://tangchun.tiddlyspace.com]]|
|卢宏清|20122205021045|luhongqing|[[卢宏清|http://luhongqing.tiddlyspace.com]]|
|姚菊|20122205021046|yaoju|[[姚菊|http://yaoju.tiddlyspace.com]]|
|李倩|20122205021047|liqian|[[李倩|http://liqian.tiddlyspace.com]]|
|杨巧菊|20122205021048|yangqiaoju|[[杨巧菊|http://yangqiaoju.tiddlyspace.com]]|
|杨晓莎|20122205021049|yangxiaosha|[[杨晓莎|http://yangxiaosha.tiddlyspace.com]]|
|许木凤|20122205021050|xumufeng|[[许木凤|http://xumufeng.tiddlyspace.com]]|
|杨正珍|20122205021050|yangzhen|[[杨正珍|http://yangzhen.tiddlyspace.com]]|
|潘良芬|20122205021052|panliangfen|[[潘良芬|http://panliangfen.tiddlyspace.com]]|
|石吉泽|20122205021053|shijize|[[石吉泽|http://shijize.tiddlyspace.com]]|
|汪益青|20122205021054|wangyiqing|[[汪益青|http://wangyiqing.tiddlyspace.com]]|
|王泽华|20122205021055|wangzehua|[[王泽华|http://wangzehua.tiddlyspace.com]]|
|颜乐姿|20122205021056|yanlezi|[[颜乐姿|http://yanlezi.tiddlyspace.com]]|
|梁珂|20122205021057|liangke|[[梁珂|http://liangke.tiddlyspace.com]]|
|万天赐|20122205021058|wantianci|[[万天赐|http://wantianci.tiddlyspace.com]]|
|徐呈呈|20122205021059|xuchengcheng|[[徐呈呈|http://xuchengcheng.tiddlyspace.com]]|
|郭化群|20122205021060|ghqim|[[郭化群|http://ghqim.tiddlyspace.com]]|
|熊学平|20122205021061|xiongxueping|[[熊学平|http://xiongxueping.tiddlyspace.com]]|</pre>
</div>
<div title="13信管" creator="inforabbi" modifier="inforabbi" created="201509070716" modified="201609131413" _hash="aa5e5cefcbea3f34b247792683f998e234804013" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/13%E4%BF%A1%E7%AE%A1/2558944:6e8b1244ca3db07c93d7aadf12d9740e64a8ce99&quot;" server.page.revision="2558944" server.title="13信管">
<pre>|13级信管名册|c
|!姓名|!学号|!用户名|!Tiddlyspace地址|
|郑苏婷|20132205021001|orange123|[[郑苏婷的空间|http://orange123.tiddlyspace.com]]|
|刘晓琴| 20132205021002|lxqin|[[刘晓琴的空间|http://lxqin.tiddlyspace.com]]|
|王伊笑|20132205021003|wangyixiao|[[王伊笑的空间|http://wangyixiao.tiddlyspace.com]]|
|张文君|20132205021004|zhangwenjun|[[张文君的空间|http://zhangwenjun.tiddlyspace.com]]|
|彭代龙|20132205021005|pengdailong|[[彭代龙的空间|http://pengdailong.tiddlyspace.com]]|
|胡颖|20132205021006|huying|[[胡颖的空间|http://huying.tiddlyspace.com]]|
|田有恒|20132205021007|tianyouhen|[[田有恒的空间|http://tianyouhen.tiddlyspace.com]]|
|梁菊|20132205021008|leileen|[[梁菊的空间|http://leileen.tiddlyspace.com]]|
|龙国英|20132205021009|longguoying|[[龙国英的空间|http://longguoying.tiddlyspace.com]]|
|杨丽萍|20132205021010|yangliping|[[杨丽萍的空间|http://yangliping.tiddlyspace.com]]|
|秦孝雨|20132205021011|xyqin|[[秦孝雨的空间|http://xyqin.tiddlyspace.com]]|
|黄德鹏|20132205021012|huangdepeng|[[黄德鹏的空间|http://huangdepeng.tiddlyspace.com]]|
|罗方琴|20132205021013|luofangqin|[[罗方琴的空间|http://luofangqin.tiddlyspace.com]]|
|李亚军|20132205021014|liyajun|[[李亚军的空间|http://liyajun.tiddlyspace.com]]|
|赵琴|20132205021016|zhaoqin|[[赵琴的空间|http://zhaoqin.tiddlyspace.com]]|
|张会|20132205021017|zhanghui1993|[[张会的空间|http://zhanghui1993.tiddlyspace.com]]|
|周梅|20132205021018.|zhounei|[[周梅|http://zhoumei.tiddlyspace.com]]|
|王玉婷|20132205021019|wangyuting|[[王玉婷的空间|http://wangyuting.tiddlyspace.com]]|
|黄超君|20132205021020|jiechuqudetang|[[黄超君的空间|http://jiechuqudetang.tiddlyspace.com]]|
|李顺霖|20132205021021|lishunlin|[[李顺霖的空间|http://lishunlin.tiddlyspace.com]]|
|袁星筑|20132205021022|yuanxingzhu|[[袁星筑的空间|http://yuanxingzhu.tiddlyspace.com]]|
|周秋菊|20132205021023|heye|[[周秋菊的空间|http://heye.tiddlyspace.com]]|
|刘国珍|20132205021024|liuguozhen|[[刘国珍的空间|http://liuguozhen.tiddlyspace.com]]|
|刘朝望|20132205021025|liuchaowang|[[刘朝望的空间|http://liuchaowang.tiddlyspace.com]]|
|田桂林|20132205021026|tianguilin|[[田桂林的空间|http://tianguilin.tiddlyspace.com]]|
|黄于芩|20132205021027|huangyuqin|[[黄于芩的空间|http://huangyuqin.tiddlyspace.com]]|
|徐婷婷|20132205021028|xtt|[[徐婷婷的空间|http://xtt.tiddlyspace.com]]|
|母梅|20132205021029|mumei|[[母梅|http://mumei.tiddlyspace.com]]|
|温中畅|20132205021030|wenzhongchang|[[温中畅的空间|http://wenzhongchang.tiddlyspace.com]]|
|贺翔|20132205021031|hexiang1994|[[贺翔的空间|http://hexiang1994.tiddlyspace.com]]|
|程惠新|20132205021032|chx|[[程惠新的空间|http://chx.tiddlyspace.com]]|
|王志安|20132205021033|wangzhian|[[王志安的空间|http://wangzhian.tiddlyspace.com]]|
|黄文凤|20132205021034|huangwenfeng|[[黄文凤的空间|http://huangwenfeng.tiddlyspace.com]]|
|许毅滢|20132205021035|xuyiying|[[许毅滢的空间|http://xuyiying.tiddlyspace.com]]|
|赵旭飞|20132205021036|zxf|[[赵旭飞的空间|http://zxf.tiddlyspace.com]]|
|王智鑫|20132205021037|wangzhixin|[[王智鑫的空间|http://wangzhixin.tiddlyspace.com]]|
|韦祖品|20132205021038|weizupin|[[韦祖品的空间|http://weizupin.tiddlyspace.com]]|
|唐小艳|20132205021039|tangxiaoyan|[[唐小艳的空间|http://ttxy.tiddlyspace.com]]|
|罗鹏举|20132205021040|luopengju|[[罗鹏举的空间|http://luopengju.tiddlyspace.com]]|
|崔奕冉|20132205021041|cccuiyiran|[[崔奕冉的空间|http://ccuiyiran.tiddlyspace.com/]]|
|刘思平|20132205021042|liusiping|[[刘思平的空间|http://liusiping.tiddlyspace.com]]|
|黄芳|20132205021043|huangfang|[[黄芳的空间|http://huangfang.tiddlyspace.com]]|
|林钰|20132205021044|linxiaoniu|[[林钰的空间|http://linxiaoniu.tiddlyspace.com/]]|
|孟凡宽|20132205021045|adliyano|[[孟凡宽的空间|http://mengling.tiddlyspace.com]]|
|黄易|20132205021046|huangyi|[[黄易的空间|http://huangyi.tiddlyspace.com]]|
|韦荣兴|20132205021047|weirongxing|[[韦荣兴的空间|http://weirongxing.tiddlyspace.com]]|
|程平|20132205021048|chengping|[[程平的空间|http://chengping.tiddlyspace.com]]|
|李鹏|20132205021049|lipeng|[[李鹏的空间|http://lipeng.tiddlyspace.com]]|
|潘青山|20132205021050|panqingshan|[[潘青山的空间|http://panqingshan.tiddlyspace.com]]|
|杨凌云|20132205021051|karroy|[[杨凌云的空间|http://karroy.tiddlyspace.com]]|
|韩芳|20132205021052|hanfang|[[韩芳的空间|http://hanfang.tiddlyspace.com]]|
|杨秀旗|20132205021053|yangxiuqi|[[杨秀旗的空间|http://yangxiuqi.tiddlyspace.com]]|
|杨兰英|20132205021054|ylanying|[[杨兰英的空间|http://ylanying.tiddlyspace.com]]|
|袁华文|20132205021056|yuanhuawen|[[袁华文的空间|http://yuanhuawen.tiddlyspace.com]]|
|张浩宇|20132205021057|zhanghaoyu|[[张浩宇的空间|http://zhanghaoyu.tiddlyspace.com]]|
|谭敬朗|20132205021058|tanjinglang|[[谭敬朗的空间|http://tanjinglang.tiddlyspace.com]]|
|伍昱蓉|20132205021059|wuyurong|[[伍昱蓉的空间|http://wuyurong.tiddlyspace.com]]|
|黄越|20132205021060|huangyue|[[黄越的空间|http://huangyue.tiddlyspace.com]]|</pre>
</div>
<div title="14信管" creator="inforabbi" modifier="inforabbi" created="201609201735" modified="201609201735" _hash="eb347645122002a9a9f47e0ac98c1e9877a79797" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/14%E4%BF%A1%E7%AE%A1/2562060:aed4496d7dbf12705e0b6f422d6f49ef16bc27c7&quot;" server.page.revision="2562060" server.title="14信管">
<pre>|14级信管名册|c
|!姓名|!学号|!用户名|!Tiddlyspace地址|
|邓芮|20142205021001|dengrui|[[邓芮的空间|http://dengrui.tiddlyspace.com/]]|
|赵谦益|20142205021002|anthony|[[赵谦益的空间|http://anthony.tiddlyspace.com/]]|
|黄婧|20142205021003|lemon45|[[黄婧的空间|http://lemon45.tiddlyspace.com/]]|
|张佳航|20142205021004|zjh|[[张佳航的空间|http://zjh.tiddlyspace.com/]]|
|郭正敏|20142205021005|ice123|[[郭正敏的空间|http://ice123.tiddlyspace.com/]]|
|刘钐杉|20142205021006|orangeword|[[刘钐杉的空间|http://orangeworld.tiddlyspace.com/]]|
|刘锐|20142205021007|liurul|[[刘锐的空间|http://liurul.tiddlyspace.com/ ]]|
|张怡宁|20142205021008|pearl|[[张怡宁的空间|http://pearl.tiddlyspace.com/]]|
|曾庆龙|20142205021009|dragon|[[曾庆龙的空间|http://dragon.tiddlyspace.com/]]|
|杨正勇|20142205021010|yangzhengyong|[[杨正勇的空间|http://yangzhengyong.tiddlyspace.com/ ]]|
|黄幽|20142205021011|huangyou|[[黄幽的空间|http://huangyou.tiddlyspace.com/]]|
|秦霞|20142205021012|qinxia|[[秦霞的空间|http://qinxia.tiddlyspace.com/]]|
|陈霞|20142205021013|chenxia|[[陈霞的空间|http://chenxia.tiddlyspace.com/ ]]|
|曾伟|20142205021014|zengwei|[[曾伟的空间|http://zengwei.tiddlyspace.com/]]|
|郭琴|20142205021015|guoqin520|[[郭琴的空间|http://guoqin520.tiddlyspace.com/]]|
|朱检|20142205021016|fengchengzj|[[朱检的空间|http://fengchengzj.tiddlyspace.com/]]|
|蔡昌言|20142205021017|cctv0101|[[蔡昌言的空间|http://cctv0101.tiddlyspace.com/ ]]|
|李福|20142205021018|lifu666|[[李福的空间|http://lifu666.tiddlyspace.com/]]|
|杨俊伟|20142205021019|yangjunwei|[[杨俊伟的空间|http://yangjunwei.tiddlyspace.com/ ]]|
|李旭飞|20142205021020|lixufei|[[李旭飞的空间|http://lixufei.tiddlyspace.com/ ]]|
|魏玉婷|2012205021021|honey-666|[[魏玉婷的空间|http://honly-666.tiddlyspace.com]]|
|邹国珍|20142205021022|singledog|[[邹国珍的空间|http://singledog.tiddlyspace.com/]]|
|梁龙海|20142205021023|lianglonghai|[[梁龙海的空间|http://lianglonghai.tiddlyspace.com/]]|
|冉茂伟|20142205021024|twohello|[[冉茂伟的空间|http://twohello.tiddlyspace.com/ ]]|
|许满梅|20142205021025|xueilene|[[许满梅的空间|http://xueilene.tiddlyspace.com/]]|
|杨芊芊|20142205021026|yqq-1228|[[杨芊芊的空间|http://yqq-1228.tiddlyspace.com/ ]]|
|文利丽|20142205021027|wll|[[文利丽的空间|http://wll.tiddlyspace.com/]]|
|张鑫才|20142205021028|pain|[[张鑫才的空间|http://pain.tiddlyspace.com/]]|
|王泽远|20142205021029|wangzeyuan1|[[王泽远的空间|http://wangzeyuan1.tiddlyspace.com/ ]]|
|葛煜鑫|20142205021030|zhucebuliao G Y X|[[葛煜鑫的空间|http://zhucebuliaogyx.tiddlyspace.com/]]|
|孔令昊|20132205021061|konglinghao|[[孔令昊的空间|http://konglinghao.tiddlyspace.com/]]|</pre>
</div>
<div title="2.2信息科学理论基础" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="7cc77e8dd6e281551253b702d3642e4ca18a7e5c" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/2.2%E4%BF%A1%E6%81%AF%E7%A7%91%E5%AD%A6%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80/1188262:f4fb0308e93bda900fbabb3afa4b6058c1cbe679&quot;" server.page.revision="1188262" server.title="2.2信息科学理论基础">
<pre>#&lt;&lt;slider chkSlider 信息科学理论 信息科学理论&gt;&gt;</pre>
</div>
<div title="2.3信息科学" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="ccaf4a773d4820b17b99ed9e52656e3f2115c866" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/2.3%E4%BF%A1%E6%81%AF%E7%A7%91%E5%AD%A6/1188267:b45b7ffcd857378954b5de45d0bf715e750482ef&quot;" server.page.revision="1188267" server.title="2.3信息科学">
<pre>*信息科学是一门新兴的跨多学科的科学，它以信息为主要 研究对象。信息科学的研究内容包括：阐明信息的概念和本质(哲学信息论)；探讨信息的度 量和变换(基本信息论)；研究信息的提取方法(识别信息论)；澄清信息的传递规律(通信理论)；探明信息的处理机制(智能理论)；探究信息的再生理论(决策理论)；阐明信息的调节 原则(控制理论)；完善信息的组织理论(系统理论)。
*信息科学本身是一个学科群，这个学科群是由信息理论科学、信息技术科学和信息应用科学三个层次构成的[[完整体系]]。
</pre>
</div>
<div title="2.4信息资源与信息化" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="789f5dd8d93fc6bd945beeb95ce28e02cbdebea9" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/2.4%E4%BF%A1%E6%81%AF%E8%B5%84%E6%BA%90%E4%B8%8E%E4%BF%A1%E6%81%AF%E5%8C%96/1188263:8255c221cf8cff0122a938f9b2c642c3799b6ef3&quot;" server.page.revision="1188263" server.title="2.4信息资源与信息化">
<pre>*信息资源的定义：人类活动各个领域所产生和有使用价值的信息集合。
**[[信息资源的特性]]
**[[信息资源的分类]]
**[[信息资源的体系]]
*信息化
**[[国家信息化发展战略(2006-2020年)|20081114003845/index.html]]及其[[解读|4359/Article_Print.html]]</pre>
</div>
<div title="2009年10月05~11" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201410211713" _hash="123d6288ab617c5dc86c6dc60b175b4245566884" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/2009%E5%B9%B410%E6%9C%8805~11/1931066:5f4057dc0cb440d617be3a0922b9db10ebabfde2&quot;" server.page.revision="1931066" server.title="2009年10月05~11">
<pre>*[[快递信息泄露|http://www.szmsd.com/news.asp?id=284]]
*[[如何阅读一本书|howtoreadabook.ppt]]
*[[图形化简历|data/20101013131000/index.html]]。关于信息图形化（Infographics）：[[Cool Infographics|http://www.coolinfographics.com/]]，比如我们看看这个图：[[List of Internet Search Engines: A Comprehensive History of Web Search Engines|internet-search-engines.jpg]]。还记得我们给大家介绍过的著名信息源Wikipedia吗？这上面[[关于Infographics的条目|data/20101013133730/index.html]]
*[[HTML5|http://winp.cn/thread-47018-1-1.html]]
*[[文津搜索|http://find.nlc.gov.cn]]</pre>
</div>
<div title="2009年10月12~18" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201610190339" _hash="04e7ffc2d254ef79f91862351bf983fe2d1c0c6c" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/2009%E5%B9%B410%E6%9C%8812~18/2574564:7b577acf7cadcc01efa2762c346fc36308efa1fd&quot;" server.page.revision="2574564" server.title="2009年10月12~18">
<pre>本周：
*[[Github|https://github.com/]]

*[[Google趋势|https://www.google.com/trends/?hl=zh-CN]]及其[[分析应用文章|https://od.lk/d/Ml8xMDM1NjUyNTFf/5-tips-get-more-from-google-analytics_0.pdf]]

*[[全球iSchools成员|http://ischools.org/members/directory/]]</pre>
</div>
<div title="2009年10月19~25" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201510260449" _hash="76c6f3ab036cd2fd00457fabfc11c9ac94b0aaa4" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/2009%E5%B9%B410%E6%9C%8819~25/2382685:2dfa557c603994e8db600f3c3ed1614f54e41515&quot;" server.page.revision="2382685" server.title="2009年10月19~25">
<pre>*[[关于Deep Web和Dark Web|https://danielmiessler.com/study/internet-deep-dark-web/]](blocked)
*如何永久保存网页？搜索引擎能提供cache（网页快照），但是不是按我们自己想要的时间点保存的，同时还有被墙的可能性，所以，我们要自己来：[[Internet Archive|https://archive.org/web/web.php]]提供了一个[[时光机|https://archive.org/web/web.php]]
*图书推荐：[[The Culture of Big Data|http://oreilly.com/data/culture-of-big-data.csp]]。
&gt;&lt;html&gt;&lt;a href=&quot;http://oreilly.com/&quot;&gt;&lt;img src=&quot;http://cdn.oreillystatic.com/images/sitewide-headers/ml-header-home-blinking.gif&quot; border=&quot;1&quot;  title=&quot; O'Reilly&quot;&gt;&lt;/a&gt;&lt;/html&gt;
&gt;这是一家值得关注的机构，Web2.0的概念就是Tim Oreilly提出的。</pre>
</div>
<div title="2009年10月26~11月01" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201511012046" _hash="cf56ca61adb3c8028a1074f3da32e087ccafbe85" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/2009%E5%B9%B410%E6%9C%8826~11%E6%9C%8801/2388584:09b8e65367ce7183e56814bae415910629bf486e&quot;" server.page.revision="2388584" server.title="2009年10月26~11月01">
<pre>*关于搜索引擎，一篇最新的文章：[[Search Engine Showdown: Google vs. Bing|http://lifehacker.com/search-engine-showdown-google-vs-bing-1739263052]]([[备份|https://od.lk/s/Ml8xMDQzNzkzMTRf/lifehacker-com.pdf]])
&gt;关于两个SE最有用的资源：[[Goolge|http://www.googleguide.com/advanced_operators_reference.html]](备份)和[[Bing|https://msdn.microsoft.com/en-us/library/ff795661.aspx]]
*一份非常有用的文档[[Innovations in Scholarly Communication-The Changing Research Workflow|http://figshare.com/articles/101_Innovations_in_Scholarly_Communication_the_Changing_Research_Workflow/1286826]]([[备份|https://od.lk/s/Ml8xMDQzODAyNTVf/InnoScholComm___poster_Force2015.pdf]])
&gt;他们[[超酷的survey|https://innoscholcomm.typeform.com/to/Csvr7b?source=WP]]
*顺便介绍一个开放科研信息数据存储站[img[http://img01.store.sogou.com/net/a/04/link?appid=100520031&amp;w=710&amp;url=http://mmbiz.qpic.cn/mmbiz/QTPaID1kkvgfBYbm47llufIlTiaqtKtTdOBBWk3TR6WMMtJBe29BiaYkdfTicrIMEzSmiaJG9ZwSAZ7JBtW19WLrdA/0?wx_fmt=jpeg]] [[点击这里访问||http://figshare.com/about]]
*数字研究工具站点:
&gt;[[DIRT|http://dirtdirectory.org/]]
&gt;[[force11|https://www.force11.org/catalog]]
*[[OPEN GLOSSARY]] for open scholarship


</pre>
</div>
<div title="2009年11月02~08" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201411190244" _hash="e1487cdc326dcfa3c85299941a2004eb745678de" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/2009%E5%B9%B411%E6%9C%8802~08/1968953:09f9a795a485155065849ea6c682b9a709b65608&quot;" server.page.revision="1968953" server.title="2009年11月02~08">
<pre>*[[The Other 21st Century Skills（21世纪生存技巧）|http://usergeneratededucation.wordpress.com/2013/05/22/the-other-21st-century-skills/]]（翻墙）</pre>
</div>
<div title="2009年11月09~15" creator="inforabbi" modifier="inforabbi" created="201511130537" modified="201511130753" _hash="03749ee430506b8bbd5caff50951290833dfbe50" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/2009%E5%B9%B411%E6%9C%8809~15/2397230:6662790353b9e142a5dd437c60a62ecd59d94544&quot;" server.page.revision="2397230" server.title="2009年11月09~15">
<pre>*[[文献管理与信息分析|http://wlkt.ustc.edu.cn/video/detail_1320_3704.htm]]

*[[iDEO_HCD_Toolkit|http://kfie.net/pdfs/IDEO_HCD_Toolkit.pdf]]([[download|https://od.lk/s/Ml8xMDUxMTk0NzVf/IDEO_HCD_Toolkit.pdf]]）

*[[信息分析的核心|http://product.dangdang.com/20905480.html]]（[[download|https://od.lk/d/Ml8xMDUxMTk0NzRf/%E4%BF%A1%E6%81%AF%E5%88%86%E6%9E%90%E7%9A%84%E6%A0%B8%E5%BF%83.pdf]]）

*[[Zotero|http://www.zotero.com]]
</pre>
</div>
<div title="2009年11月16~22" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="44951e97fc6889183c17e068eede2fb6da49a285" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/2009%E5%B9%B411%E6%9C%8816~22/1188270:062cb2d06135df930ea473c37bfa7cad39f1842a&quot;" server.page.revision="1188270" server.title="2009年11月16~22">
<pre>*介绍了很多开放教育的资源，有不少外文的，各位可能有一定的难度，这里推荐一个中文的资源：[[中国开放教育资源联合体|http://www.core.org.cn/cn/opencou/]]
*工欲善其事：
&gt;[[Web 2.0 Literacy Tools|data/20091115183842/index.html]] [[原址在这里|http://file2.ws/web16]]
&gt;[[E-learning and Web 2.0 tools for schools|E-learning and Web 2.0 tools for schools.pdf]]
*因为要完成作业，我们需要了解[[穿墙术]]

*关于GTD：[[dooity|http://www.dooity.com/]]
</pre>
</div>
<div title="2009年11月23~29" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201312050608" _hash="0364a93e3b9c55e1edaccdbe9bae2ce9480c87d8" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/2009%E5%B9%B411%E6%9C%8823~29/1577371:af6ac7656fc7f22b5213646b44ade060ce17f2d6&quot;" server.page.revision="1577371" server.title="2009年11月23~29">
<pre>*[[互联网思维之连接一切|http://www.donews.com/idonews/article/566.shtm]]
*一个网络信息管理工具：[[peraltree|http://www.pearltrees.com/]]
*参见：[[连接主义（Connectivism）|http://en.wikipedia.org/wiki/Connectivism]]，[[原文|http://www.itdl.org/Journal/Jan_05/article01.htm]]</pre>
</div>
<div title="2009年11月30~12月06" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201312111622" _hash="5aa86194d078bb185738878319d5b7b610c50b94" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/2009%E5%B9%B411%E6%9C%8830~12%E6%9C%8806/1590932:9c2ea64bf75439769e8b41778734d083d1a9e94f&quot;" server.page.revision="1590932" server.title="2009年11月30~12月06">
<pre>*请关注这样一个会议：[[TREC|http://trec.nist.gov/]](The Text Retrieval Conference)
*关注一个名词：信息茧房
&gt;所谓信息茧房，就是由于人们倾向于关心自己原本就喜欢的东西，也会倾向于和与自己志趣类似的人交流，所以人们仍很可能群聚于各自的小团体乃至个人的小世界中“作茧自缚”。甚至，由于信息技术提供了更自我的思想空间和任何领域的巨量知识，一些人还可能进一步逃避社会中的种种矛盾，成为与世隔绝的孤立者。
&gt;“聚合信息的努力可能把人们带向极端主义、安于现状和错误”
&gt;去看这本书[[《信息乌托邦：众人如何生产知识》|信息乌托邦：众人如何生产知识+（美）凯斯·R·桑斯坦着.pdf]]
*[[关于MOOCS]]
*抓紧处理这个，争取微软提供的[[这个机会|https://www.dreamspark.com/]]
*推荐：[[Ambient Findability]]
</pre>
</div>
<div title="2009年12月07~13" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201312181730" _hash="c434ab4860f30ec5e975245424a22a742ef45061" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/2009%E5%B9%B412%E6%9C%8807~13/1599913:7f82280bec83b034bcde1c254c7f2074bd641ab3&quot;" server.page.revision="1599913" server.title="2009年12月07~13">
<pre>*[[未来学术信息传播新的动向]]（需翻墙）
*[[这篇文章不错|http://money.163.com/13/1201/08/9F0C1S2F00253B0H.html]]
*[[信息社会的5大潮流趋势]]
*还记得我们的[[兩張圖]]吧？最近Deep Web确实又开始热起来了，来看看这个[[终极的指南|http://oedb.org/ilibrarian/invisible-web/]]吧！
*[[资源:5 trends are reshaping records management|http://www.kmworld.com/Articles/Editorial/Features/5-trends-are-reshaping-records-management-92683.aspx]]
*[[个人学习网络（personal learning networks）的思维导图|http://inforabbi.opendrive.com/files/Ml8zNjcxNzAyMF80eTdsVg/CT-_Personal_Learning_Networks.png]]</pre>
</div>
<div title="2009年12月14~20" creator="inforabbi" modifier="inforabbi" created="201312221632" modified="201312221711" _hash="21a11d70b6e0757024a14f36a2725cba96b41893" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/2009%E5%B9%B412%E6%9C%8814~20/1602656:7fd92b114b7b362389e8556505c45b73148e5252&quot;" server.page.revision="1602656" server.title="2009年12月14~20">
<pre>*很悲剧的消息：
&gt;TiddlyWeb 與 TiddlySpace 的維護者 Chris Dent 已離開 Osmosoft 團隊（BT 不再與 Chris 續約），目前仍無 TiddlySpace 的後續維護者。
&gt;備份在 tiddlyspace.com 上的資料：開啟 http://你的工作區.tiddlyspace.com 登入你的 TiddlySpace 帳號 引入備份工作區： http://backups.tiddlyspace.com/  開啟連結 http://你的工作區.tiddlyspace.com/backups選擇下載 public/private tiddlers 為 .json 或 tiddlywiki
*本来ipad上Chris Hent弄了个非常不错的APP：Twedit，支持HTML5的，不知Chris Dent往哪里去呢？
*https://www.academia.edu/</pre>
</div>
<div title="2009年12月21~27" creator="inforabbi" modifier="inforabbi" created="201512131739" modified="201512131808" _hash="876bf21ccd4e28598fb8d354de1c8b2e4e77c645" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/2009%E5%B9%B412%E6%9C%8821~27/2423262:ac5e657f2926464187301bc6602f7419f7cbcb1e&quot;" server.page.revision="2423262" server.title="2009年12月21~27">
<pre>!论文写作干货
期末大限至，论文没搞定？还不快抱走！


相信这几天，大家相互谈论的事情中deadline是必不可少的，你堆了3篇期末论文，我攒了5篇读书报告。
都说赶论文是个极其痛苦而且折磨人的事情，快来看看下面的干货，保证对你有所帮助！
 
!优秀结构范例

!!✔ Abstract—— 对自己工作及其贡献的总结：
✎ 阐述问题；
✎ 说明自己的解决方案和结果。

!!✔ Introduction——背景，以及文章的大纲：
✎ 题目是重要的；
✎ 前人的工作A、B曾经研究过这个问题；
✎ A、B有一些缺陷；
✎ 我们提出了方法D；
✎ D的基本特征，和A、B进行比较；
✎ 实验证明D比A、B优越；
✎ 文章的基本结构，大纲。
!!✔ Previous Work——说明自己与前人的不同：
✎ 将历史上前人的工作分成类别；
✎ 对每项重要的历史工作进行简短的回顾(一到几句)，注意要回顾正确，抓住要点，避免歧义；
✎ 和自己提出的工作进行比较；
✎ 不要忽略前人的重要工作，要公正评价前人的工作，不要过于苛刻；
✎ 强调自己的工作和前人工作的不同，最好举出各自适用例子。
!!✔ Our Work——描述自己的工作，可分成多个部分：
✎ 从读者角度阐明定义和表示法；
✎ 提供算法的伪码，图解和相应解释；
✎ 用设问的方式回答读者可能提出的潜在问题；
✎ 复杂的冗长的证明和细节可以放在附录中，这里关键是把问题阐述清楚；
✎ 特例和例外应该在脚注中给予说明。
!!✔ Experiments——验证提出的方法和思路：
✎ 合理地设计实验（简洁的实验和详尽的实验步骤）；
✎ 必要的比较，突出科学性；
✎ 讨论，说明结果的意义；
✎ 给出结论。
!!✔ Conclusion——总结、前景及结文：✎ 快速简短的总结；
✎ 未来工作的展望；
✎ 结束全文。
!!✔ References——对相关重要背景文献的全面引用：
✎ 选择引文（众所周知的结论不必引用，其他人的工作要引用）；
✎ 与前文保持一致。
✔ Others——致谢、附录、脚注。处理被拒：
✎ 理解被国际权威期刊拒稿是一件正常的事情(70%以上被拒)，保持良好心态。
✎ 感谢编辑和Reviewer的意见和工作。
✎ 询问副主编，自己可以怎样处理这篇论文最合适(重投/改投/撤回)。
✎ 继续新的研究或补充修改后改投其他杂志。

*如何查找文献

!1. 如何查询国内专利文献？
▶ 可通过中国国家知识产权局( http://www.sipo.gov.cn/sipo/zljs/default.htm ）和中国专利信息中心（http://www.patent.com.cn/） 网站上的“专利检索”，可以免费检索全部中国专利信息（有文摘）。如需获取专利全文，则需前去中国国家知识产权局查阅，也可通过CSDL馆际互借和原文传递系统代为办理。
!2. 如何查询国外专利文献？
▶ 科学院用户可首先选择查询Web of Knowledge 中Derwent Innovations Index (德温特世界专利索引)，它是检索专利的权威数据库，收录全球了40多个专利机构的900万条基本专利，1800万项专利，该库大部分有文摘，小部分有全文。
其它可供利用的网上免费数据库还有:
欧洲专利局专利数据库： http://ep.espacenet.com/ （免费 文摘）
美国专利商标局专利数据库： http://www.uspto.gov/ （免费 文摘、全文）
WTO知识产权组织： http://www.wipo.gov/ （免费 文摘）
IBM专利数据库资源： http://www.patents.ibm.com （免费 文摘、部分全文）
更多请参见中国专利信息网上的（国外）专利网站：http://www.patent.com.cn/
!3. 如何查询国内学位论文？ 如何获取全文？
▶ 目前可查询国内学位论文文摘的几个数据库包括：
中国科学院学位论文数据库（免费 文摘）
http://docdb.las.ac.cn/cgrs/
国家科技图书文献中心的中文学位论文数据库（免费 文摘）
http://www.nstl.gov.cn/nstl/user/ywjsdg.jsp
CALIS高校学位论文库（免费 文摘）
http://opac.calis.edu.cn
清华同方-- 中国优秀博硕士学位论文全文数据库（文摘免费，全文收费）
http://211.151.91.82/cdmdzy/mainframe.asp?encode=gb&amp;navigate=sjt
 目前提供电子版中文学位论文全文的数据库主要由两个：
清华同方的“中国优秀博硕士学位论文全文数据库”（见中国期刊网http://www.cnki.net）， CSDL均未购买，其题录文摘库是免费查询的。用户可以自行向清华同方购买全文检索卡（清华同方股份有限公司，010-62794985）以下载其博士论文全文。
中国科技信息所万方数据集团的“中国学位论文全文库”，所收论文主要是科技理工类硕士论文较多，也有经济、法律、和外语、艺术类等论文，但数量较少。因他的数据来源是国务院学位办规定收缴的理工类全国硕士论文，收藏的数量有40多万篇。
!4. 如何查询国外学位论文？ 如何获取全文？
▶ 查询国外学位论文的途径可使用PQDD-B(UMI博硕士论文数据库) http://wwwlib.umi.com/，  可查询欧美1000余所大学1861年以来的160多万篇学位论文的信息，其中1997年以来的部分论文不但能看到文摘索引，还可以看到前24页的原文。如果需要获取国外学位论文的全文。
!5. 如何查找国外会议论文？
▶ 科学院用户可首先选择查询Web of Knowledge 中ISI proceedings (ISTP的网络版) http://isi3.isiknowledge.com/portal.cgi， 它是检索国际著名会议、座谈会、研讨会及其它各种会议录论文的的综合性多学科的权威数据库，收录全球主要的科学技术、社会科学和人文科学会议录论文的文摘索引12000余种。
此外，在一些学协会出版的数据库中或一些学科领域的专门数据库中也收录了会议论文，如：
IEL（IEEE/IEE Electronic Library）全文库http://ieeexplore.ieee.org， 收录了美国电气与电子工程师（IEEE）学会和英国电气工程师（IEE）自1988年以来出版的约6000多种会议录（全文）。
INSPEC（英国科学文摘）http://isi3.isiknowledge.com/portal.cgi， 由英国电气工程师学会（IEE）出版的文摘数据库，是物理学、电子工程、电子学、计算机科学及信息技术领域的权威性文摘索引数据库，收录了1000余种会议记录的索引和摘要。
BIOSIS Previews（生物学文摘数据库）http://202.127.20.67/cgi-bin/ovidweb/ovidweb.cgi， 收录了与生命科学研究相关的各个领域1969年以来的文献，其中包括1,500多会议。
另外，还可检索国家科技图书文献中心（NSTL）网站上http://www.nstl.gov.cn/index.html  提供了其下属成员馆馆藏外文会议论文的题录文摘。
!6. 如何查找国内会议论文？
▶ 目前用户可免费检索的数据库有：
国家科技图书文献中心（NSTL）网站上http://www.nstl.gov.cn/index.html 提供了其下属各家成员馆馆藏中文会议论文的题录文摘。
CALIS学术会议论文库http://opac.calis.edu.cn/opac/meeting 收录来自于“211工程”的61所重点学校每年主持的国际会议的论文，根据目前的调查，重点大学每年主持召开的国际会议在20个左右，其中大多数的会议提供有正式出版号的会议论文集。
!7.如何获得即将召开的国际会议信息？
▶ 通过查找国内外相关专业协会或学会网站，可获得最新会议信息。另外在清华大学图书馆主页“馆外电子资源”栏目下的“电子会议”链接了一些可免费浏览即将召开的国际会议消息的站点。http://www.lib.tsinghua.edu.cn/NEW/home68.htm
!8. 如何在网上查找科技报告？
▶ 以下提供了几个有价值的国外科技报告站点：
NASA Scientific and Technical Information Program：NASA（National Aeronautices &amp; Space Administration）提供的有关航空航天方面的丰富的科技报告全文。
NASA Technical Report Server (NTRS) ：NASA Centers 提供的航空航天方面的科技报告摘要，可以检索在二十个数据库中进行检索。
National Technical Information Service(NTIS) ：提供美国政府工作报告的题目、作者和主题词，无摘要。
Scientific and Technical Report Collection：美国国防部(Department of Defense)提供的科技报告，涉及国防极其相关领域，多数可以看到摘要，有些只能得到题录，个别能看到全文。
Networked Computer Science Technical Reports (NCSTRL)：搜集了世界上许多大学以及研究实验室有关计算机学科的科技报告，允许浏览或检索，可以免费得到全文。
MIT Center for Coordination Science Working Paper Series：可以看到较详细的文摘，一部分可以看到全文。
The Congressional Research Service Reports：这是Committee for the National Institute for the Environment的站点，提供了许多环境方面的报告全文。
DOE Information Bridge：能够检索并获得美国能源部(Department of Energy)提供的研究与发展报告全文，内容涉及物理、化学、材料、生物、环境、能源等领域。
!9. 如何在网上查找标准文献？
▶ 查找IEEE/IEE出版的1350余种标准可通过IEEE/IEE Electronic Library?全文库检索并获取全文，网址：http://ieeexplore.ieee.org。
以下提供了几个国外及国际标准的查找站点：
World Wide Web Virtual Library for Standards：这是一个有关标准的综合性的站点，既包括各标准组织的网址，也包括一些可以获得标准文献。
IEEE Standards library：列出IEEE颁布的一些标准全文以及相关说明，并可进行检索。
ISO International Standards：可以浏览或检索ISO标准，但是得不到文摘，只有分类号和关键词。
PERINORM: The Premier International Standards Database ：提供了世界上45万余条标准，包括ISO, ETSI, ASTM, ASME, IEEE等组织制定的标准，可以看到简要说明。
!10. 如何查找科学数值？
▶ 这里推荐两个重要的数值数据库：
中国科学数据库:http://www.sdb.ac.cn/。 科学数据库由中国科学院各学科领域几十个研究所的科研人员参加建设，内容涵盖了化学、生物、天文、材料、腐蚀、光学机械、自然资源、能源、生态环境、湖泊、湿地、冰川、大气、古气候、动物、水生生物、遥感等多种学科，提供了长期通过观测、考察、试验、计算等多种途径产生和积累的大量具有重要科学价值和实用意义的科学数据和资料。
Beilstein/Gemlin CrossFire—世界上最全的有机和无机化学数值与事实库。该数据库包括贝尔斯坦有机化学资料库及盖莫林无机化学资料库，含有七百多万个有机化合物的结构资料和一千多万个化学反应资料以及两千万有机物性质和相关文献，内容相当丰富。目前CSDL正在试用该数据库。
!11. 常用于科研评价的国外数据库有哪些？在那里可以检索？
▶ 常用于科研评价的国外数据库有三个：SCI（科学引文索引）、EI（工程索引）、ISTP（科技会议录索引），也被称为三大检索工具。CSDL购买了三个数据库的网络版：
SCI——Web of Science （五个文献情报中心及十几个研究所开通）
网址：http://isi3.isiknowledge.com
EI——Engineering Village 2 （全院开通）
网址：http://www.engineeringvillage2.org.cn
ISTP——ISI proceedings （全院开通）
网址：http://isi3.isiknowledge.com/portal.cgi
!12. 常用于科研评价的国内数据库有哪些？在那里可以检索？
▶ 目前常用来进行科研评价的国内数据库是主要是引文数据库，如：
中国科学引文数据库（CSCD），详情请见http://www.cscd.ac.cn
中国科技论文与引文数据库(CSTPCD)，详情请见 http://www.periodicals.net.cn/
中国社会科学引文数据库(CSSCI)，详情请见http://cssci.nju.edu.cn/
!13. 如何检索论文被引用的情况？可利用哪些引文数据库？
▶ 在国外期刊上发表论文的被引用情况可以通过美国ISI的Web of Science （SCI的网络版）检索，网址：http://isi3.isiknowledge.com。 Web Of Science提供每篇文献所引用的所有的参考文献，提供了强大的引文检索和引文分析评价的功能。中科院文献情报中心提供SCI论文收录引用检索服务（电话:010-82625255，Email：docref(AT)mail.las.ac.cn）
在国内期刊上发表论文的被引情况可以通过“中国科学引文数据库（CSCD）”检索，网址：http://sdb.csdl.ac.cn/。 该库收录了国内科技核心期刊近千种，提供每篇期刊文献所引用的所有的参考文献，是国内权威的引文数据库。中科院文献情报中心提供论文收录引用检索服务（电话:010-82627304）。
!14.如何利用引文分析数据查找各个学科领域的焦点人物、核心机构、热点文章及研究前沿？
▶ ISI Web of Knowledge 中提供了一个Essential Science Indicators（基本科学指标数据库）http://isi3.isiknowledge.com。 这是由ISI生产的一个统计数据库，其数据源为Web of Science，其理论基础是文献计量学。该库通过引文统计数据，展示了各个学科领域的焦点人物、热点文章、研究前沿，是进行学术研究绩效定量统计评价，研究科学发展趁势的重要工具。
!15.如何获取全球各个学科领域的高引频著者的详细信息？
▶ ISI Web of Knowledge 提供了一个高引频著者网站http://isihighlycited.com。
该网站收集了世界上被引用最多和最有影响力的科学家的研究成果和个人信息，是了解某个研究领域核心人物的最快捷途径，ISI不仅有科学家的列表，并且提供了科学家详细的信息，包括科学家的履历、研究方向、已发表出版的论文、图书等，特别提供了个人主页，为您随时了解其研究动态提供了方便。
!16. 如何查找期刊的影响因子？如何确定论文投稿方向？
▶ 期刊影响因子是测度期刊学术水平的重要指标，一般认为期刊的影响因子越大，它的学术影响力和作用也越大。了解影响因子，有助于科研人员了解相关专业期刊的状况，并选择投稿的期刊。　　
ISI提供的JCR——Journal Citation Reports（期刊引证报告）是期刊评价的重要工具之一，是查找期刊影响因子的权威工具，网址：http://isi3.isiknowledge.com/portal.cgi。 JCR包括5000多种国际性自然科学期刊和1600多种国际性社会科学期刊，可以查找每种期刊影响因子（Impact Factor）、被引总次数（Total Cites）、立即影响指数（Immediacy Index）、文献总数（Articles）、被引半衰期（Cited Half-life）的数据及排序情况。JCR有助于和研究人员了解各种期刊的国际影响力，从而确定自己论文的投稿方向。
!17. 如何知道哪些期刊被SCI收录？哪些国内出版的期刊被SCI收录?
▶ 了解ISI各类数据库收录了哪些期刊，可进入以下网址检索：
http://www.isinet.com/journals/。
其中SCI 分为两个版本，其来源期刊的网址分别为：
SCI (Science Citation Index)
网址：http://www.isinet.com/cgi-bin/jrnlst/jloptions.cgi?PC=K
SCI-E（Science Citation IndexExpanded)
网址：http://www.isinet.com/cgi-bin/jrnlst/jloptions.cgi?PC=D
SCI-E收录期刊近6000种，涉及168个学科领域。每种期刊有详细的描述信息，并提供与其主办或出版商的连接。
!18. 如何检索论文被引用的情况？可利用哪些引文数据库？
▶ EI来源期刊网址：
http://ultra2.lib.tsinghua.edu.cn/cpx/plsql/web_pie.list_pie_alpha?letter=A&amp;showop=Y
EI收录中国期刊网址：
http://www.ei.org.cn/twice/coverage.htm
!19. 如何检索论文被引用的情况？可利用哪些引文数据库？
▶ 如果仅查看文摘索引，还可以利用INSPEC,该数据库包括了非常丰富的电子类期刊、会议录信息，对电子类来讲，可能比EI更好。如果要查看全文，可使用IEEE/IEE Electronic Library 全文电子期刊数据库。其它很多综合性的电子期刊数据库如SpringerLink， ACM 也都有与电子相关的内容。Springer还有电子图书。


如何看文献、写文章
一、先看综述
,可以更好地认识课题，知道已经做出什么，自己要做什么，还有什么问题没有解决。对于国内文献一般批评的声音很多.但它是你迅速了解你的研究领域 的入口,在此之后,你再看外文文献会比一开始直接看外文文献理解的快得多。而国外的综述多为本学科的资深人士撰写，涉及范围广，可以让人事半功倍。
二、有针对地选择文献
针对你自己的方向,找相近的论文来读，从中理解文章中回答什么问题，通过哪些技术手段来证明，有哪些结论?从这些文章中，了解研究思路,逻辑推论，学习技术方法。
1.关键词、主题词检索：
关键词、主题词一定要选好，这样，才能保证你所要的内容的全面。因为，换个主题词，可以有新的内容出现。
2. 检索某个学者：
，知道了某个在这个领域内有建树的学者，找他近期发表的文章。
3. 参考综述检索：
如果有与自己课题相关或有切入点的综述，可以根据相应的参考文献找到那些原始的研究论文。
4. 注意文章的参考价值：
刊物的影响因子、文章的被引次数能反映文章的参考价值。但要注意引用这篇文章的其它文章是如何评价这篇文章的
三、如何阅读文献
：摘要可以说是一个论文的窗口。多数文章看摘要，少数文章看全文。真正有用的全文并不多，过分追求全文是浪费，不可走极端。当然只看摘要也是不对 的。多数文章题目、摘要简单浏览后，直接把几个Figure 及Title 与legend 一看，一般能掌握大部分。
2.通读全文：读第一遍的时候一定要认真，争取明白每句的大意，能不查字典最好先不查字典。因为读论文的目的并不是学英语，而是获取信息，查了字典以后思维会非常混乱，往往读完全文不知所谓。可以在读的过程中将生字标记，待通读全文后再查找其意思。
3.归纳总结：较长的文章，容易遗忘。好在虽然论文的句子都长，但每段的句数并不多，可以每一段用一个词组标一个标题。
4. 确立句子的架构，抓住主题：读英文原版文献有窍门的。我们每个单词都认识读完了却不知他在说什么，这是最大的问题。在阅读的时候一定要看到大量的关系连词，他们承上启下引领了全文。中国人喜欢罗列事实，给出一个观点然后就是大量的事实，这也是中文文献的特点，我们从小都在读这样的文章，很适应。西方人的文献注重逻辑和推理，从头到尾是非常严格的，就像GRE 里面的阅读是一样的，进行的是大量重复、新旧观点的支持和反驳，有严格的提纲，尤其是好的杂志体现得越突出。读每一段落都要找到他的主题，往往是很容易的，大量的无用信息可以一带而过，节约你大量的宝贵时间和精力。
5.增加阅读量：
由于刚刚接触这一领域，对许多问题还没有什么概念，读起来十分吃力，许多内容也读不懂。后来随着阅读量的增加，最后可以融汇贯通。所以，对新手而言，应当重视阅读文献的数量，积累多了，自然就由量变发展为质变了。
四．提高阅读的效率
1．集中时间看文献：
看文献的时间越分散，浪费时间越多。集中时间看更容易联系起来，形成整体印象。
2．做好记录和标记：
复印或打印的文献，直接用笔标记或批注。pdf 或html 格式的文献，可以用编辑器标亮或改变文字颜色。这是避免时间浪费的又一重要手段。否则等于没看。
3．阅读顺序：
根据阅读目的选择合适的顺序。一般先看abstract、introduction，然后看discussion，最后看result 和method（结合图表）。
五、文献的整理
1.下载电子版文献时（caj，pdf，html），把文章题目粘贴为文件名（文件名不能有特殊符号）
2.不同主题存入不同文件夹。文件夹的题目要简短，如：PD，LTP，PKC，NO。
3.看过的文献归入子文件夹，最起码要把有用的和没用的分开。
4.重要文献根据重要程度在文件名前加001，002，003 编号，然后按名称排列图标，最重要的文献就排在最前了。而且重要文献要注意追踪。运气好，你可以得到更多的线索；运气不好，发现别人抢先了。据此修正你的实验。
六、英文文章写作 （阅读文献的副产品）
1.平时阅读文献，注意总结常用句型和常用短语（注意，文献作者必须是以英文为母语者，文献内容要与你的专业有关）。
2.找3-5 篇技术路线和统计方法与你的课题接近的文章，精读。

如何降低抄袭率
外文文献翻译法
对于咱中国学生来说，英语有时候是劣势，但会中文，在这里变成了优势。找到相关的中文文献，找出自己想说的一段话，用自己的语言翻译成英文，就能应付不少词数了。当然了，外文不仅指中文，自然还有德文法文俄文，如果你会其他语言的话，翻译过来照样可以用。当然，翻译别靠翻译器，要你自己翻译！翻译器翻出来的东西，老师一眼就看得出来，印象会非常糟糕，甚至抹杀你论文其他所有可取之处。
变化措辞法
变化核心词，rephrase段落结构，这个方法实用，但需要一定的技术，希尔编辑再给多点提示：如果是一般的引用，就采用罗嗦法，将原句中省略的主语、谓语、等等添加全，反正哪怕多一个字也好；也可以采用横刀法，将一些句子的成分，去除，用一些代词替代。故意在一些缩写的英文边上，加上（注释）(画蛇添足法），总之，将每句话都可以变化一下，哪怕增加一个字或减少一个字，都是胜利了。
掐头去尾留核心，同义替换同义词简单却重要，在2的基础上，翻译软件搜一下就能找到同义词来替换了
最有效的方法就是彻底领会原文的意思，然后抛开原文，用自己的语言重写。这样的话turnitin再神通也不会查出有抄袭率的问题。这个方法的难度在于你需要熟读要参考的文章，真正的理解文章内容，并且对学术背景有一定的研究才可以。这样做基本上抄袭率在3~5%之间。正常都是应该这样引用和参考的。
其次的方法，就是边看原文边改写。将引用的文字，更改主被动语态，或更改关键词，或进行增减来进行修改。关键词指的是名词，形容词，副词，动词等。如果出现非常有价值的reference，还是需要用原句进行引用。首先更改句式，使用不同的语言表达方式，其次替换无关紧要的动词，介词，形容词等，仅保留及其有限的关键名词。不然，即便标出reference，检查出来的抄袭率仍然很高。这是学校不允许的。
将原文中出现的表格变成图片。有时候别的学者总结了表格，你即便标出reference，检查结果还是判定这是抄袭，这很头疼。如果时间充裕，你可以自己找表格里的来源，自己重写。紧急情况用的方法，如果时间实在来不及，或者表格里的术语或关键词都是固定用法，很难替换，就可以转换成图片。这样可以降低抄袭率，缺点就是图片不算字数，需要写更多的字数。此方法最适用于本来抄袭率很高，字数也很多的文章，将一些经典reference变成图片可以降低抄袭率。
相信大家有了这些指南，一定能够战胜deadline！
</pre>
</div>
<div title="2009年8月24~30" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201509090518" _hash="94c5e2b94e04acbd754cb610e32eb0111c08a7ed" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/2009%E5%B9%B48%E6%9C%8824~30/2331911:825abc1b479e28836950e104682abef7e11b2f7e&quot;" server.page.revision="2331911" server.title="2009年8月24~30">
<pre>&lt;html&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: large;&quot;&gt;&lt;span style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;strong&gt;网络时代，我们在偏远的贵州生活和学习，但并不意味着我们会孤陋寡闻&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;  &lt;p style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;http://oyc.yale.edu/&quot; target=&quot;_blank&quot;&gt;[img[http://inforabbi.opendrive.com/files/Ml8zMTM1MjgyNV80eVI4bQ/higherinforabbi.JPG]]&lt;/p&gt;&lt;p&gt;&lt;big&gt;&lt;span style=&quot;font-family: Comic Sans MS;&quot;&gt;&lt;span style=&quot;font-size: medium;&quot;&gt;此图为&lt;/span&gt;&lt;/span&gt;&lt;/big&gt;&lt;big&gt;&lt;a href=&quot;http://oyc.yale.edu/&quot;&gt;&lt;span style=&quot;font-family: Comic Sans MS;&quot;&gt;&lt;span style=&quot;font-size: medium;&quot;&gt;Yale的开放课程&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;font-family: Comic Sans MS;&quot;&gt;&lt;span style=&quot;font-size: medium;&quot;&gt;中的宣传照。关于目前世界上的多个开放课程计划（OOPS）大家可以从&lt;/span&gt;&lt;/span&gt;&lt;/big&gt;&lt;big&gt;&lt;a href=&quot;http://www.myoops.org/cocw/index.htm&quot;&gt;&lt;span style=&quot;font-family: Comic Sans MS;&quot;&gt;&lt;span style=&quot;font-size: medium;&quot;&gt;这里&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;font-family: Comic Sans MS;&quot;&gt;&lt;span style=&quot;font-size: medium;&quot;&gt;去了解，&lt;/span&gt;&lt;/span&gt;&lt;/big&gt;&lt;big&gt;&lt;a href=&quot;http://www2.myoops.org/main.php&quot;&gt;&lt;span style=&quot;font-family: Comic Sans MS;&quot;&gt;&lt;span style=&quot;font-size: medium;&quot;&gt;他们的新站点在这里&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;font-family: Comic Sans MS;&quot;&gt;&lt;span style=&quot;font-size: medium;&quot;&gt;&lt;a href=&quot;http://www.myoops.org/cocw/Global/oops/AboutOOPS.htm&quot;&gt;&lt;span style=&quot;font-family: Comic Sans MS;&quot;&gt;&lt;span style=&quot;font-size: medium;&quot;&gt;志愿者&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;font-family: Comic Sans MS;&quot;&gt;&lt;span style=&quot;font-size: medium;&quot;&gt;抹平了语言间的障碍，记得感恩！ &lt;/span&gt;&lt;/span&gt;&lt;/big&gt;&lt;a href=&quot;http://www.verycd.com/topics/2824902/&quot;&gt;&lt;big&gt;&lt;span style=&quot;font-family: Comic Sans MS;&quot;&gt;&lt;span style=&quot;font-size: medium;&quot;&gt;请看这里吧&lt;/span&gt;&lt;/span&gt;&lt;/big&gt;&lt;/a&gt;&lt;/p&gt;&lt;/html&gt;

!來自維基百科創辦者Jimmy Wales的個人呼籲
Google和Yahoo有數以千計的伺服器和僱員。而我們只有八百台伺服器和一百五十名職員。
維基百科是網路上排名第五的網站，每月有四億五千萬人次使用，頁面瀏覽以十億計。

商業本無錯，廣告亦非惡，但是他們不屬於這裡、不屬於維基百科。

維基百科跟其他的網站不同。它像是個圖書館、又像是公園，也是心靈之殿。它是讓我們思考、學習以及分享知識的地方。

維基百科草創之時，我本可拿它來謀利，經營成刊載廣告的商業公司，但我决定做些與眾不同的事。我們多年来精簡節流，勤於此命，以免支出過多，浪費有餘。

如果每位讀到這篇文章的人都能捐出¥50, ¥75, ¥100，那麼我们每年募款的目標只要一日就可以募足了。不過並不是每個人都有心力給予我們協助。這沒關係，幫助我們的人，每年適量就可以了。

今年在這裡誠心懇求各位襄助，無論是¥50, ¥75, ¥100還是多少皆可，以確保維基百科的運行。

感激不盡，

占米·威爾士 
維基百科創始人

!如果你认同，请猛击[[这个链接地址|https://donate.wikimedia.org/wiki/Special:FundraiserLandingPage?uselang=zh&amp;country=CN&amp;template=Lp-layout-default&amp;appeal-template=Appeal-template-default&amp;appeal=Appeal-default&amp;infobox=Default&amp;form-template=Form-template-default&amp;form-countryspecific=Form-countryspecific-control&amp;utm_medium=sitenotice&amp;utm_source=B13_0701_trnvlpf_Twin1_nd_zhCN&amp;utm_campaign=C13_wpnd_zhCN_FR]]或者点击图片
&lt;html&gt;&lt;a href=&quot;https://donate.wikimedia.org/wiki/Special:FundraiserLandingPage?uselang=zh&amp;country=CN&amp;template=Lp-layout-default&amp;appeal-template=Appeal-template-default&amp;appeal=Appeal-default&amp;infobox=Default&amp;form-template=Form-template-default&amp;form-countryspecific=Form-countryspecific-control&amp;utm_medium=sitenotice&amp;utm_source=B13_0701_trnvlpf_Twin1_nd_zhCN&amp;utm_campaign=C13_wpnd_zhCN_FR&quot; target=&quot;_blank&quot;&gt;  &lt;img src=&quot;http://inforabbi.opendrive.com/files/Ml8zMTc0NDEwOF9NQU9aTQ/wikidonate.png&quot; border=&quot;0&quot; width=&quot;391&quot; height=&quot;394&quot; title=&quot;donate.wikimedia.org&quot;&gt;&lt;/a&gt;&lt;/html&gt;
</pre>
</div>
<div title="2009年8月31~9月06" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201609070417" _hash="7ce77acdb75f23f11c4a2c21ea9b22489938e645" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/2009%E5%B9%B48%E6%9C%8831~9%E6%9C%8806/2554695:4a96b7c9ff57bb30baac25b9f57cade394c35b46&quot;" server.page.revision="2554695" server.title="2009年8月31~9月06">
<pre>*[[关于information literacy|http://www.ala.org/acrl/issues/infolit]]
*[[关于Fons Wijnhoven|http://www.researchgate.net/profile/Fons_Wijnhoven]]
**[[关于information waste|http://essay.utwente.nl/65367/1/Beckers_BA_MB.pdf]]</pre>
</div>
<div title="2009年9月07~13" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201409240528" _hash="81701164e541a3f30bff79ffee19f5a293d95948" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/2009%E5%B9%B49%E6%9C%8807~13/1900181:14db3474d4baf7c5e1074263166cca9fb195afda&quot;" server.page.revision="1900181" server.title="2009年9月07~13">
<pre>*先介绍一个重要的方法：[[The Cornell Note-taking method|data/20100915113040/index.html]]，这里有个[[简要的中文介绍|data/20100915113458/index.html]]
**于是，我们需要有些&lt;&lt;slider chkSlider 重要的笔记工具 重要的笔记工具&gt;&gt;
*[[实用HTML，CSS和JavaScript速查表|data/20100915120157/index.html]]
*一段[[张维迎的视频]]
*[[The Value of Information Professionals|http://taxodiary.com/2014/09/the-value-of-information-professionals/]]
</pre>
</div>
<div title="2009年9月14~20" creator="inforabbi" modifier="inforabbi" created="201509201827" modified="201509201827" _hash="d836e958782c9277ea0aa635a9553c21a0afab4f" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/2009%E5%B9%B49%E6%9C%8814~20/2342514:00af76b2d4ca07b57ebe61c01fd80bcf0086edf6&quot;" server.page.revision="2342514" server.title="2009年9月14~20">
<pre>*[[百度怎么赚钱|http://www.williamlong.info/archives/4358.html]]
*[[这周很火的可汗学院|https://www.khanacademy.org/]]以及[[可汗的Ted演讲]]
</pre>
</div>
<div title="2009年9月21~27" creator="inforabbi" modifier="inforabbi" created="201509211650" modified="201510190443" _hash="040d10e7f01ccc4eb5807f7d2e2114f2cf095bfd" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_private" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_private" server.etag="&quot;gcsim_private/2009%E5%B9%B49%E6%9C%8821~27/2376574:85f72e0afaa73d8205fedc2ea3ab795b30e47146&quot;" server.page.revision="2376574" server.title="2009年9月21~27">
<pre>*[[37 SEO Experts You Should Be Following on Twitter|http://searchenginewatch.com/article/2374336/37-SEO-Experts-You-Should-Be-Following-on-Twitter?utm_source=feedburner&amp;utm_medium=feed&amp;utm_campaign=Feed%3A+sewblog+%28Search+Engine+Watch+Blog%29]]
*[[Internet Marketing for 2020|http://searchenginewatch.com/article/2373629/Internet-Marketing-for-2020?utm_source=feedburner&amp;utm_medium=feed&amp;utm_campaign=Feed%3A+sewblog+%28Search+Engine+Watch+Blog%29]]
*[[一本新书|http://www.cnbeta.com/articles/334407.htm]]
*[[资源|http://www.cmswire.com/news/topic/information+management]]</pre>
</div>
<div title="2009年9月28~10月04" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="7a46ee35fa1f0940bc55e80b3979d72b502a1b7c" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/2009%E5%B9%B49%E6%9C%8828~10%E6%9C%8804/1188281:f5fa0b69bf3c701fdd295ed455075d63b9c5a48c&quot;" server.page.revision="1188281" server.title="2009年9月28~10月04">
<pre>*信息分享工具
**本周的Google推出了一个Sidewiki的工具，中文名称叫做[[Google网页注解|http://www.google.com/sidewiki/intl/zh-TW/index.html#tbbrand=]]，又一次利用了wiki的功能，可以对任何网页进行评论。又一次的信息分享实验。（目前是Google工具条的一个组成部分）
*个人信息组织工具：note
**[[evernote|http://www.evernote.com]]
**[[tomboy]]
**[[onenote]]
**[[Nocs|]]</pre>
</div>
<div title="2012年的报告摘要" creator="librabbi" modifier="librabbi" created="201411111603" modified="201411111656" _hash="205f925ef99b7040d5c8c15b0714af49a71e96d0" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/2012%E5%B9%B4%E7%9A%84%E6%8A%A5%E5%91%8A%E6%91%98%E8%A6%81/1962629:6df0237a210e271779d3383d8cb59fab53c7c969&quot;" server.page.revision="1962629" server.title="2012年的报告摘要">
<pre>*Blended-learning environments are the norm; students say that these environments best support how they learn.
*Students want to access academic progress information and course material via their mobile devices, and institutions deliver.
*Technology training and skill development for students is more important than new, more, or “better&quot; technology.
*Students use social networks for interacting with friends more than for academic communication.</pre>
</div>
<div title="2013年的报告摘要" creator="librabbi" modifier="librabbi" created="201411111656" modified="201411111657" _hash="7c27529de5f069ec1ad87146c3e82ac2e5d8556b" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/2013%E5%B9%B4%E7%9A%84%E6%8A%A5%E5%91%8A%E6%91%98%E8%A6%81/1962634:d75568c0d0f11bc86b64f46b4107ecaa33523569&quot;" server.page.revision="1962634" server.title="2013年的报告摘要">
<pre>*Students recognize the value of technology but still need guidance when it comes to better using it for academics.
*Students prefer blended learning environments while beginning to experiment with MOOCs.
*Students are ready to use their mobile devices more for academics, and they look to institutions and instructors for opportunities and encouragement to do so.
*Students value their privacy, and using technology to connect with them has its limits.</pre>
</div>
<div title="2014年的报告摘要" creator="librabbi" modifier="librabbi" created="201411111603" modified="201411111604" _hash="df60d61695b8815fb5aacf010140843d21f0917f" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/2014%E5%B9%B4%E7%9A%84%E6%8A%A5%E5%91%8A%E6%91%98%E8%A6%81/1962574:d2bbdd24a44c7df33e68e2d8245cbea7d5a4a7d2&quot;" server.page.revision="1962574" server.title="2014年的报告摘要">
<pre>    	
*Technology is embedded into students’ lives, and students are generally inclined to use and to have favorable attitudes toward technology. However, technology has only a moderate influence on students’ active involvement in particular courses or as a connector with other students and faculty.
*Students’ academic use of technology is widespread but not deep. They are particularly interested in expanding the use of a few specific technologies.
*Many students use mobile devices for academic purposes. Their in-class use is more likely when instructors encourage such use; however, both faculty and students are concerned about their potential for distraction.
*More students than ever have experienced a digital learning environment. The majority say they learn best with a blend of online and face-to-face work.
*Most students support institutional use of their data to advise them on academic progress in courses and programs. Many of the analytic functions students seek already exist in contemporary LMSs.</pre>
</div>
<div title="3.1信息资源管理" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="93b37a046cd63ed933bfa5dadf2bee8237991601" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/3.1%E4%BF%A1%E6%81%AF%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86/1188282:b47ddc76b02bc5f4641077d59642d36bf109e16a&quot;" server.page.revision="1188282" server.title="3.1信息资源管理">
<pre>*概述
**随着对信息作为一种资源来管理的需求日益加强，信息研究领域中出现了一种新的管理思想和模式——信息资源管理（IRM ）。
**信息资源管理的基本点，是要将信息作为一种重要资源加以管理。
**信息资源管理的任务就是采用全新的思想，以最有效的模式管理一个组织的信息需求，以支持一个组织正确地进行管理和决策。 
**而从总体上了解国外信息资源管理理论思想，我们可以参考孟广均的书《信息资源管理导论》中的一节内容：[[国外信息资源管理（IRM）理论综述]]。另外对于国内学者的IRM理论探讨请参考中科院霍国庆博士的文章：[[国内信息资源管理理论评述|IRM theory in China.pdf]]
*IRM手段和层次
**四大手段（关注[[法律手段]]）
**三个层次（基于企业层面在谈）
*IRM与MIS
</pre>
</div>
<div title="3.2信息管理" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="d9739a05f0da1b585bcf79cbd098d33bf64ab543" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/3.2%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86/1188284:d9504a7959e7bc6c6e763f1e993b6c2271c32e68&quot;" server.page.revision="1188284" server.title="3.2信息管理">
<pre>*IM概述
&lt;&lt;slider ChkSlider 信息管理概念图 概念图&gt;&gt;

&gt;信息管理是信息人员围绕信息资源的形成与开发利用，借助信息技术进行的信息活动。这一定义概括了信息管理的3个要素：人员、技术、信息；体现了信息管理的两个方面；信息资源和信息活动。
*IM发展历程
&lt;&lt;slider ChkSlider 信息管理发展时期 IM发展图示&gt;&gt;
</pre>
</div>
<div title="3.3信息管理科学" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="be11a50990379353c05fb7e6b8bb9fe865078da4" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/3.3%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86%E7%A7%91%E5%AD%A6/1188285:15e63026d4689c3faf59666d87e4f54fec448185&quot;" server.page.revision="1188285" server.title="3.3信息管理科学">
<pre>*共识：什么是信息管理科学P38
*信息管理科学的形成
**理论条件
**技术条件
**实践条件
*理论基础与研究方法
**[[信息学、管理学、系统科学]]（[[信息生命周期理论]]）
**[[综合性的研究方法]]</pre>
</div>
<div title="3.4信息管理学的实用体系和相关内容" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="e6bdae87115d6e337793e0ec1e80f465f2aa9ade" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/3.4%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86%E5%AD%A6%E7%9A%84%E5%AE%9E%E7%94%A8%E4%BD%93%E7%B3%BB%E5%92%8C%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9/1188286:1cbe2f0c6ab5e06e4360f503ad9159bb3554ba4c&quot;" server.page.revision="1188286" server.title="3.4信息管理学的实用体系和相关内容">
<pre>本节内容是本书的重点内容，虽然有部分内容已经是各位学习过的。
&gt;学科现状与[[实用框架体系]]
*[[信息资源管理]]
*[[信息技术应用]]
*[[信息系统建设]]
*[[信息经济研究]]</pre>
</div>
<div title="3.5信息管理学的学科发展与专业教育" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="b6d4afb0353303a212fcc1109815bc0e179dbbba" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/3.5%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86%E5%AD%A6%E7%9A%84%E5%AD%A6%E7%A7%91%E5%8F%91%E5%B1%95%E4%B8%8E%E4%B8%93%E4%B8%9A%E6%95%99%E8%82%B2/1188283:aff9a3ca464b68ed001232acb129a8770ea9efc8&quot;" server.page.revision="1188283" server.title="3.5信息管理学的学科发展与专业教育">
<pre>没有什么讲的</pre>
</div>
<div title="4.1信息源与信息组织" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="5771829df9d5d02dc627932872994b7405b2f9fe" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/4.1%E4%BF%A1%E6%81%AF%E6%BA%90%E4%B8%8E%E4%BF%A1%E6%81%AF%E7%BB%84%E7%BB%87/1188287:979368ac3d469622f2a2182efec750586a209233&quot;" server.page.revision="1188287" server.title="4.1信息源与信息组织">
<pre>掌握两个概念：信息源和信息组织
信息源：信息的来源
信息组织：注意[[这篇文章|data/20091026013056/index.html]]</pre>
</div>
<div title="4.2信息流与信息管理" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="34f153726d36d5a36c1a0d0e00cf4bc30156d1b6" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/4.2%E4%BF%A1%E6%81%AF%E6%B5%81%E4%B8%8E%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86/1188288:d8492074800dd46fba037ba3d2e36db8008f9dcc&quot;" server.page.revision="1188288" server.title="4.2信息流与信息管理">
<pre>我们看看[[信息流的变化]]
[[以Twitter为代表]]，看看</pre>
</div>
<div title="4.3信息宿与信息使用" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="8f05031b48c3d642e9cb2cef7820aeb82d8dfede" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/4.3%E4%BF%A1%E6%81%AF%E5%AE%BF%E4%B8%8E%E4%BF%A1%E6%81%AF%E4%BD%BF%E7%94%A8/1188289:c6aca5f3828d0610b18d72867e5dbc59fc4596de&quot;" server.page.revision="1188289" server.title="4.3信息宿与信息使用">
<pre>仔细研读课本。
最关键的要点：信息行为（概念[[看看CNKI的信息行为解释|data/20091109133318/index.html]]顺便介绍这个好工具：[[CNKI概念知识元库|data/20091109133613/index.html]]，它是[[CNKI知识搜索|data/20091109134052/index.html]]的一个部分、作用）、信息用户及其信息需求。看[[这个地方的解释|xinxixingwei.ppt]]</pre>
</div>
<div title="4.4信息资源开发与利用" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="1ac9c7e22b42337c8004eb18c5a06ffc3180f99f" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/4.4%E4%BF%A1%E6%81%AF%E8%B5%84%E6%BA%90%E5%BC%80%E5%8F%91%E4%B8%8E%E5%88%A9%E7%94%A8/1188290:14d65774c710070474e9781c9ab8ae9c73b38050&quot;" server.page.revision="1188290" server.title="4.4信息资源开发与利用">
<pre>课本上很详细了</pre>
</div>
<div title="5.3物理过程方法" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="d1642ac49a6fa84609cb574fde72052eac8d2443" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/5.3%E7%89%A9%E7%90%86%E8%BF%87%E7%A8%8B%E6%96%B9%E6%B3%95/1188291:95469fc03930ab7423c83553c71f751a6f1f1e2e&quot;" server.page.revision="1188291" server.title="5.3物理过程方法">
<pre>还记得我们的[[信息生命周期理论]]吗？</pre>
</div>
<div title="6.2战略信息管理的基本理论" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="ff6a6bf4fd28f39f9c9b09d63e78413725aba9cd" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/6.2%E6%88%98%E7%95%A5%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%90%86%E8%AE%BA/1188292:6091ebc4d8a8880dc2a1e82e6eeb351b300d2dc4&quot;" server.page.revision="1188292" server.title="6.2战略信息管理的基本理论">
<pre> 参考：[[什么是战略信息管理|data/20101201173828/index.html]]
</pre>
</div>
<div title="6.3信息战略规划的主要内容" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="58672b993f14b730d598ce0113895906b8283061" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/6.3%E4%BF%A1%E6%81%AF%E6%88%98%E7%95%A5%E8%A7%84%E5%88%92%E7%9A%84%E4%B8%BB%E8%A6%81%E5%86%85%E5%AE%B9/1188299:0d645930d80139c30c316bcbb52dc317a4f51e69&quot;" server.page.revision="1188299" server.title="6.3信息战略规划的主要内容">
<pre>2.2 环境
任何目标的选择都要受到一定环境因素的影响，一般情况下，环境都被区分为内部环境和外部环境。数字信息服务的内部环境涉及到服务系统内部的诸多要素，诸如现有资源、员工能力、财政水平等等，因此相应的信息审计（Information audit）和员工培训工作就显得非常重要了。例如，对员工的技能要求就需要按照数字环境中的信息素养标准来衡量，美国Syracuse大学信息研究学院资深教授查尔斯.麦克卢尔(Charles R. McClure)曾提出过一个基于网络的信息素养模型，该模型由四个层次构成，实质是网络环境下解决信息问题能力的体现。第一个层次是传统素养（the traditional notion of literacy），包括基本的识字拼写能力；第二个层次是技术层次上的，即电脑素养（computer literacy），包括能熟练使用计算机，能用计算机进行远程交流，掌握相关的信息技术；第三个层次是所谓的媒体素养（media literacy），包括与各种传统信息媒体有关的素养；第四个层次网络素养（network literacy），指在网络环境下应该具备的各种能力 。应该说这个模式对我们进行技能考核与培训有相当大的参考价值，当然，针对具体的服务环境其中的几个层次的内容还需要进行细化分析，这也是适应环境因素的策略选择制定的基本任务。对内部环境要素的分析可以基本确定是否能开展数字信息服务、能进行哪些方面的服务、能达到什么样的服务层次。但是这些还需要结合对于外部环境的分析才可能有一个最终的判断。外部环境涉及的面相对来说更加宽泛，需要更加综合性的分析。Sue Roberts &amp; Jennifer Rowley在《Managing Information Services》一书中提出了一个非常实用的用于分析外部环境的PESTEL模型值得我们参考。所谓PESTEL即是分别包含Political、Economic、Social、Technological、Environmental、Legal等六个要素的分析模型，每个要素下又包括一些具体的内容，见表7-1 。
	要素	具体内容

P	
政治要素
(Political factor)	对图书馆的相关政策
		高等教育的相关政策
		高等教育、继续教育中学生增长的数量
		政府和机构对于“免费”用户的控制

E	
经济要素
(Economic factor)	收入和消费模式的变化
		期刊的订购率
		图书的价格
		数据库和电子期刊的认证费用



S	

社会要素
(Social factor)	目标用户的年龄分布
		教育水平的变化
		家庭结构的变化
		关于种族、性别、残疾人等的多样性
		个人与社会关系上观念的变化
		音乐、戏剧、文学等表现出的文化多样性

T	技术要素
(Technological factor)	通信标准
		新的软件产品（新的搜索引擎技术）
		通信领域的创新（数字电视、移动通信）

E	环境要素
(Environmental factor)	可持续发展规划
		自然资源的供给与消费


L	
法律要素
(Legal factor)	健康、安全方面的立法
		图书馆法
		劳工法
		版权相关的立法
		数据库数据下载的相关协议
表7-1 PESTEL环境分析模型（资料来源：Sue Roberts &amp; Jennifer Rowley2004  ）
PESTEL模型应该说比较全面地概括了在外部环境分析中需要探讨的方面，我们当然需要根据具体的环境对其具体内容部分做出相应的调整，但是总体的思维框架还是可以借鉴的。例如在法律要素中对于版权相关的立法，在Web2.0的网络环境中，我们除了要考虑传统的各类知识产权法律、数字千年版权法等内容外，还应该对基于Web2.0共享共用理念而出现的创作共用协议（Creative Commons）给予相当的关注 ，所谓创作共用是指一种网络上的数字作品（文学、美术、音乐等）许可授权机制，它致力于让任何创造性作品都有机会被更多人分享和再创造，共同促进人类知识作品在其生命周期内产生最大价值。它由CreativeCommons.org发起，并在全球越来越多地区被广泛采纳，在中文领域的授权机构是CNBlog.org，在2003年11月就已经在中国上海发布了中文版“创作共用”协议项目，现在网络上越来越多的数字信息内容都申明是基于CC协议在互联网上传播交流的。因为在现有的版权体制下，越来越多的人们开始意识到自己并非需要保留所有权利，相反他们更愿意选择“保留部分权利”(Some Rights Reserved)或“不保留权利”(No Rights Reserved)。他们更多的是希望自己的原创信息能够为更多的人所了解、认同。CC协议提供了4个最常见的授权选择的组合方式，任何作品都可以通过选择这些组合声明自己的作品授权，这样就构成了从“松”到“紧”的授权限制，给作品的创造者更加灵活便利的选择，为网络上的数字作品提供了新的“护身符”。这四种方式分别是：A署名。即你允许别人拷贝、分发、呈现和表演属于你版权的作品，或者基于该作品的派生作品，但是条件是他们必须提供你的名字。B非商业用途。即你允许别人拷贝、分发、呈现和表演属于你版权的作品，或者基于该作品的派生作品， 但是条件是只能用于非商业目的。C禁止派生作品。即你允许别人拷贝、分发、呈现和表演属于你版权的作品，但是只能原封不动，不能是派生改动过的作品。D保持一致。即你允许别人分发基于你作品的派生作品，但是条件是必须提供和你的作品许可协议相同的许可协议。另外，在法律要素中还要注意追踪立法方面最新的发展情况，比如国内2006年5月29日公布的将于7月1日正是实施的《信息网络传播权保护条例》 就需要开展数字信息服务的人员进行深入的研读与理解，因为这是一份将影响到数字信息服务领域相关部门许多切身利益的文件，其重要性不言而喻。
环境因素本身就是处在一个不断发展变化的状态中，数字信息服务所面临的环境变化由于其特殊性显得更加的显著，在策略制定与选择中全面考察各种环境影响要素及其相互关系是策略有效运行的保障。
</pre>
</div>
<div title="7.4信息工作者" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="064b0cf5fb083f5a6a9ff79878bd6401ca7606a4" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/7.4%E4%BF%A1%E6%81%AF%E5%B7%A5%E4%BD%9C%E8%80%85/1188295:0caad5d9cdc246f692a0284c517d63aacf0bed8c&quot;" server.page.revision="1188295" server.title="7.4信息工作者">
<pre>*首先[[关注''企业信息管理师''的资格考试|企业信息管理师前景与现状.pdf]]
*信息工作者与知识工作者。
&gt;知识工作者概念的提出
&gt;&gt;知识工作者（knowledge worker）是靠开发或使用知识谋生的人。知识工作者这个词在1959年首次出现在Peter Drucker的《Landmarks of Tomorrow》一书中，彼得‧杜拉克（peter drucker）认为，知识与知识的操纵已经变成商品化，而且成为经济系统之中主要商业活动，而该经济系统的参与者，称之为知识工作者；与此相反的是工业时代的工作者，他们主要的职责是生产有形的物体。它包括那些信息工作领域的工作者，例如程序员、系统分析师、技术作者、学术教授、研究员等等。这个词还常常包括信息技术以外的人，例如律师、教师、各种科学家，同时还包括各种学生。
&gt;知识管理工作者的方法，比如[[LAMDA|data/20101208165439/index.html]]</pre>
</div>
<div title="@heye" creator="inforabbi" modifier="inforabbi" created="201509131528" modified="201509131528" tags="follow" _hash="ff14a0409e4efd4ffcdb7fb1c42308603d3486b1" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%40heye/2334590:6ca78380682126396072837e59c0d28125c2639a&quot;" server.page.revision="2334590" server.title="@heye">
<pre>Type the text for 'New Tiddler'</pre>
</div>
<div title="@liuchaowang" creator="inforabbi" modifier="inforabbi" created="201509131507" modified="201509131507" tags="follow" _hash="ff14a0409e4efd4ffcdb7fb1c42308603d3486b1" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%40liuchaowang/2334547:30e5550ce8eae0e04bd866d469e9330c8b3f4420&quot;" server.page.revision="2334547" server.title="@liuchaowang">
<pre>Type the text for 'New Tiddler'</pre>
</div>
<div title="Activity" creator="jon" modifier="jon" created="201009231056" modified="201106141127" tags="excludeLists" _hash="2ca7e9ec2f6a063e9966ea4b2b4a89e58d32129b" server.content-type="" server.permissions="read" server.bag="following_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/following_public" server.etag="&quot;following_public/Activity/70863:4eff54e94fa354512eeb52733c361a6d92c63563&quot;" server.page.revision="70863" server.title="Activity">
<pre>[[Replies and Notifications]]

&lt;&lt;activity&gt;&gt;</pre>
</div>
<div title="ActivityStreamPlugin" creator="jon" modifier="jon" created="201009171107" modified="201104121005" tags="excludeLists systemConfig" _hash="e8e570ecad97ac7a02a41323272d6a5e1e7bb963" server.content-type="" server.permissions="read" server.bag="following_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/following_public" server.etag="&quot;following_public/ActivityStreamPlugin/70970:7c6845fc9e675646cfdef889ddcd4c971fd7d5d4&quot;" server.page.revision="70970" server.title="ActivityStreamPlugin">
<pre>/***
|''Name''|ActivityStreamPlugin|
|''Version''|0.5.4|
|''Description''|Provides a following macro|
|''Author''|Jon Robson|
|''Requires''|TiddlySpaceFollowingPlugin|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''Source''|https://github.com/jdlrobson/TiddlyWiki/raw/master/plugins/TiddlySpaceInstaller/ActivityStreamPlugin.js|
!Usage
{{{&lt;&lt;activity&gt;&gt;}}}
!!Supressing activity
You can supress notifications by  id:
&quot;plugin&quot;, &quot;shadow&quot;, &quot;standard&quot;, &quot;follow&quot;, &quot;followYou&quot;, &quot;siteInfo&quot;, &quot;siteIcon&quot;, &quot;ownSiteIcon&quot;, &quot;notify&quot;, &quot;reply&quot;
e.g. {{{ &lt;&lt;activity supress:siteIcon&gt;&gt; }}} will hide siteIcon activity from you.

!!Supressing people
{{{&lt;&lt;activity ignore:person}}} will ignore all activity where person is the subject of the activity. eg. person followed other-person will not appear in the feed.
!!Controlling displayed dates.
{{{&lt;&lt;activity timestampFormat:&quot;&lt;0hh o' clock&gt;&quot; headingFormat:&quot;0DD/0MM&quot; &gt;&gt;}}} will display date headings as date/month eg.
3rd of January would be displayed as 03/01. This particular timestamp example gives you the hour of the activity.

!!Even more content
{{{&lt;&lt;activity limit:no&gt;&gt;}}} will show you all possible activity in the last X days where X is set at a macro level (advanced developers should see config.macros.activity.RECENTNESS).
!StyleSheet

.activityStream .externalImage, .activityStream .image {
	display: inline;
}

.feedItem .siteIcon {
	display: inline;
}

.activityStream .error {
	background-color: red;
	color: white;
	font-weight: bold;
}

.activityStream .feedItem {
list-style: none;
}

.activityStream .notification {
	background-color: yellow;
	color: black;
}

.activityStream .activityGroupTitle {
	font-weight: bold;
	margin-top: 8px;
}
.activityStream .feedItem {
	margin-left: 8px;
}
!Code
***/
//{{{
(function($) {
var name = &quot;StyleSheetActivityStream&quot;;
config.shadowTiddlers[name] = store.getTiddlerText(tiddler.title +
     &quot;##StyleSheet&quot;);
store.addNotification(name, refreshStyles);

var followMacro = config.macros.followTiddlers;
var tweb = config.extensions.tiddlyweb;
var tiddlyspace = config.extensions.tiddlyspace;
var scanMacro = config.macros.tsScan;

var modifierSpaceLink = &quot;&lt;&lt;view modifier spaceLink&gt;&gt;&quot;;
var spaceTiddlyLink = &quot;&lt;&lt;view server.bag spaceLink server.title&gt;&gt;&quot;;
var bagSpaceLink = &quot;&lt;&lt;view server.bag spaceLink&gt;&gt;&quot;;
var bagSiteIcon = &quot;&lt;&lt;view server.bag SiteIcon width:24 height:24 label:no preserveAspectRatio:yes&gt;&gt;&quot;;
var modifierSiteIcon = &quot;&lt;&lt;view modifier SiteIcon width:24 height:24 label:no preserveAspectRatio:yes&gt;&gt;&quot;;
var timestamp = &quot;[&lt;&lt;view modified date '0hh:0mm'&gt;&gt;]&quot;;
var replyLink = &quot;&lt;&lt;view server.title replyLink&gt;&gt;&quot;;
config.shadowTiddlers.ActivityStreamTemplates = [
	&quot;!notify\n%3 {{notification{%0 %1 has modified %2 in %0 %1 and flagged it for your attention!}}} %8\n&quot;,
	&quot;!reply\n%3 {{notification{%0 %1 replied with %2 to your %4 %5 post.}}} %8\n&quot;,
	&quot;!userSiteIcon\n%3 %6 %7 has a new ~SiteIcon.\n&quot;,
	&quot;!spaceSiteIcon\n%3 %6 %7 updated the SiteIcon for the %0 %1 space.\n&quot;,
	&quot;!image\n%3 %6 %7 drew the image %2 in the %1 space.\n&quot;,
	&quot;!plugin\n%3 %6 %7 modified a plugin called %2 in the %0 %1 space.\n&quot;,
	&quot;!shadow\n%3 %6 %7 modified a shadow tiddler %2 in the %0 %1 space.\n&quot;,
	&quot;!geo\n%3 %6 %7 modified a geo tiddler called %2 in the %0 %1 space &lt;&lt;view title maplink 'view on map'&gt;&gt;. %8\n&quot;,
	&quot;!followYou\n%3 %0 %1 is now following you.\n&quot;,
	&quot;!follow\n%3 %0 %1 is now following %4 %5 &lt;&lt;view server.title link follow&gt;&gt;\n&quot;,
	&quot;!siteInfo\n%3 %6 %7 &lt;&lt;view server.bag spaceLink server.title label:described&gt;&gt; the %0 %1 space.\n&quot;,
	&quot;!video\n%3 %6 %7 modified a video entitled %2 in the %0 %1 space. %8\n&quot;,
	&quot;!standard\n%3 %6 %7 modified %2 in the %0 %1 space. %8\n&quot;
	].join(&quot;&quot;).format(bagSiteIcon, bagSpaceLink, spaceTiddlyLink, timestamp,
		&quot;&lt;&lt;view server.title SiteIcon width:24 height:24 label:no preserveAspectRatio:yes&gt;&gt;&quot;, &quot;&lt;&lt;view server.title spaceLink&gt;&gt;&quot;,
		modifierSiteIcon, modifierSpaceLink, replyLink);
story.refreshTiddler(&quot;ActivityStreamTemplates&quot;, null, true);
config.annotations.ActivityStreamTemplates = &quot;This is a special tiddler used by the ActivityStreamPlugin. It is used for templating notifications. Templates at the top have preference over templates at the bottom.&quot;;

var macro = config.macros.activity = {
	default_limit: 50,
	templates: [],
	init: function() {
		var templates = [];
		var regex = new RegExp(/^!(.*)\n/gm);
		var text = store.getTiddlerText(&quot;ActivityStreamTemplates&quot;);
		var match = regex.exec(text);
		while(match) {
			templates.push(match[1]);
			match = regex.exec(text);
		}
		macro.templates = templates;
	},
	// order matters - earlier templates override older ones
	RECENTNESS: 2, // in days
	TIMESTAMP_FORMAT: &quot;&lt;0hh:0mm&gt;&quot;,
	info: {},
	locale: {
		pleaseWait: &quot;please wait while we load your stream...&quot;,
		errorLoading: &quot;The activity stream failed to load. Please make sure you have an internet connection and try again.&quot;,
		userHeading: &quot;Below is the activity stream for spaces that this space follows with the follow tag. (%0/%1 spaces have been loaded)&quot;,
		emptyStream: &quot;Activity stream currently empty. (%0/%1 loaded)&quot;
	},
	getTimeStamp: function() {
		var today = new Date();
		macro._lastRun = today.getTime();
		var previous = new Date(today.setDate(today.getDate() - macro.RECENTNESS));
		return previous.convertToYYYYMMDDHHMM();
	},
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		var container = $(&quot;&lt;div /&gt;&quot;).text(macro.locale.pleaseWait).appendTo(place).
			attr(&quot;refresh&quot;, &quot;macro&quot;).attr(&quot;macroName&quot;, macroName).attr(&quot;paramString&quot;, paramString);
		var space = tiddlyspace.currentSpace.name;
		var options = macro.getOptions(paramString);
		$(container).attr(&quot;activity-limit&quot;, options.limit);
		macro._session = Math.random();
		var activityType;
		var sourceActivity = function(user) {
			macro.CURRENT_USER = user.name;
			macro.USER_AT_TAG = &quot;@%0&quot;.format(user.name);
			followMacro.getFollowers(function(users) {
				macro.getActivity(container, users, activityType, options);
			}, macro.CURRENT_USER);
			container.attr(&quot;activity-type&quot;, activityType);
			macro._renderStream(container, activityType, options);
		};

		if(options.user) {
			sourceActivity({name: options.user});
		} else {
			sourceActivity({ name: tiddlyspace.currentSpace.name });
		}
	},
	getOptions: function(paramString) {
		var options = {};
		var args = paramString.parseParams(&quot;name&quot;)[0];
		var toMap = [&quot;timestampFormat&quot;, &quot;headingFormat&quot;, &quot;limit&quot;, &quot;user&quot;];
		var i;
		for(i = 0; i &lt; toMap.length; i++) {
			var map = toMap[i];
			options[map] = args[map] ? args[map][0] : false;
		}
		var supress = args.supress || [];
		var templates = [];
		var show = args.show ? args.show : macro.templates;
		for(i = 0; i &lt; show.length; i++) {
			var template = show[i];
			if(supress.indexOf(template) === -1) {
				templates.push(template);
			}
		}
		options.ignore = args.ignore || [];
		options.templates = templates;
		return options;
	},
	_getActivityQuery: function(user, timestamp) {
		timestamp = timestamp || macro.getTimeStamp();
		if(user) {
			return &quot;/bags/%0_public/tiddlers?select=modified:&gt;%1&quot;.format(user, timestamp);
		} else {
			return false;
		}
	},
	refresh: function(container) {
		var type = $(container).attr(&quot;activity-type&quot;);
		var limit = $(container).attr(&quot;activity-limit&quot;);
		var options = macro.getOptions($(container).attr(&quot;paramString&quot;));
		options.limit = parseInt(limit, 10);
		macro.renderStream(container, type, options);
	},
	getActivity: function(place, users, type, options) {
		var i;
		var timestamp = macro.activityTimestamp;
		var firstRun =  timestamp ? false : true;
		macro.info.loaded = firstRun ? 0 : macro.info.loaded;
		var afterAjax = function(tiddlers) {
			if(firstRun) {
				macro.info.loaded += 1;
			}
			macro.updateStream(tiddlers, type, options);
			macro.renderStream(place, type, options);
		};
		var success = function(tiddlers) {
			afterAjax(tiddlers);
		};
		var error = function() {
			afterAjax([]);
		};
		if(macro._lastRun &gt; new Date().getTime() - 300000) { // leave 5 minutes between calls
			afterAjax([]);
			return;
		}
		macro.info.queries = users.length;
		for(i = 0; i &lt; users.length; i++) {
			var user = users[i];
			ajaxReq({
				url: macro._getActivityQuery(user, timestamp),
				dataType: &quot;json&quot;, success: success, error: error
			});
		}
		macro.activityTimestamp = new Date().convertToYYYYMMDDHHMM();
	},
	reportError: function(place) {
		var error = $(&quot;&lt;div /&gt;&quot;).addClass(&quot;error&quot;).text(locale.errorLoading);
		$(place).empty().append(error);
	},
	createFeedEntry: function(container, tiddler, options) {
		var item = $(&quot;&lt;li /&gt;&quot;).addClass(&quot;feedItem&quot;);
		var content = $(&quot;&lt;div /&gt;&quot;).appendTo(item);
		var wikifyPlace = $(&quot;&lt;span /&gt;&quot;).appendTo(content)[0];
		var author = tiddler.modifier;
		if(author &amp;&amp; !options.ignore.contains(author)) {
			$(container).append(item);
			config.macros.view.views.activityItem(null, wikifyPlace, null, null, null, tiddler);
			return item;
		}
		return false;
	},
	renderStream: function(place, type, options) {
		window.clearTimeout(macro._renderTimeout);
		macro._renderTimeout = window.setTimeout(function() {
			macro._renderStream(place, type, options);
		}, 100);
	},
	_renderStream: function(place, type, options) {
		$(place).empty();
		var limit = options.limit;
		var container = $(&quot;&lt;ul /&gt;&quot;).addClass(&quot;activityStream&quot;).appendTo(place);
		var textHeading = macro.locale.userHeading.format(macro.info.loaded, macro.info.queries);
		$(&quot;&lt;li /&gt;&quot;).addClass(&quot;listTitle&quot;).text(textHeading).appendTo(container);
		var tiddlers = store.sortTiddlers(store.filterTiddlers(&quot;[server.activity[true]]&quot;), &quot;-modified&quot;); // TODO: sort headings instead if possible (conflicts with limit)
		var headings = [];
		var groups = {};
		var processed = 0, i, j;
		var atEndOfActivityFeed = true;
		for(i = 0; i &lt; tiddlers.length; i++) {
			var tiddler = tiddlers[i];
			if(options.templates.contains(tiddler.fields[&quot;server.activity.type&quot;])) {
				if(!limit || processed &lt; limit) {
					var modified = tiddler.modified;
					if(modified) {
						// format date.
						var modifiedString = modified.formatString(options.headingFormat || config.macros.timeline.dateFormat);
						if(headings.contains(modifiedString)) {
							groups[modifiedString].push(tiddler);
						} else {
							headings.push(modifiedString);
							groups[modifiedString] = [ tiddler ];
						}
					}
					processed += 1;
				} else {
					atEndOfActivityFeed = false;
				}
			}
		}
		var somethingRendered;
		for(i = 0; i &lt; headings.length; i++) {
			var heading = headings[i];
			var _tiddlers = store.sortTiddlers(groups[heading], &quot;-modified&quot;);
			var headingEl;
			if(_tiddlers.length &gt; 0) {
				headingEl = $(&quot;&lt;li /&gt;&quot;).addClass(&quot;listTitle activityGroupTitle&quot;).text(heading).appendTo(container);
			}
			var rendered = [];
			for(j = 0; j &lt; _tiddlers.length; j++) {
				var item = macro.createFeedEntry(container, _tiddlers[j], options);
				if(item) {
					rendered.push(item);
				}
			}
			if(rendered.length === 0) {
				headingEl.remove();
			} else {
				somethingRendered = true;
			}
		}
		if(!somethingRendered) {
			var msg;
			if(macro.gotActivity) { // it has been run before
				msg = macro.locale.emptyStream.format(macro.info.loaded, macro.info.queries);
			} else {
				msg = macro.locale.pleaseWait;
			}
			$(container).text(msg);
		}
		if(!atEndOfActivityFeed) { // show more button
			$(&quot;&lt;input /&gt;&quot;).attr(&quot;type&quot;, &quot;button&quot;).val(&quot;more&quot;).click(function(ev) {
				var currentLimit = $(place).attr(&quot;activity-limit&quot;);
				var newLimit = parseInt(currentLimit, 10) + 50;
				macro.default_limit = newLimit;
				$(place).attr(&quot;activity-limit&quot;, newLimit);
				macro.refresh(place);
			}).appendTo(place);
		}
		this.gotActivity = true;
	},
	updateStream: function(jstiddlers, type, options) {
		// assume already sorted.
		var tiddlers = scanMacro._tiddlerfy(jstiddlers, options);
		var _dirty = store.isDirty();
		$.each(tiddlers, function(i, tid) {
			var info = config.macros.view.activity.getActivityInfo(tid, options);
			tid.fields[&quot;server.activity.type&quot;] = info.type;
			tid.fields[&quot;server.activity&quot;] = &quot;true&quot;;
			if(!tid.tags.contains(&quot;excludeLists&quot;)) {
				tid.title = tiddlyspace.getLocalTitle(tid.title, tid.fields[&quot;server.workspace&quot;]);
				tid.tags = tid.tags.concat([&quot;excludeLists&quot;, &quot;excludeMissing&quot;, &quot;excludeSearch&quot;]);
				tid.fields.doNotSave = &quot;true&quot;;
				store.addTiddler(tid); // save caused unsaved changes alert and slowdown
			}
		});
		store.setDirty(_dirty);
	}
};

config.macros.view.views.activityItem = function(value, place, params, wikifier,
	paramString, tiddler) {
	var info = config.macros.view.activity.getActivityInfo(tiddler, {});
	wikify(info.template, place, null, tiddler);
};

var helper = config.macros.view.activity = {
	_isNotification: function(tiddler) {
		return tiddler.tags.contains(macro.USER_AT_TAG) || tiddler.tags.contains(&quot;@all&quot;);
	},
	_repliesOn: function() {
		return tiddlyspace.currentSpace.name === macro.CURRENT_USER;
	},
	types: {
		video: function(tiddler) {
			return tiddler.tags.contains(&quot;video&quot;);
		},
		geo: function(tiddler) {
			return tiddler.fields[&quot;geo.lat&quot;] &amp;&amp; tiddler.fields[&quot;geo.long&quot;];
		},
		siteInfo: function(tiddler) {
			var title = tiddler.fields[&quot;server.title&quot;];
			return title === &quot;SiteInfo&quot;;
		},
		userSiteIcon: function(tiddler) {
			var modifierBag = &quot;%0_public&quot;.format(tiddler.modifier);
			var title = tiddler.fields[&quot;server.title&quot;];
			return title === &quot;SiteIcon&quot; &amp;&amp; modifierBag === tiddler.fields[&quot;server.bag&quot;];
		},
		spaceSiteIcon: function(tiddler) {
			var title = tiddler.fields[&quot;server.title&quot;];
			return title === &quot;SiteIcon&quot;; // note userSiteIcon above does the bag check
		},
		shadow: function(tiddler) {
			var title = tiddler.fields[&quot;server.title&quot;];
			return title in config.shadowTiddlers;
		},
		plugin: function(tiddler) {
			return tiddler.tags.contains(&quot;systemConfig&quot;);
		},
		followYou: function(tiddler) {
			var title = tiddler.fields[&quot;server.title&quot;];
			title = title.indexOf(&quot;@&quot;) === 0 ? title.substr(1) : title;
			return tiddler.tags.contains(&quot;follow&quot;) &amp;&amp; title === macro.USER_AT_TAG;
		},
		follow: function(tiddler) {
			return tiddler.tags.contains(&quot;follow&quot;);
		},
		reply: function(tiddler) {
			var title = tiddler.fields[&quot;server.title&quot;];
			var myTiddler = store.getTiddler(tiddler.title);
			var myTiddlerIsOlder = myTiddler &amp;&amp; myTiddler.modified &lt; tiddler.modified;
			return store.tiddlerExists(title) &amp;&amp; myTiddlerIsOlder &amp;&amp; helper._repliesOn(tiddler);
		},
		notify: function(tiddler) {
			var title = tiddler.fields[&quot;server.title&quot;];
			var myTiddler = store.getTiddler(title);
			var myTiddlerIsNewer = myTiddler &amp;&amp; myTiddler.modified &gt; tiddler.modified;
			return helper._isNotification(tiddler) &amp;&amp; helper._repliesOn(tiddler) &amp;&amp; !myTiddlerIsNewer;
		},
		standard: function(tiddler) {
			return true;
		},
		image: function(tiddler) {
			return config.macros.image.isImageTiddler(tiddler);
		}
	},
	// each type should point to a slice in ActivityStreamTemplates tiddler
	getActivityInfo: function(tiddler, options) {
		var repliesOn = tiddlyspace.currentSpace.name === macro.CURRENT_USER;
		var activityType, i;
		if(tiddler) {
			for(i = 0; i &lt; macro.templates.length; i++) {
				var type = macro.templates[i];
				if(!activityType &amp;&amp; helper.types[type]) {
					if(helper.types[type](tiddler)) {
						activityType = type;
					}
				}
			}
		}
		template = store.getTiddlerText(&quot;ActivityStreamTemplates##&quot; + activityType) || locale.standardTemplate;
		return activityType ? { template: template, type: activityType } : false;
	}
};

config.macros.view.views.link = function(value, place, params, wikifier,
		paramString, tiddler) {
		var el = createTiddlyLink(place,value,true);
		if(params[2]) {
			$(el).text(params[2]);
		}
};

config.macros.view.views.maplink = function(value, place, params, wikifier,
		paramString, tiddler) {
		var lat = tiddler.fields[&quot;geo.lat&quot;];
		var lng = tiddler.fields[&quot;geo.long&quot;];
		var label  = params[2] || value;
		if(lat &amp;&amp; lng) {
			$(&quot;&lt;a /&gt;&quot;).attr(&quot;href&quot;, &quot;http://maps.google.com/maps?saddr=%0,%1&quot;.format(lat, lng)).text(label).appendTo(place);
		}
};

var _displayS = tiddlyspace.displayServerTiddler;
tiddlyspace.displayServerTiddler = function(src, title, workspace, callback) {
	var localTitle = tiddlyspace.getLocalTitle(title, workspace);
	var localTiddler = store.getTiddler(localTitle);

	var _callback = function(src, tiddler) {
		if(callback) {
			callback(src, tiddler);
		}
		if(localTiddler) {
			tiddler.fields[&quot;server.activity&quot;] = &quot;true&quot;;
			tiddler.fields[&quot;server.activity.type&quot;] = localTiddler.fields[&quot;server.activity.type&quot;];
		}
	};
	return _displayS.apply(this, [ src, title, workspace, _callback ]);
};
}(jQuery));
//}}}</pre>
</div>
<div title="Ambient Findability" creator="inforabbi" modifier="inforabbi" created="201312111644" modified="201312120125" _hash="53fd2bbb3e6af248c620bc62e564facb8d99a1e9" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/Ambient%20Findability/1591654:816715f443448b19a1124fdc25e2d2c609ca9f5d&quot;" server.page.revision="1591654" server.title="Ambient Findability">
<pre>[img[http://inforabbi.opendrive.com/files/Ml8zNjIxNzk3OF9xdHdSNw/b65a3636ab264cb4878e908504a9b916.jpg]]
[[原版（chm版）|http://inforabbi.opendrive.com/files/Ml8zNjIwMjM5MF9ONndVZw/Ambient.Findability.rar]]
[[中文简体版|http://www.amazon.cn/%E9%9A%8F%E6%84%8F%E6%90%9C%E5%AF%BB-Peter-Morville/dp/B00FXIEAXW/ref=sr_1_1?ie=UTF8&amp;qid=1386778328&amp;sr=8-1&amp;keywords=%E9%9A%8F%E6%84%8F%E6%90%9C%E5%AF%BB]]
[[台版译者的简体版前言]]
[[作者Peter Morville]]</pre>
</div>
<div title="B-B和B-C价值链" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="fc4309dfb9410c80417b4f882f53f236c80e5e3f" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/B-B%E5%92%8CB-C%E4%BB%B7%E5%80%BC%E9%93%BE/1188298:a2506de8d84ab172fcd2582fad15e1f6bc5dcb58&quot;" server.page.revision="1188298" server.title="B-B和B-C价值链">
<pre>[img[B-B和B-C价值链|2009-08-23_153901.png]]</pre>
</div>
<div title="Backstage" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeMissing excludeSearch" _hash="374716f48c21298abb095093dce2176965648975" server.content-type="" server.permissions="read" server.bag="tiddlyspace" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" server.etag="&quot;tiddlyspace/Backstage/1521902:8a4d8a5d6aed51da92bb04f1e03aca9405ab08d3&quot;" server.page.revision="1521902" server.title="Backstage">
<pre>!SpaceUnplugged
{{unpluggedSpaceTab{
{{wizard{
&lt;&lt;image unsyncedIcon width:48&gt;&gt; Sync is currently unavailable in ~TiddlyWiki due to security constraints in modern browsers. Research is being done to build a suitable alternative. In the meantime if you have changed content in an offline ~TiddlyWiki, you can get your content back into ~TiddlySpace by using the ''import'' functionality from the backstage of the online wiki.
}}}
}}}

!Menu
&lt;&lt;message messages.memberStatus&gt;&gt; &lt;&lt;homeLink&gt;&gt;
{{unsyncedList{&lt;&lt;message messages.syncListHeading&gt;&gt; &lt;&lt;list filter [is[unsynced]]&gt;&gt;}}}

running TiddlySpace@glossary version &lt;&lt;message extensions.tiddlyweb.status.tiddlyspace_version&gt;&gt;
{{autotable{
&lt;&lt;tiddler Backstage##Resources&gt;&gt;
}}}

!Resources
[[blog|@@blog]] [[documentation|@@docs]] [[featured spaces|@@featured]] 

!ImportExport
&lt;&lt;fileImport&gt;&gt;
You can download this TiddlySpace as an offline TiddlyWiki:

{{chunkyButton{&lt;&lt;exportSpace&gt;&gt;}}}

!BackstageTiddlers
|upload a &lt;&lt;message messages.privacySetting&gt;&gt; file: &lt;&lt;binaryUpload&gt;&gt;|&lt;&lt;closeAll&gt;&gt;&lt;&lt;permaview&gt;&gt;&lt;&lt;newTiddler&gt;&gt;&lt;&lt;newJournal &quot;DD MMM YYYY&quot; &quot;journal&quot;&gt;&gt;&lt;&lt;saveChanges&gt;&gt;|
|&gt;|&lt;&lt;search&gt;&gt;|
|&gt;|&lt;&lt;tiddler Backstage##Tiddlers&gt;&gt;|

!Tiddlers
&lt;&lt;tabs
	txtMainTab
	&quot;Recent&quot; &quot;Recently edited tiddlers&quot; TabTimeline
	&quot;All&quot; &quot;All tiddlers&quot; TabAll
	&quot;Public&quot; &quot;All public tiddlers&quot; [[TiddlySpaceTabs##Public]]
	&quot;Private&quot; &quot;All private tiddlers&quot; [[TiddlySpaceTabs##Private]]
	&quot;Tags&quot; &quot;All tags&quot; TabTags
	&quot;Spaces&quot; &quot;Tiddlers grouped by space&quot; [[TiddlySpaceTabs##Spaces]]
	&quot;Missing&quot; &quot;Missing tiddlers&quot; TabMoreMissing
	&quot;Orphans&quot; &quot;Orphaned tiddlers&quot; TabMoreOrphans
	&quot;Shadows&quot; &quot;Shadowed tiddlers&quot; TabMoreShadowed
&gt;&gt;

!BatchOps
&lt;&lt;tabs
	txtPublisherTab
	&quot;Private&quot; &quot;Move tiddlers from private to public&quot; Backstage##BatchPrivate
	&quot;Public&quot; &quot;Move tiddlers from public to private&quot; Backstage##BatchPublic
&gt;&gt;

!BatchPrivate
&lt;&lt;TiddlySpacePublisher type:private&gt;&gt;

!BatchPublic
&lt;&lt;TiddlySpacePublisher type:public&gt;&gt;

!Plugins
''Note:'' Many of these plugins are core TiddlySpace plugins and cannot be changed unless first cloned.

&lt;&lt;tiddler PluginManager&gt;&gt;

!Tweaks
These options change behavior in TiddlyWiki //only// and may be ineffective in TiddlySpace.

&lt;&lt;tiddler AdvancedOptions&gt;&gt;</pre>
</div>
<div title="BinaryTiddlersPlugin" creator="FND" modifier="FND" created="201309241804" modified="201309241804" tags="excludeLists excludeSearch systemConfig" _hash="bb40914e9b2e79bd868d4c824ef8e42e617f4309" server.content-type="text/javascript" server.permissions="read" server.bag="system" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system" server.etag="&quot;system/BinaryTiddlersPlugin/1521855:6c088413bd264d0fd8f727e8714047032b763acc&quot;" server.page.revision="1521855" server.title="BinaryTiddlersPlugin">
<pre>/***
|''Name''|BinaryTiddlersPlugin|
|''Description''|renders base64-encoded binary tiddlers as images or links|
|''Author''|FND|
|''Version''|0.3.2|
|''Status''|@@beta@@|
|''Source''|http://svn.tiddlywiki.org/Trunk/association/plugins/BinaryTiddlersPlugin.js|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''CoreVersion''|2.5|
!Code
***/
//{{{
(function($) {

&quot;use strict&quot;;

var ctfield = &quot;server.content-type&quot;;

var plugin = config.extensions.BinaryTiddlersPlugin = {
	isWikiText: function(tiddler) {
		var ctype = tiddler.fields[ctfield];
		if(ctype) {
			if (ctype === 'text/x-tiddlywiki') {
				return true;
			}
			return !this.isBinary(tiddler) &amp;&amp; !this.isTextual(ctype);
		} else {
			return true;
		}
	},
	// NB: pseudo-binaries are considered non-binary here
	isBinary: function(tiddler) {
		var ctype = tiddler.fields[ctfield];
		return ctype ? !this.isTextual(ctype) : false;
	},
	isTextual: function(ctype) {
		return ctype.indexOf(&quot;text/&quot;) === 0
			|| this.endsWith(ctype, &quot;+xml&quot;)
			|| ctype === 'application/json'
			|| ctype === 'application/javascript';
	},
	endsWith: function(str, suffix) {
		return str.length &gt;= suffix.length &amp;&amp;
			str.substr(str.length - suffix.length) === suffix;
	},
	isLink: function(tiddler) {
		return this.isBinary(tiddler) &amp;&amp; tiddler.text.indexOf(&quot;&lt;html&gt;&quot;) !== -1;
	}
};

// Disable edit for linked tiddlers (for now)
// This will be changed to a GET then PUT
config.commands.editTiddler.isEnabled = function(tiddler) {
    var existingTest = config.commands.editTiddler.isEnabled;
    if (existingTest) {
        return existingTest &amp;&amp; !plugin.isLink(tiddler);
    } else {
        return !plugin.isLink(tiddler);
    }
};

// hijack text viewer to add special handling for binary tiddlers
var _view = config.macros.view.views.wikified;
config.macros.view.views.wikified = function(value, place, params, wikifier,
		paramString, tiddler) {
	var ctype = tiddler.fields[&quot;server.content-type&quot;];
	if(params[0] === &quot;text&quot; &amp;&amp; ctype &amp;&amp; ctype !== 'text/x-tiddlywiki' &amp;&amp;
			!tiddler.tags.contains(&quot;systemConfig&quot;) &amp;&amp; !plugin.isLink(tiddler)) {
		var el;
		if(plugin.isBinary(tiddler)) {
			var uri = &quot;data:%0;base64,%1&quot;.format([ctype, tiddler.text]); // TODO: fallback for legacy browsers
			if(ctype.indexOf(&quot;image/&quot;) === 0) {
				el = $(&quot;&lt;img /&gt;&quot;).attr(&quot;alt&quot;, tiddler.title).attr(&quot;src&quot;, uri);
			} else {
				el = $(&quot;&lt;a /&gt;&quot;).attr(&quot;href&quot;, uri).text(tiddler.title);
			}
		} else {
			el = $(&quot;&lt;pre /&gt;&quot;).text(tiddler.text);
		}
		el.appendTo(place);
	} else {
		_view.apply(this, arguments);
	}
};

// hijack edit macro to disable editing of binary tiddlers' body
var _editHandler = config.macros.edit.handler;
config.macros.edit.handler = function(place, macroName, params, wikifier,
		paramString, tiddler) {
	if(params[0] === &quot;text&quot; &amp;&amp; plugin.isBinary(tiddler)) {
		return false;
	} else {
		_editHandler.apply(this, arguments);
	}
};

// hijack autoLinkWikiWords to ignore binary tiddlers
var _autoLink = Tiddler.prototype.autoLinkWikiWords;
Tiddler.prototype.autoLinkWikiWords = function() {
	return plugin.isWikiText(this) ? _autoLink.apply(this, arguments) : false;
};

}(jQuery));
//}}}</pre>
</div>
<div title="BinaryUploadPlugin" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch systemConfig" _hash="fa2a79fa940254cf1cdd7980c85b5efd0eff0ce5" server.content-type="text/javascript" server.permissions="read" server.bag="system-plugins_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-plugins_public" server.etag="&quot;system-plugins_public/BinaryUploadPlugin/1521860:73f0e3abec370e904da130c6372762e8c26979dc&quot;" server.page.revision="1521860" server.title="BinaryUploadPlugin">
<pre>/***
|''Name''|BinaryUploadPlugin|
|''Version''|0.3.16|
|''Author''|Ben Gillies and Jon Robson|
|''Type''|plugin|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/BinaryUploadPlugin.js|
|''Description''|Upload a binary file to TiddlyWeb|
|''CoreVersion''|2.6.1|
|''Requires''|TiddlySpaceConfig TiddlyWebConfig|
!Usage
{{{
&lt;&lt;binaryUpload bag:&lt;name&gt; edit:tags edit:title tags:&lt;default tags&gt; title:&lt;title&gt; &gt;&gt;
}}}
* {{{bag:&lt;name&gt;}}}: optional; if left out, the file will be saved to the current workspace
* {{{edit:tags}}}: specifies that you want to tag the file being uploaded
* {{{edit:title}}}: specifies that you want to set the title to something other than the filename
* {{{tags:&lt;default tags&gt;}}}: specifies a default set of tags to apply to the file (requires {{{edit:tags}}} to be set)
* {{{title:&lt;title&gt;}}}: predefines the title of the binary tiddler
!Requires
TiddlyWeb
tiddlywebplugins.form
!Code
***/
//{{{
(function($) {

var tiddlyspace = config.extensions.tiddlyspace;

var macro = config.macros.binaryUpload = {
	locale: {
		titleDefaultValue: &quot;Please enter a title...&quot;,
		tagsDefaultValue: &quot;Please enter some tags...&quot;,
		titlePrefix: &quot;title: &quot;,
		tagsPrefix: &quot;tags: &quot;,
		loadSuccess: 'Tiddler %0 successfully uploaded',
		loadError: &quot;An error occurred when uploading the tiddler %0&quot;,
		uploadInProgress: &quot;Please wait while the file is uploaded...&quot;,
		membersOnly: &quot;Only members can upload.&quot;
	},
	renderInputFields: function(container, options) {
		var locale = macro.locale;
		var editableFields = options.edit;
		var includeFields = {
			tags:  editableFields &amp;&amp; editableFields.contains(&quot;tags&quot;) ? true : false,
			title: editableFields &amp;&amp; editableFields.contains(&quot;title&quot;) ? true : false
		};
		var fields = [&quot;title&quot;, &quot;tags&quot;];
		for(var i = 0; i &lt; fields.length; i++) {
			var fieldName = fields[i];
			var userDefault = options[fieldName];
			var defaultValue = userDefault ? userDefault[0] : false;
			if(includeFields[fieldName] || defaultValue) {
				var localeDefault = locale[&quot;%0DefaultValue&quot;.format(fieldName)];
				var className = defaultValue ? &quot;userInput&quot; : &quot;userInput notEdited&quot;;
				var inputEl;
				var val = defaultValue || localeDefault || &quot;&quot;;
				var iContainer = $(&quot;&lt;div /&gt;&quot;).addClass(&quot;binaryUpload%0&quot;.format(fieldName)).
					appendTo(container);
				if(defaultValue &amp;&amp; !includeFields[fieldName]) {
					var label = locale[&quot;%0Prefix&quot;.format(fieldName)];
					$(&quot;&lt;span /&gt;&quot;).text(label).appendTo(iContainer);
					$(&quot;&lt;span /&gt;&quot;).addClass(&quot;disabledInput&quot;).text(val).appendTo(iContainer);
					inputEl = $(&quot;&lt;input /&gt;&quot;).attr(&quot;type&quot;, &quot;hidden&quot;);
				} else {
					inputEl = $(&quot;&lt;input /&gt;&quot;).attr(&quot;type&quot;, &quot;text&quot;);
				}
				inputEl.attr(&quot;name&quot;, fieldName).
					addClass(&quot;%0Edit&quot;.format(fieldName)).
					val(val).addClass(className).appendTo(iContainer);
			}
		}
	},
	getTiddlerName: function(fileName) {
		var fStart = fileName.lastIndexOf(&quot;\\&quot;);
		var fStart2 = fileName.lastIndexOf(&quot;/&quot;);
		fStart = fStart &lt; fStart2 ? fStart2 : fStart;
		fileName = fileName.substr(fStart+1);
		return fileName;
	},
	errorHandler: function(fileName) {
		displayMessage(&quot;upload of file %0 failed&quot;.format(fileName));
	},
	uploadFile: function(place, baseURL, workspace, options) {
		var pleaseWait = $(&quot;.uploadProgress&quot;, place);
		var iframeName = options.target;
		var form = $(&quot;form&quot;, place);
		var existingVal = $(&quot;input[name=title]&quot;, form).val();
		var fileName = existingVal || $('input:file', form).val();
		if(!fileName) {
			return false; // the user hasn't selected a file yet
		}
		fileName = macro.getTiddlerName(fileName);
		$(&quot;input[name=title]&quot;, place).val(fileName);
		// we need to go somewhere afterwards to ensure the onload event triggers
		var redirectTo = &quot;/%0/tiddlers.txt?select=title:%1&quot;.
			format(workspace, fileName);
		var token = tiddlyspace ? tiddlyspace.getCSRFToken() : &quot;&quot;;
		var action = &quot;%0?csrf_token=%1&amp;redirect=%2&quot;
			.format(baseURL, token, redirectTo);
		form[0].action = action; // dont use jquery to work with ie
		form[0].target = iframeName;
		// do not refactor following line... won't work in IE6 otherwise
		$(place).append($('&lt;iframe name=&quot;' + iframeName + '&quot; id=&quot;' + iframeName + '&quot;/&gt;').css('display','none'));
		macro.iFrameLoader(iframeName, function() {
			var content = document.getElementById(iframeName).contentWindow.document.documentElement;
			if($(content).text().indexOf(fileName) &gt; -1) {
				options.callback(place, fileName, workspace, baseURL);
			} else {
				macro.errorHandler(fileName);
			}
			form.show(1000);
			pleaseWait.hide(1000);
		});
		form.hide(1000);
		pleaseWait.show(1000);
		return true;
	},
	createUploadForm: function(place, options) {
		var locale = macro.locale;
		if(readOnly) {
			$('&lt;div class=&quot;annotation&quot; /&gt;').text(locale.membersOnly).
				appendTo(place);
			return;
		}
		var bag = options.bag;
		options.callback = options.callback ? options.callback :
			function(place, fileName, workspace, baseurl) {
				macro.displayFile(place, fileName, workspace);
				displayMessage(locale.loadSuccess.format(fileName));
				$(&quot;input[type=text]&quot;, place).val(&quot;&quot;);
			};
		var defaults = config.defaultCustomFields;
		place = $(&quot;&lt;div /&gt;&quot;).addClass(&quot;container&quot;).appendTo(place)[0];
		var workspace = bag ? &quot;bags/%0&quot;.format(bag) : config.defaultCustomFields[&quot;server.workspace&quot;];
		var baseURL = defaults[&quot;server.host&quot;];
		baseURL += (baseURL[baseURL.length - 1] !== &quot;/&quot;) ? &quot;/&quot; : &quot;&quot;;
		baseURL = &quot;%0%1/tiddlers&quot;.format(baseURL, workspace);
		//create the upload form, complete with invisible iframe
		var iframeName = &quot;binaryUploadiframe%0&quot;.format(Math.random());
		// do not refactor following line of code to work in IE6.
		var form = $('&lt;form action=&quot;%0&quot; method=&quot;POST&quot; enctype=&quot;multipart/form-data&quot; /&gt;'.
					format(baseURL)).addClass(&quot;binaryUploadForm&quot;).
			appendTo(place)[0];
		macro.renderInputFields(form, options);
		$(form).
			append('&lt;div class=&quot;binaryUploadFile&quot;&gt;&lt;input type=&quot;file&quot; name=&quot;file&quot; /&gt;&lt;/div&gt;').
			append('&lt;div class=&quot;binaryUploadSubmit&quot;&gt;&lt;input type=&quot;submit&quot; value=&quot;Upload&quot; disabled /&gt;&lt;/div&gt;').
			submit(function(ev) {
				this.target = iframeName;
				options.target = iframeName;
				macro.uploadFile(place, baseURL, workspace, options);
			})
			.find('[type=&quot;file&quot;]').bind('change', function() {
				$(form).find('[type=&quot;submit&quot;]').prop('disabled', false);
			}).end();
		$('&lt;div /&gt;').addClass(&quot;uploadProgress&quot;).text(locale.uploadInProgress).hide().appendTo(place);
		$(&quot;input[name=file]&quot;, place).change(function(ev) {
			var target = $(ev.target);
			var fileName = target.val();
			var title = $(&quot;input[type=text][name=title]&quot;, place);
			if(!title.val()) {
				title.val(fileName);
			}
		});
	},
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		params = paramString.parseParams(null, null, true);
		macro.createUploadForm(place, params[0]);
	},
	iFrameLoader: function(iframeName, callback) {
		var iframe = document.getElementById(iframeName); //jQuery doesn't seem to want to do this!?
		var locale = macro.locale;
		$(&quot;.userInput&quot;).addClass(&quot;notEdited&quot;); // reset editing
		var finishedLoading = function() {
			callback();
		};
		var iFrameLoadHandler = function() {
			finishedLoading.apply();
			return;
		};

		iframe.onload = iFrameLoadHandler;
		//IE
		completeReadyStateChanges = 0;
		iframe.onreadystatechange = function() {
			if (++(completeReadyStateChanges) == 3) {
				iFrameLoadHandler();
			}
		};
	},
	displayFile: function(place, title, workspace) {
		var adaptor = store.getTiddlers()[0].getAdaptor();
		var context = {
			workspace: workspace,
			host: config.defaultCustomFields['server.host']
		};
		adaptor.getTiddler(title, context, null, function(context) {
			if(context.status) {
				store.addTiddler(context.tiddler);
				story.displayTiddler(place, title);
				var image = config.macros.image;
				if(image &amp;&amp; image.refreshImage) {
					image.refreshImage(&quot;/%0/tiddlers/%1&quot;.format(workspace, title));
					image.refreshImage(title);
					image.refreshImage(&quot;/%0&quot;.format(title));
					image.refreshImage(&quot;%0/%1/tiddlers/%2&quot;.format(config.extensions.tiddlyweb.host, workspace, title));
				}
			} else {
				displayMessage(macro.locale.loadError.format(title));
			}
		});
	}
};

if(tiddlyspace) {
	config.macros.binaryUploadPublic = {
		handler: function(place, macroName, params, wikifier, paramString, tiddler) {
			var options = paramString.parseParams(null, null, true)[0];
			var bag = tiddlyspace.getCurrentBag(&quot;public&quot;);
			options.bag = bag;
			macro.createUploadForm(place, options);
		}
	};
	config.messages.privacySetting = config.options.chkPrivateMode ?
		&quot;private&quot; : &quot;public&quot;;
	config.macros.binaryUpload.defaultWorkspace = tiddlyspace.
		getCurrentWorkspace(config.messages.privacySetting);
}

})(jQuery);
//}}}</pre>
</div>
<div title="Book" creator="inforabbi" modifier="inforabbi" created="201012091932" modified="201012091932" _hash="d602c675313a9f586aebb37dec83903aeb0ab2b4" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/Book/76140:1415a1d75f72a48d304e462e8f46fd9c5af8e73d&quot;" server.page.revision="76140" server.title="Book">
<pre>Type the text for 'New Tiddler'Fred</pre>
</div>
<div title="CCD" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="fc39832b64a7841d123fe2ebea145d533c00c8d6" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/CCD/1188294:387a829f3adfa02968a52be35884b97cd561c5ff&quot;" server.page.revision="1188294" server.title="CCD">
<pre>电荷耦合器件（charge-coupled device，CCD）是一种非常轻巧的集成电路，它可以感应和显示颜色数据，感应的一个个数据点即可生成一幅完整的图片，它可以支持65,536种颜色。CCD现在被广泛应用于数码相机和数码摄像机中。它也被应用在天文望远镜、扫描仪、条形码读取器中。CCD是1969年由George Smith和Willard Boyl在贝尔实验室发明的。</pre>
</div>
<div title="ColorPalette" creator="inforabbi" modifier="inforabbi" created="201012050836" modified="201012081657" tags="excludeLists excludeSearch" _hash="6138442f6dc3df341daef867111e89f0b3398ded" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/ColorPalette/76143:2a4f83c6439ec6a6bb34b3d254e3d919e936b3f1&quot;" server.page.revision="76143" server.title="ColorPalette">
<pre>/*{{{*/
Background: #e4f8dc
Foreground: #0e2206
PrimaryPale: #ffffff
PrimaryLight: #aceb93
PrimaryMid: #59d827
PrimaryDark: #000200
SecondaryPale: #ffffff
SecondaryLight: #eb93be
SecondaryMid: #d8277d
SecondaryDark: #020001
TertiaryPale: #ffffff
TertiaryLight: #939aeb
TertiaryMid: #2736d8
TertiaryDark: #000002
Error: #f88
ColorPaletteParameters: HSL([103|48], [0.7],[0.0047242737664243695|1])
/*}}}*/</pre>
</div>
<div title="DIKW信息金字塔" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201508301800" _hash="8bf1ba5b09ea3a356cfb02666e90479f2a6b8107" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/DIKW%E4%BF%A1%E6%81%AF%E9%87%91%E5%AD%97%E5%A1%94/2322971:90490fa1a581cd02e994deba4310deb019e915e4&quot;" server.page.revision="2322971" server.title="DIKW信息金字塔">
<pre>@@color(#3300ff):所谓DIKW体系，其中的字母分别表示：数据（Data）、信息（Information）、知识（Knowledge）和智慧（Wisdom），也就是说DIKW体系就是用来阐述数据、信息、知识、智慧之间的关系的一种体系，在知识管理的文献中，这个体系常被称为知识体系或[[知识金字塔|http://inforabbi.opendrive.com/files/Ml8zMTM0OTYxNF9PZ3dwcQ/pyramid211.jpg]]，在信息科学（Information Science）领域，这个体系则被称为信息体系或[[信息金字塔|http://inforabbi.opendrive.com/files/Ml8zMTM0OTYwNV9BSW9zMQ/information_pyramid11.jpg]]。总之，DIKW体系就是要表达出这几个要素之间的一种关系，看[[这张漫画|http://inforabbi.opendrive.com/files/Ml8zMTM0OTYwMF9mR3Y1SQ/image00211.jpg]]就知道智慧如何从信息中得来。@@</pre>
</div>
<div title="DefaultTiddlers" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="722b7b6d065300aa573a56cc102c5bffd0ef69f6" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/DefaultTiddlers/1188297:be9cbdb3a97f2b07916d43895a23e4797510a878&quot;" server.page.revision="1188297" server.title="DefaultTiddlers">
<pre>每周要点</pre>
</div>
<div title="DiffFormatter" creator="FND" modifier="FND" created="201309241804" modified="201309241804" tags="excludeLists excludeSearch systemConfig" _hash="2232cd0549946d29c475cec846de3378177301ae" server.content-type="text/javascript" server.permissions="read" server.bag="system" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system" server.etag="&quot;system/DiffFormatter/1521854:d32116ab06008ec65f5a1757208b38e57d555b5d&quot;" server.page.revision="1521854" server.title="DiffFormatter">
<pre>/***
|''Name''|DiffFormatter|
|''Description''|highlighting of text comparisons|
|''Author''|FND|
|''Version''|0.9.0|
|''Status''|beta|
|''Source''|http://svn.tiddlywiki.org/Trunk/contributors/FND/formatters/DiffFormatter.js|
|''CodeRepository''|http://svn.tiddlywiki.org/Trunk/contributors/FND/|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''Keywords''|formatting|
!Description
Highlights changes in a unified [[diff|http://en.wikipedia.org/wiki/Diff#Unified_format]].
!Notes
Based on Martin Budden's [[DiffFormatterPlugin|http://svn.tiddlywiki.org/Trunk/contributors/MartinBudden/formatters/DiffFormatterPlugin.js]].
!Usage
The formatter is applied to blocks wrapped in &lt;html&gt;&lt;code&gt;{{{diff{..}}}&lt;/code&gt;&lt;/html&gt; within tiddlers tagged with &quot;diff&quot;.
!Revision History
!!v0.9 (2010-04-07)
* initial release; fork of DiffFormatterPlugin
!StyleSheet
.diff { white-space: pre; font-family: monospace; }
.diff ins, .diff del { display: block; text-decoration: none; }
.diff ins { background-color: #dfd; }
.diff del { background-color: #fdd; }
.diff .highlight { background-color: [[ColorPalette::SecondaryPale]]; }
!Code
***/
//{{{
(function() {

config.shadowTiddlers.StyleSheetDiffFormatter = store.getTiddlerText(tiddler.title + &quot;##StyleSheet&quot;);
store.addNotification(&quot;StyleSheetDiffFormatter&quot;, refreshStyles);

var formatters = [{
		name: &quot;diffWrapper&quot;,
		match: &quot;^\\{\\{diff\\{\n&quot;, // XXX: suboptimal
		termRegExp: /(.*\}\}\})$/mg,
		handler: function(w) {
			var el = createTiddlyElement(w.output, &quot;div&quot;, null, &quot;diff&quot;);
			w.subWikifyTerm(el, this.termRegExp);
		}
	}, {
		name: &quot;diffRange&quot;,
		match: &quot;^(?:@@|[+\\-]{3}) &quot;,
		lookaheadRegExp: /^(?:@@|[+\-]{3}) .*\n/mg,
		handler: function(w) {
			createTiddlyElement(w.output, &quot;div&quot;, null, &quot;highlight&quot;).
				innerHTML = &quot;&amp;#8230;&quot;;
			this.lookaheadRegExp.lastIndex = w.matchStart;
			var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
			if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart) {
				w.nextMatch = this.lookaheadRegExp.lastIndex;
			}
		}
	}, {
		name: &quot;diffAdded&quot;,
		match: &quot;^\\+&quot;,
		termRegExp: /(\n)/mg,
		handler: function(w) {
			var el = createTiddlyElement(w.output, &quot;ins&quot;, null, &quot;added&quot;);
			w.subWikifyTerm(el, this.termRegExp);
		}
	}, {
		name: &quot;diffRemoved&quot;,
		match: &quot;^-&quot;,
		termRegExp: /(\n)/mg,
		handler: function(w) {
			var el = createTiddlyElement(w.output, &quot;del&quot;, null, &quot;removed&quot;);
			w.subWikifyTerm(el, this.termRegExp);
		}
	}
];

config.parsers.diffFormatter = new Formatter(formatters);
config.parsers.diffFormatter.format = &quot;diff&quot;;
config.parsers.diffFormatter.formatTag = &quot;diff&quot;;

})();
//}}}</pre>
</div>
<div title="EDUCAUSE简介" creator="librabbi" modifier="librabbi" created="201411111623" modified="201411111623" _hash="a2efaf2560c7dad5c0d257531b1ab18edce00ee7" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/EDUCAUSE%E7%AE%80%E4%BB%8B/1962601:101e2333b0e01dac73cabc6c1116ca16d6105d72&quot;" server.page.revision="1962601" server.title="EDUCAUSE简介">
<pre>EDUCAUSE由两个成立于20世纪六十年代的专业协会于1998年合并而成，是一个主要由高等院校、高等教育研究机构和信息技术企业组成的以合理利用信息技术促进高等教育之发展为使命的非营利性专业协会，现有两千所高等教育机构和250多家信息技术企业加盟，是目前全球规模最大的高等教育信息化专业组织。它的两个前身分别是成立于1962年的高等院校系统交流组织（College And University Systems Exchange，简称CAUSE）和成立于1964年的大学校际交流委员会（Interuniversity Communications Council，简称EDUCOM）。前者由当时来自斯坦福大学、普林斯顿大学、伊利诺斯大学的一批从事高校行政管理信息处理的专业人士组成，侧重于计算机技术在高校行政管理系统中的应用和推广；后者由杜克大学、哈佛大学、加利福尼亚大学、密西根大学、匹兹堡大学、弗吉尼亚大学的一批致力于把计算机技术应用于大学教学与科研的学者组成，他们更强调计算机技术对大学教学和科研系统的深层改造和提升，这批人以著名生物学家、密西根大学心理健康研究所（Mental Health Research Institute）创始人James Grier Miller为代表，后来大多成为大学教学科研与学习方式变革的“布道者”和“传教士”。James Grier Miller本人后来更是给我们留下了“世界大学”（University of the World）这一宝贵的思想遗产和精神财富。“世界大学”的理想是以信息通讯技术为支撑，建立一个覆盖全球的分布式高等教育系统，让世界各地的教师和学生都可以共享各种教学和科研资源，而这正是当时成立EDUCOM的初衷，也是今日EDUCAUSE的追求。可以说，这两个组织在当时汇集了全美一流名校中绝大多数从事计算机技术在高等教育领域中应用的先驱和精英人物；而二者在研究中的不同视角，则反映出在高等教育信息化的早期阶段，以计算机为代表的信息技术在大学中应用的两大基本路径。([[来源|http://edu.nju.edu.cn/sang/article/article37.html]])</pre>
</div>
<div title="EditTemplate" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch" _hash="bb2ebcb9880f563a789711fbbbec5d3bfcb1b248" server.content-type="" server.permissions="read" server.bag="system-theme_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-theme_public" server.etag="&quot;system-theme_public/EditTemplate/1521922:ae7234f63adc9dac6988e06b7327ec0187892aa7&quot;" server.page.revision="1521922" server.title="EditTemplate">
<pre>&lt;!--{{{--&gt;
&lt;div class='toolbar' macro='toolbar [[ToolbarCommands::EditToolbar]] icons:yes wikibar'&gt;
&lt;/div&gt;
&lt;div class='heading editorHeading'&gt;
	&lt;div class='editor title' macro='edit title'&gt;&lt;/div&gt;
	&lt;div class='tagClear'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class='annotationsBox' macro='annotations'&gt;
	&lt;div class='editSpaceSiteIcon' macro='tiddlerOrigin height:16 width:16 label:no interactive:no'&gt;
	&lt;/div&gt;
	&lt;div class='privacyEdit' macro='setPrivacy label:no interactive:no'&gt;&lt;/div&gt;
	&lt;div class='tagClear'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class='editor' macro='edit text'&gt;&lt;/div&gt;
&lt;div class='editorFooter'&gt;
	&lt;div class='tagTitle'&gt;tags&lt;/div&gt;
	&lt;div class='editor' macro='edit tags'&gt;&lt;/div&gt;
	&lt;div class='tagAnnotation'&gt;
		&lt;span macro='message views.editor.tagPrompt'&gt;&lt;/span&gt;
		&lt;span macro='tagChooser excludeLists'&gt;&lt;/span&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div title="ErrorHandler" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch systemConfig" _hash="ffff853197a5561dfaef34fd40efbb0c738fbc79" server.content-type="text/javascript" server.permissions="read" server.bag="tiddlyspace" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" server.etag="&quot;tiddlyspace/ErrorHandler/1521896:11240b6c996dd30e66bc5ee066fa4b223c68c245&quot;" server.page.revision="1521896" server.title="ErrorHandler">
<pre>/***
|''Name''|ErrorHandlerPlugin|
|''Version''|0.4.3|
|''Author''|Jon Robson|
|''Description''|Localised tiddler save errors including edit conflict resolution.|
|''CoreVersion''|2.6.1|
|''Requires''|TiddlySpaceConfig|
***/
//{{{
(function($) {

var tiddlyspace = config.extensions.tiddlyspace;
var currentSpace = tiddlyspace.currentSpace.name;
tiddlyspace.getLocalTitle = function(title, workspace, suffix) {
	var endsWith = config.extensions.BinaryTiddlersPlugin.endsWith;
	if(!suffix) {
		var isPublic = endsWith(workspace, &quot;_public&quot;);
		suffix = tiddlyspace.resolveSpaceName(workspace);
		if(currentSpace == suffix) {
			suffix = isPublic ? &quot;public&quot; : &quot;private&quot;;
		} else {
			suffix = &quot;@%0&quot;.format(suffix);
		}
	}
	return &quot;%0 *(%1)*&quot;.format(title, suffix);
};

var sssp = config.extensions.ServerSideSavingPlugin;

var msgs = config.messages.editConflict = {
	loading: &quot;Loading..&quot;,
	resolve: &quot;[[Edit Conflict]]@glossary: this tiddler may have been changed by someone else.&quot;,
	reviewDiff: &quot;review (recommended)&quot;,
	reviewDiffTooltip: &quot;review changes made to this tiddler&quot;,
	reviewDiffError: &quot;error retrieving revision.&quot;,
	save: &quot;overwrite&quot;,
	saveTooltip: &quot;make this revision the top revision of this tiddler&quot;,
	discard: &quot;cancel&quot;,
	discardTooltip: &quot;undo changes to this tiddler and get most recent version&quot;,
	diffTitle: &quot;%0&quot;,
	diffFieldTitle: &quot;%0 - fields&quot;,
	diffTextTitle: &quot;%0 - text&quot;,
	updating: &quot;updating your version...&quot;,
	diffHeader: [&quot;Review the changes that have been made whilst you were editing this tiddler. &quot;,
		&quot;Fold relevant changes back into your version.\n&quot;,
		&quot;{{removed{Red}}} highlight shows content removed. &quot;,
		&quot;{{added{Green}}} highlight shows content added.\n&quot;].join(&quot;&quot;),
	diffTextHeader: &quot;View changes in text&quot;,
	diffFieldsHeader: &quot;View changes in fields&quot;
};

var plugin = config.extensions.errorHandler = {
	diffTags: [&quot;excludeLists&quot;, &quot;excludeMissing&quot;, &quot;excludeSearch&quot;],
	displayMessage: function(message, tiddler, context) {
		var desc = context &amp;&amp; context.httpStatus ? context.statusText :
			sssp.locale.connectionError;
		var reportArea = plugin.reportError(tiddler.title);
		var msg = $(&quot;&lt;div /&gt;&quot;).appendTo(reportArea);
		if(message == &quot;saveConflict&quot;) {
			wikify(msgs.resolve, msg[0]);
			var choiceArea = $(&quot;&lt;div /&gt;&quot;).appendTo(reportArea)[0];
			plugin.editConflictHandler(choiceArea, tiddler);
		} else {
			msg.text(sssp.locale[message].format(tiddler.title, desc));
		}
	},
	editConflictHandler: function(container, tiddler) {
		var title = tiddler.title;
		var myrev = tiddler.fields[&quot;server.page.revision&quot;];
		// note user now needs to edit, fix problem and save. 
		// TODO: make sure this gets reset in save callback
		store.getTiddler(title).fields[&quot;server.page.revision&quot;] = &quot;false&quot;;

		var diffBtn = createTiddlyButton(container, msgs.reviewDiff, msgs.reviewDiffTooltip, function(ev) {
			var title = $(ev.target).data(&quot;title&quot;);
			plugin.displayDiff(ev.target, store.getTiddler(title), myrev);
		});
		var saveBtn = createTiddlyButton(container, msgs.save, msgs.saveTooltip, function(ev) {
				var title = $(ev.target).data(&quot;title&quot;);
				var tid = store.saveTiddler(store.getTiddler(title));
				autoSaveChanges(null, [tid]);
			});
		var ignoreBtn = createTiddlyButton(container, msgs.discard, msgs.discardTooltip, function(ev) {
			var title = $(ev.target).text(msgs.updating).data(&quot;title&quot;);
			plugin.resetToServerVersion(store.getTiddler(title));
		});
		$([diffBtn, ignoreBtn, saveBtn]).data(&quot;title&quot;, title);
	},
	getDiffTiddlerTexts: function(diffText) {
		var chunks = diffText.split(&quot;\n  \n&quot;);
		if(chunks.length &lt; 2) {
			return [chunks[0], &quot;&quot;];
		} else {
			var diffFieldsText = &quot;{{diff{\n%0\n}}}&quot;.format(chunks[0]);
			diffText = '{{diff{\n%0\n}}}'.format(chunks.splice(1, chunks.length).join(&quot;\n&quot;));
			return [diffText, diffFieldsText];
		}
	},
	makeDiffTiddler: function(title, diff) {
		var newTiddler = new Tiddler(title);
		var tags = plugin.diffTags;
		newTiddler.text = msgs.loading;
		newTiddler.fields.doNotSave = true;
		newTiddler.tags = diff ? tags.concat([&quot;diff&quot;]) : tags;
		newTiddler = store.saveTiddler(newTiddler);
		$.extend(store.getTiddler(title).fields,
			config.defaultCustomFields); // allow option to save it
		return newTiddler;
	},
	displayDiff: function(src, tiddler, latestRevision) {
		var adaptor = tiddler.getAdaptor();
		var title = tiddler.title;
		var ts = new Date().formatString(&quot;0hh:0mm:0ss&quot;);
		var suffix = &quot;edit conflict %0&quot;.format(ts);
		var diffTitle = tiddlyspace.getLocalTitle(msgs.diffTitle.format(title), &quot;&quot;, suffix);
		var diffTextTitle = tiddlyspace.getLocalTitle(msgs.diffTextTitle.format(title), &quot;&quot;, suffix);
		var diffFieldsTitle = tiddlyspace.getLocalTitle(msgs.diffFieldTitle.format(title), &quot;&quot;, suffix);
		plugin.makeDiffTiddler(diffTextTitle, true);
		plugin.makeDiffTiddler(diffFieldsTitle, true);
		var newTiddler = plugin.makeDiffTiddler(diffTitle, false);
		newTiddler.text = ['%0\n&lt;&lt;slider chkViewDiffText &quot;%1&quot; &quot;%2&quot;&gt;&gt;\n',
			'&lt;&lt;slider chkViewDiffField &quot;%3&quot; &quot;%4&quot;&gt;&gt;'].join(&quot;&quot;).
			format(msgs.diffHeader, diffTextTitle, msgs.diffTextHeader,
				diffFieldsTitle, msgs.diffFieldsHeader);
		store.saveTiddler(newTiddler);

		var callback = function(r) {
			var text = plugin.getDiffTiddlerTexts(r);
			store.getTiddler(diffTextTitle).text = text[0];
			store.getTiddler(diffFieldsTitle).text = text[1];
			story.refreshTiddler(diffTitle, null, true);
		};
		var workspace = &quot;bags/%0&quot;.format(tiddler.fields[&quot;server.bag&quot;]);
		ajaxReq({
			type: &quot;get&quot;,
			dataType: &quot;text&quot;,
			url: &quot;/diff?format=unified&amp;rev1=%0/%1/%2&amp;rev2=%0/%1&quot;.format(workspace, title, latestRevision),
			success: callback,
			error: function() {
				displayMessage(msgs.reviewDiffError);
			}
		});
		story.displayTiddler(src, diffTitle);
	},
	resetToServerVersion: function(tiddler) {
		var adaptor = tiddler.getAdaptor();
		var ctx = { 
			host: tiddler.fields[&quot;server.host&quot;],
			workspace: &quot;bags/&quot; + tiddler.fields[&quot;server.bag&quot;]
		};
		adaptor.getTiddler(tiddler.title, ctx, null, function(context) {
			store.saveTiddler(context.tiddler);
			story.refreshTiddler(tiddler.title);
			store.setDirty(false);
		});
	},
	reportError: function(title) {
		var el = story.getTiddler(title);
		if(!el) {
			el = story.displayTiddler(null, title);
		}
		return $(&quot;&lt;div /&gt;&quot;).addClass(&quot;error annotation&quot;).prependTo(el)[0];
	}
};

sssp.reportFailure = function(message, tiddler, context) {
	config.options.chkViewDiffText = config.options.chkViewDiffText === undefined ?
		true : config.options.chkViewDiffText;
	config.options.chkViewDiffFields = config.options.chkViewDiffFields || false;
	plugin.displayMessage(message, tiddler, context);
};

})(jQuery);
//}}}</pre>
</div>
<div title="FCKeditorPlugin" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" tags="VisualTW Wysiwyg systemConfig" _hash="b95a48a33176cb3f8b1e9373aa75eaef3b5bb036" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/FCKeditorPlugin/1188293:e0f6805c3568c96a8d671b8244c960e82e17ae9f&quot;" server.page.revision="1188293" server.title="FCKeditorPlugin">
<pre>/***
|''Name:''|FCKeditorPlugin|
|''Description:''|Wysiwyg editor for TiddlyWiki using FCKeditor.|
|''Version:''|1.1.1|
|''Date:''|Dec 21,2007|
|''Source:''|http://visualtw.ouvaton.org/VisualTW.html|
|''Author:''|Pascal Collin|
|''License:''|[[BSD open source license|License]]|
|''~CoreVersion:''|2.2.0|
|''Browser:''|Firefox 2.0; InternetExplorer 6.0, others|
!Demo:
On the plugin [[homepage|http://visualtw.ouvaton.org/VisualTW.html]], see and edit [[WysiwygDemo]].
!Installation:
#download and unzip [[FCKeditor|http://www.fckeditor.net/download]] (by default, in a wiki subfolder, such that the relative path &quot;fckeditor/fckeditor.js&quot; is right).
#import [[FCKeditorPlugin]] (systemConfig tagged)
#add the following text to MarkupPreHead : {{{&lt;script type=&quot;text/javascript&quot; src=&quot;fckeditor/fckeditor.js&quot;&gt;&lt;/script&gt;}}}
#customize FCKeditorPath if needed (in MarkupPreHead and in options below)
#save and reload
#use the &lt;&lt;toolbar editHtml&gt;&gt; button in the tiddler's toolbar (in default ViewTemplate) or add {{{editHtml}}} command in your own toolbar.
! Useful Addons
*[[HTMLFormattingPlugin|http://www.tiddlytools.com/#HTMLFormattingPlugin]] to embed wiki syntax in html tiddlers.&lt;&lt;br&gt;&gt;//__Tips__ : When this plugin is installed, you can use anchor syntax to link tiddlers in wysiwyg mode (example : #example). Anchors are converted back and from wiki syntax when editing.//
*[[TaggedTemplateTweak|http://www.TiddlyTools.com/#TaggedTemplateTweak]] to use alternative ViewTemplate/EditTemplate for tiddler's tagged with specific tag values.
!Configuration options :
|FCKeditor folder (absolute or relative)|&lt;&lt;option txtFCKeditorPath&gt;&gt; |
|FCKeditor custom configuration script path (relative or absolute)&lt;&lt;br&gt;&gt;[[Example|fckeditor/editor/custom_config.js]] : {{{ fckeditor/editor/custom_config.js}}}|&lt;&lt;option txtFCKCustomConfigScript&gt;&gt;|
|Toolbar name (&quot;Default&quot;, &quot;Basic&quot; or custom)&lt;&lt;br&gt;&gt;See [[FCKeditor documentation|http://wiki.fckeditor.net/Developer%27s_Guide/Configuration/Toolbar]] for more information on custom toolbars|&lt;&lt;option txtFCKToolbar&gt;&gt;|
|FCKeditor default height (if blank = 500px)|&lt;&lt;option txtFCKheight&gt;&gt;|
|Template called by the {{{wysiwyg}}} button|EditHtmlTemplate|
!Code
***/
//{{{
config.options.txtFCKeditorPath = config.options.txtFCKeditorPath ? config.options.txtFCKeditorPath : &quot;fckeditor/&quot;;
config.options.txtFCKCustomConfigScript = config.options.txtFCKCustomConfigScript ? config.options.txtFCKCustomConfigScript : &quot;&quot;;
config.options.txtFCKToolbar = config.options.txtFCKToolbar ? config.options.txtFCKToolbar : &quot;&quot;;
config.options.txtFCKheight = config.options.txtFCKheight ? config.options.txtFCKheight : &quot;500px&quot;;

config.macros.editHtml = {
	handler : function(place,macroName,params,wikifier,paramString,tiddler) {
		var field = params[0];
		var height = params[1] ? params[1] : config.options.txtFCKheight;
		if (typeof FCKeditor==&quot;undefined&quot;){
			displayMessage(config.macros.editHtml.FCKeditorUnavailable);
			config.macros.edit.handler(place,macroName,params,wikifier,paramString,tiddler);

		}
		else if (field) {
			var e = createTiddlyElement(null,&quot;div&quot;);
			var fckName = &quot;FCKeditor&quot;+ Math.random();
			if(tiddler.isReadOnly())
				e.setAttribute(&quot;readOnly&quot;,&quot;readOnly&quot;);
			e.setAttribute(&quot;editHtml&quot;,field);
			if (height) e.setAttribute(&quot;height&quot;,height);
			e.setAttribute(&quot;fckName&quot;,fckName);
			place.appendChild(e);
			var fck = new FCKeditor(fckName);
			fck.BasePath = config.options.txtFCKeditorPath;
			if (config.options.txtFCKCustomConfigScript) fck.Config[&quot;CustomConfigurationsPath&quot;] = config.options.txtFCKCustomConfigScript ;
			if (config.options.txtFCKToolbar) fck.ToolbarSet = config.options.txtFCKToolbar;
			fck.Height=height;
			var re = /^&lt;html&gt;(.*)&lt;\/html&gt;$/m;
			var fieldValue=store.getValue(tiddler,field);
			var htmlValue = re.exec(fieldValue);
			var value = (htmlValue &amp;&amp; (htmlValue.length&gt;0)) ? htmlValue[1] : fieldValue;
			value=value.replace(/\[\[([^|\]]*)\|([^\]]*)]]/g,'&lt;a href=&quot;#$2&quot;&gt;$1&lt;/a&gt;');
			config.macros.editHtml.FCKvalues[fckName]=value;
			e.innerHTML = fck.CreateHtml();
		}
	},
        gather : function(e) {
            var name = e.getAttribute(&quot;fckName&quot;);
            var oEditor = window.FCKeditorAPI ? FCKeditorAPI.GetInstance(name) : null;
            if (oEditor) {
                        var html = oEditor.GetHTML();
			if (html!=null) 
                                    return &quot;&lt;html&gt;&quot;+html.replace(/&lt;a href=&quot;#([^&gt;]*)&quot;&gt;([^&lt;]*)&lt;\/a&gt;/gi,&quot;[[$2|$1]]&quot;)+&quot;&lt;/html&gt;&quot;; 
            }	
        },
	FCKvalues : {},
	FCKeditorUnavailable : &quot;FCKeditor was unavailable. Check plugin configuration and reload.&quot;
}


window.FCKeditor_OnComplete= function( editorInstance ) {
        var name=editorInstance.Name;
	var value = config.macros.editHtml.FCKvalues[name];
	delete config.macros.editHtml.FCKvalues[name];
	oEditor = FCKeditorAPI.GetInstance(name);
	if (value) oEditor.SetHTML(value);
}

Story.prototype.previousGatherSaveEditHtml = Story.prototype.previousGatherSaveEditHtml ? Story.prototype.previousGatherSaveEditHtml : Story.prototype.gatherSaveFields; // to avoid looping if this line is called several times
Story.prototype.gatherSaveFields = function(e,fields){
	if(e &amp;&amp; e.getAttribute) {
		var f = e.getAttribute(&quot;editHtml&quot;);
		if(f){
			var newVal = config.macros.editHtml.gather(e);
			if (newVal) fields[f] = newVal;
		}
		this.previousGatherSaveEditHtml(e, fields);
	}
};

config.shadowTiddlers.EditHtmlTemplate = config.shadowTiddlers.EditTemplate.replace(/macro='edit text'/,&quot;macro='editHtml text'&quot;);

config.commands.editHtml={
	text: &quot;wysiwyg&quot;,
	tooltip: &quot;Edit this tiddler with a rich text editor&quot;,
	readOnlyText: &quot;&quot;,
	handler : function(event,src,title) {
		clearMessage();
		var tiddlerElem = document.getElementById(story.idPrefix + title);
		var fields = tiddlerElem.getAttribute(&quot;tiddlyFields&quot;);
		story.displayTiddler(null,title,&quot;EditHtmlTemplate&quot;,false,null,fields);
		return false;
	}
}

config.shadowTiddlers.ViewTemplate = config.shadowTiddlers.ViewTemplate.replace(/\+editTiddler/,&quot;+editTiddler editHtml&quot;);

//}}}</pre>
</div>
<div title="Five fundamental paradigms of the nature of human information" creator="inforabbi" modifier="inforabbi" created="201511161632" modified="201511161633" _hash="a77cb79531d35cb9950f3442e94c214e055fc893" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/Five%20fundamental%20paradigms%20of%20the%20nature%20of%20human%20information/2400706:e13a92c0b1646b14b3fc6c50a52daafcd8519664&quot;" server.page.revision="2400706" server.title="Five fundamental paradigms of the nature of human information">
<pre>!1 Empiricism (based on the philosophy of Locke), which is a theory of knowledge emphasizing the role of experience, especially sensory perception, in the formation of ideas, while discounting the notion of innate ideas. 
!2 Rationalism (Leibniz), which is any view appealing to reason as a source of knowledge or justification. In more technical terms it is a method or theory in which the criterion of truth is not sensory but intellectual and deductive. 
!3 Kantianism. Kant’s main issue is the need of different perspectives that have to be taken to realize a complete picture of a phenomenon. This requires ways of integrating and consolidating sometimes conflicting perspectives. 
!4 Hegelian dialectics. In classical philosophy, dialectic logic is an exchange of propositions (theses) and counter-propositions (antitheses) resulting in a synthesis of the opposing assertions, or at least a qualitative transformation in the direction of the dialogue. In fact, dialectic logic had been introduced by Kant before as a way of consolidating different perspectives. Theses and antitheses, though, are carried by different people, who may have antagonistic interests, which is a key issue in Hegelian epistemology (Mason and Mitroff, 1973: 481). Consequently, informing becomes part of the political and competitive scene. 
!5 Singerian pragmatism, which is an epistemology and ethical theory stating that the value of knowledge should be expressed in terms of how the knowledge improves the human condition and, although people have to strive for truth, they will never reach the ultimate truth and human progress itself is even more important than truth itself.
</pre>
</div>
<div title="FollowTiddlersBlackList" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeMissing excludeSearch" _hash="6fc8ab230a904a71d63a42d97dccd8e135c1ed1c" server.content-type="" server.permissions="read" server.bag="tiddlyspace" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" server.etag="&quot;tiddlyspace/FollowTiddlersBlackList/1521900:9c2f7765d3268d5c458049a11fb3d4527bf70324&quot;" server.page.revision="1521900" server.title="FollowTiddlersBlackList">
<pre>ColorPalette
StyleSheet
SiteSubtitle
GettingStarted
SiteTitle
MainMenu
SiteIcon
DefaultTiddlers
ViewTemplate
PageTemplate
SideBarOptions
EditTemplate
SiteInfo
SideBarTabs
ToolbarCommands</pre>
</div>
<div title="FontSizePluginNew Tiddler" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201310241635" tags="systemConfig" _hash="2b7ea408bcd08d3e0cfc250021c4180fd2cc9609" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/FontSizePluginNew%20Tiddler/1479427:624b45b2d9e92e2e0fcfb0ff716249d732c6af3c&quot;" server.page.revision="1479427" server.title="FontSizePluginNew Tiddler">
<pre>/***
|Name|FontSizePlugin|
|Created by|SaqImtiaz|
|Location|http://tw.lewcid.org/#FontSizePlugin|
|Version|1.0|
|Requires|~TW2.x|
!Description:
Resize tiddler text on the fly. The text size is remembered between sessions by use of a cookie.
You can customize the maximum and minimum allowed sizes.
(only affects tiddler content text, not any other text)

Also, you can load a TW file with a font-size specified in the url.
Eg: http://tw.lewcid.org/#font:110

!Demo:
Try using the font-size buttons in the sidebar, or in the MainMenu above.

!Installation:
Copy the contents of this tiddler to your TW, tag with systemConfig, save and reload your TW.
Then put {{{&lt;&lt;fontSize &quot;font-size:&quot;&gt;&gt;}}} in your SideBarOptions tiddler, or anywhere else that you might like.

!Usage
{{{&lt;&lt;fontSize&gt;&gt;}}} results in &lt;&lt;fontSize&gt;&gt;
{{{&lt;&lt;fontSize font-size: &gt;&gt;}}} results in &lt;&lt;fontSize font-size:&gt;&gt;

!Customizing:
The buttons and prefix text are wrapped in a span with class fontResizer, for easy css styling.
To change the default font-size, and the maximum and minimum font-size allowed, edit the config.fontSize.settings section of the code below.

!Notes:
This plugin assumes that the initial font-size is 100% and then increases or decreases the size by 10%. This stepsize of 10% can also be customized.

!History:
*27-07-06, version 1.0 : prevented double clicks from triggering editing of containing tiddler.
*25-07-06,  version 0.9

!Code
***/

//{{{
config.fontSize={};

//configuration settings
config.fontSize.settings =
{
            defaultSize : 100,  // all sizes in %
            maxSize : 200,
            minSize : 40,
            stepSize : 10
};

//startup code
var fontSettings = config.fontSize.settings;

if (!config.options.txtFontSize)
            {config.options.txtFontSize = fontSettings.defaultSize;
            saveOptionCookie(&quot;txtFontSize&quot;);}
setStylesheet(&quot;.tiddler .viewer {font-size:&quot;+config.options.txtFontSize+&quot;%;}\n&quot;,&quot;fontResizerStyles&quot;);
setStylesheet(&quot;#contentWrapper .fontResizer .button {display:inline;font-size:105%; font-weight:bold; margin:0 1px; padding: 0 3px; text-align:center !important;}\n .fontResizer {margin:0 0.5em;}&quot;,&quot;fontResizerButtonStyles&quot;);

//macro
config.macros.fontSize={};
config.macros.fontSize.handler = function (place,macroName,params,wikifier,paramString,tiddler)
{

               var sp = createTiddlyElement(place,&quot;span&quot;,null,&quot;fontResizer&quot;);
               sp.ondblclick=this.onDblClick;
               if (params[0])
                           createTiddlyText(sp,params[0]);
               createTiddlyButton(sp,&quot;+&quot;,&quot;increase font-size&quot;,this.incFont);
               createTiddlyButton(sp,&quot;=&quot;,&quot;reset font-size&quot;,this.resetFont);
               createTiddlyButton(sp,&quot;–&quot;,&quot;decrease font-size&quot;,this.decFont);
}

config.macros.fontSize.onDblClick = function (e)
{
             if (!e) var e = window.event;
             e.cancelBubble = true;
             if (e.stopPropagation) e.stopPropagation();
             return false;
}

config.macros.fontSize.setFont = function ()
{
               saveOptionCookie(&quot;txtFontSize&quot;);
               setStylesheet(&quot;.tiddler .viewer {font-size:&quot;+config.options.txtFontSize+&quot;%;}\n&quot;,&quot;fontResizerStyles&quot;);
}

config.macros.fontSize.incFont=function()
{
               if (config.options.txtFontSize &lt; fontSettings.maxSize)
                  config.options.txtFontSize = (config.options.txtFontSize*1)+fontSettings.stepSize;
               config.macros.fontSize.setFont();
}

config.macros.fontSize.decFont=function()
{

               if (config.options.txtFontSize &gt; fontSettings.minSize)
                  config.options.txtFontSize = (config.options.txtFontSize*1) - fontSettings.stepSize;
               config.macros.fontSize.setFont();
}

config.macros.fontSize.resetFont=function()
{

               config.options.txtFontSize=fontSettings.defaultSize;
               config.macros.fontSize.setFont();
}

config.paramifiers.font =
{
               onstart: function(v)
                  {
                   config.options.txtFontSize = v;
                   config.macros.fontSize.setFont();
                  }
};
//}}}</pre>
</div>
<div title="GettingStarted" creator="inforabbi" modifier="inforabbi" created="201403100814" modified="201403100814" tags="excludeLists excludeMissing excludeSearch" _hash="7e99bcf2e2a4af3eabd3854cc9d1c43ca1b359a7" server.content-type="" server.permissions="read, write, create, delete" server.bag="inforabbi_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/inforabbi_public" server.etag="&quot;inforabbi_public/GettingStarted/1684133:bb1846dd1ce562834519bc50b67fc07816225128&quot;" server.page.revision="1684133" server.title="GettingStarted">
<pre>/%

Hello,

If you choose to change this GettingStarted tiddler, you may wish to add the following to your new content if you expect you space to be included:

&lt;&lt;&lt;
----
Hello,
''This ~GettingStarted tiddler has been customized.''
If you want to see the original system tiddler just click the following link: GettingStarted@system-info at system-info.
&lt;&lt;&lt;
%/

Welcome to your brand new [[TiddlySpace|http://docs.tiddlyspace.com/TiddlySpace]].

You're almost ready to go, there are just a couple of things left to do.

!Customise your space
Go to [[SpaceSettings]] to finish customising  your space. When you're done, come back here (just scroll up). Don't worry though, this will still be open when you've finished.

!Further Customisation

For advanced options, the [[ServerSettings]] tiddler is used to enable the following features:

#index: The value is the name of a tiddler that will be presented when loading the space.  For example, when set to {{{Hello}}} for the space hello.tiddlyspace.com, navigating to that URL will present the Hello tiddler. If there is no {{{Hello}}} you will get an error.
#editor: The name of an [[editor application|http://docs.tiddlyspace.com/Example%20Tiddler%20Editors]] to edit tiddlers with.  Applications come from [[included spaces|http://docs.tiddlyspace.com/How%20do%20I%20include%2Fexclude%20spaces%3F]]

//If you do not need or understand these features there is no need to create a ServerSettings tiddler.//

To edit these options: 

* click [[here|ServerSettings]] to open the [[ServerSettings]] tiddler
* click on the edit button (the pencil icon)
* add the options you wish to set 
* click on the save button (the tick icon).

An example [[ServerSettings]] tiddler:
{{{
index: HelloThere
editor: /edit#{tiddler}
}}}

The additional text after /edit allows a tiddler to be opened in edit mode e.g:
{{{http://hello.tiddlyspace.com/edit#MyTiddler}}}

!!See Also

* [[ServerSettings shadow tiddler|http://docs.tiddlyspace.com/ServerSettings%20shadow%20tiddler]]
* [[Choosing a non-TiddlyWiki Default Application for your Space|http://docs.tiddlyspace.com/Choosing%20a%20non-TiddlyWiki%20Default%20Application%20for%20your%20Space]]

!Finished customising?
You can [[Start writing]] some [[tiddlers|http://docs.tiddlyspace.com/Tiddler]].
If you're not done tweaking yet though, you can always [[Customise this space|SpaceSettings]] a bit more.

You can also [[access and read other tiddlers in various ways|http://docs.tiddlyspace.com/Viewing%20Tiddlers]].

!Administration
If you'd like to change your password or create another space, visit &quot;Your Account&quot; from the [[Universal Backstage|http://docs.tiddlyspace.com/UniversalBackstage]] (the blue dot in the upper right of the page). If you'd like to add a member or [[include a space|http://docs.tiddlyspace.com/How%20do%20I%20include%2Fexclude%20spaces%3F]] visit &quot;This Space&quot; from the [[Universal Backstage|http://docs.tiddlyspace.com/UniversalBackstage]].

You can have as many spaces as you like and each space can have as many members as you or your group need.

!Stuck?
If you're stuck, and would like some help, please visit the [[help|http://help.tiddlyspace.com]] space, which can point you in the right direction.</pre>
</div>
<div title="Google Chrome OS最简明的视频" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="34b0e0eb58cf17d636224b6ee92edbf5b16b901d" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/Google%20Chrome%20OS%E6%9C%80%E7%AE%80%E6%98%8E%E7%9A%84%E8%A7%86%E9%A2%91/1188302:39e6b2d4422f6bb88462ff6e5059f42256ce04c1&quot;" server.page.revision="1188302" server.title="Google Chrome OS最简明的视频">
<pre>&lt;html&gt;
&lt;object height=&quot;350&quot; width=&quot;500&quot; codebase=&quot;http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,29,0&quot; classid=&quot;clsid:D27CDB6E-AE6D-11cf-96B8-444553540000&quot;&gt; &lt;param value=&quot;Flvplayer.swf?vcastr_file=What is Google Chrome OS_.flv&quot; name=&quot;movie&quot; /&gt; &lt;param value=&quot;high&quot; name=&quot;quality&quot; /&gt; &lt;param value=&quot;true&quot; name=&quot;allowFullScreen&quot; /&gt; &lt;embed height=&quot;350&quot; width=&quot;500&quot; type=&quot;application/x-shockwave-flash&quot; pluginspage=&quot;http://www.macromedia.com/go/getflashplayer&quot; quality=&quot;high&quot; allowfullscreen=&quot;true&quot; src=&quot;Flvplayer.swf?vcastr_file=What is Google Chrome OS_.flv&quot; /&gt;
&lt;/html&gt;</pre>
</div>
<div title="Google Dashboard视频" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201310151645" _hash="10d4a78e3fe8267f8f272a686990d1a9030efabd" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/Google%20Dashboard%E8%A7%86%E9%A2%91/1463216:c487256fd6d85282aa633928aef152a9c9c87c3f&quot;" server.page.revision="1463216" server.title="Google Dashboard视频">
<pre>&lt;html&gt;
&lt;object height=&quot;350&quot; width=&quot;500&quot; codebase=&quot;http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,29,0&quot; classid=&quot;clsid:D27CDB6E-AE6D-11cf-96B8-444553540000&quot;&gt; &lt;param value=&quot;Flvplayer.swf?vcastr_file=google dashboard.flv&quot; name=&quot;movie&quot; /&gt; &lt;param value=&quot;high&quot; name=&quot;quality&quot; /&gt; &lt;param value=&quot;true&quot; name=&quot;allowFullScreen&quot; /&gt; &lt;embed height=&quot;350&quot; width=&quot;500&quot; type=&quot;application/x-shockwave-flash&quot; pluginspage=&quot;http://www.macromedia.com/go/getflashplayer&quot; quality=&quot;high&quot; allowfullscreen=&quot;true&quot; src=&quot;Flvplayer.swf?vcastr_file=google dashboard.flv&quot; /&gt;
&lt;/html&gt;</pre>
</div>
<div title="GroupByPlugin" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch systemConfig" _hash="d4f41fa53916a920347fbe97303966ebeed68945" server.content-type="text/javascript" server.permissions="read" server.bag="system-plugins_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-plugins_public" server.etag="&quot;system-plugins_public/GroupByPlugin/1521873:c137d0097fa5c5bab81ada4cf04eac1f010abc62&quot;" server.page.revision="1521873" server.title="GroupByPlugin">
<pre>/***
|''Name''|GroupByPlugin|
|''Description''|Mimics allTags macro to provide ways of creating lists grouping tiddlers by any field|
|''Version''|0.6.1|
|''Author''|Jon Robson|
|''Status''|beta|
!Usage
{{{&lt;&lt;groupBy tags&gt;&gt;}}}
mimics allTags macro

{{{&lt;&lt;groupBy server.bag&gt;&gt;}}}
groups by the server.bag field (this version contains TiddlySpace specific code for turning a bag into a space name)

{{{groupBy modified dateFormat:&quot;YYYY&quot;}}}
group tiddlers by year.

{{{&lt;&lt;groupBy tags exclude:excludeLists exclude:systemConfig&gt;&gt;}}}
group tiddlers by tag but exclude the tags with values excludeLists and systemConfig

Within that group you can also exclude things by filter
{{{groupBy modifier filter:[tag[film]]}}}
will group tiddlers tagged with film by modifier.
***/
//{{{
(function($) {
var taglocale = config.views.wikified.tag;
var macro = config.macros.groupBy = {
	locale: {
		tooltip: &quot;all tiddlers in group %0&quot;,
		noTiddlers: &quot;no tiddlers&quot;,
		openAllText: taglocale.openAllText,
		openAllTooltip: taglocale.openAllTooltip,
		openTiddler: &quot;open tiddler with title %0&quot;
	},
	morpher: {
		// TODO: note currently the following 2 morphers are TiddlySpace specific and probably should be in separate plugin
		&quot;server.workspace&quot;: function(value, options) {
			return macro.morpher[&quot;server.bag&quot;](value.replace(&quot;bags/&quot;, &quot;&quot;).replace(&quot;recipes/&quot;, &quot;&quot;));
		},
		&quot;server.bag&quot;: function(value, options) {
			if(typeof(value) !== &quot;string&quot;) {
				return false;
			} else if(value.indexOf(&quot;_public&quot;) === -1 &amp;&amp; value.indexOf(&quot;_private&quot;) === -1) {
				value = &quot;*%0&quot;.format(value); // add star for non-space bags.
			}
			return value.replace(&quot;_public&quot;, &quot;&quot;).replace(&quot;_private&quot;, &quot;&quot;);
		},
		created: function(value, options) {
			return value.formatString(options.dateFormat || &quot;DD MMM YYYY&quot;);
		},
		modified: function(value, options) {
			return macro.morpher.created(value, options);
		}
	},

	handler: function(place, macroName, params, wikifier, paramString) {
		var field = params[0] || &quot;server.workspace&quot;;
		var dateFormat = params[1] || &quot;DD MMM YYYY&quot;;
		var container = $(&quot;&lt;div /&gt;&quot;).attr(&quot;macroName&quot;, macroName).addClass(&quot;groupBy&quot;).
			attr(&quot;refresh&quot;, &quot;macro&quot;).attr(&quot;fieldName&quot;, field).
			attr(&quot;paramString&quot;, paramString).
			attr(&quot;dateFormat&quot;, dateFormat).appendTo(place)[0];
		macro.refresh(container);
	},
	isTypeArray: function(value) {
		var valueType = typeof value;
		if(valueType === &quot;object&quot; &amp;&amp; typeof value.length === &quot;number&quot; &amp;&amp;
			!(value.propertyIsEnumerable(&quot;length&quot;)) &amp;&amp;
			typeof value.splice === &quot;function&quot;) { //is Array
			return true;
		} else {
			return false;
		}
	},
	_onClickGroup: function(ev, options) {
		var i, target = ev.target, locale = macro.locale;
		var tiddlers = $(target).closest(&quot;.templateContainer&quot;).data(&quot;tiddlers&quot;);
		var popup = $(Popup.create(target)).addClass(&quot;taggedTiddlerList&quot;)[0];
		var value = $(target).attr(&quot;value&quot;);
		var openAll = createTiddlyButton($(&quot;&lt;li /&gt;&quot;).appendTo(popup)[0],
			locale.openAllText.format(value), locale.openAllTooltip);
		$(openAll).click(function(ev) {
			story.displayTiddlers(ev.target, tiddlers);
			return false;
		});
		var listBreak = $(&quot;&lt;li /&gt;&quot;).addClass(&quot;listBreak&quot;).html(&quot;&lt;div /&gt;&quot;).appendTo(popup);
		for(i = 0; i &lt; tiddlers.length; i++) {
			var item = $(&quot;&lt;li /&gt;&quot;).appendTo(popup)[0];
			var template = store.getTiddlerText(options.template) || macro.template;
			wikify(template, item, null, tiddlers[i]);
		}
		listBreak.clone().appendTo(popup);
		$(createTiddlyLink($(&quot;&lt;li /&gt;&quot;).appendTo(popup)[0], value, false)).
			text(locale.openTiddler.format(value));
		Popup.show();
		ev.stopPropagation();
		return false;
	},
	_refresh: function(container, tiddlers, options) {
		var totalGroups = 0, locale = macro.locale, i, j;
		var excludeValues = options.exclude;
		var values = {}, value_ids = [];
		var field = options.field;
		var morpher = macro.morpher[field] || function(value) {
			return value;
		};
		for(i = 0; i &lt; tiddlers.length; i++) {
			var tiddler = tiddlers[i];
			var value = tiddler[field] || tiddler.fields[field];
			value = macro.isTypeArray(value) ? value : [ value ];
			for(j = 0; j &lt; value.length; j++) {
				var v = morpher(value[j], options);
				if(v &amp;&amp; $.inArray(v, excludeValues) === -1) {
					totalGroups += 1;
					if(!values[v]) {
						values[v] = [];
					}
					values[v].push(tiddler);
					value_ids.pushUnique(v);
				}
			}
		}
		var ul = $(&quot;&lt;ul /&gt;&quot;).appendTo(container)[0];
		if(totalGroups === 0) {
			$(&quot;&lt;li /&gt;&quot;).addClass(&quot;listTitle&quot;).text(locale.noTiddlers);
		}
		value_ids = value_ids.sort();
		var groupTemplate = store.getTiddlerText(options.groupTemplate);
		var onClick = function(ev) {
			macro._onClickGroup(ev, options);
		};
		for(i = 0; i &lt; value_ids.length; i++) {
			var title = value_ids[i];
			var info = getTiddlyLinkInfo(title);
			tiddlers = values[title];
			var btn = createTiddlyButton($(&quot;&lt;li /&gt;&quot;).appendTo(ul)[0],
				&quot;%0 (%1)&quot;.format(title, tiddlers.length), locale.tooltip.format(title), null, info.classes);
			if(groupTemplate) {
				$(btn).empty();
				wikify(groupTemplate, btn, null, tiddlers[0]);
			}
			$(btn).click(onClick).attr(&quot;value&quot;, title).attr(&quot;refresh&quot;, &quot;link&quot;).attr(&quot;tiddlyLink&quot;, title);
			$(btn).addClass(&quot;templateContainer&quot;).data(&quot;tiddlers&quot;, tiddlers);
		}
	},
	refresh: function(container) {
		container = $(container).empty();
		var paramString = container.attr(&quot;paramString&quot;);
		var args = paramString.parseParams(&quot;name&quot;, null, true, false, true)[0];
		var options = { field: container.attr(&quot;fieldName&quot;), dateFormat: container.attr(&quot;dateFormat&quot;), exclude: args.exclude || [],
			template: args.template ? args.template[0] : false, groupTemplate: args.groupTemplate ? args.groupTemplate[0] : &quot;&quot; };
		var tiddlers = args.filter ? store.filterTiddlers(args.filter[0]) : store.getTiddlers(&quot;title&quot;);
		macro._refresh(container, tiddlers, options);
	},
	template: &quot;&lt;&lt;view title link&gt;&gt;&quot;
};

}(jQuery));
//}}}</pre>
</div>
<div title="HTMLFormattingPlugin" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" tags="MediaPackage systemConfig" _hash="f17d0eb89e96ac7990cad982357d586317e52be0" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/HTMLFormattingPlugin/1188301:835c67ee9e5bcde6ad30c9f250af98557056a43b&quot;" server.page.revision="1188301" server.title="HTMLFormattingPlugin">
<pre>/***
|Name|HTMLFormattingPlugin|
|Source|http://www.TiddlyTools.com/#HTMLFormattingPlugin|
|Documentation|http://www.TiddlyTools.com/#HTMLFormattingPluginInfo|
|Version|2.4.0|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements &lt;br&gt;and [[Creative Commons Attribution-ShareAlike 2.5 License|http://creativecommons.org/licenses/by-sa/2.5/]]|
|~CoreVersion|2.1|
|Type|plugin|
|Requires||
|Overrides|'HTML' formatter|
|Description|embed wiki syntax formatting inside of HTML content|
The ~HTMLFormatting plugin allows you to ''mix wiki-style formatting syntax within HTML formatted content'' by extending the action of the standard TiddlyWiki formatting handler.
!!!!!Documentation
&gt;see [[HTMLFormattingPluginInfo]]
!!!!!Revisions
&lt;&lt;&lt;
2009.01.05 [2.4.0] in wikifyTextNodes(), pass w.highlightRegExp and w.tiddler to wikify() so that search term highlighting and tiddler-relative macro processing will work
| see [[HTMLFormattingPluginInfo]] for additional revision details |
2005.06.26 [1.0.0] Initial Release (as code adaptation - pre-dates TiddlyWiki plugin architecture!!)
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.HTMLFormattingPlugin= {major: 2, minor: 4, revision: 0, date: new Date(2009,1,5)};

// find the formatter for HTML and replace the handler
initHTMLFormatter();
function initHTMLFormatter()
{
	for (var i=0; i&lt;config.formatters.length &amp;&amp; config.formatters[i].name!=&quot;html&quot;; i++);
	if (i&lt;config.formatters.length)	config.formatters[i].handler=function(w) {
		if (!this.lookaheadRegExp)  // fixup for TW2.0.x
			this.lookaheadRegExp = new RegExp(this.lookahead,&quot;mg&quot;);
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source)
		if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart) {
			var html=lookaheadMatch[1];
			// if &lt;nowiki&gt; is present, just let browser handle it!
			if (html.indexOf('&lt;nowiki&gt;')!=-1)
				createTiddlyElement(w.output,&quot;span&quot;).innerHTML=html;
			else {
				// if &lt;hide linebreaks&gt; is present, suppress wiki-style literal handling of newlines
				if (html.indexOf('&lt;hide linebreaks&gt;')!=-1) html=html.replace(/\n/g,' ');
				// remove all \r's added by IE textarea and mask newlines and macro brackets
				html=html.replace(/\r/g,'').replace(/\n/g,'\\n').replace(/&lt;&lt;/g,'%%(').replace(/&gt;&gt;/g,')%%');
				// create span, let browser parse HTML
				var e=createTiddlyElement(w.output,&quot;span&quot;); e.innerHTML=html;
				// then re-render text nodes as wiki-formatted content
				wikifyTextNodes(e,w);
			}
			w.nextMatch = this.lookaheadRegExp.lastIndex; // continue parsing
		}
	}
}

// wikify #text nodes that remain after HTML content is processed (pre-order recursion)
function wikifyTextNodes(theNode,w)
{
	function unmask(s) { return s.replace(/\%%\(/g,'&lt;&lt;').replace(/\)\%%/g,'&gt;&gt;').replace(/\\n/g,'\n'); }
	switch (theNode.nodeName.toLowerCase()) {
		case 'style': case 'option': case 'select':
			theNode.innerHTML=unmask(theNode.innerHTML);
			break;
		case 'textarea':
			theNode.value=unmask(theNode.value);
			break;
		case '#text':
			var txt=unmask(theNode.nodeValue);
			var newNode=createTiddlyElement(null,&quot;span&quot;);
			theNode.parentNode.replaceChild(newNode,theNode);
			wikify(txt,newNode,highlightHack,w.tiddler);
			break;
		default:
			for (var i=0;i&lt;theNode.childNodes.length;i++)
				wikifyTextNodes(theNode.childNodes.item(i),w); // recursion
			break;
	}
}
//}}}</pre>
</div>
<div title="HaemoSideBarOptions" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" tags="HaemoglobinTheme" _hash="4a0c19468c44022a4fd4f7cfac2bb44eb621fb46" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/HaemoSideBarOptions/1188307:3ce2f8ecdb34a34bd584dda67932638f5fb39900&quot;" server.page.revision="1188307" server.title="HaemoSideBarOptions">
<pre>&lt;&lt;closeAll&gt;&gt;&lt;&lt;permaview&gt;&gt;&lt;&lt;newTiddler&gt;&gt;&lt;&lt;newJournal 'DD MMM YYYY'&gt;&gt;&lt;&lt;saveChanges&gt;&gt;&lt;&lt;slider chkSliderOptionsPanel OptionsPanel 'options »' 'Change TiddlyWiki advanced options'&gt;&gt;</pre>
</div>
<div title="Hfjgj" creator="inforabbi" modifier="inforabbi" created="201012111849" modified="201012111849" tags="Yry jfhfhj yry." _hash="798fa4b8cd496a40384709d662eca23f8eb43ba5" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/Hfjgj/76144:5ac494f362f6857e39174bab39b1fbd49c40b8bd&quot;" server.page.revision="76144" server.title="Hfjgj">
<pre>Jfhfhj'</pre>
</div>
<div title="HoverMenu" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201403110154" _hash="2b8f779c6cc32a18035446fcc2d237fcbce279e1" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/HoverMenu/1685641:9e2e4a804024f45e2c770647bdc6199d265da8eb&quot;" server.page.revision="1685641" server.title="HoverMenu">
<pre>&lt;&lt;top&gt;&gt;
&lt;&lt;toggleSideBar&gt;&gt;&lt;&lt;renameButton '&gt;' &gt;&gt;
&lt;&lt;jump j '' top&gt;&gt;
&lt;&lt;saveChanges&gt;&gt;&lt;&lt;renameButton s 'Save TiddlyWiki'&gt;&gt;
&lt;&lt;newTiddler&gt;&gt;&lt;&lt;renameButton n&gt;&gt;
</pre>
</div>
<div title="HoverMenuPlugin" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" tags="systemConfig" _hash="84eaf70e1678d51817c4272fd91c20e99ee005b2" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/HoverMenuPlugin/1188312:95a3582edcee07bdae780a73b11264e5fdc73775&quot;" server.page.revision="1188312" server.title="HoverMenuPlugin">
<pre>/***
|Name|HoverMenuPlugin|
|Created by|SaqImtiaz|
|Location|http://tw.lewcid.org/#HoverMenuPlugin|
|Version|1.11|
|Requires|~TW2.x|
!Description:
Provides a hovering menu on the edge of the screen for commonly used commands, that scrolls with the page.

!Demo:
Observe the hovering menu on the right edge of the screen.

!Installation:
Copy the contents of this tiddler to your TW, tag with systemConfig, save and reload your TW.
To customize your HoverMenu, edit the HoverMenu shadow tiddler.

To customize whether the menu sticks to the right or left edge of the screen, and its start position, edit the HoverMenu configuration settings part of the code below. It's well documented, so don't be scared!

The menu has an id of hoverMenu, in case you want to style the buttons in it using css.

!Notes:
Since the default HoverMenu contains buttons for toggling the side bar and jumping to the top of the screen and to open tiddlers, the ToggleSideBarMacro, JumpMacro and the JumpToTopMacro are included in this tiddler, so you dont need to install them separately. Having them installed separately as well could lead to complications.

If you dont intend to use these three macros at all, feel free to remove those sections of code in this tiddler.

!To Do:
* rework code to allow multiple hovering menus in different positions, horizontal etc.
* incorporate code for keyboard shortcuts that correspond to the buttons in the hovermenu

!History:
*03-08-06, ver 1.1.2: compatibility fix with SelectThemePlugin
*03-08-06,  ver 1.11: fixed error with button tooltips
*27-07-06, ver 1.1 : added JumpMacro to hoverMenu
*23-07-06

!Code
***/

/***
start HoverMenu plugin code
***/
//{{{
config.hoverMenu={};
//}}}

/***
HoverMenu configuration settings
***/
//{{{
config.hoverMenu.settings={
               align: 'right',    //align menu to right or left side of screen, possible values are 'right' and 'left'               
               x: 1,              // horizontal distance of menu from side of screen, increase to your liking.
               y: 158            //vertical distance of menu from top of screen at start, increase or decrease to your liking
               };
//}}}

//{{{
//continue HoverMenu plugin code
config.hoverMenu.handler=function()
{              
               if (!document.getElementById(&quot;hoverMenu&quot;))
               {
               var theMenu = createTiddlyElement(document.getElementById(&quot;contentWrapper&quot;), &quot;div&quot;,&quot;hoverMenu&quot;);
               theMenu.setAttribute(&quot;refresh&quot;,&quot;content&quot;);
               theMenu.setAttribute(&quot;tiddler&quot;,&quot;HoverMenu&quot;);
               var menuContent = store.getTiddlerText(&quot;HoverMenu&quot;);
               wikify(menuContent,theMenu);
              }

	       var Xloc = this.settings.x;
	       Yloc =this.settings.y;
	       var ns = (navigator.appName.indexOf(&quot;Netscape&quot;) != -1);
	       function SetMenu(id)
                        {
		        var GetElements=document.getElementById?document.getElementById(id):document.all?document.all[id]:document.layers[id];
		        if(document.layers)GetElements.style=GetElements;
		        GetElements.sP=function(x,y){this.style[config.hoverMenu.settings.align]=x +&quot;px&quot;;this.style.top=y +&quot;px&quot;;};
		        GetElements.x = Xloc;
		        GetElements.y = findScrollY();
		        GetElements.y += Yloc;
		        return GetElements;
	                }
               window.LoCate_XY=function()
                        {
		        var pY =  findScrollY();
                        ftlObj.y += (pY + Yloc - ftlObj.y)/15;
		        ftlObj.sP(ftlObj.x, ftlObj.y);
		        setTimeout(&quot;LoCate_XY()&quot;, 10);
	                }
               ftlObj = SetMenu(&quot;hoverMenu&quot;);
	       LoCate_XY();
};

window.old_lewcid_hovermenu_restart = restart;
restart = function()
{
               window.old_lewcid_hovermenu_restart();
               config.hoverMenu.handler();
};

setStylesheet(
&quot;#hoverMenu .imgLink, #hoverMenu .imgLink:hover {border:none; padding:0px; float:right; margin-bottom:2px; margin-top:0px;}\n&quot;+
&quot;#hoverMenu  .button, #hoverMenu  .tiddlyLink {border:none; font-weight:bold; background:#e0e1fe; color:#FFF; padding:0 5px; float:right; margin-bottom:4px;}\n&quot;+
&quot;#hoverMenu .button:hover, #hoverMenu .tiddlyLink:hover {font-weight:bold; border:none; color:#fff; background:#000; padding:0 5px; float:right; margin-bottom:4px;}\n&quot;+
&quot;#hoverMenu .button {width:100%; text-align:center}&quot;+
&quot;#hoverMenu { position:absolute; width:7px;}\n&quot;+
&quot;\n&quot;,&quot;hoverMenuStyles&quot;);


config.macros.renameButton={};
config.macros.renameButton.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{

               if (place.lastChild.tagName!=&quot;BR&quot;)
                     {
                      place.lastChild.firstChild.data = params[0];
                      if (params[1]) {place.lastChild.title = params[1];}
                     }
};

config.shadowTiddlers[&quot;HoverMenu&quot;]=&quot;&lt;&lt;top&gt;&gt;\n&lt;&lt;toggleSideBar&gt;&gt;&lt;&lt;renameButton '&gt;' &gt;&gt;\n&lt;&lt;jump j '' top&gt;&gt;\n&lt;&lt;saveChanges&gt;&gt;&lt;&lt;renameButton s 'Save TiddlyWiki'&gt;&gt;\n&lt;&lt;newTiddler&gt;&gt;&lt;&lt;renameButton n&gt;&gt;\n&quot;;
//}}}
//end HoverMenu plugin code

//Start ToggleSideBarMacro code
//{{{
config.macros.toggleSideBar={};

config.macros.toggleSideBar.settings={
         styleHide :  &quot;#sidebar { display: none;}\n&quot;+&quot;#contentWrapper #displayArea { margin-right: 1em;}\n&quot;+&quot;&quot;,
         styleShow : &quot; &quot;,
         arrow1: &quot;«&quot;,
         arrow2: &quot;»&quot;
};

config.macros.toggleSideBar.handler=function (place,macroName,params,wikifier,paramString,tiddler)
{
          var tooltip= params[1]||'toggle sidebar';
          var mode = (params[2] &amp;&amp; params[2]==&quot;hide&quot;)? &quot;hide&quot;:&quot;show&quot;;
          var arrow = (mode == &quot;hide&quot;)? this.settings.arrow1:this.settings.arrow2;
          var label= (params[0]&amp;&amp;params[0]!='.')?params[0]+&quot; &quot;+arrow:arrow;
          var theBtn = createTiddlyButton(place,label,tooltip,this.onToggleSideBar,&quot;button HideSideBarButton&quot;);
          if (mode == &quot;hide&quot;)
             { 
             (document.getElementById(&quot;sidebar&quot;)).setAttribute(&quot;toggle&quot;,&quot;hide&quot;);
              setStylesheet(this.settings.styleHide,&quot;ToggleSideBarStyles&quot;);
             }
};

config.macros.toggleSideBar.onToggleSideBar = function(){
          var sidebar = document.getElementById(&quot;sidebar&quot;);
          var settings = config.macros.toggleSideBar.settings;
          if (sidebar.getAttribute(&quot;toggle&quot;)=='hide')
             {
              setStylesheet(settings.styleShow,&quot;ToggleSideBarStyles&quot;);
              sidebar.setAttribute(&quot;toggle&quot;,&quot;show&quot;);
              this.firstChild.data= (this.firstChild.data).replace(settings.arrow1,settings.arrow2);
              }
          else
              {    
               setStylesheet(settings.styleHide,&quot;ToggleSideBarStyles&quot;);
               sidebar.setAttribute(&quot;toggle&quot;,&quot;hide&quot;);
               this.firstChild.data= (this.firstChild.data).replace(settings.arrow2,settings.arrow1);
              }

     return false;
}

setStylesheet(&quot;.HideSideBarButton .button {font-weight:bold; padding: 0 5px;}\n&quot;,&quot;ToggleSideBarButtonStyles&quot;);
//}}}
//end ToggleSideBarMacro code

//start JumpToTopMacro code
//{{{
config.macros.top={};
config.macros.top.handler=function(place,macroName)
{
               createTiddlyButton(place,&quot;^&quot;,&quot;jump to top&quot;,this.onclick);
}
config.macros.top.onclick=function()
{
               window.scrollTo(0,0);
};

config.commands.top =
{
               text:&quot; ^ &quot;,
               tooltip:&quot;jump to top&quot;
};

config.commands.top.handler = function(event,src,title)
{
               window.scrollTo(0,0);
}
//}}}
//end JumpToStartMacro code

//start JumpMacro code
//{{{
config.macros.jump= {};
config.macros.jump.handler = function (place,macroName,params,wikifier,paramString,tiddler)
{
        var label = (params[0] &amp;&amp; params[0]!=&quot;.&quot;)? params[0]: 'jump';
        var tooltip = (params[1] &amp;&amp; params[1]!=&quot;.&quot;)? params[1]: 'jump to an open tiddler';
        var top = (params[2] &amp;&amp; params[2]=='top') ? true: false;        

        var btn =createTiddlyButton(place,label,tooltip,this.onclick);
        if (top==true)
              btn.setAttribute(&quot;top&quot;,&quot;true&quot;)
}

config.macros.jump.onclick = function(e)
{
        if (!e) var e = window.event;
        var theTarget = resolveTarget(e);
        var top = theTarget.getAttribute(&quot;top&quot;);
	var popup = Popup.create(this);
	if(popup)
		{
                 if(top==&quot;true&quot;)
                                {createTiddlyButton(createTiddlyElement(popup,&quot;li&quot;),'Top ↑','Top of TW',config.macros.jump.top);
                                 createTiddlyElement(popup,&quot;hr&quot;);}
		
		story.forEachTiddler(function(title,element) {
			createTiddlyLink(createTiddlyElement(popup,&quot;li&quot;),title,true);
			});
                }
	Popup.show(popup,false);
	e.cancelBubble = true;
	if (e.stopPropagation) e.stopPropagation();
	return false;
}

config.macros.jump.top = function()
{
       window.scrollTo(0,0);
}
//}}}
//end JumpMacro code

//utility functions
//{{{
Popup.show = function(unused,slowly)
{
	var curr = Popup.stack[Popup.stack.length-1];
	var rootLeft = findPosX(curr.root);
	var rootTop = findPosY(curr.root);
	var rootHeight = curr.root.offsetHeight;
	var popupLeft = rootLeft;
	var popupTop = rootTop + rootHeight;
	var popupWidth = curr.popup.offsetWidth;
	var winWidth = findWindowWidth();
        if (isChild(curr.root,'hoverMenu'))
              var x = config.hoverMenu.settings.x;
        else
              var x = 0;
	if(popupLeft + popupWidth+x &gt; winWidth)
		popupLeft = winWidth - popupWidth -x;
        if (isChild(curr.root,'hoverMenu'))
  	        {curr.popup.style.right = x + &quot;px&quot;;}
        else
                curr.popup.style.left = popupLeft + &quot;px&quot;;
	curr.popup.style.top = popupTop + &quot;px&quot;;
	curr.popup.style.display = &quot;block&quot;;
	addClass(curr.root,&quot;highlight&quot;);
	if(config.options.chkAnimate)
		anim.startAnimating(new Scroller(curr.popup,slowly));
	else
		window.scrollTo(0,ensureVisible(curr.popup));
}

window.isChild = function(e,parentId) {
        while (e != null) {
                var parent = document.getElementById(parentId);
                if (parent == e) return true;
                e = e.parentNode;
                }
        return false;
};
//}}}


</pre>
</div>
<div title="How to socialise" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeMissing excludeSearch" _hash="e730478f88ff38b560ebde4eaf4267b136bf6584" server.content-type="" server.permissions="read" server.bag="system-info_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-info_public" server.etag="&quot;system-info_public/How%20to%20socialise/1521880:3162eeeaa7c75192064f8d0b4b828f4acb8c340f&quot;" server.page.revision="1521880" server.title="How to socialise">
<pre>There are a lot of interesting people using ~TiddlySpace that you might like to keep track of and interact with. There are a number of ways of doing this.

If you see a number in the speech bubble in one of your tiddlers, it means that someone is writing about the same thing as you. You can find out what they're saying by clicking on it. Likewise, if you see something interesting in someone else's space, you can respond to it and write up your own thoughts on the subject by clicking &quot;Reply to this tiddler&quot;.

Additionally, if you find anyone interesting, or you find an interesting looking space and you'd like to know when it's changed, you can &quot;follow&quot; that space. To do this, simply create a tiddler with the title: {{{@space-name}}} and tag it {{{follow}}}. If you want, you can store some notes about that space in the body of the tiddler.

If you then want to know what happening, simply [[include|How do I include/exclude spaces?]]@docs the @tivity space and then visit your activity stream at [[/activity|/activity]], or just visit the @tapas space directly.

!Not sure who to follow?
Here's a few suggestions:
* @fnd
* @cdent
* @pmario
* @bengillies
* @dickon</pre>
</div>
<div title="How to use the activity feed" creator="jon" modifier="jon" created="201009300833" modified="201010041245" tags="excludeLists excludeMissing tips" _hash="531f97b615c5f0c81df63a44ee91f28d2a586f25" server.content-type="" server.permissions="read" server.bag="following_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/following_public" server.etag="&quot;following_public/How%20to%20use%20the%20activity%20feed/70973:402200da479473dcac48b654a43d31198769c1f4&quot;" server.page.revision="70973" server.title="How to use the activity feed">
<pre>The activity feed is best for sharing opinions on something. To make best use of it create a tiddler and tag it with a username you would like to share thought with on this subject.

For instance I might create a tiddler called [[Animal I'd least like to be stuck in a cage with]]. I might say 
&lt;&lt;&lt;
I would least like to be stuck in a cage with a lion as it could tear me apart amongst other reasons.
&lt;&lt;&lt;
I then tag it @matias to get @matias's attention to see what he think. This flags it in @matias's activity feed and tells him that I am interested in his thoughts. Of course @matias can ignore it, and if he is not using the activity feed feature he may not even know about the message. If he wants to respond all @matias then has to do is create his own tiddler [[Animal I'd least like to be stuck in a cage with]]. Matias might say
&lt;&lt;&lt;
A lion would be not as bad as a great white shark... not only would you be stuck in a cage with it but you would  be underwater with a likelihood of drowning to increase suffering.
&lt;&lt;&lt;
It's not over yet.. now I can refine my original post with the thoughts of Matias. I might think mm, @matias has got a point there with the water, but I think a crocodile would more likely eat me then a great white shark and I fancy my chances with the great white.

I then update my tiddler to say 
&lt;&lt;&lt;
I would least like to be stuck in a cage with a crocodile as it could tear me apart amongst other reasons. A lion would also be scary however I'm not a good swimmer so would be less likely to be able to make an escape. A crocodile is worse than a shark as shark attacks on humans are rare, so I'd fancy my chances.
&lt;&lt;&lt;

We continue replying this way revising our tiddlers till the process finishes and I have a tiddler which clearly explains the [[Animal I'd least like to be stuck in a cage with]] with very detailed reasoning.</pre>
</div>
<div title="IM和IRM" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="a1cdd866047f3f5b76cc0e0e828d111250c432e9" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/IM%E5%92%8CIRM/1188306:0a9e242c7c4385e5298830eb38bc860839a1ab37&quot;" server.page.revision="1188306" server.title="IM和IRM">
<pre>信息管理的概念比信息资源管理的概念要广一些。信息资源管理的含义比信息管理的含义要深一些。

信息资源管理是信息管理的一个发展阶段；信息管理的实质在于“管理过程”，信息管理的目的在于充分开发和有效利用信息资源。

 概括起来，信息管理就是充分地开发、科学地管理和有效地利用信息资源的全过程。  
</pre>
</div>
<div title="ImageMacroPlugin" creator="jon" modifier="jon" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch systemConfig" _hash="3f1696962a1dff3028ea1a4307d8b95c3b3ceb65" server.content-type="text/javascript" server.permissions="read" server.bag="tiddlyspace" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" server.etag="&quot;tiddlyspace/ImageMacroPlugin/1521897:1e6f43dd8632b89df8093d2b6feb61dd6216a1fc&quot;" server.page.revision="1521897" server.title="ImageMacroPlugin">
<pre>/***
|''Name''|ImageMacroPlugin|
|''Version''|0.9.4|
|''Description''|Allows the rendering of svg images in a TiddlyWiki|
|''Author''|Osmosoft|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''Notes''|Currently only works in modern browsers (not IE)|
|''Requires''|BinaryTiddlersPlugin|
!Usage
{{{&lt;&lt;image SVG&gt;&gt;}}} will render the text of the tiddler with title SVG as an SVG image (but not in ie where it will fail silently)
!!Parameters
width/height: specify width/height parameters
link: make the image link to a given location
tiddlyLink: link to a tiddler

!Notes
Binary tiddlers in TiddlyWeb when passed through the wikifier will be shown as images.
eg. {{{&lt;&lt;view text wikified&gt;&gt;}}} on a binary tiddler will show the image.
{{{&lt;&lt;view fieldname image&gt;&gt;}}}
will render the value of the tiddler field 'fieldname' as an image. This field can contain a tid
{{{&lt;&lt;image SiteIcon&gt;&gt;}}}
will create an image tag where the tiddler has content type beginning image and not ending +xml
will attempt to create svg object in other scenarios
{{{&lt;&lt;image /photos/x.jpg&gt;&gt;}}}
will create an image tag with src /photos/x.jpg as long as there is not a tiddler called /photos/x.jpg in 
which case it will render that tiddler as an image. Note for the case of svg files it will attempt to render as an svg if possible via the image
tag. It doesn't embed the svg in the dom for security reasons as svg code can contain javascript.
!Code
***/
//{{{
(function($) {

var macro = config.macros.image = {
	shim: &quot;/bags/common/tiddlers/shim&quot;,
	ieVersion: config.browser.isIE ? parseInt(config.browser.ieVersion[1], 10) : false,
	svgns: &quot;http://www.w3.org/2000/svg&quot;,
	xlinkns: &quot;http://www.w3.org/1999/xlink&quot;, 
	svgAvailable: document.implementation.hasFeature(&quot;http://www.w3.org/TR/SVG11/feature#BasicStructure&quot;, &quot;1.1&quot;),
	_fixPrefix: 1,
	_external_cache: {},
	_image_tag_cache: {},
	_image_dimensions: {},
	locale: {
		badImage: &quot;This image cannot be displayed.&quot;
	},
	handler: function(place, macroName, params, wikifier, paramString, tiddler){
		var imageSource = params[0];
		// collect named arguments
		var args = macro.getArguments(paramString, params);
		this.renderImage(place, imageSource, args);
	},
	init: function() {
		var startupImages = store.getTaggedTiddlers(&quot;systemImage&quot;);
		var place = $(&quot;&lt;div /&gt;&quot;).attr(&quot;id&quot;, &quot;systemImageArea&quot;).appendTo(&quot;body&quot;).hide()[0];
		for(var i = 0; i &lt; startupImages.length; i++) {
			var image = startupImages[i];
			macro.renderImage(place, image.title, { idPrefix: &quot;&quot; });
		}
		var data = new Image();
		data.onload = function() {
			// note ie 8 only supports data uris up to 32k so cannot be relied on
			macro.supportsDataUris = this.width != 1 || this.height != 1 ? false : true;
			macro.supportsDataUris = macro.ieVersion &amp;&amp; macro.ieVersion &lt; 9 ? false : macro.supportsDataUris;
		};
		data.onerror = data.onload;
		data.src = &quot;data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==&quot;;
	},
	refreshImage: function(src) {
		var elements = macro._image_tag_cache[src] ? macro._image_tag_cache[src] : [];
		if(macro._image_dimensions[src]) {
			macro._image_dimensions[src] = false;
		}
		for(var i = 0; i &lt; elements.length; i++) {
			var el = $(elements[i]);
			var newSrc = &quot;%0?nocache=%1&quot;.format(src, Math.random());
			el.attr(&quot;src&quot;, newSrc); // force reload
		}
	},
	isBinaryImageType: function(contentType) {
		return (contentType &amp;&amp; contentType.indexOf(&quot;image&quot;) === 0 &amp;&amp;
			contentType.indexOf(&quot;+xml&quot;) != contentType.length - 4) ? true : false;
	},
	isImageTiddler: function(tiddler) {
		return macro.isSVGTiddler(tiddler) || macro.isBinaryImageTiddler(tiddler);
	},
	isSVGTiddler: function(tiddler) {
		var type = tiddler ? tiddler.fields['server.content-type'] : false;
		return type == &quot;image/svg+xml&quot;;
	},
	isBinaryImageTiddler: function(tiddler) {
		return macro.isBinaryImageType(tiddler.fields['server.content-type']);
	},
	renderImage: function(place, imageSource, options) {
		var imageTiddler = store.getTiddler(imageSource);
		var container;
		var classes = [&quot;image&quot;];
		if(options.link) {
			classes = classes.concat([&quot;imageLink&quot;, &quot;externalLink&quot;]);
			container = $(&quot;&lt;a /&gt;&quot;).attr(&quot;href&quot;, options.link).appendTo(place)[0];
		} else if(options.tiddlyLink) {
			classes.push(&quot;imageLink&quot;);
			container = createTiddlyLink(place, options.tiddlyLink, false);
		} else {
			container = $(&quot;&lt;span /&gt;&quot;).appendTo(place)[0];
		}
		$(container).addClass(classes.join(&quot; &quot;));

		options = options ? options : {};
		if(imageTiddler &amp;&amp; macro.isBinaryImageTiddler(imageTiddler)) { // handle the case where we have an image url
			return macro._renderBinaryImageTiddler(container, imageTiddler, options);
		} else if(imageTiddler){ // handle the case where we have a tiddler
			return macro._renderSVGTiddler(container, imageTiddler, options);
		} else { // we have a string representing a url
			return macro._renderBinaryImageUrl(container, imageSource, options);
		}
	},
	_renderAlternateText: function(container, options) {
		var img;
		var src = options.src || &quot;&quot;;
		if(options.width &amp;&amp; options.height) {
			img = $(&quot;&lt;img /&gt;&quot;).attr(&quot;src&quot;, src).addClass(&quot;svgImageText&quot;).attr(&quot;width&quot;, options.width).
				attr(&quot;height&quot;, options.height).appendTo(container);
		}
		var alt = options.alt;
		if(img &amp;&amp; alt) {
			img.attr(&quot;alt&quot;, alt).attr(&quot;title&quot;, alt);
		} else if(alt) {
			$(container).addClass(&quot;svgImageText&quot;).text(alt);
		}
		macro._image_tag_cache[src] = img;
	},
	_renderSVGTiddler: function(place, tiddler, options) {
		if(!options) {
			options = {};
		}
		merge(options, { tiddler: tiddler, fix: true});

		if(macro.svgAvailable) {
			this._importSVG(place, options); // display the svg
		} else if(options.altImage) {
			var image = options.altImage;
			delete options.altImage;
			this._renderBinaryImageUrl(place, image, options);
		} else {
			this._renderAlternateText(place, options); // instead of showing the image show the alternate text.
		}
	},
	_renderBinaryImageTiddler: function(place, tiddler, options) {
		var resourceURI;
		var fields = tiddler.fields;
		if(fields[&quot;server.type&quot;] == &quot;tiddlyweb&quot;) { // construct an accurate url for the resource
			resourceURI = &quot;%0/%1/tiddlers/%2&quot;.format(config.defaultCustomFields[&quot;server.host&quot;],
				fields[&quot;server.workspace&quot;], encodeURI(fields[&quot;server.title&quot;]));
		} else { // guess the url for the resource
			resourceURI = tiddler.title;
		}
		var ctype = fields[&quot;server.content-type&quot;] || tiddler.type;
		var text = tiddler.text;
		if(macro.supportsDataUris &amp;&amp; ctype &amp;&amp; text.indexOf(&quot;&lt;html&quot;) == -1) {
			var uri = &quot;data:%0;base64,%1&quot;.format(ctype, text);
			options.src = resourceURI;
			return macro._renderBinaryImageUrl(place, uri, options);
		} else if(options.src) {
			return macro._renderBinaryImageUrl(place, options.src, options);
		} else {
			return macro._renderBinaryImageUrl(place, resourceURI, options);
		}
	},
	_renderImageTag: function(container, src, width, height, options) {
		var img;
		img = $(&quot;&lt;img /&gt;&quot;).appendTo(container);
		if(height) {
			img.attr(&quot;height&quot;, height);
		}
		if(width) {
			img.attr(&quot;width&quot;, width);
		}
		if(macro.ieVersion &amp;&amp; macro.ieVersion &lt; 7 &amp;&amp; macro.shim &amp;&amp; options.ie6png) {
			$(img).css({width: userW, height: userH,
					filter: &quot;progid:DXImageTransform.Microsoft.AlphaImageLoader(src='%0', sizingMethod='scale')&quot;.format(src)
				}).attr(&quot;src&quot;, macro.shim);
		} else {
			img.attr(&quot;src&quot;, src);
		}
		if(!macro._image_tag_cache[options.srcUrl]) {
			macro._image_tag_cache[options.srcUrl] = [];
		}
		img = $(img).addClass(options.imageClass)[0];
		macro._image_tag_cache[options.srcUrl].push(img);
		return img;
	},
	_getDimensions: function(realDimensions, reqDimensions, preserve) {
		var w = realDimensions.width;
		var h = realDimensions.height;
		var reqh = reqDimensions.height;
		var reqw = reqDimensions.width;
		var finalw = w, finalh = h;
		var ratiow = reqw / w, ratioh = reqh / h;
		var scaledw = ratioh * w;
		var scaledh = ratiow * h;
		if(!reqw &amp;&amp; reqh) {
			finalw = scaledw;
			finalh = reqh;
		} else if(reqw &amp;&amp; !reqh) {
			finalw = reqw;
			finalh = scaledh;
		} else if(reqh &amp;&amp; reqw) {
			var preserveWidth = w &gt; h ? true : false;
			if(preserve) {
				if(preserveWidth &amp;&amp; scaledh &lt; reqh) {
					finalh = scaledh;
					finalw = reqw;
				} else {
					finalh = reqh;
					finalw = scaledw;
				}
			} else {
				finalw = reqw;
				finalh = reqh;
			}
		}
		return { width: parseInt(finalw, 10), height: parseInt(finalh, 10) };
	},
	_renderBinaryImageUrl: function(container, src, options) {
		var srcUrl = options.src ? options.src : src;
		srcUrl = srcUrl.indexOf(&quot;/&quot;) === -1 ? &quot;/%0&quot;.format(srcUrl) : srcUrl; // for IE. 
		var image_dimensions = macro._image_dimensions[srcUrl];
		var image = new Image(); // due to weird scaling issues where you use just a width or just a height
		var createImageTag = function(dimensions, error) {
			if(error) {
				var altImage = options.altImage;
				if(altImage) {
					delete options.altImage;
					macro._renderBinaryImageUrl(container, altImage, options);
				} else {
					options.src = src;
					macro._renderAlternateText(container, options);
				}
			} else {
				var dim = macro._getDimensions(dimensions, { 
					width: options.width, height: options.height }, options.preserveAspectRatio);
				options.srcUrl = srcUrl;
				macro._renderImageTag(container, src, dim.width, dim.height, options);
			}
		};

		if(!image_dimensions) {
			image.onload = function() {
				var dimensions = { width: image.width, height: image.height};
				macro._image_dimensions[srcUrl] = dimensions;
				createImageTag(dimensions);
			};
			image.onerror = function() {
				createImageTag(null, true);
			};
			image.src = src;
		} else {
			createImageTag(image_dimensions);
		}
	},
	_generateIdPrefix: function(){
		return &quot;twsvgfix_&quot; + (this._fixPrefix++).toString() + &quot;_&quot;;
	},
	_fixSVG: function(childNodes, idPrefix) {
		var urlPattern = /url\(\#([^\)]*)\)*/ig;
		var fixes = [
		{ attr: &quot;id&quot;, pattern: /^(.*)$/ig },
		{ attr: &quot;href&quot;, namespace: macro.xlinkns, pattern: /^#(.*)$/ig }
		];
		var url_fixes = [&quot;filter&quot;, &quot;fill&quot;, &quot;mask&quot;, &quot;stroke&quot;, &quot;style&quot;];
		for(var i = 0; i &lt; url_fixes.length; i++) {
			fixes.push({ attr: url_fixes[i], pattern: urlPattern });
		}
		for(var t = 0; t &lt; childNodes.length; t++) {
			var node = childNodes[t];
			for(var a = 0; a &lt; fixes.length; a++) {
				var fix = fixes[a];
				var attr = fix.attr;
				var ns = fix.namespace || &quot;&quot;;
				if(node.hasAttributeNS &amp;&amp; node.hasAttributeNS(ns, attr)) {
					var v = node.getAttributeNS(ns, attr);
					fix.pattern.lastIndex = 0;
					var match = fix.pattern.exec(v);
					if(match) {
						// Make sure replacement string doesn't contain any single dollar signs
						var toReplace = match[1];
						if(toReplace.indexOf(idPrefix) !== 0 &amp;&amp; toReplace.indexOf(&quot;twglobal_&quot;) !== 0) {
							var replacement = (idPrefix + toReplace).replace(&quot;$&quot;, &quot;$$$$&quot;); 
							v = v.replace(match[1], replacement);
						}
						node.setAttributeNS(ns, attr,v);
					}
				}
			}
			var children = node.childNodes;
			if(children.length &gt; 0) {
				this._fixSVG(children, idPrefix);
			}
		}
	},
	_importSVG: function(place, options){
		options = options ? options : {};
		var svgDoc, tiddlerText = options.tiddler.text;
		if (window.DOMParser) {
			svgDoc = new DOMParser().parseFromString(tiddlerText, &quot;application/xml&quot;).documentElement;
			var idPrefix = options.idPrefix || this._generateIdPrefix();
			this._fixSVG([svgDoc], idPrefix);
			var el = document.importNode(svgDoc, true);
			var svgHolder = document.createElementNS(macro.svgns,&quot;svg&quot;);
			var width = options.width;
			var height = options.height;
			if(width || height) {
				if(width &amp;&amp; height) { // set view box of containing svg element based on the svg viewbox and width and height.
					var viewBox = el.getAttribute(&quot;viewBox&quot;);
					var topLeft = &quot;0 0&quot;;
					if(viewBox) {
						topLeft = viewBox.replace(/([0-9]*) +([0-9]*) +([0-9]*) +([0-9]*) */gi,&quot;$1 $2&quot;);
					}
					svgHolder.setAttributeNS(macro.svgns, &quot;viewBox&quot;, &quot;0 0 %0 %1&quot;.format(width, height));
				} else {
					if(!width) {
						width = el.getAttribute(&quot;width&quot;);
					}
					if(!height) {
						height = el.getAttribute(&quot;height&quot;);
					}
				}
				svgHolder.setAttribute(&quot;width&quot;, width);
				svgHolder.setAttribute(&quot;height&quot;, height);

				el.setAttribute(&quot;width&quot;, &quot;100%&quot;);
				el.setAttribute(&quot;height&quot;, &quot;100%&quot;);
				svgHolder.setAttribute(&quot;class&quot;, &quot;svgImage svgIcon %0&quot;.format(options.imageClass || &quot;&quot;));
				svgHolder.appendChild(el);
				place.appendChild(svgHolder);
			}
			else {
				var existing = el.className ? el.className.baseVal : &quot;&quot;;
				el.setAttribute(&quot;class&quot;,&quot;svgImage %0&quot;.format(existing));
				place.appendChild(el);
			}
			// if a tiddler attribute is set this is read as a link
			$(&quot;[tiddler], [tiddlyLink]&quot;, place).attr(&quot;refresh&quot;, &quot;link&quot;).click(function(ev) {
				var tiddler = $(ev.target).attr(&quot;tiddlyLink&quot;);
				if(tiddler) {
					story.displayTiddler(ev.target, tiddler);
				}
			});
		}
	},
	getArguments: function(paramString, params) {
		var args = paramString.parseParams(&quot;name&quot;, null, true, false, true)[0];
		var options = {};
		for(var id in args) {
			if(true) {
				var p = args[id];
				if(id == &quot;def&quot;) {
					options[id] = p;
				} else {
					options[id] = p[0];
				}
			}
		}
		var width = isNaN(params[1]) ? false : parseInt(params[1], 10);
		var height = isNaN(params[2]) ? false : parseInt(params[2], 10);

		options.width = macro.lookupArgument(options, &quot;width&quot;, width);
		options.height = macro.lookupArgument(options, &quot;height&quot;, height);
		options.preserveAspectRatio = args.preserveAspectRatio &amp;&amp; 
			args.preserveAspectRatio[0] == &quot;yes&quot; ? true : false;
		options.tiddlyLink = macro.lookupArgument(options, &quot;tiddlyLink&quot;, false);
		options.link = macro.lookupArgument(options, &quot;link&quot;, false);
		return options;
	},
	lookupArgument: function(args, id, ifEmpty) {
		return args[id] ? args[id] : ifEmpty;
	}
};

// update views
var _oldwikifiedview = config.macros.view.views.wikified;
// update wikifier to check tiddler type before rendering
merge(config.macros.view.views, {
	wikified: function(value, place, params, wikifier, paramString, tiddler) {
		if(macro.isImageTiddler(tiddler) &amp;&amp; params[0] == &quot;text&quot;) {
			var newplace = $(&quot;&lt;div /&gt;&quot;).addClass(&quot;wikifiedImage&quot;).appendTo(place)[0];
			macro.renderImage(newplace, tiddler.title, { alt: macro.locale.badImage });
		} else {
			_oldwikifiedview.apply(this, arguments);
		}
	},
	image: function(value, place, params, wikifier, paramString, tiddler) {
		// a field can point to another tiddler whereas text is the current tiddler.
		var title = params[0] == &quot;text&quot; ? tiddler.title : value;
		var args = macro.getArguments(paramString, params);
		macro.renderImage(place, title, args);
	}
});
config.shadowTiddlers.StyleSheetImageMacro = [&quot;.wikifiedImage svg, .wikifiedImage .image { width: 80%; }&quot;,
	&quot;.svgImageText { background-color:[[ColorPalette::Error]]; color:#ddd; display: inline-block; }&quot;,
	&quot;span.svgImageText { display: inline-block; overflow: hidden; }&quot;
].join(&quot;&quot;);
store.addNotification(&quot;StyleSheetImageMacro&quot;, refreshStyles);

})(jQuery);
//}}}</pre>
</div>
<div title="ImportExternalLinksPlugin" creator="jon" modifier="jon" created="201201041625" modified="201201041625" tags="excludeLists excludeSearch systemConfig" summary="" _hash="2887de749a491f27a1b294ead85a27085395f964" server.content-type="" server.permissions="read" server.bag="following_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/following_public" server.etag="&quot;following_public/ImportExternalLinksPlugin/71184:ad60eb9091383bc40bddf82ebb07f84090df103a&quot;" server.page.revision="71184" server.title="ImportExternalLinksPlugin">
<pre>/***
|''Name''|ImportExternalLinksPlugin|
|''Author''|Jon Robson|
|''Version''|0.3.0|
|''Requires''|TiddlySpaceConfig TiddlySpaceLinkPlugin TiddlySpaceCloneCommand|
|''Description''|Turns space links into ajax links so you don't have to leave the comfort of your own TiddlyWiki|
!Notes
This maybe should hides the editTiddler, cloneTiddler commands. Ideally the toolbar commands should hide themselves but we need a strong concept of &quot;this is a sucked in tiddler&quot; to do that.
***/
//{{{
(function($){
var tiddlyspace = config.extensions.tiddlyspace;
_createSpaceLink = createSpaceLink;
if(_createSpaceLink) {
	createSpaceLink = function(place, spaceName, title, alt, isBag) {
		var tooltip = &quot;Click to open in current document. Right click to open in original space.&quot;;
		_createSpaceLink(place, spaceName, title, alt, isBag);
		var workspace;
		if(isBag) {
			workspace = &quot;bags/%0&quot;.format(spaceName);
		} else {
			workspace = &quot;bags/%0_public&quot;.format(spaceName);
		}
		if(title &amp;&amp; spaceName != tiddlyspace.currentSpace.name) {
			var link = $(&quot;a:last&quot;, place);
			var newlink = $(&quot;&lt;a /&gt;&quot;).text(&quot;[link]&quot;).after(link[0]);
			// very hacky
			var updateInterval = setInterval(function() {
				var href = link.attr(&quot;href&quot;);
				if(href) {
					$(newlink).attr(&quot;href&quot;, href);
					clearInterval(updateInterval);
				}
			}, 200);
			
			if(link.parent(&quot;.replyLink&quot;).length == 0) { // don't suck in a reply link.
				link.attr(&quot;title&quot;, tooltip).addClass(&quot;importLink&quot;).click(function(ev) {
					if(config.floorboards) {
						config.floorboards.pushUnique(&quot;%0_public&quot;.format(spaceName));
					}
					tiddlyspace.displayServerTiddler(ev.target, title, workspace, function(el) {
						// TODO: the commands should disable themselves based on the meta information.
						//$(&quot;[commandname=editTiddler], [commandname=cloneTiddler]&quot;, el).hide(); 
					});
					ev.preventDefault();
				});
			}
		}
	};
}

var _cloneHandler = config.commands.cloneTiddler.handler;
config.commands.cloneTiddler.handler = function(event, src, title) {
	var _tiddler = store.getTiddler(title);
	var source = _tiddler ? _tiddler.fields[&quot;server.bag&quot;] : false;
	var imported = _tiddler ? _tiddler.fields[&quot;tiddler.source&quot;] : false;
	var realTitle = _tiddler ? _tiddler.fields[&quot;server.title&quot;] : title;
	_cloneHandler.apply(this, [event, src, title]);
	var tidEl = story.getTiddler(title);
	$(story.getTiddlerField(title, &quot;title&quot;)).val(realTitle);
	if(source) {
		$(&quot;&lt;input /&gt;&quot;).attr(&quot;type&quot;, &quot;hidden&quot;).attr(&quot;edit&quot;, &quot;tiddler.source&quot;).val(source).appendTo(tidEl);
		$(&quot;&lt;input /&gt;&quot;).attr(&quot;type&quot;, &quot;hidden&quot;).attr(&quot;edit&quot;, &quot;server.activity&quot;).appendTo(tidEl);
	}
}
})(jQuery);
//}}}</pre>
</div>
<div title="Inquiry System" creator="inforabbi" modifier="inforabbi" created="201309120610" modified="201309120610" _hash="e27fabcfcbf816c627983bd39ed4a3903b44c43b" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/Inquiry%20System/1398521:229173e91c511d70aef8deb09ba415205d7a4cea&quot;" server.page.revision="1398521" server.title="Inquiry System">
<pre>*洛克探索体系（Lockean IS）针对经验与实证的真理智慧提供论证，将群体成员的共同看法，特别是专家间充分而够广度的同意，作为建构社会事实的基础；经由不同观察，实验所获得的同意提供经略事实基础。
*莱布尼兹探索体系（Leibnizian IS）则将形式、象征、理解或诠释性的真理智慧，借助说明的模型，丰富并扩大一致性、通盘性、完全性的概念思想影响应用的机会，越能掌握对象全貌的智能，越可以协助经略活动的有效性。
*黑格尔探索体系（Hegelian IS）则是在对立矛盾综合中呈现的真理智慧。 从对立矛盾的见解中，黑格尔探索体系（Hegelian IS）彰显出彼此对立专家的内在假设，逐步深化反省的层次，让关系人或专家从辩证（dialectic）中扩大视野，跳脱原有的思考框架，创造更周全的经略智慧。
*康德探索体系（Kantian IS）则主张结合洛克与莱布尼兹探索体系，在理论与事实数据互涉整合（interplaying integration）中，透视问题的本质，发挥慧见与信心，依目标与需要来寻找规划有效的方案与途径，提升实现价值的可能性。
*至于辛吉尔探索体系（Singerian IS）则引进最兼容并蓄的真理智慧，将重要的关系人的心理、社会背景都纳入，提供经略以人为本的多元整合智能。从对自我与关系人的了解，反省以及重视伦理性假设的适当性与合理性，我们强化经略当下与未来的实力。
</pre>
</div>
<div title="LoadMissingExternalTiddler" creator="jon" modifier="jon" created="201101261506" modified="201101261506" tags="excludeLists excludeSearch systemConfig" _hash="21d4a5b307ec25fbf88b43e0f08e4070d1702956" server.content-type="" server.permissions="read" server.bag="following_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/following_public" server.etag="&quot;following_public/LoadMissingExternalTiddler/71032:295100ba23579daec5a5c507874f3fa8d62e4308&quot;" server.page.revision="71032" server.title="LoadMissingExternalTiddler">
<pre>/***
|''Name''|LoadMissingExternalTiddler|
|''Version''|0.1.0|
|''Author''|Jon Robson|
***/
//{{{
var _loadMissing = Story.prototype.loadMissingTiddler;
Story.prototype.loadMissingTiddler = function(title,fields,callback) {
	var matches = title.match(/([^\*]*) \*\(@([^\)]*)\)\*/);
	if(matches &amp;&amp; matches.length &gt; 0) {
		var sTitle = matches[1];
		var space = matches[2];		config.extensions.tiddlyspace.displayServerTiddler(story.getTiddler(title),
			sTitle, &quot;bags/%0_public&quot;.format(space));
	} else {
	_loadMissing.apply(this, arguments)
	}
};
//}}}
</pre>
</div>
<div title="Lokij" creator="inforabbi" modifier="inforabbi" created="201012091936" modified="201012091936" tags="Et" _hash="4d39eed9ffd57aeb2b200fd470c1402ae677f8a4" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/Lokij/76145:ca0e4ff3fced4d53a3c31a5e46c1be4be9e0d900&quot;" server.page.revision="76145" server.title="Lokij">
<pre>Type the text for 'New Tiddler'Tgrfds</pre>
</div>
<div title="MainMenu" creator="inforabbi" modifier="inforabbi" created="201012081657" modified="201512131802" _hash="8257f9936657929e09210a816a2e1fe2a45c4c33" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/MainMenu/2423259:da695c0c0176fe3aea74030e600d0d363c5af668&quot;" server.page.revision="2423259" server.title="MainMenu">
<pre>&lt;&lt;fontSize&gt;&gt; 
[[第一章]]
[[第二章]]
[[第三章]]
[[第四章]]
[[第五章]]
[[第六章]]
[[第七章]]
[[第八章]]
[[第九章]]
[[第十章]]
----
[[课程说明]]
[[实践教学内容]]
[[教材图书下载]]
[[学习资源]]
[[关于Tiddlyspace使用]]
[[学员名单]]
[[标签云]]
[[粉丝]]
----
[[MainMenu]]
[[学习空间动态|http://gcsim.tiddlyspace.com/activity]]



</pre>
</div>
<div title="MarkupPreHead" creator="inforabbi" modifier="inforabbi" created="201012050836" modified="201304160708" _hash="acfedabe8b4dcd01f61d831a178600fa02920240" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/MarkupPreHead/1188308:ca72a5f075edfdd4f9e3ca201fbe23e8df4a4e6b&quot;" server.page.revision="1188308" server.title="MarkupPreHead">
<pre>&lt;!--{{{--&gt;
&lt;link rel='alternate' type='application/rss+xml' title='RSS' href='index.xml'/&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;fckeditor/fckeditor.js&quot;&gt;&lt;/script&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div title="OA产生的历史背景" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="a5f3ae3830d269a63d4e59ad1d59f5860ca7ff6e" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/OA%E4%BA%A7%E7%94%9F%E7%9A%84%E5%8E%86%E5%8F%B2%E8%83%8C%E6%99%AF/1188309:d61e15305ab15d64bbeadd49c904eea2417e6690&quot;" server.page.revision="1188309" server.title="OA产生的历史背景">
<pre>*OA运动兴起于20世纪60年代。
&gt;1966. @@color(#ff0000):Educational Resources Information Center@@  (ERIC) launched by the U.S

&gt;Peter Suber所开设的学术性blog----[[Open Access News|http://www.earlham.edu/~peters/fos/fosblog.html]]是一个了解OA运动的中心站点。其中就有一个[[''Timeline of the Open Access Movement''的网页|zotero://attachment/8858/timeline.html]]详细记录了自1966年以来的OA年度大事件。</pre>
</div>
<div title="OA的实现方式" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="7e00725c16159803475affa763f9afce3e2f8673" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/OA%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F/1188310:17f2455c1393dc714e37cef31c1a7167c67a8b6c&quot;" server.page.revision="1188310" server.title="OA的实现方式">
<pre>*所谓OA的实现方式是指在互联网上基于开放存取理念，用以向用户免费提供信息所采用的各种方式。

*针对OA的实现方式（vehicles），我曾经发表过一篇文章：[[开放存取及其实现方式研究|oa vehicles .doc]]对时下比较突出的实现方式进行了阐述。它们主要包括以下几种：
**开放存取期刊（Open Access Journals）
**开放存取仓储（OA archives or repositories）
**个人WEB站点（personal web sites）
**博客（blogs）
**维基（wikis）
**邮件列表服务（listservs）
** P2P的文档共享网络（file-sharing networks）
**论坛（discussion forums）

*我们这里主要介绍一下前面两种：
**OA期刊
&gt;它与传统期刊一样，对提交的论文实施严格的同行评审，从而保证期刊的质量。但是开放存取期刊之所以能够为广大网络用户免费使用，关键在于其独特的付费模式，因为毕竟开放存取期刊的出版成本虽然较低，但也不是没有花费的，现在其最流行的支付成本模式是作者付费模式。作者付费模式是针对于传统读者付费模式而言的，即作者为出版自己的研究成果需要支付一定的出版费用，并为读者提供免费服务。这种模式是基于科研工作者天然有发表自己的科研成果的愿望，开放存取的倡导者认为作者付费模式具有合理性并可以保证开放存取期刊出版的可持续发展。
&gt;对于OA期刊的利用我们后面会介绍：@@color(#ff0000):DOAJ（Directory  of Open Access Journals）@@
**OA仓储
&gt;OA仓储的资源不像开放存取期刊是依靠同行评审来保证质量的，它主要通过限定学科范围，并依靠学校和作者的水平来进行衡量。开放存取仓储的内容既包括预印本（preprints），也包括后印本（postprints），而且其类型广泛，除了电子文本（eprints）格式的资料外，也包括各种课件甚至多媒体声像资料等数字化资源。开放存取仓储的免费使用程度由作者自己控制。在预印本状态，作者拥有版权，可以自由决定是否将文献加入仓储，如果作为后印本版权已经转给了期刊出版机构，作者要将文献加入仓储就必须征得期刊出版机构的许可。当然大多数期刊（超过70％）还是允许这样做的。
&gt;OA仓储包括基于学科的OA仓储和基于机构的OA仓储</pre>
</div>
<div title="OA的概念" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="7c369a7925a653664a447b95745b062afed364b0" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/OA%E7%9A%84%E6%A6%82%E5%BF%B5/1188315:164bafe60cfd20cc1f1a453b2722741d30a2ddf2&quot;" server.page.revision="1188315" server.title="OA的概念">
<pre>所谓OA是指开放存取的网络信息资源，其英文名称是Open Access，它是互联网上免费学术信息资源的重要类型之一。&lt;&lt;slider chkSlider 免费学术信息资源  免费学术信息资源的种类&gt;&gt;</pre>
</div>
<div title="OA的特点" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="a799cd48aee3e2d0b2ca87d5a3a7d16c01d7d66d" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/OA%E7%9A%84%E7%89%B9%E7%82%B9/1188311:45fbf0106097f1df59708fe36788aa193b52b32b&quot;" server.page.revision="1188311" server.title="OA的特点">
<pre>OA资源的特点主要有如下几个方面：
**数字化
**网络存储媒介
**免费（free）
**自由（free）</pre>
</div>
<div title="OA资源检索路径" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="ab899817dbea57c6f279b38b6db887e5937694ee" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/OA%E8%B5%84%E6%BA%90%E6%A3%80%E7%B4%A2%E8%B7%AF%E5%BE%84/1188322:75e7514a7696ee91e8db2dfeadea188f7358b821&quot;" server.page.revision="1188322" server.title="OA资源检索路径">
<pre>*搜索
**[[Google Scholar|https://scholar.google.com]]
&gt;我们看看用它进行检索的效果，以folksonomy为例。这里是[[用GS检索的结果|zotero://attachment/13349/scholar.html]]，这里是[[用一般的google检索的结果|zotero://attachment/10006/search.html]]，这里是[[用汉字检索的结果|zotero://attachment/11221/scholar.html]]。对于中文检索来说，绝大部分都是从维普数据库中获取的资源，我们对照一下[[直接在维普中进行检索的结果|weipufenzhongfenl.jpg]]，再对照一下[[期刊网中的检索结果|qikanwangfenzhongfenlei.jpg]]
**[[Scirus|http://www.scirus.com]]
&gt;Scirus是由国际著名的出版集团Elsevier开发的、专门针对科学家和科研人员的学术信息搜索工具。目前Scirus可以检索4.5亿与科研相关的网页、大量的同行评审（Peer Review）的期刊论文、预印本、科研报告、科学数据、专利发明等资料，以OA资源为主，当然也包括一些商业性的收费资源。
&gt;我们看看[[其检索效果|zotero://attachment/12036/search.html]]
**[[Open J-Gate|http://www.openj-gate.com]]
&gt;号称世界上最大的开放存取英文期刊入口，目前收录了4254份OA期刊。我们看看其检索，[[以Wiki为例|zotero://attachment/3865/results.html]]，共检索出18页，176份文献，我们看看其中的文献均给出了全文的链接（Full-Text-Link）
*目录
**[[DOAJ|http://www.doaj.org]]
&gt;DOAJ即开放存取期刊目录（Directory of Open Access Journals），是瑞典隆德大学在2003年推出的OA检索系统，目前收录2880份期刊，其中926种支持检索文章，共有158284篇文章。
&gt;除了通过浏览期刊外，我们可以直接检索，即[[Find Articles|zotero://attachment/4069/doaj.html]]，例如我们[[以Connectivism为关键词进行检索得到3个结果|zotero://attachment/12442/doaj.html]]
*仓储
**[[中国预印本服务系统|zotero://attachment/9903/index.html]]
&gt;该系统是由中国科学技术信息研究所开发的平台，可以进行[[全文检索|zotero://attachment/5668/search.html]]
**[[中国科技论文在线|zotero://attachment/8186/www.paper.edu.cn.html]]
&gt;该系统是由教育部批准的，由其下属科技发展中心主办的平台。同样可以进行[[论文检索|zotero://attachment/8186/www.paper.edu.cn.html]]
**[[奇迹文库|zotero://attachment/16099/eprint.html]]
&gt;由一群年轻的科技工作者所创办的预印本文库。就其开放性和时代性来说这是个很不错的站点。同时我们可以通过奇迹的主页链接到其他更多的OA仓储站点。
**[[开放阅读期刊联盟|zotero://attachment/15512/]]
&gt;现在的期刊还不算多，但是还是有些和本专业相关的，可以下载全文。
**[[OAIster|zotero://attachment/5740]]
&gt;由美国密歇根大学开发维护的优秀仓储，目前可检索13,677,466条记录。[[这里是它的检索界面|zotero://attachment/5740/bib-idx.html]]
</pre>
</div>
<div title="OPEN GLOSSARY" creator="inforabbi" modifier="inforabbi" created="201511012046" modified="201511012047" _hash="2d8eec162a0597681dea6121e648a6247042961f" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/OPEN%20GLOSSARY/2388585:218094d01b293d38b93b67cc064f0924ee54c5f4&quot;" server.page.revision="2388585" server.title="OPEN GLOSSARY">
<pre>[[来源|https://docs.google.com/document/d/1-6ZokH_dyeMYB5vXJNgSnzu6EtWtKrvgpB8nNHfZynU/edit?pli=1]]
OPEN GLOSSARY
This glossary is designed to to be a resource to help inform people about the culture of ‘open scholarship’. 

CORE DEFINITIONS
Open Access (OA) - making peer reviewed scholarly manuscripts freely available via the Internet, permitting any user to read, download, copy, distribute, print, search, or link to the full text of these articles, crawl them for indexing, pass them as data to software, or use them for any lawful purpose, without financial, legal or technical barriers other than those inseparable from gaining access to the internet itself. The only constraint on reproduction and distribution, and the only role for copyright in this domain, should be to give authors control over the integrity of their work and the right to be properly acknowledged and cited. May also refer to theses, books, book chapters, monographs and other content. (BOAI)
Open data - making data freely available on the public internet permitting any user to download, copy, analyse, re-process, pass them to software or use them for any other purpose without financial, legal, or technical barriers other than those inseparable from gaining access to the internet itself. (Panton Principles)
Open Educational Resources (OER) - high quality, openly licensed, online educational materials for sharing, use, and reuse. They act as a mechanism for instructional innovation as networks of teachers and learners share best practices. (Source)
Open Source Software (OSS) - availability of source code for a piece of software, along with an open source license permitting reuse, adaptation, and further distribution. (Wikipedia)
Article Processing Charge (APC) - a fee charged to the author, creator, or institution to cover the cost of an article, rather than charging the potential reader of the article. APCs may apply to both commercial and Open Access publications. APCs are sometimes charged to authors in order to cover the cost of publishing and disseminating an article in an Open Access scholarly journal. (Source)
Repository (article) - an archive to deposit manuscripts. These can be personal, institutional, on websites such as ResearchGate or Academia.edu, or subject-based such as arXiv.
Repository (software) - a collection of files managed with version control software (e.g., bzr, hg, git, csv, svn, etc.). Can be hosted by third-party (e.g., github, bitbucket, sourceforge), by an institution, or self-hosted locally.
Institutional Repository - An online database designed to collect the intellectual output of a particular institution or university, including digital collections such as electronic theses and dissertations (ETDs), pre-prints, or faculty scholarship, and presents associated metadata regarding the these items. (Source)
Embargo period - a length of time imposed on a research output for users who have not paid for access, or do not have institutional access, before it is made freely available. 
Reproducibility - the similarity between results of a study or experiment and independent results obtained with the same methods but under different conditions (i.e., pertains to results).
Repeatability - the similarity between results of a study or experiment and independent results obtained with the same methods and under identical conditions (i.e., pertains to methods and analysis).
Publishing - to make a research output available to the public. Commonly refers to the release of works by publishers, irrespective of whether public access is granted or not.
Sharing - the joint use of a resource or space. A fundamental aspect of collaborative research. As most research is digitally-authored &amp; digitally-published, the resulting digital content is non-rivalrous and can be shared without any loss to the original creator.
Paywall - restriction via a financial barrier to research, often implemented by legacy publishers. Can be removed by personal or institutional subscription. See Loginwall for a barrier that prevents access, without asking for money to unlock access.
Funder - an institute, corporation or government body that provides financial assistance for research.
Publisher - a company whose purpose is to make the outputs of research publicly available.
Creative work - An original, identifiable piece of content, such as an academic paper, a diagram, a photograph, or a video clip. Owners of creative works have rights, such as copyright, that they might reserve to keep control of the content, or relinquish to allow others to share and reuse that content.
Intellectual property (IP) - a legal term that refers to creations of the mind. Examples of intellectual property include music, literature, and other artistic works; discoveries and inventions; and phrases, symbols, and designs.
Intellectual Property Rights (IPR) - the rights given to the owners of intellectual property. IPR is protected either automatically (eg copyright, design rights) or by registering or applying for it (eg trademarks, patents). Protecting your intellectual property makes it easier to take legal action against anyone who steals or copies it. IPR can be legally sold, assigned or licenced by the creator to other parties, or joint-owned.
Copyright - The aspect of Intellectual property that gives creators the right to permit (or not permit) what happens to their creations, as opposed to trademark rights or moral rights.
Copyleft - a form of licensing that makes a creative work freely available to be modified, and requiring all modified and extended versions of the creative work to be free as well. Open Access does not require works to be copyleft, nor does it necessarily exclude copyleft works from being open access. The recommended licence (CC-BY) for academic publishing is not copyleft.
Subscription - a form of business model whereby a fee is paid in order to gain access to a product or service - in this case, the outputs of scholarly research.
Toll access - whereby a fee is required to pass a paywall to access research. 
Legacy publisher - a publisher that historically has operated on a paywall-based business model. 
Open access publisher - a publisher that publishes all research articles as open access articles. Most legacy publishers have options to make journals at least partially open access.
Open access journal - a journal that exclusively comprises open access articles. 
Impact - the scale of use of research outputs both inside and outside of academia.
Self-archiving - making a copy of a manuscript available through a personal website, institutional repository, or other repository. 
Scholarly Communication  - The creation, transformation, dissemination, and preservation of knowledge related to teaching, research, and scholarly endeavors; the process of academics, scholars and researchers sharing and publishing their research findings so that they are available to the wider academic community. The creation, transformation, dissemination, and preservation of knowledge related to teaching, research, and scholarly endeavors; the process of academics, scholars and researchers sharing and publishing their research findings so that they are available to the wider academic community. (Sources: Wikipedia, University of Pittsburgh)

TYPES OF OPEN ACCESS
Preprint - a manuscript draft that has not yet been subject to formal peer review, distributed to receive early feedback on research from peers.
Post-print - a manuscript draft after it has been peer reviewed (rarely used).
Version of Record (VOR) - the final version of a manuscript, after peer review and processing by a publishers.
Accepted author manuscript (AAM) - the version of a manuscript that has been accepted by a publisher for publication. 
Eprint - a digital version of a research document available online for a repository.

Deprecated terms, the use of which is not encouraged as they are typically poorly-understood:
Green OA - making a version of the manuscript freely available in a repository. 
Gold OA - making the final version of manuscript freely available immediately upon publication by the publisher. 
Gratis OA - the paper is available to read free-of-charge, though its reuse is still restricted, for example by ‘All Rights Reserved’ copyright. (source)
Libre OA - the paper is made available under an open licence, allowing it to be shared and reused, depending on which licence is used. (source) (Libre and Gratis refer to copyright and licensing restrictions)
Diamond OA - a form of gold open access in which there is no author fee (APC).

DECLARATIONS AND PRINCIPLES (source)
The Declaration of Helsinki - 1964
Declaration of Havana Towards Equitable Access to Health Information - 2001
Budapest Open Access Initiative (BOAI) - 2002
The Bethesda Statement on Open Access Publishing - 2003
The Declaration of Berlin on Open Access to Knowledge in the Sciences and Humanities - 2003
Kronberg Declaration on the Future of Knowledge Acquisition and Sharing 2007
The Declaration of Brisbane - 2007
Panton Principles for Open Data - 2009 (by Peter Murray-Rust, Cameron Neylon, Rufus Pollock, and John Wilbanks)
The Cost of Knowledge Manifesto - 2012
The San Francisco Declaration on Research Assessment (DORA) - 2013

LICENSING
Creative Commons - A suite of licences that set out the rights of authors and users, providing alternatives to the standard copyright. CC licences are widely used, simple to state, machine readable and have been created by legal experts. There are a variety of CC licences, each of which use one or more clauses, examples of which are given below. Some licences are compatible with Open Access in the Budapest sense, and some are not. (Source) (Choosing a license)
CC Attribution (BY) - a licence clause that allows the reuse, sharing, and remixing of materials providing the original author is appropriately attributed. Aside from attribution the CC-BY licence has no other restrictions on copying. Compatible with free cultural works.
CC NonCommercial (NC) - a licence clause allowing the reuse, sharing, and remixing of materials providing that it is for non-commercial purposes. Not compatible with free cultural works. 
CC NoDerivatives (ND) - a licence clause requiring that derivatives are not made of the original works. Not compatible with free cultural works.
CC ShareAlike (SA) - a licence clause requiring that derivative works have the same licence as the original. Compatible with free cultural works.
CC Zero (CC0) - waiver of copyright; no rights reserved. Places content as openly as possible in the public domain. The only GPL-compatible Creative Commons instrument that can also be used for software. (Source)
BSD (Berkeley Software Distribution) - A family of UNIX-like operating systems. (Wikipedia)
GNU GPL (General Public License) - A free copyleft license for software and other kinds of works (Source)
Apache License - A free software license by the Apache Software Foundation. (Source)
MIT License - An open and permissive software license. (Source) 
Author Addendum - An author addendum is a supplemental or added agreement to a publishing contract that defines or changes the terms of the contract, often focusing on the transfer of copyright ownership. For authors of scholarly works, an author addendum to a publisher’s standard publication contract may be necessary to help ensure that authors protect important rights, such as the right to post their articles online to a personal website or in a digital repository; the right to use their works within a classroom setting; or the right to use their works as the foundation for future research. (Source)

JOURNAL TYPES
Megajournal - a journal with editorial criteria based on scientific soundness instead of a priori estimated newsworthiness or 'impact'.
Journal - an aggregation of published research articles. Historically divided into volumes and issues. 
Overlay journals - An open access, electronic journal that does not produce its own content, but selects and curates groups of articles that are already freely available online. An example of this is an ‘Epijournal’. (Wikipedia)
Hybrid journal - Some traditional journals offer an option for authors to make their individual articles freely accessible to anyone worldwide, for an additional fee. Other articles in the journal remain accessible only through subscription. Such journals are known as &quot;hybrid journals.&quot; (Source: MIT)
Library-based publishing - Many academic libraries are now beginning to act as publishers for scholarly works produced in their institutions and elsewhere.  In some cases, the library works with the university scholarly press to publish works. In other cases, the library publishes works independently or separately from the academic press. Library-based publishers are often strongly in favor of Open Access. (Library Publishing Coalition)

PEER REVIEW
Peer review - a process by which a research article is vetted by experts in community before publication. (Sense About Science)
Post publication peer review - standard peer review, but after a research article has been formally published. 
Transferable peer review - reviews that travel with a paper if it is rejected from a journal. (Wiley pilot)
Open review - when reviews are made openly available, typically alongside the article. 
Signed peer review - when the individual reviews are publicly signed by those who conducted them. 
Portable peer review - independent peer review that travels with a manuscript that is submitted to subsequent different journals, designed to combat redundancy in the peer review process. (Rubriq)
Double blind peer review - when the reviewers don't know who the authors are, and vice versa. 
Registered Reports - A type of publication in which peer review of the suggested method is completed prior to data collection and analysis. Accepted papers then are guaranteed publication in the journal if the authors follow through with the registered methodology (Source)

ASSESSMENT AND METRICS
Altmetrics - Altmetrics are alternative ways of recording and measuring the use and impact of scholarship. Rather than solely counting the number of times a work is cited in scholarly literature, alternative metrics also measure and analyze social media (e.g., Facebook, Twitter, blogs, wikis, etc.), document downloads, links to publishing and unpublished research, and other uses of research literature, in order to provide a more comprehensive measurement of scholarships reach and impact. (Source)
Article-level metrics - all types of article-level metrics including download and usage statistics, citations, and article-level altmetrics (Source).
Bibliometrics - Bibliometrics is the branch of library and information science concerned with the application of mathematical and statistical analysis to bibliography. Bibliometrics involves the statistical analysis of books, articles, or other publications. 
Impact factor - a numerical measure that indicates the average number of citations to articles published over the previous two years in a journal, and frequently used as a proxy for a journal's relative importance.
H-index - a personal metric that relates the number of citations to the number of published papers for an academic. (Wikipedia)
Journal level metrics - metrics that apply to all papers published within a journal. A common example is Thomson Reuters’ journal impact factor. 

TOOLS AND TECHNOLOGY
Extensible Markup Language (XML) - A language that defines a set of rules for encoding documents in a format that is readable by both machines and humans. (Wikipedia)
ePub - A free and open e-book standard by the International Digital publishing Forum.
Machine readable - data or metadata in a format that can be understood by a computer.
Machine Readable Cataloguing (MARC) - a set of digital formats for the description of items catalogued by libraries. (Wikipedia)
Data mining - an analytic process designed to explore data in search of consistent patterns and/or systematic relationships between variables, and then to transform this information into content for future use. (Wikipedia)
Content mining - scalable extraction of information from content (e.g., photographs, videos, audio, metadata), using machines to ‘read’ and interpret content. (The ContentMine)
Comma-Separated Values, or Character-Separated Values (CSV) - a plain-text (non-binary) format for tabular data. 
Hypertext Markup Language (HTML) - the set of markup symbols or codes inserted in a file intended for display on a browser page. (Wikipedia)
LaTeX - a markup language for typesetting documents, particularly common in mathematics and the sciences. Many academic journals accept submissions in LaTeX. (Source)
Digital Object Identifier (DOI) - a unique text string that is used to identify digital objects such as journal articles or open source software releases. (Source)
Journal Article Tag Suite (JATS) - a common XML format in which publishers and archives can exchange journal content. (Source)
Uniform Resource Identifier (URI) - a string of characters used to identify a name of a resource to enable its digital and networked representation and interaction. (Wikipedia)
GitHub - a web-based service that provides a source code repository that works exclusively with the Git command-line tool. (Source)
Git - an open-source, distributed revision control system. (Source)
Bitbucket - Free source code hosting site. (Source)
IPython notebook - a web-based interactive computational environment where you can combine code execution, text, mathematics, plots and rich media into a single document. (Source)
AnnotatorJS / Hypothes.is - A framework and application for annotating resources online according to an emerging W3C standard for web annotations. Focus is on scholarly applications. (Source Annotator / Source Hypothes.is)
DSpace - a software for digital open repositories launched by The Massachusetts Institute of Technology (MIT) in 2002. (Source)
Flexible Extensible Digital Object and Repository Architecture (FEDORA) - a software for digital repositories launched by The Cornell and Virginia Universities in 2003. (Source)
Eprints - a software for open digital repositories to self-archiving launched by Southampton University in 2000. (Source)
OAI Media Importer Bot - A computer program, run by Daniel Mietchen, that takes figures and video clips from Open Access articles in PubMed, and copies them to Wikimedia Commons with full attribution of the original paper. This facilitates the reuse of those files in educational materials or Wikipedia articles.
Scraping - a computing technique to extract information from websites. (Wikipedia)
Scalable Vector Graphics (SVG) - a format for images that is open rather than tied to particular software, resolution-independent (unlike GIF, PNG and JPG), and structured so that with appropriate software it is relatively easy, for example, to translate labels into different languages.
Open Journal Systems (OJS) - a journal management and publishing system. (Source)
Open Monograph Press - an open source software platform for managing the editorial workflow required to see monographs, edited volumes, and scholarly editions through internal and external review, editing, cataloguing, production and publication. (Source)
Open Conference Systems (OCS) - a free Web publishing tool that will create a complete Web presence for scholarly conferences. (Source)
Open Harvester Systems - a free metadata indexing system. (Source)
ResearcherID - assigns a unique identifier for researchers to manager publication ists, track citations, and avoid author mis-identification. (Source)
ORCID - a persistent digital identifier that distinguishes individual researchers. Also supports integration in research workflows. (Source)
ProtocolsIO - Up-to-date crowdsourced protocol repository (Source)
Publish or Perish - software for retrieving and analysing academic citations. (Source)
Open lab notebooks - a concept of blogging about research on a regular basis, such that research notes and data are accumulated and published online as soon as they are obtained. (Wikipedia)
Stack Overflow - A Question and Answer site for programming issues. (Source)
Markdown - a syntax for adding formatting to documents allowing correctly formatted articles to be written in plain text. (Wikipedia)
Etherpad - An online, open source collaborative writing/editing tool operating in real time. (Source)
The Open Access Button - Tracks global encounters with paywalls, and helps provide access to papers through a ‘wishlist’. (Source)
Open Archives Initiative - Supplies a common framework to web communities that allows them to gain access to content in a standard manner by means of metadata harvesting. (Source) 

DATA REPOSITORIES 
Dryad - a curated resource that makes the data underlying scientific publications discoverable, freely reusable, and citable. (Source)
Global Biodiversity Information Facility (GBIF) - contains data about all types of life on Earth, published according to common data standards. (Source)
Knowledge Network for Biocomplexity (KNB) - a network for the discoverability, access, and interpretation of complex ecological data. (Source)
DataONE - a framework and infrastructure for Earth observational data. Source.
figshare - a repository where users can make all of their research outputs available in a citable, shareable, and discoverable manner. (Source)
Morphbank - an image database documenting a range of specimen-based research, including comparative anatomy and taxonomy. Funded by the National Science Foundation. (Source)
Morphobank - a web application for collaborative evolutionary research, specifically phylogenetic systematics or cladistics, involving morphology. (Source)
Genbank - the NIH sequence database comprising an annotated collection of all publicly available DNA sequences. Part of the International Nucleotide Sequence Database Collaboration. (Source)
UniProt - Central repository of protein sequence and annotation data. (Source)
Worldwide Protein Data Bank (wwPDB) - Publicly available repository of macromolecular structural data. (Source)
A list of data repositories approved by F1000Research.
Map of Open Educational Resource Repositories - Map containing locations for items in the directory of Open Educational Resource Repositories. (Source)
Zenodo - An all-purpose free to use repository for all research outputs. DOIs and flexible licensing. (Source)
Open Science Framework - A tool created by the Center for Open Science for scientists. It is both a research and workflow management tool and open repository. Their goal is to link up the entire research ecosystem, from conception through publication. They give the user full control over the openness of their work and allow for the creation of registrations, which can be used when submitting registered reports. (Source)
re3data.org - a global registry of research data repositories from different academic disciplines. (Source)
Databib - a searchable registry of research data repositories (Source) [Note that the Databib and re3data.org registries will merch by the end of 2015]

FUNDERS AND POLICY-RELATED
Publicly funded research - refers to research which is, at least in part, funded by Governments, often through Research Councils.
ROARMAP - The Registry of Open Access Repository Mandates and Policies (link)
Research Councils UK (RCUK) - The primary government research funding body in the UK. (Open Access policy)
Joint Information Systems Committee (JISC) - A UK educational charity, formerly the of HEFCE but now independent. Provides expertise to universities, colleges and cultural institutions on the use of technology to support research, including publication models, repositories, licensing, and infrastructure. (Source)
National Institute of Health (NIH) - The national medical research agency in the USA. (Public Access policy) 
National Science Foundation (NSF) - an independent federal agency in the USA for the funding of research. (Public Access policy)
Higher Education Funding Council for England (HEFCE) - a funding body for higher education, universities and colleges in England. (Open Access policy) 
Wellcome Trust - A life sciences funding body in the UK (Open Access policy)
The Research Excellence Framework (REF) - An initiative to assess researchers in the UK. Coordinated by HEFCE. 
Gates Foundation - A funding body co-ordinated by Melinda and Bill Gates. (Open Access policy)
Max Planck Society - a German research organisation with 82 Institutes worldwide. (Open Access policy)
CrossRef - an association of scholarly publishers that develops shared infrastructure to support more effective scholarly communication. (Source)
Public Knowledge Project (PKP) - a multi-university initiative developing free, open source software and conducting research to improve the quality and reach of scholarly publishing. (Source)
Scholarly Publishing and Academic Resources Coalition (SPARC) - an international alliance of academic and research libraries working to create a more open system of scholarly communication. (Source)
Open Access Scholarly Publishers Association (OASPA) - represents the interests of open access journal and book publishers in all scientific, technical, and scholarly disciplines. (Source)
Mandate - an authority to carry out a policy. In this context, largely to conform to open access policies.
OpenAIRE - a pan-European infrastructure that supports the EC’s Open Access Mandate in Horizon2020. All publications funded by the EC should be made available in Open Access and OpenAIRE harvests from a range of data sources namely repositories, OA publishers. (Source)
Department of Energy (DOE) - A federal agency addressing US energy, environment, and nuclear challenges. (Public Access Policy)

OPEN COMMUNITY EVENTS 
Open Science meetups - London, UK (Open Research London); London, UK (London Open Drinks); Oxford, UK; Cambridge, UK; Chicago, Illinois; Washington DC (DC Open Drinks); Washington DC (Open Data Meetup); New York City, NYC; San Francisco, California.
Open Knowledge Festival - annual event hosted by Open Knowledge that brings together the international open community (topics include open data, open government, open science, open economics). (Source)
OpenCon - student and early career researcher conference on open access, open data, and open education. Launched November, 2014. (Resources)
Open Access Week - a global event promoting open access as a new norm in scholarship and research. (Source)

OPEN COMMUNICATION CHANNELS
Open Knowledge-run Open Science mailing list (link)
A wiki list of OA discussion forums from across the world (link)
Science Communication Forum mailing list (Imperial College London) (link)

MISCELLANEOUS
Open Access Movement (OAM) - a global movement started in the late 1990s and early 2000s fuelled by the widespread public access to the World Wide Web. Its prime objective is the free and unrestricted access and reuse of the world’s knowledge.
Open Archives Initiative (OAI) - develops and promotes interoperability standards that aim to facilitate the efficient dissemination of content. (Source)
Openwashing - having an appearance of open-source and open-licensing for marketing purposes, while continuing proprietary practices. Coined by Audrey Watters.
Curation - the selection, preservation, maintenance, collection and archiving of [digital] assets. Curation establishes, maintains, and adds value to repositories of digital data for present and future use. (Wikipedia)
Typesetting - the composition of text by arranging physical pieces of type or by using software to prepare a version of the text suitable for printing. Stored letters and other symbols are retrieved and ordered according to a language’s orthography (conventional spelling system of a language) for visual display.
Copy editing - a type of editing designed to improve the formatting, style, and accuracy of text. It usually does not involve changing the content of the original text.
Annotation - a comment with specific location and context, either inline or in the margin of a text document, or within a region of an image or video, or located within a specific row or cell of data in a data set.  
Citation - a reference to a published or unpublished source embedded in content, for the purposes of acknowledging the work and relevance of others to the topic of discussion where the citation appears.
References - defines a relationship between one object, a designator, and a second object, a source. Usually takes the form of a bibliography of academic papers at the end of a research manuscript.
Submission fee - a fee levied by some publishers for submitting a manuscript to their journals.
Accessibility - refers to the degree of access. Defined by an end-user basis, depending on their ability to understand or reuse content.
Mixed citation - a textual, bibliographic description of a work that is cited within text.
Data archiving - the process of moving data to a storage device for long-term preservation. (Wikipedia)
Computational reproducibility - when publishing computational findings, include details and access to the underlying code, data, and implementation.
Empirical reproducibility - the reproduction of results to obtain ‘verifiable facts’, through improving existing communication standards and reporting.
Statistical reproducibility - validating the statistical results, errors, and confidence measures in research. Also the statistical assessment of repeated results for validation purposes. (post from Victoria Stodden)
Loginwall - the requirement to log in to a system in order to access content.
Shibboleth - a single sign-in system for computer networks and services on the open Internet. (Wikipedia)
Athens - A sign-in system that provides access to library resources. (Source)
Journal to Wiki publication (J2W) - Copying text from a published paper to a wiki (such as Wikipedia or Wikibooks), with attribution: legally possible if the licence of the paper is less restrictive than the licence of the wiki.
Wiki to Journal publication (W2J) - Creating a paper on a wiki, using its features for collaboration and informal review, for submission to a journal for formal peer review. Might involve a public wiki such as Wikipedia or Wikiversity, or a specially-created wiki.
Fee waiver - If an institution, research funder or author cannot pay for an Article Processing Charge, many publishers or journals will offer partial or total waiving for fees.
Derivative work - A work based upon one or more pre-existing works, such as a translation, musical arrangement, dramatization, fictionalization, motion picture version, sound recording, art reproduction, abridgment, condensation, or any other form in which a work may be recast, transformed, or adapted. (Source)
Double-dipping - In the context of Open Access, double-dipping occurs when a journal has an article processing charge (APC) for publishing an author’s work, as well as requiring payment (usually through a subscription fee) by the potential user of the work. This model makes the institution or author pay twice to access the work. (Source)

SOURCES
Google Scholar - a freely accessible search engine for indexing the scholarly literature across an array of publishing formats and disciplines. (Source)
Directory of Open Access Repositories (OpenDOAR) - a directory of academic open access repositories. Also has a search function for repositories and repository contents. (Source)
Directory of Open Access Journals (DOAJ) - a directory indexing open access peer-reviewed journals (Source)
Registry of Open Access Repositories (ROAR) - a registry for open access repositories, hosted by the University of Southampton, UK. (Source)
Registry of Research Data Repositories - An open science tool that serves as a global registry of research data repositories. (Source)
PubMed - a repository comprising more than 24 million citations for the biomedical literature. (Source)
PubMed Central (PMC) - a free full-text archive of biomedical and life sciences journal literature at the US National Institutes of Health’s Library of Medicine. (Source) 
Europe PubMed Central (EuroPMC) - Based on PubMed Central, and part of a network of repositories supported by funders of life sciences and biomedical research. (Source)
Repository 66 - a mashup of data from ROAR and OpenDOAR overlayed onto Google maps.(Source)
Scientific Electronic Library Online (SciELO) - a programme started in Brazil in 1998 which has now expanded to 15 other countries, developed by FAPESP (Fundação de Amparo à Pesquisa do Estado de São Paulo) and BIREME (Centro Latino-americano e do Caribe em Informação em Ciências da Saúde). The objectives are to develop a common methodology for the preparation, storage and dissemination of scientific literature, including standardised evaluation and quality control processes. This comprises a model for cooperative electronic publication of scientific periodicals on the internet using organised bibliographic databases with full text access. (Source (Portuguese Language) (English))
Securing a Hybrid Environment for Research Preservation and Access - Rights of MEtadata for Open archiving (SHERPA-RoMEO) - a tool to check what the self-archiving policies for individual journals are. (Source)
Wikipedia - a multilingual, web-based, free-content encyclopedia project supported by the Wikimedia Foundation and based on a model of openly editable content. It is written collaboratively by volunteers.
Wikimedia - a global charitable movement, including volunteers, online platforms, and organisations, that aims to make the sum of all knowledge available to everyone on the planet. Wikimedia maintains and develops Wikipedia, Wikidata, Wikimedia Commons and other content projects, all of which are free and open. (Source)
Connecting Repositories (CORE) - a collection of open access repositories. (Source)
Paperity - a multidisciplinary aggregator of open access journals and papers, Gold and Hybrid. Aims to include ultimately 100% of open access literature. (Source)

RESOURCES
Information about worldwide research funders and institutions that fund open access article processing charges: http://www.nature.com/authors/open_access/funding.html.
Center for Open Science: A non-profit organization that works in a variety of ways to increase openness, reproducibility, and integrity in science. Resources for scientists, journals, and developers are listed below. (Tools, grants, badges, registered reports) 
http://centerforopenscience.org/involved_participate/
Course on Open Research from the OER Research Hub. (Source)
The School of Open, comprising courses, workshops and training programs. (Source)
List of Open Science books
Explainers by Eva Amsen of F1000Research: 
What is Open Access?
What is Open Peer Review?
What is post-publication peer review?
What is Open Data? 
What is Open Science? 
Lots of Copies Keep Stuff Safe (LOCKSS) - provides libraries and publishers with low-cost, open source digital preservation tools to preserve and provide access to persistent and authoritative digital content. (Source)
OpenLOCKSS - a project to negotiate with UK open access publishers for permission to include their titles in LOCKSS. Funded by JISC and led by the University of Glasgow, UK. (Source)
CLOCKSS - an archive for the long-term storage of Web-based scholarly publications. (Source)
The Open Data Handbook - discusses the legal, social and technical aspects of open data. (Source)
The Open Access DOI Resolver - links to repository URLs upon provision of a DOI. (Source)
How open is it? - standardised open access terminology, created by PLOS, SPARC and OASPA. (Source)
Other Open glossaries: University Library System, University of Pittsburgh; Oxford; SHERPA;  Cultural Anthropology Journal.
Open Science Stack Exchange - question and answer site for scientists interested in openly sharing their research (Source)


Created by Jon Tennant and Ross Mounce. This material is released under a Creative Commons Zero waiver. We strongly encourage the distribution and re-use of this material.

Additional contributors:
Richard Iannone, Chealsye Bowley, Martin Poulter, Matt Hall, Priscilla Ulguim, Lou Woodley, Sibele Fausto, Nazeefa Fatima, Karen Cranston, Lauren B. Collister, Alasdair Taylor, Matt Menzenski, Patricia Herterich.
</pre>
</div>
<div title="OpenDrive" creator="inforabbi" modifier="inforabbi" created="201310241259" modified="201310241259" _hash="397ac78dd6c7b5be7b5b8970d0a1fd7a65de4469" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/OpenDrive/1478856:c192245268f5000319a05e46f0d304d30e6ff0af&quot;" server.page.revision="1478856" server.title="OpenDrive">
<pre>[[这个支持公开的外链的网盘应该不错|http://www.opendrive.com]]，Good</pre>
</div>
<div title="PageTemplate" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" tags="HaemoglobinTheme" _hash="224e959625dc5220936df5da41c13b80509d7332" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/PageTemplate/1188313:e0e9b6032638c928872ebb829b54ad2278af03da&quot;" server.page.revision="1188313" server.title="PageTemplate">
<pre>&lt;!--{{{--&gt;
&lt;div id='header' class='header'&gt;

&lt;div class='headerShadow'&gt;
&lt;span class='searchBar' macro='search'&gt;&lt;/span&gt;
&lt;span class='siteTitle' refresh='content' tiddler='SiteTitle'&gt;&lt;/span&gt;&amp;nbsp;
&lt;span class='siteSubtitle' refresh='content' tiddler='SiteSubtitle'&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;div id='topMenu' refresh='content' tiddler='MainMenu'&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div id='sidebar'&gt;
&lt;div id='sidebarOptions' refresh='content' tiddler='HaemoSideBarOptions'&gt;&lt;/div&gt;
&lt;div id='sidebarTabs' refresh='content' force='true' tiddler='SideBarTabs'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id='displayArea'&gt;
&lt;div id='messageArea'&gt;&lt;/div&gt;
&lt;div id='tiddlersBar' refresh='none' ondblclick='config.macros.tiddlersBar.onTiddlersBarAction(event)'&gt;&lt;/div&gt;
&lt;div id='tiddlerDisplay'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id='contentFooter' refresh='content' tiddler='contentFooter'&gt;&lt;/div&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div title="RSS介绍与使用" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="32277c2847c81d6fcc4a40e816680c783251cf35" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/RSS%E4%BB%8B%E7%BB%8D%E4%B8%8E%E4%BD%BF%E7%94%A8/1188320:f0d212f0d63ca644992c8488a668e7276aff3f9f&quot;" server.page.revision="1188320" server.title="RSS介绍与使用">
<pre>@@color(#ff0033):''什么是RSS？''@@
*RSS有三个习惯上的称呼，即 “@@color(#000099):RDF Site Summary@@（RDF 站点摘要）”、“@@color(#000099):Really Simple Syndication@@（真正简单的连锁）”以及“@@color(#000099):Rich Site Summary@@（丰富站点摘要）”。
**我们从两个角度来理解RSS
***对于内容提供者来说，RSS是发布内容的一种简易方式（也叫聚合内容）。提供RSS输出，有利于让用户发现网站内容的更新。我们可以看看今天feedsky之类的种子烧录服务的火爆就知道
***对于用户来说，RSS是一种订阅机制，就像订报纸、杂志。可以通过这种机制，订阅喜欢的内容，例如：新闻、Blog、论坛帖子等。用户借助支持RSS的信息聚合工具，订阅支持RSS输出的网站内容，而无需逐个网站访问。RSS阅读工具自动收集订阅的最新信息。
**从理论上讲，任何网络上面的数字资源我们都可以通过RSS的方式进行推送和订阅。我们看看[[百度新闻的RSS推送|zotero://attachment/7651/n.html]]以及[[更多的RSS订阅说明|zotero://attachment/15933/rss.html]]
*认识RSS文档
**RSS文档格式是一种描述和同步网站内容的格式，是目前使用最广泛的XML应用。RSS搭建了信息迅速传播的一个技术平台，使得每个人都成为潜在的信息提供者。发布一个RSS文件后，这个RSS Feed中包含的信息就能直接被其他站点调用，而且由于这些数据都是标准的XML格式，所以也能在其他的终端和服务中使用。 
**我们来看一份[[官方的RSS文档格式|RSS document.txt]]以及[[实际的案例|MyblogRSS.txt]]。而这个[[实例的原始页面是这样的呢？|zotero://attachment/8334/blog.html]]
*RSS的订阅
**利用搜索引擎
***比如[[百度的RSS搜索订阅|zotero://attachment]]
**数据库中订阅
***比如在[[期刊网中的期刊订阅|zotero://attachment/11989/list.html]]
**通过网站浏览订阅
***比如浏览[[联合早报|zotero://attachment/2104/rss.html]]
**自主生成RSS种子
***比如利用[[page2rss|zotero://attachment/15149/www.page2rss.com.html]]以及[[中文的RSS快车|zotero://attachment/808/index.html]]
*RSS的阅读
**在线阅读器
***比如中文的[[鲜果|zotero://attachment/12166/default.html]]、[[抓虾|zotero://attachment/16086/index.html]]。最好用的[[Googlereader|zotero://attachment/1230/view.html]]。有中文版可用的。

*关于RSS对共享
**一般通过阅读器都可以导出OPML格式的文档，把这个文档共享即可让别人享用你的RSS订阅。比如在[[googlereader中的例子|zotero://attachment/2046/view.html]]

*关于我们的[[moodle课件的blog|zotero://attachment/14593/index.html]]及其[[rss问题|zotero://attachment/2559/edit.html]]


</pre>
</div>
<div title="RandomColorPalettePlugin" creator="jon" modifier="jon" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch systemConfig" _hash="c5b359abab5a1446d12be89e6ea608d2d73e4822" server.content-type="text/javascript" server.permissions="read" server.bag="system-plugins_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-plugins_public" server.etag="&quot;system-plugins_public/RandomColorPalettePlugin/1521872:6802ac38e5cefea28128f4eccdb8fed13bc6c1f8&quot;" server.page.revision="1521872" server.title="RandomColorPalettePlugin">
<pre>/***
|''Name''|RandomColorPalettePlugin|
|''Description''|Adds a random color palette to TiddlyWiki|
|''Author''|Jon Robson|
|''Version''|1.4.0|
|''Status''|stable|
|''Source''|https://github.com/jdlrobson/TiddlyWikiPlugins/raw/master/plugins/RandomColorPalettePlugin/RandomColorPalettePlugin.js|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
!Usage
{{{
&lt;&lt;RandomColorPalette&gt;&gt;
}}}
Sets and saves a random color palette on execution

{{{
&lt;&lt;RandomColorPaletteButton&gt;&gt;
}}}
Creates a button, which when clicked will change the color palette
More information at http://macros.tiddlyspace.com/#%5B%5BRandomColorPaletteButton%20macro%5D%5D
!Code
***/
//{{{
RGB.prototype.toRGBString = function() {
	return &quot;rgb(%0,%1,%2)&quot;.format(parseInt(this.r * 255, 10),
		parseInt(this.g * 255, 10), parseInt(this.b * 255, 10))
}
function HSL_TO_RGB(h, s, l) { // h (hue) between 0 and 360, s (saturation) &amp; l (lightness) between 0 and 1
	var c = l &lt;= 0.5 ? 2 * l * s : ( 2 - (2 * l)) * s;
	var h1 = h / 60;
	var x = c * (1 - Math.abs((h1 % 2) - 1)); 
	var r, g, b;
	if(typeof(h) == 'undefined') {
		r = 0;
		g = 0;
		b = 0;
	} else if(0 &lt;= h1 &amp;&amp; h1 &lt; 1) {
		r = c;
		g = x;
		b = 0;
	} else if(1 &lt;= h1 &amp;&amp; h1 &lt; 2) {
		r = x;
		g = c;
		b = 0;
	} else if(2 &lt;= h1 &amp;&amp; h1 &lt; 3) {
		r = 0;
		g = c;
		b = x;
	} else if(3 &lt;= h1 &amp;&amp; h1 &lt; 4) {
		r = 0;
		g = x;
		b = c;
	} else if(4 &lt;= h1 &amp;&amp; h1 &lt; 5) {
		r = x;
		g = 0;
		b = c;
	} else if(5 &lt;= h1 &amp;&amp; h1 &lt; 6) {
		r = c;
		g = 0;
		b = x;
	}
	m = l - (0.5 * c);
	return new RGB(r + m, g + m, b + m);
}

(function($){
	var macro = config.macros.RandomColorPalette = {
		messagesOn: false, 
		changedPaletteText: &quot;We have assigned you a random theme by adjusting the [[ColorPalette]] tiddler.\nDon't like it? Click &lt;&lt;RandomColorPalette&gt;&gt; for another one.&quot;, 
		handler: function(place, macroName, params, wikifier, paramString, tiddler) {
			paramString = paramString || &quot;&quot;;
			var options = macro.getOptions(paramString);
			macro.generatePalette(options, true);
		},
		optionTypes: {
			floats: [&quot;hue&quot;, &quot;saturation&quot;, &quot;darkest&quot;, &quot;lightness&quot;, &quot;huevariance&quot;, &quot;dark&quot;, &quot;pale&quot;, &quot;light&quot;, &quot;mid&quot;,
				&quot;saturation_light&quot;, &quot;saturation_pale&quot;, &quot;saturation_mid&quot;, &quot;saturation_dark&quot;
			]
		},
		getOptions: function(paramString) {
			var args = paramString.parseParams(&quot;name&quot;, null, true, false, true)[0];
			var options = {};
			var numbers = macro.optionTypes.floats;
			for(var i in args) {
				options[i] = numbers.indexOf(i) &gt; -1 ? parseFloat(args[i][0], 10) : args[i][0];
			}
			return options;
		},
		generateRandomNumber: function(min, max, info) {
			var num = (Math.random() * 1);
			info = !info ? { attempts:0 } : info;
			info.attempts += 1;
			var good = true;
			if(min == max) {
				return max;
			}
			if(min &amp;&amp; num &lt; min) {
				good = false;
			} else if(max &amp;&amp; num &gt; max) {
				good = false;
			}
			if(!good) {
				if(info.attempts &lt; 5) {
					return macro.generateRandomNumber(min, max, info);
				} else {
					if(max) {
						return max;
					} else if(min) {
						return min;
					} else {
						return 1;
					}
				}
			}
			return num;
		},
		getExistingPalette: function(asJSON) {
			var title = &quot;ColorPalette&quot;;
			var tiddlerText;
			if(store.tiddlerExists(title)) {
				tiddlerText = store.getTiddlerText(title);
			} else if(store.isShadowTiddler(title)){
				tiddlerText = config.shadowTiddlers[title];
			}
			if(asJSON) {
				var json = {};
				if(tiddlerText) {
					var lines = tiddlerText.split(&quot;\n&quot;);
					for(var i = 0; i &lt; lines.length; i++) {
						var definition = lines[i].split(&quot;:&quot;);
						if(definition.length == 2) {
							var name = definition[0].trim();
							var value = definition[1].trim();
							json[name] = value;
						}
					}
				}
				return json;
			} else {
				return tiddlerText;
			}
		},
		generatePalette: function(options, save) {
			var outputRGB = options.rgb;
			var palette = macro.getExistingPalette(true);
			var hue = options.hue || Math.floor(Math.random() * 359);
			var saturation = options.saturation || macro.generateRandomNumber(0.3, 0.7);
			var dark = options.dark || options.darkest || macro.generateRandomNumber(0, 0.10);
			var pale = options.pale || options.lightness || macro.generateRandomNumber(0.90, 1);
			var delta = ( ( pale - dark ) / 3 );
			var mid = options.mid || dark + delta;
			var light = options.light || dark + (delta * 2);
			var lightness_values = {Dark: dark, Mid: mid, Light: light, Pale: pale};
			var saturation_values = {};
			for(i in lightness_values) {
				if(true) {
					saturation_values[i] = options[&quot;saturation_&quot; + i.toLowerCase()] || saturation;
				}
			}

			var opposite_hue = (hue + 180) % 360;
			var seed = options.huevariance || Math.floor((85 * Math.random()) + 5); // we want it to be at least 5 degrees
			var huetwo = (opposite_hue + seed) % 360;
			var huethree = (opposite_hue - seed) % 360;
			if(huetwo &lt; 0) {
				huetwo = 360 + huetwo;
			}
			if(huethree &lt; 0) {
				huethree = 360 + huethree;
			}
			for(var j in lightness_values) {
				if(true) {
					var saturation = saturation_values[j];
					palette[&quot;Primary&quot; + j] = HSL_TO_RGB(hue, saturation, lightness_values[j]);
					palette[&quot;Secondary&quot; + j] = HSL_TO_RGB(huetwo, saturation, lightness_values[j]);
					palette[&quot;Tertiary&quot; + j] = HSL_TO_RGB(huethree, saturation, lightness_values[j]);
				}
			}
			palette.Background = HSL_TO_RGB(hue, saturation, 0.92);
			palette.Foreground = HSL_TO_RGB(hue, saturation, 0.08);
			palette.ColorPaletteParameters = [&quot;HSL([&quot;, hue, &quot;|&quot;, seed, &quot;], [&quot;, saturation_values.Pale, &quot;|&quot;,
				saturation_values.Light, &quot;|&quot;, saturation_values.Mid, &quot;|&quot;, saturation_values.Dark, &quot;],&quot;,
				&quot;[&quot;, dark, &quot;|&quot;, mid, &quot;|&quot;, light, &quot;|&quot;, pale, &quot;])&quot;].join(&quot;&quot;);
			// construct new ColorPalette
			var text = [&quot;/*{{{*/\n&quot;];
			var colorcode;
			for(var id in palette) {
				if(true) {
					var color = palette[id];
					colorcode = outputRGB ? color.toRGBString() : color.toString();
					text.push(&quot;%0: %1\n&quot;.format(id, colorcode));
				}
			}
			text.push(&quot;/*}}}*/&quot;);
			text = text.join(&quot;&quot;);
			if(save) {
				macro.saveColorPalette(text);
			}
			return text;
		},
		saveColorPalette: function(text) {
			var tid = store.getTiddler(&quot;ColorPalette&quot;);
			if(!tid) {
				tid = new Tiddler(&quot;ColorPalette&quot;);
				tid.fields = merge({}, config.defaultCustomFields);
			} // TODO: detect that the ColorPalette in the space comes from outside recipe
			tid.fields[&quot;server.page.revision&quot;] = &quot;false&quot;; // edit conflicts dont matter

			// save the color palette in tid
			tid = store.saveTiddler(tid.title, tid.title, text, tid.modifier, tid.modified,
				tid.tags, tid.fields, false, tid.created, tid.creator);
			// an interval is used to cope with users clicking on the palette button quickly.
			if(macro._nextSave) {
				window.clearTimeout(macro._nextSave);
			}
			macro._nextSave = window.setTimeout(function() {
					autoSaveChanges(null, [tid]);
				}, 2000);
			// temporary workaround for IE.
			$.twStylesheet.remove({ id: &quot;StyleSheetColors&quot; });
			$.twStylesheet.remove({ id: &quot;StyleSheet&quot; });
			refreshAll();
			macro.reportChange();
			return tid;
		},
		reportChange: function() {
			if(macro.messagesOn) { // only display message once..
				var msgPlace = getMessageDiv();
				if(!$(&quot;.changedPalette&quot;, msgPlace)[0]) {
					var tempPlace = document.createElement(&quot;div&quot;);
					wikify(&quot;{{changedPalette{&quot; + macro.changedPaletteText + &quot;}}}&quot;, tempPlace);
					msgPlace.appendChild(tempPlace);
				}
			}
		}
	};
	var btnMacro = config.macros.RandomColorPaletteButton = {
			text: &quot;New ColorPalette&quot;,
			tooltip: &quot;Generate a random colour scheme for your TiddlyWiki&quot;,
			makeButton: function(place, options) {
				var btnHandler = function(ev) {
					var t = $(ev.target);
					var options = t.data(&quot;options&quot;);
					macro.generatePalette(options, true);
					ev.preventDefault();
					return false;
				};
				var btn = createTiddlyButton(place, this.text, this.tooltip, btnHandler);
				$(btn).data(&quot;options&quot;, options);
				return btn;
			},
			handler: function(place, macroName, params, wikifier, paramString, tiddler) {
				var options = macro.getOptions(paramString);
				btnMacro.makeButton(place, options);
			}
	};
})(jQuery);
//}}}</pre>
</div>
<div title="RefreshTiddlerCommand" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch systemConfig" _hash="02e0b362ad77cbb6e902b176a082430649e798ac" server.content-type="text/javascript" server.permissions="read" server.bag="system-plugins_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-plugins_public" server.etag="&quot;system-plugins_public/RefreshTiddlerCommand/1521867:0d0696219c62c2a79e964d047221d181cf55363c&quot;" server.page.revision="1521867" server.title="RefreshTiddlerCommand">
<pre>/***
|''Name''|RefreshTiddlerCommand|
|''Version''|0.3.0|
***/
//{{{
(function($) {

var cmd = config.commands.refreshTiddler = {
	text: &quot;refresh&quot;,
	locale: {
		refreshing: &quot;Refreshing tiddler...&quot;
	},
	tooltip: &quot;refresh this tiddler to be the one on the server&quot;,
	handler: function(ev, src, title) {
		var tiddler = store.getTiddler(title);
		if(!tiddler) {
			tiddler = new Tiddler(title);
			merge(tiddler.fields, config.defaultCustomFields);
		}
		$(story.getTiddler(title)).find(&quot;.viewer&quot;).
			empty().text(cmd.locale.refreshing);
		var dirtyStatus = store.isDirty();
		story.loadMissingTiddler(title, {
			&quot;server.workspace&quot;: tiddler.fields[&quot;server.recipe&quot;]  ? &quot;recipes/&quot; + tiddler.fields[&quot;server.recipe&quot;] :
				tiddler.fields[&quot;server.workspace&quot;] || &quot;bags/&quot;+tiddler.fields[&quot;server.bag&quot;],
			&quot;server.host&quot;: tiddler.fields[&quot;server.host&quot;],
			&quot;server.type&quot;: tiddler.fields[&quot;server.type&quot;]
		}, function() {
			store.setDirty(dirtyStatus);
		});
	}
};

})(jQuery);
//}}}</pre>
</div>
<div title="Replies and Notifications" creator="jon" modifier="jon" created="201010011548" modified="201010011548" tags="excludeLists" _hash="6de5a813e6148df04281cfc65749b0b1fed0fc23" server.content-type="" server.permissions="read" server.bag="following_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/following_public" server.etag="&quot;following_public/Replies%20and%20Notifications/70974:8c64d7bce52fed450ff4c0396aa2855ad8b31cdc&quot;" server.page.revision="70974" server.title="Replies and Notifications">
<pre>&lt;&lt;activity show:reply show:notify&gt;&gt;</pre>
</div>
<div title="RevisionTemplate" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeMissing excludeSearch" _hash="b182c10523c4d9fe3f622b1529b70d43f5150701" server.content-type="" server.permissions="read" server.bag="system-theme_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-theme_public" server.etag="&quot;system-theme_public/RevisionTemplate/1521915:6b938be69d4982d9ed21d271921b7686f06e1c18&quot;" server.page.revision="1521915" server.title="RevisionTemplate">
<pre>&lt;!--{{{--&gt;
&lt;div macro='slideRevision'&gt;&lt;/div&gt;
&lt;div class='heading'&gt;
	&lt;span class=&quot;titleBar&quot;&gt;
		&lt;div class='title' macro='view title text'&gt;&lt;/div&gt;
	&lt;/span&gt;
	&lt;span class='modifierIcon'
		macro='view modifier SiteIcon label:no height:48 width:48 preserveAspectRatio:yes'&gt;
	&lt;/span&gt;
	&lt;div class='toolbar'
		macro='toolbar [[ToolbarCommands::RevisionToolbar]] icons:yes height:48 width:48 more:popup'&gt;
	&lt;/div&gt;
	&lt;div class='tagClear'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class='content'&gt;
	&lt;div class='viewer' macro='view text wikified'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class='tagInfo'&gt;
	&lt;div class='tidTags' macro='tags'&gt;&lt;/div&gt;
	&lt;div class='tagging' macro='tagging'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div title="RevisionsCommandPlugin" creator="FND" modifier="FND" created="201309241804" modified="201309241804" tags="excludeLists excludeSearch systemConfig" _hash="d36d2c8a7f8dd9a59dd54e772114a415b2c22979" server.content-type="text/javascript" server.permissions="read" server.bag="system" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system" server.etag="&quot;system/RevisionsCommandPlugin/1521856:768319f59f4620a99f4d627951947d8853609562&quot;" server.page.revision="1521856" server.title="RevisionsCommandPlugin">
<pre>/***
|''Name''|RevisionsCommandPlugin|
|''Description''|provides access to tiddler revisions|
|''Author''|FND|
|''Contributors''|Martin Budden|
|''Version''|0.3.3|
|''Status''|@@beta@@|
|''Source''|http://svn.tiddlywiki.org/Trunk/association/plugins/RevisionsCommandPlugin.js|
|''CodeRepository''|http://svn.tiddlywiki.org/Trunk/association/plugins/|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''CoreVersion''|2.6.0|
|''Keywords''|serverSide|
!Usage
Extend [[ToolbarCommands]] with {{{revisions}}}.
!Revision History
!!v0.1 (2009-07-23)
* initial release (renamed from experimental ServerCommandsPlugin)
!!v0.2 (2010-03-04)
* suppressed wikification in diff view
!!v0.3 (2010-04-07)
* restored wikification in diff view
* added link to side-by-side diff view
!To Do
* strip server.* fields from revision tiddlers
* resolve naming conflicts
* i18n, l10n
* code sanitizing
* documentation
!Code
***/
//{{{
(function($) {

jQuery.twStylesheet(&quot;.diff { white-space: pre, font-family: monospace }&quot;,
	{ id: &quot;diff&quot; });

var cmd = config.commands.revisions = {
	type: &quot;popup&quot;,
	hideShadow: true,
	text: &quot;revisions&quot;,
	tooltip: &quot;display tiddler revisions&quot;,
	revTooltip: &quot;&quot;, // TODO: populate dynamically?
	loadLabel: &quot;loading...&quot;,
	loadTooltip: &quot;loading revision list&quot;,
	selectLabel: &quot;select&quot;,
	selectTooltip: &quot;select revision for comparison&quot;,
	selectedLabel: &quot;selected&quot;,
	compareLabel: &quot;compare&quot;,
	linkLabel: &quot;side-by-side view&quot;,
	revSuffix: &quot; [rev. #%0]&quot;,
	diffSuffix: &quot; [diff: #%0 #%1]&quot;,
	dateFormat: &quot;YYYY-0MM-0DD 0hh:0mm&quot;,
	listError: &quot;revisions could not be retrieved&quot;,

	handlePopup: function(popup, title) {
		title = this.stripSuffix(&quot;rev&quot;, title);
		title = this.stripSuffix(&quot;diff&quot;, title);
		var tiddler = store.getTiddler(title);
		var type = _getField(&quot;server.type&quot;, tiddler);
		var adaptor = new config.adaptors[type]();
		var limit = null; // TODO: customizable
		var context = {
			host: _getField(&quot;server.host&quot;, tiddler),
			workspace: _getField(&quot;server.workspace&quot;, tiddler)
		};
		var loading = createTiddlyButton(popup, cmd.loadLabel, cmd.loadTooltip);
		var params = { popup: popup, loading: loading, origin: title };
		adaptor.getTiddlerRevisionList(title, limit, context, params, this.displayRevisions);
	},

	displayRevisions: function(context, userParams) {
		removeNode(userParams.loading);
		if(context.status) {
			var callback = function(ev) {
				var e = ev || window.event;
				var revision = resolveTarget(e).getAttribute(&quot;revision&quot;);
				context.adaptor.getTiddlerRevision(tiddler.title, revision, context,
					userParams, cmd.displayTiddlerRevision);
			};
			var table = createTiddlyElement(userParams.popup, &quot;table&quot;);
			for(var i = 0; i &lt; context.revisions.length; i++) {
				var tiddler = context.revisions[i];
				var row = createTiddlyElement(table, &quot;tr&quot;);
				var timestamp = tiddler.modified.formatString(cmd.dateFormat);
				var revision = tiddler.fields[&quot;server.page.revision&quot;];
				var cell = createTiddlyElement(row, &quot;td&quot;);
				createTiddlyButton(cell, timestamp, cmd.revTooltip, callback, null,
					null, null, { revision: revision });
				cell = createTiddlyElement(row, &quot;td&quot;, null, null, tiddler.modifier);
				cell = createTiddlyElement(row, &quot;td&quot;);
				createTiddlyButton(cell, cmd.selectLabel, cmd.selectTooltip,
					cmd.revisionSelected, null, null, null,
					{ index:i, revision: revision, col: 2 });
				cmd.context = context; // XXX: unsafe (singleton)!?
			}
		} else {
			$(&quot;&lt;li /&gt;&quot;).text(cmd.listError).appendTo(userParams.popup);
		}
	},

	revisionSelected: function(ev) {
		var e = ev || window.event;
		e.cancelBubble = true;
		if(e.stopPropagation) {
			e.stopPropagation();
		}
		var n = resolveTarget(e);
		var index = n.getAttribute(&quot;index&quot;);
		var col = n.getAttribute(&quot;col&quot;);
		while(!index || !col) {
			n = n.parentNode;
			index = n.getAttribute(&quot;index&quot;);
			col = n.getAttribute(&quot;col&quot;);
		}
		cmd.revision = n.getAttribute(&quot;revision&quot;);
		var table = n.parentNode.parentNode.parentNode;
		var rows = table.childNodes;
		for(var i = 0; i &lt; rows.length; i++) {
			var c = rows[i].childNodes[col].firstChild;
			if(i == index) {
				if(c.textContent) {
					c.textContent = cmd.selectedLabel;
				} else {
					c.text = cmd.selectedLabel;
				}
			} else {
				if(c.textContent) {
					c.textContent = cmd.compareLabel;
				} else {
					c.text = cmd.compareLabel;
				}
				c.onclick = cmd.compareSelected;
			}
		}
	},

	compareSelected: function(ev) {
		var e = ev || window.event;
		var n = resolveTarget(e);
		var context = cmd.context;
		context.rev1 = n.getAttribute(&quot;revision&quot;);
		context.rev2 = cmd.revision;
		context.tiddler = context.revisions[n.getAttribute(&quot;index&quot;)];
		context.format = &quot;unified&quot;;
		context.adaptor.getTiddlerDiff(context.tiddler.title, context,
			context.userParams, cmd.displayTiddlerDiffs);
	},

	displayTiddlerDiffs: function(context, userParams) {
		var tiddler = context.tiddler;
		tiddler.title += cmd.diffSuffix.format([context.rev1, context.rev2]);
		tiddler.text = &quot;{{diff{\n&quot; + context.diff + &quot;\n}}}&quot;;
		tiddler.tags = [&quot;diff&quot;];
		tiddler.fields.doNotSave = &quot;true&quot;; // XXX: correct?
		if(!store.getTiddler(tiddler.title)) {
			store.addTiddler(tiddler);
		}
		var src = story.getTiddler(userParams.origin);
		var tiddlerEl = story.displayTiddler(src, tiddler);
		var uri = context.uri.replace(&quot;format=unified&quot;, &quot;format=horizontal&quot;);
		var link = $('&lt;a target=&quot;_blank&quot; /&gt;').attr(&quot;href&quot;, uri).text(cmd.linkLabel);
		$(&quot;.viewer&quot;, tiddlerEl).prepend(link);
	},

	displayTiddlerRevision: function(context, userParams) {
		var tiddler = context.tiddler;
		tiddler.title += cmd.revSuffix.format([tiddler.fields[&quot;server.page.revision&quot;]]);
		tiddler.fields.doNotSave = &quot;true&quot;; // XXX: correct?
		if(!store.getTiddler(tiddler.title)) {
			store.addTiddler(tiddler);
		}
		var src = story.getTiddler(userParams.origin);
		story.displayTiddler(src, tiddler);
	},

	stripSuffix: function(type, title) {
		var str = cmd[type + &quot;Suffix&quot;];
		var i = str.indexOf(&quot;%0&quot;);
		i = title.indexOf(str.substr(0, i));
		if(i != -1) {
			title = title.substr(0, i);
		}
		return title;
	}
};

var _getField = function(name, tiddler) {
	return tiddler.fields[name] || config.defaultCustomFields[name];
};

})(jQuery);
//}}}</pre>
</div>
<div title="Search Patterns" creator="inforabbi" modifier="inforabbi" created="201312111801" modified="201312111801" _hash="169ea4ea9e7abf55ed6cff1fca746446fab2427a" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/Search%20Patterns/1591041:6578ecc3c2b6eaca75b019692cc243522663b4e4&quot;" server.page.revision="1591041" server.title="Search Patterns">
<pre>[[原版|http://inforabbi.opendrive.com/files/Ml8zNjIwNDgzNF9qRFBRMA/2010%20-%20Search%20Patterns.pdf]]
[[中文版（目前缺货了）|http://product.dangdang.com/20956995.html#ddclick?act=click&amp;pos=20956995_0_0_q&amp;cat=&amp;key=%CB%D1%CB%F7%C4%A3%CA%BD&amp;qinfo=5_1_48&amp;pinfo=&amp;minfo=&amp;ninfo=&amp;custid=&amp;permid=20131104012824290251564247641850422&amp;ref=http%3A%2F%2Fsearch.dangdang.com%2F%3Fkey%3D%25CB%25E6%25D2%25E2%25CB%25D1%25D1%25B0&amp;rcount=&amp;type=&amp;t=1386784063000]]</pre>
</div>
<div title="ServerSideSavingPlugin" creator="FND" modifier="FND" created="201309241804" modified="201309241804" tags="excludeLists excludeSearch systemConfig" _hash="d72cde071d926d9c66939444817d7e8621d24d9c" server.content-type="text/javascript" server.permissions="read" server.bag="system" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system" server.etag="&quot;system/ServerSideSavingPlugin/1521853:b58e7ea6f4d7bcc63f08c467b64c7eeab80f2c1a&quot;" server.page.revision="1521853" server.title="ServerSideSavingPlugin">
<pre>/***
|''Name''|ServerSideSavingPlugin|
|''Description''|server-side saving|
|''Author''|FND|
|''Version''|0.6.5|
|''Status''|stable|
|''Source''|http://svn.tiddlywiki.org/Trunk/association/plugins/ServerSideSavingPlugin.js|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''CoreVersion''|2.5.3|
|''Keywords''|serverSide|
!Notes
This plugin relies on a dedicated adaptor to be present.
The specific nature of this plugin depends on the respective server.
!Revision History
!!v0.1 (2008-11-24)
* initial release
!!v0.2 (2008-12-01)
* added support for local saving
!!v0.3 (2008-12-03)
* added Save to Web macro for manual synchronization
!!v0.4 (2009-01-15)
* removed ServerConfig dependency by detecting server type from the respective tiddlers
!!v0.5 (2009-08-25)
* raised CoreVersion to 2.5.3 to take advantage of core fixes
!!v0.6 (2010-04-21)
* added notification about cross-domain restrictions to ImportTiddlers
!To Do
* conflict detection/resolution
* rename to ServerLinkPlugin?
* document deletion/renaming convention
!Code
***/
//{{{
(function($) {

readOnly = false; //# enable editing over HTTP

var plugin = config.extensions.ServerSideSavingPlugin = {};

plugin.locale = {
	saved: &quot;%0 saved successfully&quot;,
	saveError: &quot;Error saving %0: %1&quot;,
	saveConflict: &quot;Error saving %0: edit conflict&quot;,
	deleted: &quot;Removed %0&quot;,
	deleteError: &quot;Error removing %0: %1&quot;,
	deleteLocalError: &quot;Error removing %0 locally&quot;,
	removedNotice: &quot;This tiddler has been deleted.&quot;,
	connectionError: &quot;connection could not be established&quot;,
	hostError: &quot;Unable to import from this location due to cross-domain restrictions.&quot;
};

plugin.sync = function(tiddlers) {
	tiddlers = tiddlers &amp;&amp; tiddlers[0] ? tiddlers : store.getTiddlers();
	$.each(tiddlers, function(i, tiddler) {
		var changecount = parseInt(tiddler.fields.changecount, 10);
		if(tiddler.fields.deleted === &quot;true&quot; &amp;&amp; changecount === 1) {
			plugin.removeTiddler(tiddler);
		} else if(tiddler.isTouched() &amp;&amp; !tiddler.doNotSave() &amp;&amp;
				tiddler.getServerType() &amp;&amp; tiddler.fields[&quot;server.host&quot;]) { // XXX: server.host could be empty string
			delete tiddler.fields.deleted;
			plugin.saveTiddler(tiddler);
		}
	});
};

plugin.saveTiddler = function(tiddler) {
	try {
		var adaptor = this.getTiddlerServerAdaptor(tiddler);
	} catch(ex) {
		return false;
	}
	var context = {
		tiddler: tiddler,
		changecount: tiddler.fields.changecount,
		workspace: tiddler.fields[&quot;server.workspace&quot;]
	};
	var serverTitle = tiddler.fields[&quot;server.title&quot;]; // indicates renames
	if(!serverTitle) {
		tiddler.fields[&quot;server.title&quot;] = tiddler.title;
	} else if(tiddler.title != serverTitle) {
		return adaptor.moveTiddler({ title: serverTitle },
			{ title: tiddler.title }, context, null, this.saveTiddlerCallback);
	}
	var req = adaptor.putTiddler(tiddler, context, {}, this.saveTiddlerCallback);
	return req ? tiddler : false;
};

plugin.saveTiddlerCallback = function(context, userParams) {
	var tiddler = context.tiddler;
	if(context.status) {
		if(tiddler.fields.changecount == context.changecount) { //# check for changes since save was triggered
			tiddler.clearChangeCount();
		} else if(tiddler.fields.changecount &gt; 0) {
			tiddler.fields.changecount -= context.changecount;
		}
		plugin.reportSuccess(&quot;saved&quot;, tiddler);
		store.setDirty(false);
	} else {
		if(context.httpStatus == 412) {
			plugin.reportFailure(&quot;saveConflict&quot;, tiddler);
		} else {
			plugin.reportFailure(&quot;saveError&quot;, tiddler, context);
		}
	}
};

plugin.removeTiddler = function(tiddler) {
	try {
		var adaptor = this.getTiddlerServerAdaptor(tiddler);
	} catch(ex) {
		return false;
	}
	var context = {
		host: tiddler.fields[&quot;server.host&quot;],
		workspace: tiddler.fields[&quot;server.workspace&quot;],
		tiddler: tiddler
	};
	var req = adaptor.deleteTiddler(tiddler, context, {}, this.removeTiddlerCallback);
	return req ? tiddler : false;
};

plugin.removeTiddlerCallback = function(context, userParams) {
	var tiddler = context.tiddler;
	if(context.status) {
		if(tiddler.fields.deleted === &quot;true&quot;) {
			store.deleteTiddler(tiddler.title);
		} else {
			plugin.reportFailure(&quot;deleteLocalError&quot;, tiddler);
		}
		plugin.reportSuccess(&quot;deleted&quot;, tiddler);
		store.setDirty(false);
	} else {
		plugin.reportFailure(&quot;deleteError&quot;, tiddler, context);
	}
};

plugin.getTiddlerServerAdaptor = function(tiddler) { // XXX: rename?
	var type = tiddler.fields[&quot;server.type&quot;] || config.defaultCustomFields[&quot;server.type&quot;];
	return new config.adaptors[type]();
};

plugin.reportSuccess = function(msg, tiddler) {
	displayMessage(plugin.locale[msg].format([tiddler.title]));
};

plugin.reportFailure = function(msg, tiddler, context) {
	var desc = (context &amp;&amp; context.httpStatus) ? context.statusText :
		plugin.locale.connectionError;
	displayMessage(plugin.locale[msg].format([tiddler.title, desc]));
};

config.macros.saveToWeb = { // XXX: hijack existing sync macro?
	locale: { // TODO: merge with plugin.locale?
		btnLabel: &quot;save to web&quot;,
		btnTooltip: &quot;synchronize changes&quot;,
		btnAccessKey: null
	},

	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		createTiddlyButton(place, this.locale.btnLabel, this.locale.btnTooltip,
			plugin.sync, null, null, this.locale.btnAccessKey);
	}
};

// hijack saveChanges to trigger remote saving
var _saveChanges = saveChanges;
saveChanges = function(onlyIfDirty, tiddlers) {
	if(window.location.protocol == &quot;file:&quot;) {
		_saveChanges.apply(this, arguments);
	} else {
		plugin.sync(tiddlers);
	}
};

// override removeTiddler to flag tiddler as deleted -- XXX: use hijack to preserve compatibility?
TiddlyWiki.prototype.removeTiddler = function(title) { // XXX: should override deleteTiddler instance method?
	var tiddler = this.fetchTiddler(title);
	if(tiddler) {
		tiddler.tags = [&quot;excludeLists&quot;, &quot;excludeSearch&quot;, &quot;excludeMissing&quot;];
		tiddler.text = plugin.locale.removedNotice;
		tiddler.fields.deleted = &quot;true&quot;; // XXX: rename to removed/tiddlerRemoved?
		tiddler.fields.changecount = &quot;1&quot;;
		this.notify(title, true);
		this.setDirty(true);
	}
};

// hijack ImportTiddlers wizard to handle cross-domain restrictions
var _onOpen = config.macros.importTiddlers.onOpen;
config.macros.importTiddlers.onOpen = function(ev) {
	var btn = $(resolveTarget(ev));
	var url = btn.closest(&quot;.wizard&quot;).find(&quot;input[name=txtPath]&quot;).val();
	if(window.location.protocol != &quot;file:&quot; &amp;&amp; url.indexOf(&quot;://&quot;) != -1) {
		var host = url.split(&quot;/&quot;)[2];
		var macro = config.macros.importTiddlers;
		if(host != window.location.host) {
			btn.text(macro.cancelLabel).attr(&quot;title&quot;, macro.cancelPrompt);
			btn[0].onclick = macro.onCancel;
			$('&lt;span class=&quot;status&quot; /&gt;').text(plugin.locale.hostError).insertAfter(btn);
			return false;
		}
	}
	return _onOpen.apply(this, arguments);
};

})(jQuery);
//}}}</pre>
</div>
<div title="SideBarOptions" creator="inforabbi" modifier="inforabbi" created="201403100817" modified="201403100817" tags="K2WSTheme" _hash="4a0c19468c44022a4fd4f7cfac2bb44eb621fb46" server.content-type="" server.permissions="read, write, create, delete" server.bag="inforabbi_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/inforabbi_public" server.etag="&quot;inforabbi_public/SideBarOptions/1684144:a625ccddb1d32270b62cff1e6d487b7158874fe6&quot;" server.page.revision="1684144" server.title="SideBarOptions">
<pre>&lt;&lt;closeAll&gt;&gt;&lt;&lt;permaview&gt;&gt;&lt;&lt;newTiddler&gt;&gt;&lt;&lt;newJournal 'DD MMM YYYY'&gt;&gt;&lt;&lt;saveChanges&gt;&gt;&lt;&lt;slider chkSliderOptionsPanel OptionsPanel 'options »' 'Change TiddlyWiki advanced options'&gt;&gt;</pre>
</div>
<div title="SideBarTabs" creator="jon" modifier="jon" created="201009171109" modified="201009180804" tags="excludeLists" _hash="9ade4d464a7cc4cde2d410f3bd2567c5e878cc74" server.content-type="" server.permissions="read" server.bag="following_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/following_public" server.etag="&quot;following_public/SideBarTabs/70976:4316c4d0d41519ff7e2ac4e92fa02e2d4d0f76e6&quot;" server.page.revision="70976" server.title="SideBarTabs">
<pre>&lt;&lt;tabs 
	txtMainTab 
	&quot;Recent&quot; &quot;Recently edited tiddlers&quot; TabTimeline
	&quot;All&quot; &quot;All tiddlers&quot; TabAll
	&quot;Public&quot; &quot;All public tiddlers&quot; [[TiddlySpaceTabs##Public]]
	&quot;Private&quot; &quot;All private tiddlers&quot; [[TiddlySpaceTabs##Private]]
	&quot;Drafts&quot; &quot;All draft tiddlers&quot; [[TiddlySpaceTabs##Drafts]]
	&quot;Tags&quot; &quot;All tags&quot; TabTags
	&quot;Spaces&quot; &quot;Tiddlers grouped by space&quot; [[TiddlySpaceTabs##Spaces]]
	&quot;Activity&quot; &quot;What people you are following are up to&quot; TabFollowing##Activity
        &quot;Following&quot; &quot;People you are following&quot; TabFollowing##Following
        &quot;Followers&quot; &quot;People who are following you&quot; TabFollowing##Followers
	&quot;Missing&quot; &quot;Missing tiddlers&quot; TabMoreMissing
	&quot;Orphans&quot; &quot;Orphaned tiddlers&quot; TabMoreOrphans
	&quot;Shadows&quot; &quot;Shadowed tiddlers&quot; TabMoreShadowed
&gt;&gt;</pre>
</div>
<div title="SidebarOptions" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="f6c842d92b8dd242dbc7a1d61f03f292ab8e070f" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/SidebarOptions/1188314:1b1a606482a739ce684fc261a4672b369a9637d8&quot;" server.page.revision="1188314" server.title="SidebarOptions">
<pre>&lt;&lt;search&gt;&gt;&lt;&lt;closeAll&gt;&gt;&lt;&lt;permaview&gt;&gt;&lt;&lt;newTiddler&gt;&gt;&lt;&lt;newJournal &quot;DD MMM YYYY&quot;&gt;&gt;&lt;&lt;saveChanges&gt;&gt;&lt;&lt;slider chkSliderOptionsPanel OptionsPanel &quot;options »&quot; &quot;Change TiddlyWiki advanced options&quot;&gt;&gt;</pre>
</div>
<div title="SiteIcon" creator="inforabbi" modifier="inforabbi" created="201012050836" modified="201012050838" _hash="c5af11c7e2eb69acadd05748342480057c9d1b4d" server.content-type="image/png" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/SiteIcon/76149:cca2d427823d35a1056937f7d1240adbe38368fe&quot;" server.page.revision="76149" server.title="SiteIcon">
<pre>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</pre>
</div>
<div title="SiteInfo" creator="jon" modifier="jon" created="201008171012" modified="201112290854" summary="" _hash="5ffd89bdacd9b0b56a67ae520d505aafaad0ffd3" server.content-type="" server.permissions="read" server.bag="following_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/following_public" server.etag="&quot;following_public/SiteInfo/70994:874149ef4b20d9f8ac477c12e3030b278b8d54b6&quot;" server.page.revision="70994" server.title="SiteInfo">
<pre>Experiments with TiddlySpace following to make following more useful and easier to use.
Provides [[ImportExternalLinksPlugin]] [[TiddlySpaceFollowingPlugin]] (upgraded), [[TiddlySpaceIntraSpaceInclusion]], [[TiddlySpaceFollowingSuggestions]], [[tsScanCountPlugin]],[[TiddlySpaceFollowingWizard]], [[ActivityStreamPlugin]], 
LoadMissingExternalTiddler and following tabs in TabFollowing.

Also provides the [[friends]] spa and work in progress [[_topics]]</pre>
</div>
<div title="SiteSubtitle" creator="inforabbi" modifier="inforabbi" created="201012050836" modified="201304160708" _hash="c32f76e199d868bb1d5e0ce6858f4ce052f39fc5" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/SiteSubtitle/1188321:68df775896f599f4d4f382716cbdfe7314d358bc&quot;" server.page.revision="1188321" server.title="SiteSubtitle">
<pre>!!!
''··································································''@@color(#000000):''信息管理与信息系统专业核心课程''@@''························································''</pre>
</div>
<div title="SiteTitle" creator="inforabbi" modifier="inforabbi" created="201012050836" modified="201309050618" _hash="d757fc34b5feec7cccce05081572b21fabaf3f95" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/SiteTitle/1385402:6baae84f62c23599ba5b183f6648e8a3b8feeb2a&quot;" server.page.revision="1385402" server.title="SiteTitle">
<pre>信息管理学
Information Management</pre>
</div>
<div title="SpaceSettings" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeMissing excludeSearch" _hash="59d90cba2585970233eb03744888f06cec46918d" server.content-type="" server.permissions="read" server.bag="system-info_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-info_public" server.etag="&quot;system-info_public/SpaceSettings/1521882:60105cd5184e1e23cd714c132627bac05f8ef180&quot;" server.page.revision="1521882" server.title="SpaceSettings">
<pre>!Upload an icon
&lt;&lt;tiddler spaceIcon&gt;&gt;
!Describe your space
If you haven't already done so, you should provide a brief decscription of yourself and what you're using this space for. To do this, just edit the [[SiteInfo]] tiddler (keeping the title the same of course).

!Change the title
&lt;&lt;tiddler spaceTitle&gt;&gt;
!Change the theme
&lt;&lt;tiddler colorScheme&gt;&gt;
!Change the menu
If you'd like to change the menu items along the top, you can edit the [[MainMenu]] tiddler.

!Change the default tiddlers
&lt;&lt;tiddler setDefaultTiddlers&gt;&gt;
!More Advanced customisations
If you know HTML and CSS, you can edit some or all of the following tiddlers to customise your space further:
* PageTemplate
* EditTemplate
* ViewTemplate
* StyleSheet</pre>
</div>
<div title="Start writing" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeMissing excludeSearch" _hash="7d1a54121ab3a090a54dd263b3e45c3f7699f8ed" server.content-type="" server.permissions="read" server.bag="system-info_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-info_public" server.etag="&quot;system-info_public/Start%20writing/1521876:5e60389ea13ae2d99aa803bce9308ed7da0df272&quot;" server.page.revision="1521876" server.title="Start writing">
<pre>Click the &quot;new tiddler&quot; button towards the top right of the screen to write something in your space. You'll need to give it a title, some content and, optionally, some tags that will help you identify it later.

!Stuck for ideas?
Not sure what to write about? Not sure what to keep in your space? Other people use ~TiddlySpace for almost anything. How about some of the following:

* [[Save interesting sites|http://bookmarks.tiddlyspace.com]], images or articles from around the web so that you can refer back to them.
* [[Record your family tree|http://familytree.tiddlyspace.com]], store notes on long lost relatives or ancestors and map their relationship to you.
* [[Make up a pocketbook|http://pocketbook.tiddlyspace.com]] to store some useful information in, then print it out, [[fold it up|http://www.pocketmod.com/]], and take it with you.
* [[Plan your holiday|http://the-web-is-your-oyster.tiddlyspace.com/]], record where you're planning to go, note down places of interest and refer back to it later.
* [[Create a mindmap|http://mindmaps.tiddlyspace.com/]] to visualise your inner thoughts and see how they relate to each other.
* [[Set up a questionnaire|http://questionnaire.tiddlyspace.com/]] and get all your friends to answer it.

If you don't like any of those ideas, you can still use this space directly to keep notes and link them together, make a todo list and keep track of everything you're doing, or any one of a hundred million other things.

Still stuck? Check out the @featured space for more suggestions.

You can also [[socialise with others|How to socialise]].</pre>
</div>
<div title="StyleSheet" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" tags="HaemoglobinTheme" _hash="d2b5f46928bfba049fdc8e98b3f7e93df2b78b2a" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/StyleSheet/1188318:48f76faeeaddd2e215dc8aabf0475c727d01b4d8&quot;" server.page.revision="1188318" server.title="StyleSheet">
<pre>/*{{{*/
/*Haemoglobin Theme for TiddlyWiki*/
/*Design and CSS by Saq Imtiaz*/
/*Version 1.0*/
/*}}}*/
/*{{{*/

#sidebarTabs {font-family:arial,helvetica;}

body
{background:#fefefe;}

#contentWrapper {
	font-family: Verdana, Arial, Tahoma, Sans-Serif;
	color: #555555;
margin:1.9em auto 1em ; width:800px;}

#header {background:#fefefe;}

.headerShadow {	padding: 1.4em 0em 0.5em 1em; }

.siteTitle {
			font-family: 'Trebuchet MS' sans-serif;
			font-weight: bold;
			font-size: 36px;
			color: #BF2323;
			background-color: #FFF;
}

.siteSubtitle {
	font-size: 1.0em;
        display: block;
        margin: .5em 3em; color: #999;
}

.clearAll {clear:both;}
.tagClear {clear:none;}
#sidebar {position:relative; float:right; display:inline; right:0;}

a{
color:#BF2323;
text-decoration: none; font-weight:normal;
}

a:hover{
color:#BF2323;
background-color: #fefefe;
border-bottom:1px solid #BF2323;
}

.viewer .button, .editorFooter .button{
color: #555;
border: 1px solid #BF2323;
}

.viewer .button:hover,
.editorFooter .button:hover{
color: #fff;
background: #BF2323;
border-color: #BF2323;
}

.viewer .button:active, .viewer .highlight,.editorFooter .button:active, .editorFooter .highlight{color:#fff; background:#9F1313;border-color:#9F1313;}

#topMenu br {display:none;}

#topMenu {padding:0.45em 1em; background:#BF2323;}

#topMenu a, #topMenu .tiddlyLink, #topMenu .button {color:#f1f1f1; padding:0.3em 0.45em; margin:0 4px;font-size:120%;font-weight:normal;font-variant: small-caps; border:none; background:#BF2323; text-decoration:none; }

#topMenu a:hover, #topMenu .tiddlyLink:hover, #topMenu .button:hover, #topMenu .button:active, #topMenu .highlight {color:#fff;text-decoration:none; background:#9F1313; }



#displayArea{margin:0 17em 2em 0.5em;}

.tiddler {padding-left:0;}

.title {color:#BF2323; border-bottom:1px solid#BF2323; }
.subtitle, .subtitle a { color: #999999; font-size: 1.0em;margin:0.2em;}
.shadow .title{color:#999;}

.toolbar {font-size:85%;}
.selected .toolbar a {color:#999999;}
.selected .toolbar a:hover {color:#333; background:transparent;border:1px solid #fff;}

.toolbar .button:hover, .toolbar .highlight, .toolbar .marked, .toolbar a.button:active{color:#333; background:transparent;border:1px solid #fff;}

    *  html .viewer pre {

margin-left: 0em;
}

    * html .editor textarea, * html .editor input {

width: 98%;
}

/***
!Sidebar
***/
#sidebar {position:relative;float:right; line-height: 1.4em; border-left:0px solid#000; display:inline; background:#fefefe; right:0; margin-bottom:2em !important; margin-bottom:1em;
width: 16em;}

/***
!SidebarOptions
***/
#sidebarOptions {padding-left:0.5em; padding-top:2em;}

#sidebarOptions a {
			color:#999;
			text-decoration: none;}

#sidebarOptions	a:hover, #sidebarOptions a:active {
			color:#CC0000;
			background-color:#f5f5f5;border:1px solid #f5f5f5;
		}

#sidebarOptions input {border:1px solid #999; }



 .listTitle {color:#888;}

#sidebarTabs .tabContents {background:#fefefe;}
#sidebarTabs .tabContents .tiddlyLink, #sidebarTabs .tabContents .button{color:#999;}
#sidebarTabs .tabContents .tiddlyLink:hover,#sidebarTabs .tabContents .button:hover{color:#CC0000;background:#fefefe; text-decoration:none;border:none;}

#sidebarTabs .tabContents .button:hover, #sidebarTabs .tabContents .highlight, #sidebarTabs .tabContents .marked, #sidebarTabs .tabContents a.button:active{color:#CC0000;background:#fefefe}


.tabSelected{color:#fefefe; background:#999;}



 .tabSelected, .tabSelected:hover {
 color: #555;
 background: #fefefe;
 border: solid 1px #ccc;

}

#sidebarTabs .tabUnselected:hover { border-bottom: none;padding-bottom:3px;color:#999;}

 .tabUnselected {
 color: #999;
 background: #eee;
 border: solid 1px #ccc;

}

.tabUnselected:hover {text-decoration:none; border:1px solid #ccc;}

#sidebarTabs .tabUnselected { border-bottom: none;padding-bottom:3px;}
#sidebarTabs .tabSelected{padding-bottom:3px;}

#sidebarOptions .sliderPanel {
	background: #eee; border:1px solid#ccc;
	font-size: .9em;
}

#sidebarOptions .sliderPanel input {border:1px solid #999;}
#sidebarOptions .sliderPanel .txtOptionInput {border:1px solid #999;width:9em;}

#sidebarOptions .sliderPanel a {font-weight:normal; color:#555;background-color: #eee; border-bottom:1px dotted #333;}


#sidebarOptions .sliderPanel a:hover {
color:#111;
background-color: #eee;
border:none;
border-bottom:1px dotted #111;
}

.tabContents {background:#fefefe;}




.tagging, .tagged {
border: 1px solid #eee;
background-color: #F7F7F7;
}

.selected .tagging, .selected .tagged {
background-color: #f7f7f7;
border: 1px solid #ccc;
}

.tagging .listTitle, .tagged .listTitle {
color: #bbb;
}

.selected .tagging .listTitle, .selected .tagged .listTitle {
color: #666;
}

.tagging .button, .tagged .button {
color:#ccc;
}
.selected .tagging .button, .selected .tagged .button {
color:#aaa;
}

.highlight, .marked {background:transparent; color:#111; border:none; text-decoration:underline;}

.tagging .button:hover, .tagged .button:hover, .tagging .button:active, .tagged .button:active {
border: none; background:transparent; text-decoration:underline; color:#333;
}

.popup {
background: #BF2323;
border: 1px solid #BF2323;
}

.popup li.disabled {
color: #000;
}

.popup li a, .popup li a:visited {
color: #eee;
border: none;
}

.popup li a:hover {
background: #bf1717;
color: #fff;
border: none;
}



   #messageArea {

border: 4px solid #BF2323;
background: #fefefe;
color: #555;
font-size:90%;
}

   #messageArea a:hover { background:#f5f5f5; border:none;}


   #messageArea .button{
color: #666;
border: 1px solid #BF2323;
}

   #messageArea .button:hover {
color: #fff;
background: #BF2323;
border-color: #BF2323;
}

   #contentFooter {background:#BF2323; color:#DF7D7D; clear: both; padding: 0.5em 1em; }


#contentFooter a {
color: #DF7D7D;
border-bottom: 1px dotted #DF7D7D; font-weight:normal;text-decoration:none;
}



#contentFooter a:hover {
color: #FFFFFF;
background-color:transparent;
border-bottom: 1px dotted #fff; text-decoration:none;
}




.searchBar {float:right;font-size: 1.0em;position:relative; margin-top:1.3em;}
.searchBar .button {color:#999;display:block;}
.searchBar .button:hover {border:1px solid #fefefe;color:#4F4B45;}
.searchBar input {			
                        background-color: #fefefe;
			color: #999999;
			border: 1px solid #CCC;		margin-right:3px;
}

.tiddler {padding-bottom:10px;}

.viewer blockquote {
border-left: 5px solid #BF2323;
}

.viewer table, .viewer td {
border: 1px solid #BF2323;
}

.viewer th, thead td {
background: #BF2323;
border: 1px solid #BF2323;
color: #fff;
}
.viewer pre {
	border: 1px solid #ccc;
	background: #f5f5f5;
}

.viewer code {
color: #111; background:#f5f5f5;
}

.viewer hr {
border-top: dashed 1px #555;
}

.editor input {
border: 1px solid #888; margin-top:5px;
}

.editor textarea {
border: 1px solid #888;
}

h1,h2,h3,h4,h5 { color: #BF2323; background: transparent; padding-bottom:2px; font-family: Arial, Helvetica, sans-serif; }
h1 {font-size:18px;}
h2 {font-size:16px;}
h3 {font-size: 14px;}
/*}}}*/</pre>
</div>
<div title="StyleSheetTiddler" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch" _hash="1a28a9b1acf2996cdfbb522f52f0e56353d9f883" server.content-type="" server.permissions="read" server.bag="system-theme_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-theme_public" server.etag="&quot;system-theme_public/StyleSheetTiddler/1521917:0a84f457071d401203b893af9c3203891eca36e5&quot;" server.page.revision="1521917" server.title="StyleSheetTiddler">
<pre>/*{{{*/
.tiddler .originButton div {
	display: inline-block;
}

.tiddler .spaceSiteIcon .siteIcon {
	_display: inline; /* IE doesn't like inline-block */
}

.tiddler .originButton {
	display: block;
}

.selected .tagging,
.selected .tagging:hover {
	border: none;
	background: none;
}

.tagging {
	float: none;
	background: none;
	border: none;
}

.tagging li.listTitle {
	margin-left: 0px;
}
.tagging li {
	margin: 0 8px;
}

.tagging .tiddlyLink {
	-webkit-border-radius: 3px;
	-moz-border-radius: 3px;
	-o-border-radius: 3px;
	border-radius: 3px;
	padding: 1px 2px;
	line-height: 1.2em;
}

/* for following */
#popup .siteIcon {
	float: left;
	height: 25px;
}

.content {
	width: 100%; /* IE */
	font-size: 0.9em;
}

.editorHeading {
	height: 48px;
}

.heading {
	left: 0;
	margin-bottom: 40px;
	position: relative;
	top: 32px;
}

.followButton a {
	display: block;
	margin-top: -20px;
}

.tiddler .followPlaceHolder {
	display: block;
	position: absolute;
	top: 16px;
	right: 64px;
	_right: 138px; // add width of modifierIcon
}

.tiddler .followButton {
	position: relative;
	height: 24px;
	text-align: left;
	color: #fff;
	background: [[ColorPalette::PrimaryMid]];
	padding: 10px 0px 0px 10px;
	width: 38px;
	margin: -16px -8px 24px 0;
}

/* creates the larger triangle */
.followButton:before {
	content: &quot;\00a0&quot;;
	display: block; /* reduce the damage in FF3.0 */
	position: relative;
	bottom: -20px;
	right: 0;
	width: 0;
	height: 0;
	border-width: 0 0 20px 20px;
	border-style: solid;
	border-color: transparent [[ColorPalette::PrimaryMid]];
}

.toolbar svg {
	height: 16px;
	width: 16px;
}

.toolbar svg .glyph {
	fill: #ccc;
}

.toolbar a:hover .glyph {
	fill: black;
}

.toolbar a:active .glyph {
	fill: [[ColorPalette::Background]];
}

.originButton,
.followPlaceHolder,
.tiddler .subtitle {
	cursor: pointer;
}

.editSpaceSiteIcon .originButton {
	cursor: auto;
}

.tiddler .subtitle:hover {
	font-weight: bold;
	background: none;
}

.originButton img,
.originButton svg {
	margin-left: 0px;
}

.modifierIcon {
	position: absolute;
	width: 74px;
	top: 0px;
	right: 0px;
	_right: 74px; /* in IE6 positioning works incorrectly so use -width instead */
	text-align: right;
}

.modifierIcon img,
.modifierIcon svg {
	margin-right: 8px;
}

.tiddler .viewer {
	padding-bottom: 16px;
	margin: 0 0 0 56px;
	line-height: 1.4em;
}

.viewer pre {
	margin-left: 0;
}

.siteIcon .label {
	color: [[ColorPalette::TertiaryDark]];
}

.tiddler .spaceSiteIcon {
	float: left;
	margin-right: 0;
	margin-top: 0;
	position: relative;
	display: block;
}

.tiddler .titleBar {
	display: block;
	margin-right: 136px;
	margin-left: 56px;
}

.followButton a {
	color: [[ColorPalette::Background]];
}

.tiddler {
	position: relative;
	padding: 0;
	margin-bottom: 3em;
	border-top: 3px solid [[ColorPalette::PrimaryMid]];
	background: #fff;
}

.tiddler .editor {
	padding: 0px 8px;
}

.tiddler .heading .title {
	position: relative;
	display: block;
	word-wrap: break-word;
	font-size: 32px;
	line-height: 32px;
}
.tiddler .heading .editor.title {
	font-size: 1.7em;
	line-height: normal;
}

.tiddler .headingClear {
	clear: both;
}

.tiddler .subtitle {
	font-style: italic;
	font-size: 0.9em;
	color: #a6a59e;
	margin-top: 0;
}

.toolbar {
	position: absolute;
	padding: 0;
	top: 8px;
	right: -8px;
}

.toolbar .moreCommand.highlight {
	background: none;
}

.tiddler .toolbar .button {
	border: none;
	display: inline;
	padding: 0px;
	margin-right: 16px;
}

.tiddler .toolbar a:hover {
	background: none;
}

.tiddler .tagged .listTitle {
	display: none;
}

.revButton {
	float: right;
}

/*! EditTemplate specific*/
.tiddler .privacySettings {
	text-align: center;
}
.tiddler .privacySettings .originButton {
	display: inline;
}

.editSpaceSiteIcon, .privacyEdit {
	float: left;
}

.editSpaceSiteIcon svg,
.editSpaceSiteIcon img,
.editSpaceSiteIcon .roundelLabel {
	float: left;
}

.tagTitle {
	position: absolute;
	text-align: center;
	width: 48px;
	top: 0px;
	left: -56px;
}

.editSpaceSiteIcon .originButton img,
.editSpaceSiteIcon .originButton svg {
	height: 16px;
	margin-left: 24px;
	margin-right: 32px;
	width: 16px;
}

.tagAnnotation {
	margin-top: 8px;
	padding-bottom: 8px;
}
.annotationsBox {
	margin-top: 8px;
}

.editorFooter {
	position: relative;
	padding: 0;
	margin-top: 16px;
	margin-left: 64px;
}

.tiddler .editorFooter .editor {
	padding-left: 0px;
}

.heading .editor input {
	width: 100%;
	font-size: 1.5em;
}

.spaceSiteIcon .externalImage .image a:hover,
.modifierIcon .externalImage .image a:hover {
	background: none;
}

div.toolbar {
	visibility:hidden;
	right:-16px;
}

.selected div.toolbar {
	visibility: visible;
}

.followButton a:hover {
	background: [[ColorPalette::PrimaryMid]];
	text-decoration: underline;
}

a.image:hover {
	background: transparent;
}

@media all and (max-device-width: 480px) {
	div.toolbar {
		visibility:visible;
	}
}
@media only screen and (device-width: 768px) {
	div.toolbar {
		visibility:visible;
	}
}
@media all and (max-width: 960px) {
	.tiddler .titleBar {
		margin-left: 36px;
		margin-right: 80px;
	}

	.tiddler .heading {
		margin-bottom: 48px;
	}

	.tiddler .heading .title {
		font-size: 32px;
		line-height: 32px;
	}

	.tiddler .modifierIcon img,
	.tiddler .modifierIcon svg,
	.tiddler .spaceSiteIcon .originButton img,
	.originButton svg {
		width: 32px;
		height: 32px;
		margin-left: 0px;
		margin-right: 0px;
	}

	.tiddler .followPlaceHolder {
		right: 48px;
	}

	.tiddler .followButton {
		width: 24px;
	}

	.tiddler .viewer {
		margin: 0px 0px 0px 36px;
		padding-top: 0;
	}

	br {
		line-height: 0.5em;
	}
}
/*}}}*/</pre>
</div>
<div title="StyleSheetTiddlySpace" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch" _hash="3150bd9a2cb78777f61a7b6f6539c5fa646fd7ac" server.content-type="" server.permissions="read" server.bag="system-theme_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-theme_public" server.etag="&quot;system-theme_public/StyleSheetTiddlySpace/1521919:aff96f9f0b099f6de37fd359f782b385547792bd&quot;" server.page.revision="1521919" server.title="StyleSheetTiddlySpace">
<pre>/*{{{*/
body {
	font-size: 1em;
	font-family: helvetica, arial, sans-serif;
	background-color: #fff;
	color: [[ColorPalette::Foreground]];
}

body ul { margin: 0; }

#popup {
	background-color: [[ColorPalette::TertiaryPale]];
}

#popup.confirmationPopup, .followList {
	font-size: 0.8em;
	padding: 1em;
	border: solid 1px [[ColorPalette::SecondaryMid]];
	background-color: [[ColorPalette::SecondaryPale]];
}

.followList .listTitle {
	text-decoration: underline;
}

#popup .followTiddlersList a {
	display: inline;
	padding: 0;
}

#popup li a {
	color: [[ColorPalette::PrimaryMid]];
	font-weight: bold;
}

#popup li a:hover {
	color: [[ColorPalette::PrimaryPale]];
	background: [[ColorPalette::PrimaryMid]];
}

#popup li.listTitle {
	border-bottom: 1px solid #000;
	font-weight: bold;
	margin-bottom: 10px;
}

#popup.followList {
	margin-left: 50px;
	margin-top: -30px;
}

.followTiddlersList .label {
	display: block;
	left: 10px;
	top: 0px;
	line-height: 16px;
	position: relative;
}

#popup .followTiddlersList .siteIcon{
	height: auto;
}

#popup .followTiddlersList li{
	clear: both;
	display: block;
	height: 48px;
	margin-bottom: 8px;
	position: relative;
}

#popup .followTiddlersList a{
	display: inline;
}

#displayArea {
	margin: 0;
	top: 0px;
	left: 0px;
	width: 100%;
	position: relative;
}

.revisionCloak {
	position: absolute;
	position: fixed !important;
	height: 100%;
	width: 100%;
	top: 0;
	left: 0;
	border: 0;
	margin: 0;
	padding: 0;
	opacity: 0.5;
	filter: alpha(opacity=50);
	background-color: #000;
}

/* *** Header *** */
.header {
	position: relative;
	background-color: [[ColorPalette::PrimaryMid]];
	_width: 100%; /* ie 6 demands */
}

.headerForeground {
	background-color: [[ColorPalette::PrimaryMid]];
	float: left;
	margin: 24px 16px 0px 72px;
	padding: 0;
	position: relative;
	top: 0;
	_width: 70%; /*ie6: needed for the background to actually be transparent*/
	_background-color: transparent; /*ie6: needed to show the search box*/
}

.clearFloat {
	clear: both;
}

#contentWrapper {
	position: relative;
	padding-top: 1px;
	top: -1px;
}

#tiddlerDisplay {
	_position: relative; /* ie 6*/
}

.siteTitle {
	clear: both;
	display: block;
	font-size: 32px;
	font-weight: bold;
	line-height: 32px;
}

.siteSubtitle {
	display: block;
	font-size: 14px;
	height: 16px;
	margin-bottom: 8px;
}

#sidebarSearch {
	padding: 0;
	position: absolute;
	right: 80px;
	top: 8px;
	width: 176px;
}

#sidebarSearch .txtOptionInput {
	width: 100%;
	margin-top: 5px;
	_color: #bbb; /* ie6 danger */
}

#sidebarSearch .txtOptionInput:focus {
	color: #000;
}

#sidebarSearch .searchButton {
	display: none;
}

/* *** Menu Bar *** */

#mainMenu {
	position: static;
	text-align: left;
	margin-left: 72px;
	float: left;
	width: auto;
	padding: 0;
	font-size: 1em;
	line-height: normal;
}

#mainMenu a {
	color: #fff;
	padding: 8px;
	font-size: 0.9em;
	margin-right: 16px;
}

#mainMenu a:hover {
	background-color: [[ColorPalette::PrimaryMid]];
	color: [[ColorPalette::Background]]
}

#sidebarOptions {
	margin-right: 72px;
	float: right;
	font-size: 1.1em;
	line-height: 1.6em;
	min-height: 1em;
	padding-top: 0;
}

#sidebarOptions a {
	margin-right: 8px;
}

.confirmationPopup .button,
#sidebarOptions .button {
	cursor: pointer;
	line-height: 1.4em;
	text-align: center;
	margin-right: 8px;
	margin-left:-2px;
}

.confirmationPopup .button {
	font-size: 0.9em;
	padding: 2px;
}

#sidebarOptions .button {
	font-size: 0.7em;
	float: left;
	width: 80px;
	padding: 0px;
        color: #fff;
}

.confirmationPopup a.button,
#sidebarOptions a {
	border: none;
	margin: 0 0.2em;
	padding: 0.6em 0.25em;
	display: inline;
	color: #666;
}

.confirmationPopup a.button:hover,
#sidebarOptions a:hover {
	color: #000;
}

.confirmationPopup a.button:active,
#sidebarOptions a:active {
	border: solid 1px [[ColorPalette::PrimaryMid]];
	background-color: #fff;
	background: -webkit-gradient( linear, left bottom, left top, color-stop(0.1,rgb(200,200,200)), color-stop(1, rgb(100,100,100)));
	background: -moz-linear-gradient(center bottom , rgb(200,200,200) 10%,rgb(100,100,100) 100%) repeat scroll 0 0 transparent;
}
/* *** Sidebar *** */

#sidebar .wizard table {
	margin: 0px;
}

.tabContents .listTitle:first-child {
	margin-top: 0px;
}

#menuBar {
	background: [[ColorPalette::PrimaryLight]];
	left: 0;
	right: 0;
	position: relative;
	margin: 0;
	padding: 0.5em 0 0.5em 0;
	min-height: 1em;
	overflow: hidden;
	_width: 100%; /* for ie 6 */
}

#sidebarOptions a.button:hover {
	color: [[ColorPalette::PrimaryPale]];
    background: [[ColorPalette::PrimaryMid]];
}

#tiddlerDisplay, #searchResults {
	margin: 16px 448px 0 72px;
}

#sidebarTabs {
	position: absolute;
	right: 72px;
	width: 352px;
	top: 0;
}

#sidebarTabs .tabsetWrapper .tabset {
	width: 87px;
	border-top: 1px solid [[ColorPalette::PrimaryPale]];
	border-left: 1px solid [[ColorPalette::PrimaryPale]];
	border-bottom: 1px solid [[ColorPalette::PrimaryPale]];
	height: auto;
	float: left;
	word-wrap: break-word;
	top: 0;
	padding: 0;
}

#sidebarTabs .tabsetWrapper .tabContents {
	background-color: [[ColorPalette::PrimaryPale]];
	border: 3px solid [[ColorPalette::PrimaryMid]];
	width: 242px;
	_width: 238px;
	left: -3px;
	_left: -5px;
	position: relative;
	min-height: 34em;
	padding: 8px;
	font-size: 0.8em;
}

/* ---- Side style --- */

#sidebarTabs .tabsetWrapper .tabset .tab {
	font-size: 0.9em;
	padding: 0.7em 8px 0.5em;
	color: #fff;
	background: [[ColorPalette::PrimaryLight]];
	border: none;
	line-height: 16px;
	position: relative;
	display: block;
	margin: 0;
}

#sidebarTabs .tabsetWrapper .tabset .tabSelected {
	color: [[ColorPalette::PrimaryMid]];
	background: [[ColorPalette::PrimaryPale]];
	border-top: 3px solid [[ColorPalette::PrimaryMid]];
	border-bottom: 3px solid [[ColorPalette::PrimaryMid]];
	border-left: 3px solid [[ColorPalette::PrimaryMid]];
	z-index: 10;
	margin-top: -1px;
	font-weight: bold;
}

#sidebarTabs .tabContents li {
	border: none;
	margin-left: 0;
	word-wrap: break-word;
}

.tabContents .timeline {
	background: [[ColorPalette::PrimaryPale]];
	margin-bottom: 8px;
}

#sidebarTabs .timeline li.listTitle {
	color: #132E43;
	margin-left: 8px 0;
	padding: 0.3em 0.11em;
	font-size: 1em;
	border-bottom: none;
}

#sidebarTabs .tabContents li a {
	display: block;
	text-align: left;
	margin: 0 0 1px 0;
	padding: 0.3em 1em;
	background: [[ColorPalette::PrimaryPale]];
}

#sidebarTabs .tabsetWrapper .tabset a:hover,
#sidebarTabs .tabContents li a:hover {
	color: [[ColorPalette::PrimaryPale]];
	background: [[ColorPalette::PrimaryMid]];
}

/* Activity Stream */
#sidebarTabs .tabContents .activityStream .feedItem a {
	display: inline-block;
	padding: 0;
	background: none;
}

/* ---- Tagging box --- */
.tagInfo {
	border: 1px solid #cccccc;
	padding: 10px 15px;
	-moz-box-shadow: 0 2px 2px rgba(0, 0, 0, 0.2);
	box-shadow: 0 2px 2px rgba(0,0,0,0.2);
	color: [[ColorPalette::TertiaryMid]];
	background: -moz-linear-gradient(100% 100% 90deg, #f4f4f4, #e5e5e5);
	background: -webkit-gradient(linear, left top, right top, from(#e5e5e5), to(#f4f4f4));
	margin-top: 1em;
	font-size: 13px;
	margin: 0 0 0 56px;
}

.tagInfo ul {
	list-style: none;
	padding-left: 2.2em;
}

.tagInfo ul li {
	display: inline;
}

.tagInfo ul li.listTitle,
.tagInfo .tagging ul li.listTitle {
	color: [[ColorPalette::PrimaryMid]];
	font-size: 13px;
}

.tagInfo ul li a {
	border: none;
}

.tagInfo .tagging ul li {
	float: none;
	display: inline-block;
}

.tagInfo .tagging {
	padding: 0;
}

.viewRevision .toolbar {
	right: 48px;
	top: 8px;
}

.viewRevision .modifierIcon img,
.viewRevision .modifierIcon svg {
	margin-right: 8px;
}

.viewRevision .toolbar svg {
	width: 32px;
	height: 32px;
}

/* --- IE hacks from lattice --- */

/* ie hacks */
* html #menuBar {
	margin-bottom: 8px;
}
.toolbar .svgIconText {
	*display: inline;
}

div.tiddler .toolbar a {
	cursor: pointer;
	float: left\9;
	display: inline\9;
}

* html .toolbar {
	right: 8px;
}
* html .followButton a {
	margin-top: 0px;
	margin-right: 8px;
}
* html #tiddlerDisplay {
	margin-top: 0px;
}

/* for printing purposes */
@media print {
	#mainMenu,
	#sidebar,
	#messageArea,
	.toolbar,
	.followPlaceHolder,
	#backstageButton,
	#backstageArea,
	#sidebarTabs,
	#sidebarSearch .txtOptionInput,
	#sidebarOptions {
		display: none !important;
	}
	#displayArea {
		margin: 1em 1em 0em;
	}
	noscript {
		display:none; /* Fixes a feature in Firefox 1.5.0.2 where print preview displays the noscript content */
	}
	#tiddlerDisplay {
		margin: 16px 16px;
	}
}

@media all and (max-width: 960px){
	#tiddlerDisplay,
	#searchResults {
		margin: 16px 366px 0 16px;
	}

	#mainMenu {
		margin-left: 16px;
	}

	.headerForeground {
		margin-left: 16px;
	}

	#sidebarSearch {
		right: 16px;
	}

	#sidebarOptions {
		margin-right: 16px;
	}

	#sidebarTabs {
		right: 16px;
		width: 326px;
	}

	#sidebarTabs .tabsetWrapper .tabset {
		font-size: 0.9em;
		width: 77px;
	}

	#sidebarTabs .tabsetWrapper .tabContents {
		width: 226px;
		_width: 222px;
	}

	#sidebarTabs .tabContents li a {
		font-size: 0.9em;
	}
}
/*}}}*/
[[StyleSheetTiddler]]</pre>
</div>
<div title="SwitchWidget" creator="inforabbi" modifier="inforabbi" created="201404240309" modified="201404240309" tags="@juuda" _source="/bags/juuda_public/tiddlers/SwitchWidget" _hash="eec62100ef4caa934abdf44005658b4fb96da45e" server.content-type="" server.permissions="read, write, create, delete" server.bag="inforabbi_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/inforabbi_public" server.etag="&quot;inforabbi_public/SwitchWidget/1729805:bc9f30548dfffacb951f911b996ec2a3b8d4cac1&quot;" server.page.revision="1729805" server.title="SwitchWidget">
<pre>in reply to [[SwitchWidget]]@juuda:

你研究那个方面呢？</pre>
</div>
<div title="SystemSettings" creator="inforabbi" modifier="inforabbi" created="201012091915" modified="201012091915" tags="excludeLists" _hash="1720b805c0408fb371f3e66ca349c2c80a668005" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_private" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_private" server.etag="&quot;gcsim_private/SystemSettings/76139:7b03070da3d16d217c792e57b59d76c558a797ec&quot;" server.page.revision="76139" server.title="SystemSettings">
<pre>chkPrivateMode: false</pre>
</div>
<div title="TabEditPlugin" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" tags="lewcidExtension systemConfig" _hash="5bf2bed8d385ae3589cf4b4a51f5a11204e33116" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/TabEditPlugin/1188319:0f0516b47342ec8de5b635eefb5c782dd85500ba&quot;" server.page.revision="1188319" server.title="TabEditPlugin">
<pre>/***
|Name|TabEditPlugin|
|Created by|SaqImtiaz|
|Location|http://tw.lewcid.org/#TabEditPlugin|
|Version|0.32|
|Requires|~TW2.x|

!Description
Makes editing of tabs easier.

!Usage
*Double click a tab to edit the source tiddler
*Double click outside the tabset to edit the containing tiddler. 

!Demo
TestTabs

!History
*28-04-06, v0.32 - fixed previous bug fix!
*27-04-06, v0.31 - fixed conflicts with tabs created using PartTiddler.
*26-04-06, v0.30 - first public release

***/

//{{{

//tab on double click event handler
Story.prototype.onTabDblClick = function(e){
        if (!e) var e = window.event;
        var theTarget = resolveTarget(e);
        var title= this.getAttribute(&quot;source&quot;);
        if ((version.extensions.PartTiddlerPlugin)&amp;&amp;(title.indexOf(&quot;/&quot;)!=-1))
                 {if (!oldFetchTiddler.call(this, [title]))
                              {return false;}}   
        story.displayTiddler(theTarget,title,2,false,null)
        e.cancelBubble = true;
        if (e.stopPropagation) e.stopPropagation();
        return false;
        }

config.macros.tabs.switchTab = function(tabset,tab)
{
	var cookie = tabset.getAttribute(&quot;cookie&quot;);
	var theTab = null
	var nodes = tabset.childNodes;
	for(var t=0; t&lt;nodes.length; t++)
		if(nodes[t].getAttribute &amp;&amp; nodes[t].getAttribute(&quot;tab&quot;) == tab)
			{
			theTab = nodes[t];
			theTab.className = &quot;tab tabSelected&quot;;
			}
		else
			nodes[t].className = &quot;tab tabUnselected&quot;
	if(theTab)
		{
		if(tabset.nextSibling &amp;&amp; tabset.nextSibling.className == &quot;tabContents&quot;)
			tabset.parentNode.removeChild(tabset.nextSibling);
		var tabContent = createTiddlyElement(null,&quot;div&quot;,null,&quot;tabContents&quot;,null);
		tabset.parentNode.insertBefore(tabContent,tabset.nextSibling);
		var contentTitle = theTab.getAttribute(&quot;content&quot;);

                //set source attribute equal to title of tiddler displayed in tab
		tabContent.setAttribute(&quot;source&quot;,contentTitle);
		//add dbl click event
		tabContent.ondblclick = story.onTabDblClick;

		wikify(store.getTiddlerText(contentTitle),tabContent,null,store.getTiddler(contentTitle));
		if(cookie)
			{
			config.options[cookie] = tab;
			saveOptionCookie(cookie);
			}
		}
}

//}}}</pre>
</div>
<div title="TabFollowing" creator="jon" modifier="jon" created="201008181401" modified="201010011550" tags="excludeLists" _hash="8fd76e9d0d4f4064ad10ced3355522eebe06c37c" server.content-type="" server.permissions="read" server.bag="following_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/following_public" server.etag="&quot;following_public/TabFollowing/71006:376525fc0e1c69415aad9cb9f0055a1850d77ac8&quot;" server.page.revision="71006" server.title="TabFollowing">
<pre>!Followers
&lt;&lt;followers&gt;&gt;
!Activity
[[Replies and Notifications]]

&lt;&lt;activity&gt;&gt;
!Following
All spaces tagged follow
&lt;&lt;list filter [tag[follow]][sort[title]]&gt;&gt;

&lt;&lt;followSuggestions&gt;&gt;</pre>
</div>
<div title="TiddlersBarPlugin" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" tags="Tools VisualTW systemConfig" _hash="0b73281039bb8f05f7d0d06d0816213de38eaa1d" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/TiddlersBarPlugin/1188316:77f071d9f864a5000949a6a6da93a1ed02f13865&quot;" server.page.revision="1188316" server.title="TiddlersBarPlugin">
<pre>/***
|''Name:''|TiddlersBarPlugin|
|''Description:''|A bar to switch between tiddlers through tabs (like browser tabs bar).|
|''Version:''|1.2.5|
|''Date:''|Jan 18,2008|
|''Source:''|http://visualtw.ouvaton.org/VisualTW.html|
|''Author:''|Pascal Collin|
|''License:''|[[BSD open source license|License]]|
|''~CoreVersion:''|2.1.0|
|''Browser:''|Firefox 2.0; InternetExplorer 6.0, others|
!Demos
On [[homepage|http://visualtw.ouvaton.org/VisualTW.html]], open several tiddlers to use the tabs bar.
!Installation
#import this tiddler from [[homepage|http://visualtw.ouvaton.org/VisualTW.html]] (tagged as systemConfig)
#save and reload
#''if you're using a custom [[PageTemplate]]'', add {{{&lt;div id='tiddlersBar' refresh='none' ondblclick='config.macros.tiddlersBar.onTiddlersBarAction(event)'&gt;&lt;/div&gt;}}} before {{{&lt;div id='tiddlerDisplay'&gt;&lt;/div&gt;}}}
#optionally, adjust StyleSheetTiddlersBar
!Tips
*Doubleclick on the tiddlers bar (where there is no tab) create a new tiddler.
*Tabs include a button to close {{{x}}} or save {{{!}}} their tiddler.
*By default, click on the current tab close all others tiddlers.
!Configuration options 
&lt;&lt;option chkDisableTabsBar&gt;&gt; Disable the tabs bar (to print, by example).
&lt;&lt;option chkHideTabsBarWhenSingleTab &gt;&gt; Automatically hide the tabs bar when only one tiddler is displayed. 
&lt;&lt;option txtSelectedTiddlerTabButton&gt;&gt; ''selected'' tab command button.
&lt;&lt;option txtPreviousTabKey&gt;&gt; previous tab access key.
&lt;&lt;option txtNextTabKey&gt;&gt; next tab access key.
!Code
***/
//{{{
config.options.chkDisableTabsBar = config.options.chkDisableTabsBar ? config.options.chkDisableTabsBar : false;
config.options.chkHideTabsBarWhenSingleTab  = config.options.chkHideTabsBarWhenSingleTab  ? config.options.chkHideTabsBarWhenSingleTab  : false;
config.options.txtSelectedTiddlerTabButton = config.options.txtSelectedTiddlerTabButton ? config.options.txtSelectedTiddlerTabButton : &quot;closeOthers&quot;;
config.options.txtPreviousTabKey = config.options.txtPreviousTabKey ? config.options.txtPreviousTabKey : &quot;&quot;;
config.options.txtNextTabKey = config.options.txtNextTabKey ? config.options.txtNextTabKey : &quot;&quot;;
config.macros.tiddlersBar = {
	tooltip : &quot;see &quot;,
	tooltipClose : &quot;click here to close this tab&quot;,
	tooltipSave : &quot;click here to save this tab&quot;,
	promptRename : &quot;Enter tiddler new name&quot;,
	currentTiddler : &quot;&quot;,
	previousState : false,
	previousKey : config.options.txtPreviousTabKey,
	nextKey : config.options.txtNextTabKey,	
	tabsAnimationSource : null, //use document.getElementById(&quot;tiddlerDisplay&quot;) if you need animation on tab switching.
	handler: function(place,macroName,params) {
		var previous = null;
		if (config.macros.tiddlersBar.isShown())
			story.forEachTiddler(function(title,e){
				if (title==config.macros.tiddlersBar.currentTiddler){
					var d = createTiddlyElement(null,&quot;span&quot;,null,&quot;tab tabSelected&quot;);
					config.macros.tiddlersBar.createActiveTabButton(d,title);
					if (previous &amp;&amp; config.macros.tiddlersBar.previousKey) previous.setAttribute(&quot;accessKey&quot;,config.macros.tiddlersBar.nextKey);
					previous = &quot;active&quot;;
				}
				else {
					var d = createTiddlyElement(place,&quot;span&quot;,null,&quot;tab tabUnselected&quot;);
					var btn = createTiddlyButton(d,title,config.macros.tiddlersBar.tooltip + title,config.macros.tiddlersBar.onSelectTab);
					btn.setAttribute(&quot;tiddler&quot;, title);
					if (previous==&quot;active&quot; &amp;&amp; config.macros.tiddlersBar.nextKey) btn.setAttribute(&quot;accessKey&quot;,config.macros.tiddlersBar.previousKey);
					previous=btn;
				}
				var isDirty =story.isDirty(title);
				var c = createTiddlyButton(d,isDirty ?&quot;!&quot;:&quot;x&quot;,isDirty?config.macros.tiddlersBar.tooltipSave:config.macros.tiddlersBar.tooltipClose, isDirty ? config.macros.tiddlersBar.onTabSave : config.macros.tiddlersBar.onTabClose,&quot;tabButton&quot;);
				c.setAttribute(&quot;tiddler&quot;, title);
				if (place.childNodes) {
					place.insertBefore(document.createTextNode(&quot; &quot;),place.firstChild); // to allow break line here when many tiddlers are open
					place.insertBefore(d,place.firstChild); 
				}
				else place.appendChild(d);
			})
	}, 
	refresh: function(place,params){
		removeChildren(place);
		config.macros.tiddlersBar.handler(place,&quot;tiddlersBar&quot;,params);
		if (config.macros.tiddlersBar.previousState!=config.macros.tiddlersBar.isShown()) {
			story.refreshAllTiddlers();
			if (config.macros.tiddlersBar.previousState) story.forEachTiddler(function(t,e){e.style.display=&quot;&quot;;});
			config.macros.tiddlersBar.previousState = !config.macros.tiddlersBar.previousState;
		}
	},
	isShown : function(){
		if (config.options.chkDisableTabsBar) return false;
		if (!config.options.chkHideTabsBarWhenSingleTab) return true;
		var cpt=0;
		story.forEachTiddler(function(){cpt++});
		return (cpt&gt;1);
	},
	selectNextTab : function(){  //used when the current tab is closed (to select another tab)
		var previous=&quot;&quot;;
		story.forEachTiddler(function(title){
			if (!config.macros.tiddlersBar.currentTiddler) {
				story.displayTiddler(null,title);
				return;
			}
			if (title==config.macros.tiddlersBar.currentTiddler) {
				if (previous) {
					story.displayTiddler(null,previous);
					return;
				}
				else config.macros.tiddlersBar.currentTiddler=&quot;&quot;; 	// so next tab will be selected
			}
			else previous=title;
			});		
	},
	onSelectTab : function(e){
		var t = this.getAttribute(&quot;tiddler&quot;);
		if (t) story.displayTiddler(null,t);
		return false;
	},
	onTabClose : function(e){
		var t = this.getAttribute(&quot;tiddler&quot;);
		if (t) {
			if(story.hasChanges(t) &amp;&amp; !readOnly) {
				if(!confirm(config.commands.cancelTiddler.warning.format([t])))
				return false;
			}
			story.closeTiddler(t);
		}
		return false;
	},
	onTabSave : function(e) {
		var t = this.getAttribute(&quot;tiddler&quot;);
		if (!e) e=window.event;
		if (t) config.commands.saveTiddler.handler(e,null,t);
		return false;
	},
	onSelectedTabButtonClick : function(event,src,title) {
		var t = this.getAttribute(&quot;tiddler&quot;);
		if (!event) event=window.event;
		if (t &amp;&amp; config.options.txtSelectedTiddlerTabButton &amp;&amp; config.commands[config.options.txtSelectedTiddlerTabButton])
			config.commands[config.options.txtSelectedTiddlerTabButton].handler(event, src, t);
		return false;
	},
	onTiddlersBarAction: function(event) {
		var source = event.target ? event.target.id : event.srcElement.id; // FF uses target and IE uses srcElement;
		if (source==&quot;tiddlersBar&quot;) story.displayTiddler(null,'New Tiddler',DEFAULT_EDIT_TEMPLATE,false,null,null);
	},
	createActiveTabButton : function(place,title) {
		if (config.options.txtSelectedTiddlerTabButton &amp;&amp; config.commands[config.options.txtSelectedTiddlerTabButton]) {
			var btn = createTiddlyButton(place, title, config.commands[config.options.txtSelectedTiddlerTabButton].tooltip ,config.macros.tiddlersBar.onSelectedTabButtonClick);
			btn.setAttribute(&quot;tiddler&quot;, title);
		}
		else
			createTiddlyText(place,title);
	}
}

story.coreCloseTiddler = story.coreCloseTiddler? story.coreCloseTiddler : story.closeTiddler;
story.coreDisplayTiddler = story.coreDisplayTiddler ? story.coreDisplayTiddler : story.displayTiddler;

story.closeTiddler = function(title,animate,unused) {
	if (title==config.macros.tiddlersBar.currentTiddler)
		config.macros.tiddlersBar.selectNextTab();
	story.coreCloseTiddler(title,false,unused); //disable animation to get it closed before calling tiddlersBar.refresh
	var e=document.getElementById(&quot;tiddlersBar&quot;);
	if (e) config.macros.tiddlersBar.refresh(e,null);
}

story.displayTiddler = function(srcElement,tiddler,template,animate,unused,customFields,toggle){
	story.coreDisplayTiddler(config.macros.tiddlersBar.tabsAnimationSource,tiddler,template,animate,unused,customFields,toggle);
	var title = (tiddler instanceof Tiddler)? tiddler.title : tiddler;  
	if (config.macros.tiddlersBar.isShown()) {
		story.forEachTiddler(function(t,e){
			if (t!=title) e.style.display=&quot;none&quot;;
			else e.style.display=&quot;&quot;;
		})
		config.macros.tiddlersBar.currentTiddler=title;
	}
	var e=document.getElementById(&quot;tiddlersBar&quot;);
	if (e) config.macros.tiddlersBar.refresh(e,null);
}

var coreRefreshPageTemplate = coreRefreshPageTemplate ? coreRefreshPageTemplate : refreshPageTemplate;
refreshPageTemplate = function(title) {
	coreRefreshPageTemplate(title);
	if (config.macros.tiddlersBar) config.macros.tiddlersBar.refresh(document.getElementById(&quot;tiddlersBar&quot;));
}

ensureVisible=function (e) {return 0} //disable bottom scrolling (not useful now)

config.shadowTiddlers.StyleSheetTiddlersBar = &quot;/*{{{*/\n&quot;;
config.shadowTiddlers.StyleSheetTiddlersBar += &quot;#tiddlersBar .button {border:0}\n&quot;;
config.shadowTiddlers.StyleSheetTiddlersBar += &quot;#tiddlersBar .tab {white-space:nowrap}\n&quot;;
config.shadowTiddlers.StyleSheetTiddlersBar += &quot;#tiddlersBar {padding : 1em 0.5em 2px 0.5em}\n&quot;;
config.shadowTiddlers.StyleSheetTiddlersBar += &quot;.tabUnselected .tabButton, .tabSelected .tabButton {padding : 0 2px 0 2px; margin: 0 0 0 4px;}\n&quot;;
config.shadowTiddlers.StyleSheetTiddlersBar += &quot;.tiddler, .tabContents {border:1px [[ColorPalette::TertiaryPale]] solid;}\n&quot;;
config.shadowTiddlers.StyleSheetTiddlersBar +=&quot;/*}}}*/&quot;;
store.addNotification(&quot;StyleSheetTiddlersBar&quot;, refreshStyles);

config.refreshers.none = function(){return true;}
config.shadowTiddlers.PageTemplate=config.shadowTiddlers.PageTemplate.replace(/&lt;div id='tiddlerDisplay'&gt;&lt;\/div&gt;/m,&quot;&lt;div id='tiddlersBar' refresh='none' ondblclick='config.macros.tiddlersBar.onTiddlersBarAction(event)'&gt;&lt;/div&gt;\n&lt;div id='tiddlerDisplay'&gt;&lt;/div&gt;&quot;);

//}}}</pre>
</div>
<div title="TiddlyFileImporter" creator="None" modifier="None" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch systemConfig" _hash="948bb64604a46205267e446af0f638c4e8fc3c8e" server.content-type="text/javascript" server.permissions="read" server.bag="tiddlyspace" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" server.etag="&quot;tiddlyspace/TiddlyFileImporter/1521907:acb2cc0ae2198d1828ba11e0871476199b5f4b46&quot;" server.page.revision="1521907" server.title="TiddlyFileImporter">
<pre>/***
|''Name''|TiddlyFileImporter|
|''Version''|0.3.8|
|''Author''|Ben Gillies|
|''Type''|plugin|
|''Description''|Upload a TiddlyWiki file to TiddlyWeb, and import the tiddlers.|
!Usage
Upload a TiddlyWiki file to TiddlyWeb, and import the tiddlers.
!Requires
tiddlyweb
tiddlywebplugins.reflector
!Code
***/
//{{{
(function($){
if(!version.extensions.TiddlyFileImporter)
{ //# ensure that the plugin is only installed once
	version.extensions.TiddlyFileImporter = { installed: true };
}

config.macros.fileImport = {
	reflectorURI: '/reflector?csrf_token=%0',
	incorrectTypeError: 'Incorrect File Type. You must upload a TiddlyWiki',
	uploadLabel: 'Upload',
	uploadLabelPrompt: 'Import tiddlers from this TiddlyWiki',
	step1FileText: 'File:',
	step1PostText: 'In the next screen you will select the tiddlers to import.',
	step1Title: 'Step 1: Pick a TiddlyWiki to import',
	step1TypeChooser: 'Import From:',
	step3Html: ['&lt;input type=&quot;hidden&quot; name=&quot;markList&quot; /&gt;',
		'&lt;input type=&quot;hidden&quot; checked=&quot;true&quot; name=&quot;chkSync&quot; /&gt;',
		'&lt;input type=&quot;hidden&quot; name=&quot;chkSave&quot; /&gt;',
		'&lt;input type=&quot;hidden&quot; name=&quot;txtSaveTiddler&quot; /&gt;'].join(),

	handler: function(place, macroName, params, wikifier, paramString) {
		var wizard = new Wizard();
		wizard.createWizard(place, 'Import a TiddlyWiki');
		this.restart(wizard);
	},

	restart: function(wizard) {
		var me = config.macros.fileImport;
		wizard.addStep(me.step1Title, ['&lt;input type=&quot;hidden&quot; ',
			'name=&quot;markList&quot; /&gt;'].join(&quot;&quot;));
		var markList = wizard.getElement('markList');
		var uploadWrapper = document.createElement('div');
		markList.parentNode.insertBefore(uploadWrapper, markList);
		uploadWrapper.setAttribute('refresh', 'macro');
		uploadWrapper.getAttribute('macroName', 'fileImport');
		var iframeName = 'reflectorImporter' + Math.random().toString();
		me.createForm(uploadWrapper, wizard, iframeName);
		$(uploadWrapper).append('&lt;p&gt;' + me.step1PostText + '&lt;/p&gt;');
		wizard.setValue('serverType', 'tiddlyweb');
		wizard.setValue('adaptor', new config.adaptors.file());
		wizard.setValue('host', config.defaultCustomFields['server.host']);
		wizard.setValue('context', {});
		var iframe = $(['&lt;iframe name=&quot;' + iframeName + '&quot; ',
			'style=&quot;display: none&quot; /&gt;'].join(&quot;&quot;)).appendTo(uploadWrapper);
		var onSubmit = function(ev) {
			var uploadType = $('select[name=uploadtype]', wizard.formElem).val();
			if (uploadType == &quot;file&quot;) {
				// set an onload ready to hijack the form
				me.setOnLoad(uploadWrapper, wizard, iframe[0]);
				wizard.importType = 'file';
				wizard.formElem.submit();
			} else {
				var csrf_token = config.extensions.tiddlyspace.getCSRFToken();
				$.ajax({
					url: &quot;%0/reflector?csrf_token=%1&quot;.format(
						config.defaultCustomFields[&quot;server.host&quot;], csrf_token),
					type: &quot;POST&quot;,
					dataType: &quot;text&quot;,
					data: {
						uri: $(&quot;input&quot;, &quot;.importFrom&quot;, wizard.formElem).val()
					},
					success: function(data, txtStatus, xhr) {
						wizard.POSTResponse = data;
						me.importTiddlers(uploadWrapper, wizard);
					},
					error: function(xhr, txtStatus, error) {
						displayMessage([&quot;There was an error fetching the &quot;,
							'url: ', txtStatus].join(&quot;&quot;));
						me.restart(wizard);
					}
				});
				return false;
			}
		};
		wizard.setButtons([{
			caption: me.uploadLabel,
			tooltip: me.uploadLabelPrompt,
			onClick: onSubmit
		}]);
		$(wizard.formElem).submit(function(ev) {
			onSubmit(ev);
			ev.preventDefault();
		});
	},

	createForm: function(place, wizard, iframeName) {
		var form = wizard.formElem;
		var me = config.macros.fileImport;
		form.action = me.reflectorURI.format(
			config.extensions.tiddlyspace.getCSRFToken());
		form.enctype = 'multipart/form-data';
		form.encoding = 'multipart/form-data';
		form.method = 'POST';
		form.target = iframeName;
		onSelectChange = function(e) {
			var changeTo = $(this).val();
			if (changeTo == &quot;file&quot;) {
				$(&quot;.importFrom&quot;).html('%0 &lt;input type=&quot;file&quot; name=&quot;file&quot; /&gt;'.
					format(me.step1FileText));
			} else {
				$(&quot;.importFrom&quot;).html('URL: &lt;input type=&quot;text&quot; name=&quot;uri&quot; /&gt;'
					+ ' Do you want &lt;a target=&quot;_blank&quot; href=&quot;http://faq.tiddlyspace.com/How%20do%20I%20include%2Fexclude%20spaces%3F&quot;&gt;inclusion&lt;/a&gt; instead?');
			}
		};
		$(place).append('&lt;span&gt;%0&lt;/span&gt;'.format(me.step1TypeChooser)).
			append($(['&lt;select name=&quot;uploadtype&quot;&gt;&lt;option value=&quot;file&quot; selected=&quot;selected&quot;&gt;file',
				'&lt;option value=&quot;uri&quot;&gt;url&lt;/select&gt;'].join(&quot;&quot;)).change(onSelectChange)).
			append('&lt;div class=&quot;importFrom&quot;&gt;%0&lt;input type=&quot;file&quot; name=&quot;file&quot; /&gt;&lt;/div&gt;'.
					format(me.step1FileText));
	},

	setOnLoad: function(place, wizard, iframe) {
		var me = config.macros.fileImport;
		var loadHandler = function() {
			me.importTiddlers.apply(this, [place, wizard, iframe]);
		};
		iframe.onload = loadHandler;
		completeReadyStateChanges = 0;
		iframe.onreadystatechange = function() {
			if (++(completeReadyStateChanges) == 5) {
				loadHandler();
			}
		};
	},

	importTiddlers: function(place, wizard, iframe) {
		var tmpStore = new TiddlyWiki();
		var POSTedWiki = &quot;&quot;;
		if (wizard.importType == &quot;file&quot;) {
			try {
				POSTedWiki= iframe.contentWindow
					.document.documentElement.innerHTML;
			} catch(e) {
				displayMessage(config.macros.fileImport.incorrectTypeError);
				config.macros.fileImport.restart(wizard);
				return;
			}
			// now we are done, so remove the iframe
			$(iframe).remove();
		} else {
			POSTedWiki = wizard.POSTResponse;
		}

		tmpStore.importTiddlyWiki(POSTedWiki);
		var newTiddlers = tmpStore.getTiddlers();
		var workspace = config.defaultCustomFields['server.workspace'];
		var context = {
			status: true,
			statusText: 'OK',
			httpStatus: 200,
			adaptor: wizard.getValue('adaptor'),
			tiddlers: newTiddlers
		};
		context.adaptor.store = tmpStore;
		wizard.setValue('context', context);
		wizard.setValue('workspace', workspace);
		wizard.setValue('inFileImport', true);
		config.macros.importTiddlers.onGetTiddlerList(context, wizard);
	}
};

var _onGetTiddler = config.macros.importTiddlers.onGetTiddler;
config.macros.importTiddlers.onGetTiddler = function(context, wizard) {
	if (wizard.getValue('inFileImport')) {
		var me = config.macros.importTiddlers;
		if(!context.status)
			displayMessage(&quot;Error in importTiddlers.onGetTiddler: &quot; + context.statusText);
		var tiddler = context.tiddler;
		var fields = tiddler.fields;
		merge(fields, config.defaultCustomFields);
		fields[&quot;server.workspace&quot;] = wizard.getValue('workspace');
		delete fields['server.permissions'];
		delete fields['server.bag'];
		fields['server.page.revision'] = 'false';
		delete fields['server.recipe'];
		fields.changecount = 1;
		store.suspendNotifications();
		store.saveTiddler(tiddler.title, tiddler.title, tiddler.text,
			tiddler.modifier, tiddler.modified, tiddler.tags, tiddler.fields,
			false, tiddler.created);
		store.resumeNotifications();
		var remainingImports = wizard.getValue(&quot;remainingImports&quot;)-1;
		wizard.setValue(&quot;remainingImports&quot;,remainingImports);
		if(remainingImports === 0) {
			if(context.isSynchronous) {
				store.notifyAll();
				refreshDisplay();
			}
			wizard.setButtons([
					{caption: me.doneLabel, tooltip: me.donePrompt, onClick: me.onClose}
				],me.statusDoneImport);
			autoSaveChanges();
		}
	} else {
		_onGetTiddler.apply(this, arguments);
	}
};

var _onCancel = config.macros.importTiddlers.onCancel;
config.macros.importTiddlers.onCancel = function(e)
{
	var wizard = new Wizard(this);
	if (!wizard.getValue('inFileImport')) {
		return _onCancel.apply(this, arguments);
	}
	var place = wizard.clear();
	config.macros.fileImport.restart(wizard);
	return false;
};

var _step3Html = config.macros.importTiddlers.step3Html;
var _onGetTiddlerList = config.macros.importTiddlers.onGetTiddlerList;
config.macros.importTiddlers.onGetTiddlerList = function(context, wizard) {
	var fileImport = config.macros.fileImport;
	var importTiddlers = config.macros.importTiddlers;
	if (wizard.getValue('inFileImport')) {
		importTiddlers.step3Html = fileImport.step3Html;
	} else {
		importTiddlers.step3Html = _step3Html;
	}
	_onGetTiddlerList.apply(this, arguments);
};
})(jQuery);
//}}}</pre>
</div>
<div title="TiddlySpaceBackstage" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch systemConfig" _hash="390091c823ffd5ec5008f2a8174c3caccfa6302b" server.content-type="text/javascript" server.permissions="read" server.bag="tiddlyspace" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" server.etag="&quot;tiddlyspace/TiddlySpaceBackstage/1521910:06f6fffdb7aec0602b6538360e5805c9ec5b0e17&quot;" server.page.revision="1521910" server.title="TiddlySpaceBackstage">
<pre>/***
|''Name''|TiddlySpaceBackstage|
|''Version''|0.8.0|
|''Description''|Provides a TiddlySpace version of the backstage and a homeLink macro|
|''Status''|@@beta@@|
|''Contributors''|Jon Lister, Jon Robson, Colm Britton|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/TiddlySpaceBackstage.js|
|''Requires''|TiddlySpaceConfig ImageMacroPlugin TiddlySpaceViewTypes|
!StyleSheet
.tiddler .error.annotation .button{
	display: inline-block;
}

#backstageArea {
	z-index: 49;
	color: white;
	background-color: black;
	background: -webkit-gradient(linear,left bottom,left top,color-stop(0, #222),color-stop(0.5, #333),color-stop(1, #555));
	background: -moz-linear-gradient(center bottom,#222 0%, #333 50%, #555 100%);
	filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#ff555555, endColorstr=#ff222222);
	-ms-filter: &quot;progid:DXImageTransform.Microsoft.gradient(startColorstr=#ff555555, endColorstr=#ff222222)&quot;;
	height: 25px;
	padding: 0;
}

#backstageButton {
	overflow: hidden;
}

#backstageButton #backstageShow,
#backstageButton #backstageHide {
	margin: 0px;
	padding: 0px;
}

#backstageButton #backstageShow:hover,
#backstageButton #backstageHide:hover {
	background: none;
	color: none;
}

#backstageButton img,
#backstageButton svg {
	width: 24px;
	height: 24px;
}

#messageArea {
	top: 50px;
}

#backstageToolbar {
	position: relative;
}

#backstageArea a {
	padding: 0px;
	margin-left: 0px;
	color: white;
	background: none;
}

#backstageArea a:hover {
	background-color: white;
}

#backstage ol,
#backstage ul {
	padding: auto;
}

#backstageButton a {
	margin: 0;
}

.backstagePanelBody ul {
	padding: 5px;
	margin: 5px;
}

#backstage #backstagePanel {
	margin-left: 5%;
	padding: 0em;
	margin-right: 5%;
}

#backstageToolbar a {
	position: relative;
}

#backstageArea a.backstageSelTab,
#backstageToolbar .backstageTask {
	line-height: 25px;
	color: #767676;
}

.backstageTask .externalImage,
.backstageTask .image {
	display: inline;
}

#backstageToolbar a span {
	z-index: 2;
}

a.backstageTask {
	display: inline;
        margin-left: 1em !important;
}

.backstagePanelBody .button {
	display: inline-block;
	margin-right: 10px;
}

.backstagePanelBody {
	margin: 0 0 0 0.6em;
	padding: 0.4em 0.5em 1px 0.5em;
}

#backstage table {
	margin: auto;
}

#backstage .wizard table {
	border: 0px;
	margin: 0;
}

#backstage div  li.listLink {
	border: 0px;
	width: 78%;
	font-size: 0.7em;
}

#backstage div li.listTitle {
	font-weight: bold;
	text-decoration: underline;
	font-size: 1em;
	background: #ccc;
	width: 100%;
}

#backstage fieldset {
	border: solid 1px [[ColorPalette::Background]];
}

#backstage .viewer table,#backstage table.twtable {
	border: 0px;
}

#backstageToolbar img {
	padding: 0;
}

#backstage .wizard,
#backstage .wizardFooter {
	background: none;
}

.viewer td, .viewer tr, .twtable td, .twtable tr {
	border: 1px solid #eee;
}

#backstage .inlineList ul li {
	background-color: [[ColorPalette::Background]];
	border: solid 1px [[ColorPalette::TertiaryMid]];
	display: block;
	float: left;
	list-style: none;
	margin-right: 1em;
	padding: 0.5em;
}

.backstageClear, .inlineList form {
	clear: both;
	display: block;
	margin-top: 3em;
}

.tiddlyspaceMenu {
	text-align: center;
}

span.chunkyButton {
	display: inline-block;
	padding: 0;
	margin: 0;
	border: solid 2px #000;
	background-color: #04b;
}

span.chunkyButton a.button, span.chunkyButton a:active.button {
	white-space: nowrap;
	font-weight: bold;
	font-size: 1.8em;
	color: #fff;
	text-align: center;
	padding: 0.5em 0.5em;
	margin: 0;
	border-style: none;
	display: block;
}

span.chunkyButton:hover {
	background-color: #014;
}

span.chunkyButton a.button:hover {
	border-style: none;
	background: none;
	color: #fff;
}

#backstage .unpluggedSpaceTab .wizard,
.unpluggedSpaceTab .wizard {
	background: white;
	border: 2px solid #CCC;
	padding: 5px;
}

.syncKey .keyItem {
	border: 1px solid black;
	display: inline-block;
	margin: 0.2em;
	padding: 0.1em 0.1em 0.1em 0.1em;
}

.keyHeading {
	font-size: 2em;
	font-weight: bold;
	margin: 0.4em 0em -0.2em;
}

.unpluggedSpaceTab .putToServer,
.unpluggedSpaceTab .notChanged {
	display: none;
}

.tiddlyspaceMenu ul {
	margin: 0;
	padding: 0;
}

.tiddlyspaceMenu ul li {
	list-style: none;
}

.unsyncedChanges .unsyncedList {
	display: block;
}

.unsyncedList {
	display: none;
}
!Code
***/
//{{{
(function ($) {
    var name = &quot;StyleSheet&quot; + tiddler.title;
    config.shadowTiddlers[name] = &quot;/*{{{*/\n%0\n/*}}}*/&quot;.
        format(store.getTiddlerText(tiddler.title + &quot;##StyleSheet&quot;)); // this accesses the StyleSheet section of the current tiddler (the plugin that contains it)
    store.addNotification(name, refreshStyles);

    if (!config.extensions.tiddlyweb.status.tiddlyspace_version) { // unplugged
        config.extensions.tiddlyweb.status.tiddlyspace_version = &quot;&lt;unknown&gt;&quot;;
        config.extensions.tiddlyweb.status.server_host = {
            url:config.extensions.tiddlyweb.host }; // TiddlySpaceLinkPlugin expects this
    }
    var disabled_tasks_for_nonmembers = [&quot;tiddlers&quot;, &quot;plugins&quot;, &quot;batch&quot;, &quot;sync&quot;];

    var tweb = config.extensions.tiddlyweb;
    var tiddlyspace = config.extensions.tiddlyspace;
    var currentSpace = tiddlyspace.currentSpace.name;
    var imageMacro = config.macros.image;

    if (config.options.chkBackstage === undefined) {
        config.options.chkBackstage = false;
    }

// Set up Backstage
    config.tasks = {};
    config.tasks.status = {
        text:&quot;status&quot;,
        tooltip:&quot;TiddlySpace Info&quot;,
        content:&quot;&lt;&lt;tiddler Backstage##Menu&gt;&gt;&quot;
    };
    config.tasks.tiddlers = {
        text:&quot;tiddlers&quot;,
        tooltip:&quot;tiddlers control panel&quot;,
        content:&quot;&lt;&lt;tiddler Backstage##BackstageTiddlers&gt;&gt;&quot;
    };
    config.tasks.plugins = {
        text:&quot;plugins&quot;,
        tooltip:&quot;Manage installed plugins&quot;,
        content:&quot;&lt;&lt;tiddler Backstage##Plugins&gt;&gt;&quot;
    };
    config.tasks.batch = {
        text:&quot;batch&quot;,
        tooltip:&quot;Batch manage public/private tiddlers&quot;,
        content:&quot;&lt;&lt;tiddler Backstage##BatchOps&gt;&gt;&quot;
    };
    config.tasks.tweaks = {
        text:&quot;tweaks&quot;,
        tooltip:&quot;Tweak TiddlyWiki behaviors&quot;,
        content:&quot;&lt;&lt;tiddler Backstage##Tweaks&gt;&gt;&quot;
    };
    config.tasks.exportTiddlers = {
        text:&quot;import/export&quot;,
        tooltip:&quot;Import/export tiddlers from/to a TiddlyWiki&quot;,
        content:&quot;&lt;&lt;tiddler Backstage##ImportExport&gt;&gt;&quot;
    };
    config.tasks.sync = {
        text:&quot;sync&quot;,
        tooltip:&quot;Check Sync status&quot;,
        content:&quot;&lt;&lt;tiddler Backstage##SpaceUnplugged&gt;&gt;&quot;
    };

    if (window.location.protocol === &quot;file:&quot;) {
        config.unplugged = true;
    }

    config.backstageTasks = [&quot;status&quot;, &quot;tiddlers&quot;, &quot;plugins&quot;,
        &quot;batch&quot;, &quot;tweaks&quot;, &quot;exportTiddlers&quot;, &quot;sync&quot;];

    config.messages.backstage.prompt = &quot;&quot;;
// initialize state
    var _show = backstage.show;
    backstage.show = function () {
        // selectively hide backstage tasks and tabs based on user status
        var tasks = $(&quot;#backstageToolbar .backstageTask&quot;).show();
        var bs = backstage.tiddlyspace;
        if (!config.unplugged) {
            tweb.getUserInfo(function (user) {
                if (user.anon) {
                    jQuery.each(disabled_tasks_for_nonmembers, function (i, task) {
                        var taskIndex = config.backstageTasks.indexOf(task);
                        if (taskIndex !== -1) {
                            config.backstageTasks.splice(taskIndex, 1);
                        }
                    });
                    config.messages.memberStatus = bs.locale.loggedout;
                } else {
                    config.messages.memberStatus = readOnly ?
                        bs.locale.nonmember : bs.locale.member;
                }
            });
        } else {
            config.messages.memberStatus = bs.locale.unplugged;
        }

        // display backstage
        return _show.apply(this, arguments);
    };
    if (readOnly) {
        jQuery.each(disabled_tasks_for_nonmembers, function (i, task) {
            var taskIndex = config.backstageTasks.indexOf(task);
            if (taskIndex !== -1) {
                config.backstageTasks.splice(taskIndex, 1);
            }
        });
    }

    var tasks = config.tasks;
    var commonUrl = &quot;/bags/common/tiddlers/%0&quot;;

    backstage.tiddlyspace = {
        locale:{
            member:&quot;You are a member of this space.&quot;,
            nonmember:&quot;You are not a member of this space.&quot;,
            loggedout:&quot;You are currently logged out of TiddlySpace.&quot;,
            unplugged:&quot;You are unplugged.&quot;
        },
        showButton:function () {
            var showBtn = $(&quot;#backstageShow&quot;)[0];
            var altText = $(showBtn).text();
            $(showBtn).empty();
            imageMacro.renderImage(showBtn, &quot;backstage.svg&quot;,
                { altImage:commonUrl.format(&quot;backstage.png&quot;), alt:altText});
        },
        hideButton:function () {
            var hideBtn = $(&quot;#backstageHide&quot;)[0];
            var altText = $(hideBtn).text();
            $(hideBtn).empty();
            imageMacro.renderImage(hideBtn, &quot;close.svg&quot;,
                { altImage:commonUrl.format(&quot;close.png&quot;), alt:altText, width:24, height:24 });
        }
    };

    var _init = backstage.init;
    backstage.init = function () {
        _init.apply(this, arguments);
        var init = function (user) {
            var bs = backstage.tiddlyspace;
            bs.showButton();
            bs.hideButton();
        };
        tweb.getUserInfo(init);
    };

    var home = config.macros.homeLink = {
        locale:{
            linkText:&quot;your home space&quot;
        },
        handler:function (place) {
            var container = $(&quot;&lt;span /&gt;&quot;).appendTo(place)[0];
            tweb.getUserInfo(function (user) {
                if (!user.anon &amp;&amp; user.name !== currentSpace) {
                    createSpaceLink(container, user.name, null, home.locale.linkText);
                }
            });
        }
    };

    config.macros.exportSpace = {
        handler:function (place, macroName, params) {
            var filename = params[0] ||
                &quot;/tiddlers.wiki?download=%0.html&quot;.format(currentSpace);
            $('&lt;a class=&quot;button&quot;&gt;download&lt;/a&gt;').// XXX: i18n
                attr(&quot;href&quot;, filename).appendTo(place);
        }
    };

}(jQuery));
//}}}</pre>
</div>
<div title="TiddlySpaceCSRF" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch systemConfig" _hash="10b0276ddc805a9489b6449c972bb1dc00fb9cf0" server.content-type="text/javascript" server.permissions="read" server.bag="tiddlyspace" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" server.etag="&quot;tiddlyspace/TiddlySpaceCSRF/1521904:799a6a33085edf0cd2f57cab770f73d4935e9c3a&quot;" server.page.revision="1521904" server.title="TiddlySpaceCSRF">
<pre>(function() {
var getCSRFToken = function(window) {
	// XXX: should not use RegEx - cf.
	// http://www.quirksmode.org/js/cookies.html
	// https://github.com/TiddlySpace/tiddlyspace/commit/5f4adbe009ed4bda3ce39058a3fb07de1420358d
	var regex = /^(?:.*; )?csrf_token=([^(;|$)]*)(?:;|$)/;
	var match = regex.exec(document.cookie);
	var csrf_token = null;
	if (match &amp;&amp; (match.length === 2)) {
		csrf_token = match[1];
	}

	return csrf_token;
};

if (typeof config !== 'undefined' &amp;&amp; config.extensions &amp;&amp;
		config.extensions.tiddlyspace &amp;&amp;
		config.extensions.tiddlyspace.getCSRFToken === null) {
	config.extensions.tiddlyspace.getCSRFToken = getCSRFToken;
} else {
	window.getCSRFToken = getCSRFToken;
}
})(window);</pre>
</div>
<div title="TiddlySpaceCloneCommand" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch systemConfig" _hash="3ecfd7c955dc674752681565ad0ed68f8fcad5d9" server.content-type="text/javascript" server.permissions="read" server.bag="tiddlyspace" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" server.etag="&quot;tiddlyspace/TiddlySpaceCloneCommand/1521898:b928526e70c5e872b5b41e03e13a66e856c23c93&quot;" server.page.revision="1521898" server.title="TiddlySpaceCloneCommand">
<pre>/***
|''Name''|TiddlySpaceCloneCommand|
|''Version''|0.5.8|
|''Description''|provides a toolbar command for cloning external tiddlers|
|''Status''|stable|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/TiddlySpaceCloneCommand.js|
|''Requires''|TiddlySpaceConfig TiddlySpaceFilters|
!Code
***/
//{{{
(function($) {

var cmd = config.commands;
var tiddlyspace = config.extensions.tiddlyspace;

var fieldsCache = {};

cmd.cloneTiddler = {
	text: cmd.editTiddler.text,
	tooltip: &quot;Create a copy of this tiddler in the current space&quot;,
	errorMsg: &quot;Error publishing %0: %1&quot;,

	isEnabled: function(tiddler) {
		return !config.filterHelpers.is.local(tiddler) &amp;&amp; !readOnly;
	},
	handler: function(ev, src, title) {
		var tiddler = store.getTiddler(title);
		if(tiddler) {
			fieldsCache[title] = $.extend({}, tiddler.fields);
			tiddler.fields[&quot;server.workspace&quot;] = tiddlyspace.getCurrentWorkspace(config.options.chkPrivateMode ?
		&quot;private&quot; : &quot;public&quot;);
			tiddler.fields[&quot;server.permissions&quot;] = &quot;read, write, create&quot;; // no delete
			delete tiddler.fields[&quot;server.page.revision&quot;];
			delete tiddler.fields[&quot;server.title&quot;];
			delete tiddler.fields[&quot;server.etag&quot;];
			// special handling for pseudo-shadow tiddlers
			if(tiddlyspace.coreBags.contains(tiddler.fields[&quot;server.bag&quot;])) {
				tiddler.tags.remove(&quot;excludeLists&quot;);
			}
		} else { // ensure workspace is the current space
			var el = story.findContainingTiddler(src);
			el = $(el);
			var fields = el.attr(&quot;tiddlyfields&quot;);
			if(fields) { // inherited via TiddlyLink
				fields = fields.decodeHashMap();
				fields[&quot;server.workspace&quot;] = config.
					defaultCustomFields[&quot;server.workspace&quot;];
			} else {
				fields = config.defaultCustomFields;
			}
			fields = String.encodeHashMap(fields);
			el.attr(&quot;tiddlyfields&quot;, fields);
		}
		cmd.editTiddler.handler.apply(this, arguments);
		if(tiddler) {
			tiddler.fields[&quot;server.permissions&quot;] += &quot;, delete&quot;;
		}
		return false;
	}
};

cmd.editTiddler.isEnabled = function(tiddler) {
	return !cmd.cloneTiddler.isEnabled.apply(this, arguments);
};

// hijack cancelTiddler to restore original fields
var _cancelHandler = cmd.cancelTiddler.handler;
cmd.cancelTiddler.handler = function(ev, src, title) {
	var tiddler = store.getTiddler(title);
	if(tiddler) {
		tiddler.fields = fieldsCache[title] || tiddler.fields;
		delete fieldsCache[title];
	}
	return _cancelHandler.apply(this, arguments);
};

// hijack saveTiddler to clear unused fields stash
var _saveHandler = cmd.saveTiddler.handler;
cmd.saveTiddler.handler =  function(ev, src, title) {
	delete fieldsCache[title];
	return _saveHandler.apply(this, arguments);
};

})(jQuery);
//}}}</pre>
</div>
<div title="TiddlySpaceConfig" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch systemConfig" _hash="e74aa09eb3a15ff6e90b7de81e4d23168f8a51db" server.content-type="text/javascript" server.permissions="read" server.bag="tiddlyspace" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" server.etag="&quot;tiddlyspace/TiddlySpaceConfig/1521905:a218f6e7ccacee4115d14c97431ca3a6dc495d7e&quot;" server.page.revision="1521905" server.title="TiddlySpaceConfig">
<pre>/***
|''Name''|TiddlySpaceConfig|
|''Version''|0.7.7|
|''Description''|TiddlySpace configuration|
|''Status''|stable|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/TiddlySpaceConfig.js|
|''CoreVersion''|2.6.1|
|''Requires''|TiddlyWebConfig ServerSideSavingPlugin TiddlyFileImporter|
!Code
***/
//{{{
(function($) {

var tweb = config.extensions.tiddlyweb;

var recipe = config.defaultCustomFields[&quot;server.workspace&quot;].split(&quot;recipes/&quot;)[1];
var currentSpace; // assigned later

var disabledTabs = [];

var coreBags = [&quot;system&quot;, &quot;tiddlyspace&quot;];
var systemSpaces = [&quot;plugins&quot;, &quot;info&quot;, &quot;images&quot;, &quot;theme&quot;];
systemSpaces = $.map(systemSpaces, function(item, i) {
	return &quot;system-%0_public&quot;.format(item);
});

// hijack search macro to add custom attributes for mobile devices
var _search = config.macros.search.handler;
config.macros.search.handler = function(place, macroName, params) {
	_search.apply(this, arguments);
	$(&quot;.searchField:input&quot;, place).
		attr({ autocapitalize: &quot;off&quot;, autocorrect: &quot;off&quot; });
};

// arg is either a container name or a tiddler object
// if fuzzy is truthy, space may be inferred from workspace (for new tiddlers)
// returns space object or false
var determineSpace = function(arg, fuzzy) {
	if(typeof arg == &quot;string&quot;) { // container name
		var space = split(arg, &quot;_&quot;, &quot;r&quot;);
		return [&quot;public&quot;, &quot;private&quot;].contains(space.type) ? space : false;
	} else if(arg) { // tiddler
		var container = determineContainer(arg, fuzzy);
		return container ? determineSpace(container.name, fuzzy) : false;
	} else {
		return false;
	}
};

// if fuzzy is truthy, container may be inferred from workspace for new tiddlers
// returns container object or false
var determineContainer = function(tiddler, fuzzy) { // TODO: expose?
	var bag = tiddler.fields[&quot;server.bag&quot;];
	var recipe = tiddler.fields[&quot;server.recipe&quot;]; // XXX: unused/irrelevant/redundant!?
	if(bag) {
		return { type: &quot;bag&quot;, name: bag };
	} else if(recipe) {
		return { type: &quot;recipe&quot;, name: recipe };
	} else if(fuzzy) { // new tiddler
		var workspace = tiddler.fields[&quot;server.workspace&quot;];
		if(workspace) {
			var container = split(workspace, &quot;/&quot;, &quot;l&quot;);
			return [&quot;bags&quot;, &quot;recipes&quot;].contains(container.type) ? container : false;
		} else {
			return false;
		}
	} else {
		return false;
	}
};

// hijack removeTiddlerCallback to restore tiddler from recipe cascade -- TODO: move into TiddlyWebWiki?
var sssp = config.extensions.ServerSideSavingPlugin;
var _removeTiddlerCallback = sssp.removeTiddlerCallback;
sssp.removeTiddlerCallback = function(context, userParams) {
	var title = context.tiddler.title;
	var recipe = context.tiddler.fields[&quot;server.recipe&quot;];
	_removeTiddlerCallback.apply(this, arguments);
	if(recipe) {
		context.workspace = &quot;recipes/&quot; + recipe;
		var callback = function(context, userParams) {
			if(context.status) {
				var dirty = store.isDirty();
				store.saveTiddler(context.tiddler).clearChangeCount();
				store.setDirty(dirty);
			} else {
				store.notify(title, true);
			}
		};
		context.adaptor.getTiddler(title, context, null, callback);
	}
};

// splits a string once using delimiter
// mode &quot;l&quot; splits at the first, &quot;r&quot; at the last occurrence
// returns an object with members type and name
var split = function(str, sep, mode) {
	mode = mode == &quot;r&quot; ? &quot;pop&quot; : &quot;shift&quot;; // TODO: use +/-1 instead of &quot;l&quot;/&quot;r&quot;?
	var arr = str.split(sep);
	var type = arr.length &gt; 1 ? arr[mode]() : null;
	return { type: type, name: arr.join(sep) };
};

var plugin = config.extensions.tiddlyspace = {
	currentSpace: determineSpace(recipe),
	coreBags: coreBags.concat(systemSpaces),

	determineSpace: determineSpace,
	isValidSpaceName: function(name) {
		return name.match(/^[a-z][0-9a-z\-]*[0-9a-z]$/) ? true : false;
	},
	getCurrentBag: function(type) {
		return &quot;%0_%1&quot;.format(currentSpace, type);
	},
	getCurrentWorkspace: function(type) {
		return &quot;bags/&quot; + this.getCurrentBag(type);
	},
	// returns the URL for a space's avatar (SiteIcon) based on a server_host
	// object and an optional space name
	// optional nocors argument prevents cross-domain URLs from being generated
	getAvatar: function(host, space, nocors) {
		if(space &amp;&amp; typeof space != &quot;string&quot;) { // backwards compatibility -- XXX: deprecated
			space = space.name;
		}
		var subdomain = nocors ? currentSpace : space;
		host = host ? this.getHost(host, subdomain) : &quot;&quot;;
		var bag = space ? &quot;%0_public&quot;.format(space) : &quot;tiddlyspace&quot;;
		return &quot;%0/bags/%1/tiddlers/SiteIcon&quot;.format(host, bag);
	},
	// returns the URL based on a server_host object (scheme, host, port) and an
	// optional subdomain
	getHost: function(host, subdomain) {
		if(host === undefined) { // offline
			tweb.status.server_host = {}; // prevents exceptions further down the stack -- XXX: hacky workaround, breaks encapsulation
			return null;
		}
		subdomain = subdomain ? subdomain + &quot;.&quot; : &quot;&quot;;
		var url = &quot;%0://%1%2&quot;.format(host.scheme, subdomain, host.host);
		var port = host.port;
		if(port &amp;&amp; ![&quot;80&quot;, &quot;443&quot;].contains(port)) {
			url += &quot;:&quot; + port;
		}
		return url;
	},
	disableTab: function(tabTiddler) {
		if(typeof(tabTiddler) == &quot;string&quot;) {
			disabledTabs.push(tabTiddler);
		} else {
			for(var i = 0; i &lt; tabTiddler.length; i++) {
				plugin.disableTab(tabTiddler[i]);
			}
		}
	},
    checkSyncStatus: function(tiddler) {
		if(tiddler) {
			var title = typeof(tiddler) === &quot;string&quot; ? tiddler : tiddler.title;
			var el = story.getTiddler(title) || false;
			if(el) {
				refreshElements(el);
			}
		}
	},
	isDisabledTab: function(tabTitle) {
		var match = new RegExp(&quot;(?:\\[\\[([^\\]]+)\\]\\])&quot;, &quot;mg&quot;).exec(tabTitle);
		var tabIdentifier = match ? match[1] : tabTitle;
		return disabledTabs.contains(tabIdentifier);
	},
	getCSRFToken: window.getCSRFToken || null // this may not have been processed yet
};

currentSpace = plugin.currentSpace.name;

tweb.serverPrefix = tweb.host.split(&quot;/&quot;)[3] || &quot;&quot;; // XXX: assumes root handler
tweb.getStatus(function(status) {
	var url = plugin.getHost(status.server_host);
	tweb.status.server_host.url = url;
	config.messages.tsVersion = status.version;
});

if(window.location.protocol == &quot;file:&quot;) {
	// enable AutoSave by default
	config.options.chkAutoSave = config.options.chkAutoSave === undefined ?
		true : config.options.chkAutoSave;
} else {
	// set global read-only mode based on membership heuristics
	var indicator = store.getTiddler(&quot;SiteTitle&quot;) || tiddler;
	readOnly = !(recipe.split(&quot;_&quot;).pop() == &quot;private&quot; ||
		tweb.hasPermission(&quot;write&quot;, indicator));
	// replace TiddlyWiki's ImportTiddlers due to cross-domain restrictions
	if(config.macros.fileImport) {
		$.extend(config.macros.importTiddlers, config.macros.fileImport);
	}
}

// hijack saveChanges to ensure SystemSettings is private by default
var _saveChanges = saveChanges;
saveChanges = function(onlyIfDirty, tiddlers) {
	if(tiddlers &amp;&amp; tiddlers.length == 1 &amp;&amp;
			tiddlers[0] &amp;&amp; tiddlers[0].title == &quot;SystemSettings&quot;) {
		var fields = tiddlers[0].fields;
		delete fields[&quot;server.recipe&quot;];
		fields[&quot;server.bag&quot;] = plugin.getCurrentBag(&quot;private&quot;);
		fields[&quot;server.workspace&quot;] = plugin.getCurrentWorkspace(&quot;private&quot;);
	}
	return _saveChanges.apply(this, arguments);
};

// ensure backstage is always initialized
// required to circumvent TiddlyWiki's read-only based handling
config.macros.backstageInit = {
	init: function() {
		showBackstage = true;
	}
};

// disable evaluated macro parameters for security reasons
config.evaluateMacroParameters = &quot;none&quot;;
var _parseParams = String.prototype.parseParams;
String.prototype.parseParams = function(defaultName, defaultValue, allowEval,
		noNames, cascadeDefaults) {
	if(config.evaluateMacroParameters == &quot;none&quot;) {
		arguments[2] = false;
	}
	return _parseParams.apply(this, arguments);
};

var _tabsMacro = config.macros.tabs.handler;
config.macros.tabs.handler = function(place, macroName, params) {
	var newParams = [params[0]]; // keep cookie name
	for(var i = 1; i &lt; params.length; i += 3) {
		var tabTitle = params[i + 2];
		if(!plugin.isDisabledTab(tabTitle)){
			newParams = newParams.concat(params[i], params[i + 1], tabTitle);
		}
	}
	_tabsMacro.apply(this, [place, macroName, newParams]);
};

// disable ControlView for XHRs by default
$.ajaxSetup({
	beforeSend: function(xhr) {
		xhr.setRequestHeader(&quot;X-ControlView&quot;, &quot;false&quot;);
	}
});
// TiddlyWeb adaptor currently still uses httpReq, which needs extra magic -- XXX: obsolete this!
var _httpReq = httpReq;
httpReq = function(type, url, callback, params, headers, data, contentType,
		username, password, allowCache) {
	headers = headers || {};
	headers[&quot;X-ControlView&quot;] = &quot;false&quot;;
	_httpReq.apply(this, arguments);
};

// register style sheet for backstage separately (important)
store.addNotification(&quot;StyleSheetBackstage&quot;, refreshStyles);

// option for default privacy setting
config.optionsDesc.chkPrivateMode = &quot;Set your default privacy mode to private&quot;;
config.optionsSource.chkPrivateMode = &quot;setting&quot;;
config.options.chkPrivateMode = config.options.chkPrivateMode || false;
saveSystemSetting(&quot;chkPrivateMode&quot;, true);
config.defaultCustomFields[&quot;server.workspace&quot;] = plugin.
	getCurrentWorkspace(config.options.chkPrivateMode ? &quot;private&quot; : &quot;public&quot;);

config.paramifiers.follow = {
	onstart: function(v) {
		if(!readOnly) {
			var bag = &quot;%0_public&quot;.format(currentSpace);
			story.displayTiddler(null, v, DEFAULT_EDIT_TEMPLATE, null, null,
				&quot;server.bag:%0 server.workspace:bags/%0&quot;.format(bag));
			story.setTiddlerTag(v, &quot;follow&quot;, 1);
			story.focusTiddler(v, &quot;text&quot;);
		}
	}
};

var fImport = config.macros.fileImport;
if(fImport) {
	fImport.uploadTo = &quot;Upload to: &quot;;
	var _createForm = config.macros.fileImport.createForm;
	config.macros.fileImport.createForm = function(place, wizard, iframeName) {
		var container = $(&quot;&lt;div /&gt;&quot;).text(fImport.uploadTo).appendTo(place);
		var select = $('&lt;select name=&quot;mode&quot; /&gt;').appendTo(container)[0];
		$('&lt;option value=&quot;private&quot; selected&gt;private&lt;/a&gt;').appendTo(select);
		$('&lt;option value=&quot;public&quot;&gt;public&lt;/a&gt;').appendTo(select);
		wizard.setValue(&quot;importmode&quot;, select);
		_createForm.apply(this, [place, wizard, iframeName]);
	};

	var _onGet = config.macros.importTiddlers.onGetTiddler;
	config.macros.importTiddlers.onGetTiddler = function(context, wizard) {
		var type = $(wizard.getValue(&quot;importmode&quot;)).val();
		var ws =  plugin.getCurrentWorkspace(type);
		wizard.setValue(&quot;workspace&quot;, ws);
		_onGet.apply(this, [context, wizard]);
	};
}

config.extensions.ServerSideSavingPlugin.reportSuccess = function(msg, tiddler) {
	plugin.checkSyncStatus(tiddler);
	msg = config.extensions.ServerSideSavingPlugin.locale[msg];
	var link = &quot;/&quot; + encodeURIComponent(tiddler.title);
	displayMessage(msg.format([tiddler.title]), link);
};


})(jQuery);
//}}}</pre>
</div>
<div title="TiddlySpaceFilters" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch systemConfig" _hash="3b6e75a776f9a07498220fe23b305bc97b531afc" server.content-type="text/javascript" server.permissions="read" server.bag="tiddlyspace" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" server.etag="&quot;tiddlyspace/TiddlySpaceFilters/1521906:99c6d77466373a7f0d871cf912218a95b9499cf3&quot;" server.page.revision="1521906" server.title="TiddlySpaceFilters">
<pre>/***
|''Name''|TiddlySpaceFilters|
|''Description''|provide TiddlySpace-specific filter extensions|
|''Author''|Jon Robson|
|''Version''|0.6.1|
|''Status''|@@beta@@|
|''CoreVersion''|2.6.2|
|''Requires''|TiddlySpaceConfig|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
!Usage
{{{
&lt;&lt;tsList Private&gt;&gt;
&lt;&lt;tsList Public&gt;&gt;
&lt;&lt;tsList Draft&gt;&gt;
}}}
!Code
***/
//{{{
(function($) {

var tiddlyspace = config.extensions.tiddlyspace;
var privateBag = tiddlyspace.getCurrentBag(&quot;private&quot;);
var publicBag = tiddlyspace.getCurrentBag(&quot;public&quot;);

config.filterHelpers = {
	is: {
		&quot;private&quot;: function(tiddler) {
			var bag = tiddler.fields[&quot;server.bag&quot;];
			return bag == privateBag;
		},
		&quot;public&quot;: function(tiddler) {
			var bag = tiddler.fields[&quot;server.bag&quot;];
			return bag == publicBag;
		},
		draft: function(tiddler) {
			var fields = tiddler.fields;
			var bag = fields[&quot;server.bag&quot;];
			return (privateBag == bag &amp;&amp; fields[&quot;publish.name&quot;]) ? true : false;
		},
		local: function(tiddler) {
			return config.filterHelpers.is[&quot;public&quot;](tiddler) ||
				config.filterHelpers.is[&quot;private&quot;](tiddler);
		},
		unsynced: function(tiddler) {
			return tiddler ? tiddler.isTouched() : false;
		}
	}
};

config.filters.is = function(results, match) {
	var candidates = store.getTiddlers(&quot;title&quot;);
	var type = match[3];
	for (var i = 0; i &lt; candidates.length; i++) {
		var tiddler = candidates[i];
		var helper = config.filterHelpers.is[type];
		if(helper &amp;&amp; helper(tiddler)) {
			results.pushUnique(tiddler);
		}
	}
	return results;
};

})(jQuery);
//}}}</pre>
</div>
<div title="TiddlySpaceFollowingPlugin" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch systemConfig" _hash="65a4f81f24d076e5c3fc66d2ff037c994c514bcd" server.content-type="text/javascript" server.permissions="read" server.bag="system-plugins_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-plugins_public" server.etag="&quot;system-plugins_public/TiddlySpaceFollowingPlugin/1521864:ce9d8826c223d0148eda291fa9fee46c7e3edd59&quot;" server.page.revision="1521864" server.title="TiddlySpaceFollowingPlugin">
<pre>/***
|''Name''|TiddlySpaceFollowingPlugin|
|''Version''|0.7.1|
|''Description''|Provides a following macro|
|''Author''|Jon Robson|
|''Requires''|TiddlySpaceConfig TiddlySpaceTiddlerIconsPlugin ErrorHandler|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
!Usage
Tag a tiddler with &quot;follow&quot; to express a list of followers.
Using the {{{&lt;&lt;followTiddlers X&gt;&gt;}}}
will reveal the number of tiddlers with name X in the set of spaces the *current* user viewing your space follows.
{{{&lt;&lt;following jon&gt;&gt;}}} will list all the users following Jon.
{{{&lt;&lt;followers jon&gt;&gt;}}} will list all the followers of jon.
{{{&lt;linkedTiddlers&gt;&gt;}}} will list all tiddlers across TiddlySpace linked to the current tiddler
{{{&lt;linkedTiddlers follow:yes&gt;&gt;}}} will list all tiddlers across TiddlySpace that come from your list of followers
adds spaceLink view type {{{&lt;&lt;view server.bag spaceLink&gt;&gt;}}} creates a link to the space described in server.bag
{{{&lt;&lt;view server.bag spaceLink title&gt;&gt;}}} makes a link to the tiddler with title expressed in the field title in space server.bag
If no name is given eg. {{{&lt;&lt;following&gt;&gt;}}} or {{{&lt;&lt;follow&gt;&gt;}}} it will default the current user.
!StyleSheet
.followTiddlersList li {
	list-style:none;
}

.followButton {
	width: 2em;
}

.followTiddlersList li .siteIcon {
	height:48px;
	width: 48px;
}

#sidebarTabs .followers li a,
.followers .siteIcon,
.followers .siteIcon div {
	display: inline;
}

.followTiddlersList li .externalImage, .followTiddlersList li .image {
	display: inline;
}

.scanResults li {
	list-style: none;
}
!Code
***/
//{{{
(function($) {
var LIMIT_FOLLOWING = 100;

var tweb = config.extensions.tiddlyweb;
var tiddlyspace = config.extensions.tiddlyspace;
var currentSpace = tiddlyspace.currentSpace.name;

var shadows = config.shadowTiddlers;
config.annotations.ScanTemplate = &quot;This tiddler is the default template used in the display of tiddlers founding using the tsScan macro. To access attributes use the view macro e.g. {{{&lt;&lt;view title text&gt;&gt;}}}&quot;;
shadows.ScanTemplate = &quot;&lt;&lt;view modifier SiteIcon width:24 height:24 spaceLink:yes label:no&gt;&gt; &lt;&lt;view title link&gt;&gt;&quot;;
shadows.FollowersTemplate = &quot;&lt;&lt;view server.bag SiteIcon width:24 height:24 spaceLink:yes label:no&gt;&gt; &lt;&lt;view server.bag spaceLink&gt;&gt;&quot;;
shadows.FollowingTemplate = &quot;&lt;&lt;view title SiteIcon width:24 height:24 spaceLink:yes label:no&gt;&gt; &lt;&lt;view title spaceLink&gt;&gt;&quot;;
shadows.FollowTiddlersBlackList = &quot;&quot;;
shadows.FollowTiddlersHeading = &quot;There are tiddlers in spaces you follow using the follow tag which use the title &lt;&lt;view title text&gt;&gt;&quot;;
shadows.FollowTiddlersTemplate = [&quot;* &lt;&lt;view server.space SiteIcon width:24 height:24 spaceLink:yes label:no&gt;&gt; &quot;,
	&quot;&lt;&lt;view server.space spaceLink title external:no&gt;&gt; modified by &lt;&lt;view modifier spaceLink&gt;&gt; &quot;,
	&quot;in the &lt;&lt;view server.space spaceLink&gt;&gt; space (&lt;&lt;view modified date&gt;&gt; @ &lt;&lt;view modified date 0hh:0mm&gt;&gt;).\n&quot;].join(&quot;&quot;);

var name = &quot;StyleSheetFollowing&quot;;
shadows[name] = &quot;/*{{{*/\n%0\n/*}}}*/&quot;.
	format(store.getTiddlerText(tiddler.title + &quot;##StyleSheet&quot;));
store.addNotification(name, refreshStyles);

// provide support for sucking in tiddlers from the server
tiddlyspace.displayServerTiddler = function(src, title, workspace, callback) {
	var adaptor = store.getTiddlers()[0].getAdaptor();
	var localTitle = tiddlyspace.getLocalTitle(title, workspace);
	var tiddler = new Tiddler(localTitle);
	tiddler.text = &quot;Please wait while this tiddler is retrieved...&quot;;
	tiddler.fields.doNotSave = &quot;true&quot;;
	store.addTiddler(tiddler);
	src = story.displayTiddler(src || null, tiddler.title);
	tweb.getStatus(function(status) {
		var context = {
			host: tweb.host, // TODO: inherit from source tiddler?
			workspace: workspace,
			headers: { &quot;X-ControlView&quot;: &quot;false&quot; }
		};
		var getCallback = function(context, userParams) {
			var tiddler = context.tiddler;
			tiddler.title = localTitle;
			store.addTiddler(tiddler);
			story.refreshTiddler(localTitle, null, true); // overriding existing allows updating
			if(callback) {
				callback(src, tiddler);
			}
		};
		adaptor.getTiddler(title, context, null, getCallback);
	});
};

tiddlyspace.scroller = {
	runHandler: function(title, top, bottom, height) {
		var i;
		var handlers = tiddlyspace.scroller.handlers;
		var tidEl = story.getTiddler(title);
		if(tidEl) {
			var topEl = $(tidEl).offset().top + 20;
			if(top === false || (topEl &gt; top &amp;&amp; topEl &lt; bottom)) {
				var h = handlers[title];
				for(i = 0; i &lt; h.length; i++) {
					h[i]();
				}
				tiddlyspace.scroller.clearHandlers(title);
			}
		} else {
			tiddlyspace.scroller.clearHandlers(title);
		}
	},
	clearHandlers: function(title) {
		tiddlyspace.scroller.handlers[title] = [];
	},
	registerIsVisibleEvent: function(title, handler) {
		tiddlyspace.scroller.handlers[title] = tiddlyspace.scroller.handlers[title] || [];
		tiddlyspace.scroller.handlers[title].push(handler);
	},
	init: function() {
		this.handlers = {};
		this.interval = window.setInterval(function() {
			var top = $(window).scrollTop();
			var height = $(window).height();
			var bottom = top + height;
			var title;
			for(title in tiddlyspace.scroller.handlers) {
				if(title) {
					tiddlyspace.scroller.runHandler(title, top, bottom, height);
				}
			}
		}, 2000); // every 2 seconds check scroll position
	}
};
tiddlyspace.scroller.init();

var followMacro = config.macros.followTiddlers = {
	locale: {
		followListHeader: &quot;Here are tiddlers from spaces you follow using the follow tag which use this title.&quot;,
		noTiddlersFromFollowers: &quot;None of the spaces you follow contain a tiddler with this name.&quot;,
		errorMessage: &quot;There was a problem retrieving tiddlers from the server. Please try again later.&quot;
	},
	init: function() {
		followMacro.lookup = {};
	},
	followTag: &quot;follow&quot;,
	getHosts: function(callback) {
		tweb.getStatus(function(status) {
			callback(tweb.host, tiddlyspace.getHost(status.server_host, &quot;%0&quot;));
		});
	},
	getBlacklist: function() {
		return store.getTiddlerText(&quot;FollowTiddlersBlackList&quot;).split(&quot;\n&quot;);
	},
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		var args = paramString.parseParams(&quot;anon&quot;)[0];
		var containingTiddler = story.findContainingTiddler(place).getAttribute('tiddler');
		var title = (args.anon &amp;&amp; args.anon[0]) || tiddler.fields[&quot;server.title&quot;] || tiddler.title;
		var tid = store.getTiddler(title);
		var user = params[1] || false;
		if(tid) {
			followMacro.makeButton(place, {
				url: &quot;/search?q=title:%22&quot; + encodeURIComponent(title) + &quot;%22&quot;,
				containingTiddler: containingTiddler,
				blacklisted: followMacro.getBlacklist(), title: title, user: user,
				consultFollowRelationship: (args.follow &amp;&amp;
					args.follow[0] === 'false') ? false : true });
		}
	},
	makeButton: function(place, options) { // this is essentially the same code in TiddlySpaceFollowingPlugin
		var title = options.title;
		var blacklisted = options.blacklisted;
		var tiddler = store.getTiddler(title);
		var btn = $('&lt;div class=&quot;followButton&quot; /&gt;').addClass(&quot;notLoaded&quot;).appendTo(place)[0];
		if(blacklisted.contains(title)) {
			$(btn).remove();
			return;
		} else {
			var user = options.user;
			window.setTimeout(function() { // prevent multiple calls due to refresh
				tiddlyspace.scroller.registerIsVisibleEvent(options.containingTiddler, function() {
					var mkButton = function(followers, ignore) {
						if(!followers &amp;&amp; !ignore) {
							$(btn).remove();
						} else {
							$(&quot;&lt;a /&gt;&quot;).appendTo(btn);
							var scanOptions = { url: options.url,
								spaceField: options.spaceField || &quot;bag&quot;, template: null, sort: &quot;-modified&quot;,
								callback: function(tiddlers) {
									$(btn).removeClass(&quot;notLoaded&quot;);
									followMacro.constructInterface(btn, tiddlers);
								}
							};
							if(!ignore) {
								scanOptions.showBags = followMacro._getFollowerBags(followers);
							}
							scanOptions.hideBags = [tiddler.fields[&quot;server.bag&quot;]];
							scanMacro.scan(null, scanOptions, user);
						}
					};
					if(options.consultFollowRelationship) {
						followMacro.getFollowers(mkButton);
					} else {
						mkButton([], true);
					}
				});
			}, 1000);
		}
	},
	constructInterface: function(container, tiddlers) {
		var txt = tiddlers.length;
		var className = txt &gt; 0 ? &quot;hasReplies&quot; : &quot;noReplies&quot;;
		var el = $(story.findContainingTiddler(container));
		$(container).empty().addClass(className);
		var btn = $(&quot;&lt;a /&gt;&quot;).addClass(&quot;followedTiddlers&quot;).text(txt).
			click(function(ev) {
				followMacro.followingOnClick(ev);
			}).appendTo('&lt;div class=&quot;followedTiddlers&quot; /&gt;').appendTo(container)[0];
		$.data(btn, &quot;tiddlers&quot;, tiddlers);
	},
	followingOnClick: function(ev) {
		var target = ev.target;
		var locale = followMacro.locale;
		var el = $('&lt;div class=&quot;followTiddlersList&quot; /&gt;')[0];
		var popup = Popup.create(target,&quot;div&quot;);
		$(popup).addClass(&quot;taggedTiddlerList followList&quot;).click(function(ev) { // make it so only clicking on the document outside the popup removes the popup
			if(ev.target.parentNode != document) {
				ev.stopPropagation();
			}
		}).append(el);
		var tiddlers = $.data(target, &quot;tiddlers&quot;) || [];
		scanMacro.template(el, tiddlers.slice(0,1), &quot;FollowTiddlersHeading&quot;);
		scanMacro.template(el, tiddlers, &quot;FollowTiddlersTemplate&quot;);
		if(tiddlers.length === 0) {
			$(&quot;&lt;li /&gt;&quot;).text(locale.noTiddlersFromFollowers).appendTo(el);
		}
		Popup.show();
		ev.stopPropagation();
		return popup;
	},
	_getFollowerBags: function(followers) { // XXX: private or not?
		return $.map(followers, function(name, i) {
			return name != currentSpace ? &quot;%0_public&quot;.format(name) : null;
		});
	},
	getFollowers: function(callback, username) {
		// returns a list of spaces being followed by the existing space
		var followersCallback = function(user) {
			if(!user.anon) {
				scanMacro.scan(null, { 
					url: &quot;/search?q=bag:%0_public tag:%1 _limit:%2&quot;.format(user.name, followMacro.followTag, LIMIT_FOLLOWING),
					spaceField: &quot;title&quot;, template: null, cache: true,
					callback: function(tiddlers) {
						var followers = [];
						for(var i = 0; i &lt; tiddlers.length; i++) {
							followers.push(tiddlyspace.resolveSpaceName(tiddlers[i].title));
						}
						callback(followers);
					}
				});
			} else {
				callback(false);
			}
		};
		return !username ? tweb.getUserInfo(followersCallback) : followersCallback({ name: username });
	}
};

var scanMacro = config.macros.tsScan = {
	init: function () {
		this.scanned = {};
	},
	_tiddlerfy: function(jsontiddlers, options) {
		var tiddlers = [];
		var spaceField = options.spaceField || &quot;bag&quot;; // TODO: phase out use view types instead
		$.each(jsontiddlers, function(i, t) {
			var use = false;
			if(!options.showBags || (options.showBags &amp;&amp; options.showBags.contains(t.bag))) {
				use = true;
			}
			if(options.hideBags &amp;&amp; options.hideBags.contains(t.bag)) {
				use = false;
			}
			if(use) {
				var spaceName = t[spaceField];
				var tiddler = config.adaptors.tiddlyweb.toTiddler(t, tweb.host);
				tiddler.fields[&quot;server.space&quot;] = tiddlyspace.resolveSpaceName(spaceName);
				tiddlers.push(tiddler);
			}
		});
		return tiddlers;
	},
	_scanCallback: function(place, jsontiddlers, options) {
		var locale = followersMacro.locale;
		var tiddlers = scanMacro._tiddlerfy(jsontiddlers, options);
		
		if(options.sort) {
			tiddlers = store.sortTiddlers(tiddlers, options.sort);
		}
		if(options.filter) {
			var _store = new TiddlyWiki();
			config.lastStore = _store;
			for(var i = 0; i &lt; tiddlers.length; i++) {
				var clone = tiddlers[i];
				clone.title = tiddlyspace.getLocalTitle(clone.title, clone.fields['server.workspace']);
				_store.addTiddler(clone);
			}
			tiddlers = _store.filterTiddlers(options.filter);
		}
		if(place) {
			$(place).empty();
			var list = $(&quot;&lt;ul /&gt;&quot;).appendTo(place)[0];
			scanMacro.template(list, tiddlers, options.template);
			if(tiddlers.length === 0) {
				$(&quot;&lt;li /&gt;&quot;).text(options.emptyMessage || locale.noone).appendTo(list);
				$(list).addClass(&quot;emptyList&quot;);
			}
		}
		if(options.callback) {
			options.callback(tiddlers);
		}
	},
	constructSearchUrl: function(host, options) {
		if(options.url) {
			return options.url;
		}
		var inputs = options.searchValues;
		var tag = options.tag;
		var searchField = options.searchField || &quot;title&quot;;
		var searchQuery = [];
		for(var i = 0; i &lt; inputs.length; i++) {
			searchQuery.push('%0:&quot;%1&quot;'.format(searchField, inputs[i]));
		}
		var query = searchQuery.join(&quot; OR &quot;);
		query = tag ? &quot;(%0) AND tag:%1&quot;.format(query, tag) : query;
		query = options.query ? &quot;%0;%1;&quot;.format(query, options.query) : query;
		query = options.fat ? &quot;%0&amp;fat=1&quot;.format(query) : query;
		return '%0/search?q=%1'.format(host, query);
	},
	scan: function(place, options) { // TODO: make use of list macro with url filter
		var locale = followersMacro.locale;
		options.template = options.template ? options.template : &quot;ScanTemplate&quot;;
		followMacro.getHosts(function(host, tsHost) {
			$(place).text(followersMacro.locale.pleaseWait);
			options = options ? options: {};
			var url = scanMacro.constructSearchUrl(host, options);
			if(options.cache &amp;&amp; scanMacro.scanned[url]) {
				var tiddlers = scanMacro.scanned[url].tiddlers;
				var run = function(tiddlers) {
					scanMacro._scanCallback(place, tiddlers, options);
				};
				if(tiddlers) {
					run(tiddlers);
				} else {
					scanMacro.scanned[url].callbacks.push(run);
				}
			} else {
				var callback = function(tiddlers) {
					scanMacro._scanCallback(place, tiddlers, options);
				};
				if(scanMacro.scanned[url] &amp;&amp; scanMacro.scanned[url].callbacks) {
					scanMacro.scanned[url].callbacks.push(callback);
				} else {
					scanMacro.scanned[url] = {
						callbacks: [callback]
					};
				}
				ajaxReq({
					url: url,
					dataType: &quot;json&quot;,
					success: function(tiddlers) {
						scanMacro.scanned[url].tiddlers = tiddlers;
						var callbacks = scanMacro.scanned[url].callbacks;
						while(callbacks.length &gt; 0) {
							callbacks.pop()(tiddlers);
						}
					},
					error: function(xhr) {
						$(place).empty();
						$(&quot;&lt;span /&gt;&quot;).addClass(&quot;annotation error&quot;).text(locale.error.format(xhr.status)).appendTo(place);
					}
				});
			}
		});
	},
	template: function(place, tiddlers, template) { // TODO: make use of list macro.
		for(var i = 0; i &lt; tiddlers.length; i++) {
			var tiddler = tiddlers[i];
			var item = $('&lt;li class=&quot;spaceName&quot; /&gt;').appendTo(place)[0];
			var spaceName = tiddler.fields[&quot;server.space&quot;] || &quot;&quot;;
			var templateText = store.getTiddlerText(template).replace(/\$1/mg, spaceName);
			wikify(templateText, item, null, tiddler);
		}
	},
	getOptions: function(paramString, tiddler) {
		var args = paramString.parseParams(&quot;name&quot;, null, true, false, true)[0];
		var options = { query: false, sort: false, tag: false, template: false, showBags: args.show || false,
			hideBags: args.hide || false, filter: false, spaceField: &quot;bag&quot;, searchField: &quot;title&quot;, fat: false,
			emptyMessage: false };
		for(var name in args) {
			if(name != &quot;name&quot;) {
				if(name == &quot;fat&quot;) {
					options[name] = true;
				} else {
					options[name] = args[name][0];
				}
			}
		}
		// if user has set searchField to modifier, then use the modifiers value if available otherwise use searchValues.
		var searchField = options.searchField;
		var searchValues = args[searchField] ? args[searchField] : args.searchValues;
		// if neither of those were used use the first parameter
		var defaultValues = tiddler ? [ tiddler.title ] : [];
		options.searchValues = searchValues ? searchValues : ( args.name ? [args.name[0]] : defaultValues);
		return options;
	},
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		var container = $(&quot;&lt;div /&gt;&quot;).addClass(&quot;scanResults resultsArea&quot;).appendTo(place)[0];
		var options = scanMacro.getOptions(paramString, tiddler);
		scanMacro.scan(container, options);
	}
};

var followersMacro = config.macros.followers = {
	locale: {
		loggedOut: &quot;Please login to see the list of followers&quot;,
		noSupport: &quot;We were unable to retrieve followers as your browser does not support following.&quot;,
		pleaseWait: &quot;Please wait while we look this up...&quot;,
		error: &quot;Error %0 occurred whilst retrieving data from server&quot;,
		noone: &quot;None.&quot;
	},
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		var locale = followersMacro.locale;
		var args = paramString.parseParams(&quot;name&quot;, null, true, false, true)[0];
		var username = args.name ? args.name[0] : false;
		var container = $('&lt;div class=&quot;followers&quot; /&gt;').text(locale.pleaseWait).
			appendTo(place)[0];
		var followersCallback = function(user) {
			if(user.anon) {
				$(&quot;&lt;span /&gt;&quot;).text(locale.loggedOut).appendTo(container);
			} else {
				var options = scanMacro.getOptions(paramString);
				$.extend(options, {
					url: &quot;/search?q=title:@%0 OR title:%0 tag:%1 _limit:%2&quot;.
						format(user.name, followMacro.followTag, LIMIT_FOLLOWING),
					spaceField: &quot;bag&quot;,
					template: options.template ? options.template : &quot;FollowersTemplate&quot;
				});
				scanMacro.scan(container, options);
			}
		};
		return !username ? followersCallback({ name: currentSpace }) : followersCallback({ name: username });
	}
};

var followingMacro = config.macros.following = {
	locale: {
		pleaseWait: followersMacro.locale.pleaseWait,
		loggedOut: &quot;Please login to see who you are following&quot;,
		noSupport: followersMacro.locale.noSupport,
		error: followersMacro.locale.error,
		noone: followersMacro.locale.noone
	},
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		var locale = followingMacro.locale;
		var args = paramString.parseParams(&quot;name&quot;, null, true, false, true)[0];
		var fat = args.fat ? true : false;
		var username = args.name ? args.name[0] : false;
		var container = $('&lt;div class=&quot;following&quot; /&gt;').text(locale.pleaseWait).
			appendTo(place)[0];
		var followingCallback = function(user) {
			if(user.anon) {
				$(&quot;&lt;span /&gt;&quot;).text(locale.loggedOut).appendTo(container);
			} else {
				var options = scanMacro.getOptions(paramString);
				$.extend(options, {
					url: &quot;/search?q=bag:%0_public tag:%1 _limit:%2&quot;.format(user.name, followMacro.followTag, LIMIT_FOLLOWING),
					spaceField: &quot;title&quot;,
					template: options.template ? options.template : &quot;FollowingTemplate&quot;
				});
				scanMacro.scan(container, options);
			}
		};
		return !username ? followingCallback({ name: currentSpace }) : followingCallback({ name: username });
	}
};

var linkedMacro = config.macros.linkedTiddlers = {
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		var args = paramString.parseParams(&quot;anon&quot;)[0];
		var title = params[0] || tiddler.fields[&quot;server.title&quot;] || tiddler.title;
		var tid = store.getTiddler(title);
		var containingTiddler = story.findContainingTiddler(place).getAttribute('tiddler');
		if(tid) {
			followMacro.makeButton(place, {
				spaceField: &quot;recipe&quot;,
				url: &quot;/bags/%0/tiddlers/%1/backlinks&quot;.format(tid.fields['server.bag'],
					encodeURIComponent(tid.title)),
				blacklisted: followMacro.getBlacklist(),
				title: title,
				containingTiddler: containingTiddler,
				user: params[1] || false,
				consultFollowRelationship: args.follow ? true : false });
		}
	}
};

if(config.options.chkFollowTiddlersIsLinkedTiddlers) {
	merge(config.macros.followTiddlers, config.macros.linkedTiddlers);
	config.shadowTiddlers.FollowTiddlersHeading = &quot;These are the other tiddlers that link to this tiddler.&quot;;
}

})(jQuery);
//}}}</pre>
</div>
<div title="TiddlySpaceFollowingSuggestions" creator="jon" modifier="jon" created="201008191253" modified="201010231229" tags="excludeLists systemConfig" _hash="291998cecddc23b03d6a32434a784a0c1e80c02d" server.content-type="" server.permissions="read" server.bag="following_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/following_public" server.etag="&quot;following_public/TiddlySpaceFollowingSuggestions/71029:8f19c3aaad66e19af73c2185e61c877a94cda80f&quot;" server.page.revision="71029" server.title="TiddlySpaceFollowingSuggestions">
<pre>/***
|''Name''|TiddlySpaceFollowingSuggestions|
|''Version''|0.2.5dev|
|''Description''|Provides a following macro|
|''Author''|Jon Robson|
|''Requires''|TiddlySpaceFollowingPlugin|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
!Usage

!Code
***/
//{{{
(function($) {

var tweb = config.extensions.tiddlyweb;
var tiddlyspace = config.extensions.tiddlyspace;
var followMacro = config.macros.followTiddlers;

var followSuggestions = config.macros.followSuggestions = {
	cache: {},
	handler: function(place, macroName, params) {
		// to do - limit results
		place = $('&lt;div class=&quot;suggestions&quot; /&gt;').appendTo(place)[0];
		var currentSpace = tiddlyspace.currentSpace.name;
		var user = params[0] || currentSpace;
		var pleaseWait = $(&quot;&lt;div class='loading' /&gt;&quot;).text(&quot;please wait..&quot;).appendTo(place);
		tweb.getUserInfo(function(activeUser) {
			if(activeUser.name != tiddlyspace.currentSpace.name) {
				pleaseWait.hide();
				return;
			}
			followMacro.getFollowers(function(users) {
				// suggestions are followers of people that you follow that you don't follow
				var bags = followMacro._getFollowerBags(users);
				var _bags = [];
				for(var i = 0; i &lt; bags.length; i++) {
					_bags.push(&quot;bag:%0&quot;.format([bags[i]]));
				}
				var bagString = _bags.join(&quot; OR &quot;);
				ajaxReq({
					beforeSend: followMacro.beforeSend,
					url: &quot;/search?q=(%0)&amp;select=title:!%1&amp;select=title:!@%1&quot;.format([bagString, activeUser.name]),
					dataType: &quot;json&quot;,
					success: function(tiddlers) {
						pleaseWait.hide();
						var suggestions = [];
						for(var i = 0; i &lt; tiddlers.length; i++) {
							var tiddler = tiddlers[i];
							if(tiddler.tags.contains(&quot;follow&quot;)) {
								var title = tiddler.title;
								if(title.indexOf(&quot;@&quot;) === 0) {
									title = title.substr(1);
								}
								if(!users.contains(title)) {
									suggestions.pushUnique(title);
								}
							}
						}
						$(place).append(&quot;&lt;div&gt;suggestions:&lt;/div&gt;&quot;);
						var suggestionArea = $(&quot;&lt;div class='suggestionArea' /&gt;&quot;).appendTo(place)[0];
						var id = &quot;more_%0&quot;.format([Math.random()]);
						var more = $(&quot;&lt;div class='moreButton' /&gt;&quot;).text(&quot;more...&quot;).appendTo(place).attr(&quot;id&quot;, id);
						followSuggestions.cache[id] = suggestions;
						var limit = suggestions.length;
						more.click(function(ev) {
							var suggestions = config.macros.followSuggestions.cache[id];
							var newSuggestions = followSuggestions.suggest(place, suggestions, limit);
							config.macros.followSuggestions.cache[id] = newSuggestions;
						});
						followSuggestions.suggest(place, suggestions, limit);
					
					}
				});
			
			}, user);
		});
	},
	randomize: function(a, b) {
		if(Math.random() &lt; Math.random()) {
			return -1;
		} else {
			return 1;
		}
	},
	suggest: function(place, suggestions, limit) {
		var currentSpace = tiddlyspace.currentSpace.name;
		suggestions = suggestions.sort(followSuggestions.randomize);
		var suggestionsArea = $(&quot;.suggestionArea&quot;, place)[0];
		if(suggestions.length === 0) {
			$(&quot;&lt;span /&gt;&quot;).text(&quot;no suggestions..&quot;).appendTo(suggestionsArea);
			return;
		}
		limit = limit &lt; suggestions.length ? limit : suggestions.length;
		for(var j = 0; j &lt; limit; j++) {
			var link = $(&quot;&lt;span /&gt;&quot;).appendTo(suggestionsArea)[0];
			var title = suggestions[j];
			var newTiddler = '@%0 &lt;&lt;newTiddler title:&quot;@%0&quot; fields:&quot;server.workspace:bags/%1_public&quot; tag:follow label:&quot;follow&quot;&gt;&gt;\n'.format([title, currentSpace]);
			wikify(newTiddler, link);
		}
		var newSuggestions = suggestions.slice(limit, suggestions.length);
		var more = $(&quot;.moreButton&quot;, place);
		if(newSuggestions.length == 0) {
			more.remove();
		}
		return newSuggestions;
	}
};
})(jQuery);
//}}}</pre>
</div>
<div title="TiddlySpaceFollowingWizard" creator="jon" modifier="jon" created="201012222357" modified="201201181400" tags="excludeLists excludeSearch systemConfig" summary="" _hash="51c977fd69fe5439468369c45ad3386ad7db032e" server.content-type="" server.permissions="read" server.bag="following_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/following_public" server.etag="&quot;following_public/TiddlySpaceFollowingWizard/71031:c42f0c704d17a479d7507ee1e0db6e199c7e884f&quot;" server.page.revision="71031" server.title="TiddlySpaceFollowingWizard">
<pre>/***
|''Name''|TiddlySpaceFollowingWizard|
|''Version''|0.7.0|
|''Description''|Provides a following wizard macro and deleteButton view type|
|''Author''|Jon Robson|
|''Requires''|TiddlySpaceConfig TiddlySpaceFollowingPlugin TiddlySpaceTiddlerIconsPlugin|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
!Usage
{{{ &lt;&lt;followWizard&gt;&gt; }}}
!StyleSheet
.followWizard ul,
.followWizard li .siteIcon,
.followWizard li {
	list-style: none;
	display: inline-block;
}

.followWizard li {
	margin-right: 8px;
	background-color: #eee;
	-moz-border-radius: 5px;
	-webkit-border-radius: 5px;
	padding: 4px;
}
!Code
***/
//{{{
(function($) {

var tweb = config.extensions.tiddlyweb;
var tiddlyspace = config.extensions.tiddlyspace;
var currentSpace = tiddlyspace.currentSpace.name;

var shadows = config.shadowTiddlers;
shadows.FollowersTemplate = &quot;&lt;&lt;view server.bag SiteIcon width:24 height:24 spaceLink:yes label:no&gt;&gt; &lt;&lt;view server.bag spaceLink&gt;&gt;&quot;;
shadows.FollowingTemplate = &quot;&lt;&lt;view title SiteIcon width:24 height:24 spaceLink:yes label:no&gt;&gt; &lt;&lt;view title spaceLink&gt;&gt; &lt;&lt;view title deleteButton&gt;&gt;&quot;;

var name = &quot;StyleSheetFollowingWizard&quot;;
shadows[name] = &quot;/*{{{*/\n%0\n/*}}}*/&quot;.
	format(store.getTiddlerText(tiddler.title + &quot;##StyleSheet&quot;));
store.addNotification(name, refreshStyles);

var wizard = config.macros.followWizard = {
	locale: {
		mission: &quot;Which user or space would you like to follow?&quot;,
		badpermissions: &quot;Only members of the space can maintain followers.&quot;,
		follow: &quot;follow&quot;
	},
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		var locale = wizard.locale;
		var container = $(&quot;&lt;div /&gt;&quot;).addClass(&quot;followWizard&quot;).appendTo(place)[0];
		if(!readOnly) {
			var form = $(&quot;&lt;form /&gt;&quot;).addClass(&quot;followForm&quot;).appendTo(container)[0];
			$(&quot;&lt;span /&gt;&quot;).text(locale.mission).appendTo(form);
			var input = $(&quot;&lt;input /&gt;&quot;).attr(&quot;name&quot;, &quot;space&quot;).attr(&quot;type&quot;, &quot;text&quot;).appendTo(form);
			$(&quot;&lt;input /&gt;&quot;).attr(&quot;type&quot;, &quot;submit&quot;).val(locale.follow).appendTo(form).click(function(ev) {
				wizard.addFollowing(ev, input.val());
				ev.preventDefault();
			});
		} else {
			$(container).addClass(&quot;annotation&quot;).text(locale.badpermissions);
		}
	},
	addFollowing: function(ev, space) {
		var name = tiddlyspace.resolveSpaceName(space);
		if(!name) {
			alert(&quot;That doesn't appear to be a valid space name. Please check and try again.&quot;);
			return;
		}
		var title = &quot;@&quot; + name;
		var tiddler = store.getTiddler(title);
		if(tiddler) {
			tiddler.tags.push(&quot;follow&quot;);
		} else {
			tiddler = new Tiddler(title);
			tiddler.tags.push(&quot;follow&quot;);
			merge(tiddler.fields, config.defaultCustomFields);
		}
		store.saveTiddler(tiddler);
		autoSaveChanges();
	}
};

config.macros.view.views.deleteButton = function(value,place,params,wikifier,paramString,tiddler) {
	var tid = store.getTiddler(value)
	if(tid &amp;&amp; config.commands.deleteTiddler.isEnabled(tid)) {
		var handler = function(ev) {
			config.commands.deleteTiddler.handler(ev,ev.target,value);
		};
		createTiddlyButton(place, &quot;X&quot;, &quot;delete this tiddler&quot;, handler);
	}
};

})(jQuery);
//}}}
</pre>
</div>
<div title="TiddlySpaceInit" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch systemConfig" _hash="05e5325df4a93506529425c558842d5953dd6a44" server.content-type="text/javascript" server.permissions="read" server.bag="tiddlyspace" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" server.etag="&quot;tiddlyspace/TiddlySpaceInit/1521909:5c4338ecb4a607d62fede6e6691e2ca0a2b0aca2&quot;" server.page.revision="1521909" server.title="TiddlySpaceInit">
<pre>/***
|''Name''|TiddlySpaceInitialization|
|''Version''|0.7.3|
|''Description''|Initializes new TiddlySpaces the first time they are created|
|''Status''|@@beta@@|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/blob/master/src/plugins/TiddlySpaceInit.js|
|''CoreVersion''|2.6.1|
|''Requires''|TiddlySpaceConfig RandomColorPalettePlugin chrjs ImageMacroPlugin|
!TODO
* robust error notification and recovery
!MarkupPreHead
&lt;!--{{{--&gt;
&lt;link href=&quot;/bags/%0_public/tiddlers.atom&quot; rel=&quot;alternate&quot;
	type=&quot;application/atom+xml&quot; title=&quot;%0's public feed&quot; /&gt;
&lt;link rel=&quot;canonical&quot; href=&quot;%1/&quot; /&gt;
&lt;!--}}}--&gt;
!Code
***/
//{{{
(function($) {

var versionField = &quot;tiddlyspaceinit_version&quot;;
var markupPreHead = store.getTiddlerText(tiddler.title + &quot;##MarkupPreHead&quot;, &quot;&quot;);
var tiddlyspace = config.extensions.tiddlyspace;
var currentSpace = tiddlyspace.currentSpace;
var tweb = config.extensions.tiddlyweb;

var plugin = config.extensions.TiddlySpaceInit = {
	version: &quot;0.6&quot;,
	SiteTitle: &quot;%0&quot;,
	SiteSubtitle: &quot;a TiddlySpace&quot;,
	flagTitle: &quot;%0SetupFlag&quot;,
	flagWarning: &quot;Please do not modify this tiddler; it was created &quot; +
		&quot;automatically upon space creation.&quot;,

	dispatch: function(ev) {
		var title = plugin.flagTitle.format([currentSpace.name]);
		config.annotations[title] = plugin.flagWarning;
		if(currentSpace.type != &quot;private&quot;) {
			return;
		}
		var tiddlers = [];
		var tid = store.getTiddler(title);
		if(tid) {
			curVersion = parseFloat(tid.fields[versionField]);
			reqVersion = parseFloat(plugin.version);
			if(curVersion &lt; reqVersion) {
				plugin.update(curVersion, tid);
				tid.fields[versionField] = plugin.version;
				tid.incChangeCount();
				tid = store.saveTiddler(tid);
				tiddlers.push(tid);
			}
		} else { // first run
			tid = new Tiddler(title);
			tid.tags = [&quot;excludeLists&quot;, &quot;excludeSearch&quot;, &quot;excludePublisher&quot;];
			tid.fields = $.extend({}, config.defaultCustomFields);
			tid.fields[versionField] = plugin.version;
			tid.text = &quot;@@%0@@&quot;.format([plugin.flagWarning]);
			tid = store.saveTiddler(tid);
			tiddlers = tiddlers.concat(plugin.firstRun(), tid);
		}
		autoSaveChanges(null, tiddlers);
	},
	update: function(curVersion, flagTiddler) {
		if(curVersion &lt; 0.2) {
			this.createAvatar();
		}
		if(curVersion &lt; 0.3) {
			flagTiddler.tags.pushUnique(&quot;excludePublisher&quot;); // XXX: never persisted
		}
		if(curVersion &lt; 0.5) { // v0.4 was faulty
			this.setupMarkupPreHead();
		}
		if(curVersion &lt; 0.6) {
			this.purgeSystemSettings();
		}
	},
	pubTid: {
		tags: [&quot;excludeLists&quot;, &quot;excludeSearch&quot;],
		fields: $.extend({}, config.defaultCustomFields, {
			&quot;server.workspace&quot;: tiddlyspace.getCurrentWorkspace(&quot;public&quot;)
		})
	},
	makeTiddlerIfNot: function(tiddler) {
		if (!store.tiddlerExists(tiddler.title)) {
			$.extend(true, tiddler, plugin.pubTid);
			return [store.saveTiddler(tiddler)];
		} else {
			return [];
		}
	},
	firstRun: function() {
		var tiddlers = [];
		// generate Site*itle
		$.each([&quot;SiteTitle&quot;, &quot;SiteSubtitle&quot;], function(i, item) {
			var tid = new Tiddler(item);
			tid.text = plugin[item].format([currentSpace.name]);
			tiddlers.push.apply(tiddlers,
				plugin.makeTiddlerIfNot(tid));
		});
		// generate public ColorPalette
		var tid = new Tiddler(&quot;ColorPalette&quot;);
		tid.text = config.macros.RandomColorPalette.generatePalette({
			saturation_pale: 0.67, saturation_light: 0.53,
			saturation_mid: 0.43, saturation_dark: 0.06,
			pale: 0.99, light: 0.85, mid: 0.5, dark: 0.31
		},
			false);
		tiddlers.push.apply(tiddlers, plugin.makeTiddlerIfNot(tid));
		this.createAvatar();
		this.setupMarkupPreHead();
		return tiddlers;
	},
	// remove _cookie slices (TiddlyWiki 2.6.2 beta 6 remnants)
	purgeSystemSettings: function() {
		var ss = store.getTiddler(&quot;SystemSettings&quot;);
		if(ss) {
			var lines = ss.text.split(&quot;\n&quot;);
			var persistentOptions = $.grep(lines, function(line, i) {
				return line.indexOf(&quot;_cookie:&quot;) == -1;
			});
			ss.text = persistentOptions.join(&quot;\n&quot;);
			ss = store.saveTiddler(ss);
			autoSaveChanges(null, [ss]);
		}
	},
	createAvatar: function() {
		var avatar = &quot;SiteIcon&quot;;
		var host = tweb.host;
		var notify = function(xhr, error, exc) {
			displayMessage(&quot;ERROR: could not create avatar - &quot; + // TODO: i18n
				&quot;%0: %1&quot;.format([xhr.statusText, xhr.responseText]));
			// TODO: resolve!?
		};

		var pubBag = tiddlyspace.getCurrentBag(&quot;public&quot;);
		var tid = new tiddlyweb.Tiddler(avatar);
		tid.bag = new tiddlyweb.Bag(pubBag, host);

		var callback = function(data, status, xhr) {}; // avatar already exists; do nothing
		var errback = function(xhr, error, exc) {
			if(xhr.status != 404) {
				return;
			}
			// copy default avatar
			var _notify = function(tid, status, xhr) {
				displayMessage(&quot;created avatar&quot;); // TODO: i18n
				var image = config.macros.image;
				if(image &amp;&amp; image.refreshImage) {
					var uri = &quot;/%0/tiddlers/SiteIcon&quot;.
						format(tiddlyspace.getCurrentWorkspace(&quot;public&quot;));
					image.refreshImage(uri);
					image.refreshImage(&quot;SiteIcon&quot;);
				}
			};
			var _callback = function(tid, status, xhr) {
				tid.title = avatar;
				tid.bag.name = pubBag;
				delete tid.etag;
				tid.put(_notify, notify); // TODO: add to current session document (via adaptor?)
			};
			tweb.getUserInfo(function(user) {
				var avatarTitle = currentSpace.name == user.name ?
					&quot;defaultUserIcon&quot; : &quot;defaultSiteIcon&quot;;
				var tid = new tiddlyweb.Tiddler(avatarTitle);
				tid.bag = new tiddlyweb.Bag(&quot;common&quot;, host);
				tid.get(_callback, notify);
			});
		};
		tid.get(callback, errback);
	},
	savePublicTiddlerText: function(title, text, pubWorkspace) {
		var tid = new Tiddler(title);
		tid.text = text;
		tid.tags = [&quot;excludeLists&quot;];
		tid.fields = $.extend({}, config.defaultCustomFields);
		tid.fields[&quot;server.workspace&quot;] = pubWorkspace;
		tid.fields[&quot;server.page.revision&quot;] = &quot;false&quot;;
		tid = store.saveTiddler(tid);
		autoSaveChanges(null, [tid]);
	},
	setupMarkupPreHead: function() {
		var pubWorkspace = tiddlyspace.getCurrentWorkspace(&quot;public&quot;);
		var existing = store.getTiddler(&quot;MarkupPreHead&quot;);
		if(!existing || existing.fields[&quot;server.workspace&quot;] != pubWorkspace) {
			var context = this;
			tweb.getStatus(function(status) {
				var text = markupPreHead.format(currentSpace.name,
					tiddlyspace.getHost(status.server_host, currentSpace.name));
				context.savePublicTiddlerText(&quot;MarkupPreHead&quot;, text,
					pubWorkspace);
			});
		}
		// also set up DefaultTiddlers
		var title = &quot;DefaultTiddlers&quot;;
		existing = store.getTiddler(title) || new Tiddler(title);
		if(existing.fields[&quot;server.workspace&quot;] != pubWorkspace) {
			var text = existing.text || store.getShadowTiddlerText(title);
			this.savePublicTiddlerText(title, text, pubWorkspace);
		}
	}
};

$(document).bind(&quot;startup&quot;, plugin.dispatch);

})(jQuery);
//}}}</pre>
</div>
<div title="TiddlySpaceIntraSpaceInclusion" creator="jon" modifier="jon" created="201107150903" modified="201203271144" tags="excludeLists excludeSearch systemConfig" summary="" _hash="c234a90d99d92755c64fffcea9a4dd412f6b5f3c" server.content-type="" server.permissions="read" server.bag="following_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/following_public" server.etag="&quot;following_public/TiddlySpaceIntraSpaceInclusion/654521:55ec8137f12d3a6de54f46b85f67a37e4fb57ea9&quot;" server.page.revision="654521" server.title="TiddlySpaceIntraSpaceInclusion">
<pre>/***
|''Name:''|TiddlySpaceIntraSpaceInclusion|
|''Description:''|Provides support for {{{&lt;&lt;tiddler Foo@bar&gt;&gt;}}} and {{{&lt;&lt;tiddler [[Foo]]@bar&gt;&gt;}}}|
|''Author:''|Jon Robson|
|''Source:''|https://github.com/jdlrobson/TiddlyWikiPlugins/raw/master/plugins/TiddlySpaceIntraSpaceInclusion/TiddlySpaceIntraSpaceInclusion.js|
|''Version:''|0.3.8a|
|''License:''|[[BSD License|http://www.opensource.org/licenses/bsd-license.php]] |
|''Comments:''|Please make comments at http://groups.google.co.uk/group/TiddlyWikiDev |
|''~CoreVersion:''|2.4|
***/
//{{{
(function() {
	var _tidtext = TiddlyWiki.prototype.getTiddlerText;
	var cache = {};

	// allmost the same regExp as in TiddlySpaceLinkPlugin but .. no &quot;mg&quot; parameter, because it didn't work for this usecase.
	config.textPrimitives.spacenameLinkRegExp = new RegExp(config.textPrimitives.unWikiLink + 
													 &quot;?(&quot; + config.textPrimitives.bareTiddlerLetter + &quot;*)@(&quot; + config.textPrimitives.spaceName + &quot;)&quot;, &quot;&quot;);
	config.textPrimitives.tiddlyLinkSpacenameLinkRegExp = new RegExp(&quot;\\[\\[(.*?)(?:\\|(.*?))?\\]\\]@(&quot; + config.textPrimitives.spaceName + &quot;)&quot;, &quot;&quot;);
	
	TiddlyWiki.prototype.getTiddlerText = function(title, defaultText) {
		var ct = config.textPrimitives;
		var match = ct.spacenameLinkRegExp.exec(title);	// foo@bar
		var match2 = ct.tiddlyLinkSpacenameLinkRegExp.exec(title); 	// [[foo]]@bar
		
		if(match || match2) {
		//	console.log('inner: ', 'spacename: ', match, 'tiddlyLink: ', match2, 'place: ');
			var tidtitle, space;
			if(match[1] &amp;&amp; match.length === 3) {
				tidtitle = match[1];
				space = match[2];
			} else if(match2 &amp;&amp; match2.length === 4) {
				tidtitle = match2[1];
				space = match2[3];
			}
			var newtitle = tidtitle + &quot;@&quot; + space;
			if(tidtitle &amp;&amp; space) {
				title = newtitle;
			}
			if(tidtitle &amp;&amp; space &amp;&amp; !store.getTiddler(newtitle)) {
				var tiddler = new Tiddler(title);
				// get the tiddler, where the macro is rendered. //XXX will need more testing
				var el = story.findContainingTiddler(place);
				var refreshTitle = (el) ? el.getAttribute('tiddler') : null;

				tiddler.text = &quot;//retrieving from server//&quot;;
				tiddler.fields.doNotSave = &quot;true&quot;;
				tiddler.tags = [&quot;excludeLists&quot;, &quot;excludeSearch&quot;, &quot;excludeMissing&quot;];
				merge(tiddler.fields, config.defaultCustomFields);
				tiddler.fields[&quot;server.bag&quot;] = space + &quot;_public&quot;;
				tiddler = store.addTiddler(tiddler);
				ajaxReq({ url: &quot;/bags/&quot; + space + &quot;_public/tiddlers/&quot; + tidtitle,
					dataType: &quot;json&quot;,
					success: function(tid) {
						var tiddler = store.getTiddler(title);
						tiddler.text = tid.text;
						store.addTiddler(tiddler);
						// store.notify(title,true);
						story.refreshTiddler(refreshTitle,null,true);
						// story.refreshAllTiddlers(); // hacky but above link doesn't always seem to work!
					},
					error: function() {
						var tiddler = store.getTiddler(title);
						tiddler.text = &quot;//error retrieving tiddler {{{&quot; + title + &quot;}}} from space @&quot; + space + &quot;//&quot;;
						store.addTiddler(tiddler);
						// store.notify(title,true);
						story.refreshTiddler(refreshTitle,null,true);
						// story.refreshAllTiddlers(); // hacky but above link doesn't always seem to work!
					}
				});
			}
		}
		return _tidtext.apply(this, [title, defaultText]);
	}
})();
//}}}</pre>
</div>
<div title="TiddlySpaceLinkPlugin" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch systemConfig" _hash="b88cfa8ccd99b328c34b54aa9371c8f9ce02ffaf" server.content-type="text/javascript" server.permissions="read" server.bag="system-plugins_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-plugins_public" server.etag="&quot;system-plugins_public/TiddlySpaceLinkPlugin/1521865:3074465019730a9a3c84e376c7c32226f8c3f35a&quot;" server.page.revision="1521865" server.title="TiddlySpaceLinkPlugin">
<pre>/***
|''Name:''|TiddlySpaceLinkPlugin|
|''Description:''|Formatter to reference other spaces from wikitext |
|''Author:''|PaulDowney (psd (at) osmosoft (dot) com) |
|''Source:''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/TiddlySpaceLinkPlugin.js|
|''Version:''|1.4.2|
|''License:''|[[BSD License|http://www.opensource.org/licenses/bsd-license.php]] |
|''Comments:''|Please make comments at http://groups.google.co.uk/group/TiddlyWikiDev |
|''~CoreVersion:''|2.4|
!!Documentation
This plugin provides wikitext formatters for referencing another [[space|Space]] on the same TiddlySpace server, as in the following examples:
&lt;&lt;&lt;
  {{{@space}}} -- @space 
  {{{~@space}}} -- ~@space 
  {{{Tiddler@space}}} -- Tiddler@space
  {{{[[Tiddler Title]]@space}}} -- [[Tiddler Title]]@space 
  {{{[[Link text|Tiddler Title]]@space}}} -- [[Link text|Tiddler Title]]@space
&lt;&lt;&lt;
Links to tiddlers with a title begining with an &quot;@&quot; remain as tiddlyLinks:
&lt;&lt;&lt;
  {{{[[@tiddler]]}}} -- [[@tiddler]]
&lt;&lt;&lt;
and these may be changed into a space link using {{{@@}}}:
&lt;&lt;&lt;
  {{{[[@@space]]}}} -- [[@@space]]
  {{{[[Link to an another space|@@space]]}}} -- [[Link to another space|@@space]]
  {{{[[@space|@@space]]}}} -- [[@space|@@space]]
&lt;&lt;&lt;
TiddlySpace includes the [[TiddlySpaceLinkPlugin]] which provides WikiText markup for linking to other spaces on the same server. For example @glossary is a link to the {{{glossary}}} space and [[Small Trusted Group]]@glossary a link to an individual tiddler in the @glossary space. Prefixing the link with a tilde escapes the link, for example {{{~@space}}}.
Email addresses, for example joe.bloggs@example.com and mary@had.a.little.lamb.org should be unaffected.
!!Features
The plugin provides external links decorated so that other plugins may be included to add features such as the ability to dynamically pull externally linked tiddlers into the current TiddlyWiki.
Wikitext linking to a space on another server, for example from a tiddler in a space on tiddlyspace.com to a tiddler or a space on example.com, isn't currently supported. 
!!Code
***/
//{{{
/*jslint onevar: false nomen: false plusplus: false */
/*global jQuery config createTiddlyText createExternalLink createTiddlyLink */

function createSpaceLink(place, spaceName, title, alt, isBag) {
	var link, a, currentSpaceName, label;
	try {
		if (spaceName === config.extensions.tiddlyspace.currentSpace.name) {
			title = title || spaceName;
			a = createTiddlyLink(place, title, false);
			jQuery(a).text(alt || title);
			return a;
		}
	} catch (ex1) {
		currentSpaceName = false;
	}

	a = jQuery(&quot;&lt;a /&gt;&quot;).addClass('tiddlySpaceLink externalLink').appendTo(place)[0];
	if(title) {
		jQuery(a).attr('tiddler', title);
	}
	if(isBag) {
		jQuery(a).attr('bag', spaceName);
	} else {
		jQuery(a).attr('tiddlyspace', spaceName);
	}

	config.extensions.tiddlyweb.getStatus(function(status) {
		link = status.server_host.url;
		if (title) {
			label = alt || title;
			link = link + &quot;/&quot; + encodeURIComponent(title);
		} else {
			label = alt || spaceName;
		}
		// assumes a http URI without user:pass@ prefix
		if(!isBag) {
			link = link.replace(&quot;http://&quot;, &quot;http://&quot; + spaceName.toLowerCase() + &quot;.&quot;);
		} else {
			link += &quot;/bags/&quot; + spaceName + &quot;/tiddlers.wiki&quot;;
		}
		jQuery(a).attr(&quot;href&quot;, link).text(label);
	});
	return a;
}

(function ($) {

	config.textPrimitives.spaceName = &quot;[a-zA-Z][a-zA-Z0-9-]*[a-zA-Z0-9]&quot;;
	config.textPrimitives.spaceNameStrict = &quot;[a-z][a-z0-9-]*&quot;;
	config.textPrimitives.bareTiddlerLetter = config.textPrimitives.anyLetterStrict;

	config.formatters.splice(0, 0, {
		name: &quot;spacenameLink&quot;,
		match: config.textPrimitives.unWikiLink + &quot;?&quot; + config.textPrimitives.bareTiddlerLetter + &quot;*@&quot; + config.textPrimitives.spaceName + &quot;\\.?.?&quot;,
		lookaheadRegExp: new RegExp(config.textPrimitives.unWikiLink + &quot;?(&quot; + config.textPrimitives.bareTiddlerLetter + &quot;*)@(&quot; + config.textPrimitives.spaceName + &quot;)&quot;, &quot;mg&quot;),
		handler: function (w) {
			if (w.matchText.substr(w.matchText.length - 2, 1) === '.' &amp;&amp; w.matchText.substr(w.matchText.length - 1, 1).match(/[a-zA-Z]/)) {
				w.outputText(w.output, w.matchStart, w.nextMatch);
				return;
			}
			if (w.matchText.substr(0, 1) === config.textPrimitives.unWikiLink) {
				w.outputText(w.output, w.matchStart + 1, w.nextMatch);
				return;
			}
			this.lookaheadRegExp.lastIndex = w.matchStart;
			var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
			if (lookaheadMatch &amp;&amp; lookaheadMatch.index === w.matchStart) {
				createSpaceLink(w.output, lookaheadMatch[2], lookaheadMatch[1]);
				w.nextMatch = this.lookaheadRegExp.lastIndex;
			}
		}
	},
	{
		name: &quot;tiddlySpaceLink&quot;,
		match: &quot;\\[\\[[^\\|\\]]*\\|*@@&quot; + config.textPrimitives.spaceName + &quot;\\]&quot;,
		lookaheadRegExp: new RegExp(&quot;\\[\\[(.*?)(?:\\|@@(.*?))?\\]\\]&quot;, &quot;mg&quot;),
		handler: function (w) {
			this.lookaheadRegExp.lastIndex = w.matchStart;
			var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
			if (lookaheadMatch &amp;&amp; lookaheadMatch.index === w.matchStart) {
				var alt = lookaheadMatch[2] ? lookaheadMatch[1] : lookaheadMatch[1].replace(/^@@/, &quot;&quot;);
				var space = lookaheadMatch[2] || alt;
				createSpaceLink(w.output, space, &quot;&quot;, alt);
				w.nextMatch = this.lookaheadRegExp.lastIndex;
			}
		}
	},
	{
		name: &quot;tiddlyLinkSpacenameLink&quot;,
		match: &quot;\\[\\[[^\\[]*\\]\\]@&quot;,
		lookaheadRegExp: new RegExp(&quot;\\[\\[(.*?)(?:\\|(.*?))?\\]\\]@(&quot; + config.textPrimitives.spaceName + &quot;)&quot;, &quot;mg&quot;),
		handler: function (w) {
			this.lookaheadRegExp.lastIndex = w.matchStart;
			var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
			if (lookaheadMatch &amp;&amp; lookaheadMatch.index === w.matchStart) {
				var title = lookaheadMatch[2] || lookaheadMatch[1];
				var alt = lookaheadMatch[1] || lookaheadMatch[2];
				createSpaceLink(w.output, lookaheadMatch[3], title, alt);
				w.nextMatch = this.lookaheadRegExp.lastIndex;
			}
		}
	});

	// ensure space links don't appear as missing links
	config.textPrimitives.brackettedLink = &quot;\\[\\[([^\\]][^@\\]][^\\]]*)\\]\\](?=[^@])&quot;;
	config.textPrimitives.titledBrackettedLink = &quot;\\[\\[([^\\[\\]\\|]+)\\|([^\\[\\]\\|]+)\\]\\](?=[^@])&quot;;

	// reevaluate derrived expressions ..
	config.textPrimitives.tiddlerForcedLinkRegExp = new RegExp(&quot;(?:&quot; + config.textPrimitives.titledBrackettedLink + &quot;)|(?:&quot; +
		config.textPrimitives.brackettedLink + &quot;)|(?:&quot; +
		config.textPrimitives.urlPattern + &quot;)&quot;,&quot;mg&quot;);
	config.textPrimitives.tiddlerAnyLinkRegExp = new RegExp(&quot;(&quot;+ config.textPrimitives.wikiLink + &quot;)|(?:&quot; +
		config.textPrimitives.titledBrackettedLink + &quot;)|(?:&quot; +
		config.textPrimitives.brackettedLink + &quot;)|(?:&quot; +
		config.textPrimitives.urlPattern + &quot;)&quot;,&quot;mg&quot;);

	// treat space links in titledBracketedLink as external links
	var missingTiddlySpaceLink = new RegExp(&quot;^@@&quot; + config.textPrimitives.spaceName + &quot;$&quot;, &quot;&quot;);
	var isExternalLink = config.formatterHelpers.isExternalLink;
	config.formatterHelpers.isExternalLink = function(link) {
		return missingTiddlySpaceLink.test(link) || isExternalLink(link);
	};

}(jQuery));
//}}}</pre>
</div>
<div title="TiddlySpacePublishingCommands" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch systemConfig" _hash="d38da0ee80a7dc114a17466600f9430fa2a962bb" server.content-type="text/javascript" server.permissions="read" server.bag="system-plugins_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-plugins_public" server.etag="&quot;system-plugins_public/TiddlySpacePublishingCommands/1521868:24321ad8ed062456e81581568d1c88968e271c19&quot;" server.page.revision="1521868" server.title="TiddlySpacePublishingCommands">
<pre>/***
|''Name''|TiddlySpacePublishingCommands|
|''Version''|0.8.5|
|''Status''|@@beta@@|
|''Description''|toolbar commands for drafting and publishing|
|''Author''|Jon Robson|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/TiddlySpacePublishingCommands.js|
|''CoreVersion''|2.6.1|
|''Requires''|TiddlySpaceConfig TiddlySpaceFilters|
!Usage
Provides changeToPrivate, changeToPublic and saveDraft commands
Provides TiddlySpacePublisher macro.
{{{&lt;&lt;TiddlySpacePublisher type:private&gt;&gt;}}} make lots of private tiddlers public.
{{{&lt;&lt;TiddlySpacePublisher type:public&gt;&gt;}}} make lots of public tiddlers public.
!TODO
* add public argument?
!Code
***/
//{{{
(function($) {

var tiddlyspace = config.extensions.tiddlyspace;
var originMacro = config.macros.tiddlerOrigin;

tiddlyspace.getTiddlerStatusType = function(tiddler) {
	var isShadow = store.isShadowTiddler(tiddler.title);
	var exists = store.tiddlerExists(tiddler.title);
	if(isShadow &amp;&amp; !exists) {
		return &quot;shadow&quot;;
	} else if(!exists) {
		return &quot;missing&quot;;
	} else {
		var types = [&quot;private&quot;, &quot;public&quot;];
		var type = &quot;external&quot;;
		for(var i = 0; i &lt; types.length; i++) {
			var t = types[i];
			type = config.filterHelpers.is[t](tiddler) ? t : type;
		}
		if(config.filterHelpers.is.unsynced(tiddler)) {
			type = type == &quot;private&quot; ? &quot;unsyncedPrivate&quot; : &quot;unsyncedPublic&quot;;
		}
		return type;
	}
};

var cmd = config.commands.publishTiddler = {
	text: &quot;make public&quot;,
	tooltip: &quot;Change this private tiddler into a public tiddler&quot;,
	errorMsg: &quot;Error publishing %0: %1&quot;,

	isEnabled: function(tiddler) {
		return !readOnly &amp;&amp; config.filterHelpers.is[&quot;private&quot;](tiddler);
	},
	handler: function(ev, src, title) {
		var tiddler = store.getTiddler(title);
		if(tiddler) {
			var newBag = cmd.toggleBag(tiddler.fields[&quot;server.bag&quot;]);
			this.moveTiddler(tiddler, {
				title: tiddler.fields[&quot;publish.name&quot;] || tiddler.title,
				fields: { &quot;server.bag&quot;: newBag }
			});
		}
	},
	toggleBag: function(bag, to) {
		var newBag;
		if(typeof bag != typeof &quot;&quot;) {
			var tiddler = bag;
			bag = tiddler.fields[&quot;server.bag&quot;];
		}
		if(bag.indexOf(&quot;_private&quot;) &gt; -1) { // should make use of endsWith
			to = to ? to : &quot;public&quot;;
			newBag = bag.replace(&quot;_private&quot;, &quot;_&quot; + to);
		} else {
			to = to ? to : &quot;private&quot;;
			newBag = bag.replace(&quot;_public&quot;, &quot;_&quot; + to);
		}
		return newBag;
	},
	copyTiddler: function(title, newTitle, newBag, callback) {
		var original = store.getTiddler(title);
		newTitle = newTitle ? newTitle : title;
		var adaptor = original.getAdaptor();
		var publish = function(original, callback) {
			var tiddler = $.extend(new Tiddler(newTitle), original);
			tiddler.fields = $.extend({}, original.fields, {
				&quot;server.bag&quot;: newBag,
				&quot;server.workspace&quot;: &quot;bags/%0&quot;.format(newBag),
				&quot;server.page.revision&quot;: &quot;false&quot;
			});
			delete tiddler.fields[&quot;server.title&quot;];
			tiddler.title = newTitle;
			adaptor.putTiddler(tiddler, null, null, callback);
		};
		publish(original, callback);
	},
	moveTiddler: function(tiddler, newTiddler, callback) {
			var info = {
			copyContext: {},
			deleteContext: {}
		};
		var _dirty = store.isDirty();
		var adaptor = tiddler.getAdaptor();
		var newTitle = newTiddler.title;
		var oldTitle = tiddler.title;
		delete tiddler.fields[&quot;server.workspace&quot;];
		var oldBag = tiddler.fields[&quot;server.bag&quot;];
		var newBag = newTiddler.fields[&quot;server.bag&quot;];
		var newWorkspace = &quot;bags/%0&quot;.format(newBag);
		cmd.copyTiddler(oldTitle, newTitle, newBag, function(ctx) {
				info.copyContext = ctx;
				var context = {
					tiddler: tiddler,
					workspace: newWorkspace
				};
				store.addTiddler(ctx.tiddler);
				tiddler.title = oldTitle; // for cases where a rename occurs
				if(ctx.status) { // only do if a success
					if(oldBag != newBag) {
						adaptor.deleteTiddler(tiddler, context, {}, function(ctx) {
							info.deleteContext = ctx;
							var el;
							if(tiddler) {
								tiddler.fields[&quot;server.workspace&quot;] = newWorkspace;
								tiddler.fields[&quot;server.bag&quot;] = newBag;
							}
							el = el ? el : story.refreshTiddler(oldTitle, null, true);
							if(oldTitle != newTitle) {
								store.deleteTiddler(oldTitle);
								store.notify(oldTitle, true);
							}
							if(el) {
								story.displayTiddler(el, newTitle);
							}
							if(oldTitle != newTitle) {
								story.closeTiddler(oldTitle);
							}
							if(callback) {
								callback(info);
							}
							store.setDirty(_dirty);
						});
					} else {
						if(callback) {
							callback(info);
						}
					}
					refreshDisplay();
				}
		});
	}
};

var changeToPrivate = config.commands.changeToPrivate = {
	text: &quot;make private&quot;,
	tooltip: &quot;turn this public tiddler into a private tiddler&quot;,
	isEnabled: function(tiddler) {
		return !readOnly &amp;&amp; config.filterHelpers.is[&quot;public&quot;](tiddler);
	},
	handler: function(event, src, title) {
		var tiddler = store.getTiddler(title);
		var newBag = cmd.toggleBag(tiddler, &quot;private&quot;);
		var newTiddler = { title: title, fields: { &quot;server.bag&quot;: newBag }};
		cmd.moveTiddler(tiddler, newTiddler);
	}
};
config.commands.changeToPublic = cmd;

/* Save as draft command */
var saveDraftCmd = config.commands.saveDraft = {
	text: &quot;save draft&quot;,
	tooltip: &quot;Save as a private draft&quot;,
	isEnabled: function(tiddler) {
		return changeToPrivate.isEnabled(tiddler);
	},
	getDraftTitle: function(title) {
		var draftTitle;
		var draftNum = &quot;&quot;;
		while(!draftTitle) {
			var suggestedTitle = &quot;%0 [draft%1]&quot;.format(title, draftNum);
			if(store.getTiddler(suggestedTitle)) {
				draftNum = !draftNum ? 2 : draftNum + 1;
			} else {
				draftTitle = suggestedTitle;
			}
		}
		return draftTitle;
	},
	createDraftTiddler: function(title, gatheredFields) {
		var tiddler = store.getTiddler(title);
		var draftTitle = saveDraftCmd.getDraftTitle(title);
		var draftTiddler = new Tiddler(draftTitle);
		if(tiddler) {
			$.extend(true, draftTiddler, tiddler);
		} else {
			$.extend(draftTiddler.fields, config.defaultCustomFields);
		}
		for(var fieldName in gatheredFields) {
			if(TiddlyWiki.isStandardField(fieldName)) {
				draftTiddler[fieldName] = gatheredFields[fieldName];
			} else {
				draftTiddler.fields[fieldName] = gatheredFields[fieldName];
			}
		}
		var privateBag = tiddlyspace.getCurrentBag(&quot;private&quot;);
		var privateWorkspace = tiddlyspace.getCurrentWorkspace(&quot;private&quot;);
		draftTiddler.title = draftTitle;
		draftTiddler.fields[&quot;publish.name&quot;] = title;
		draftTiddler.fields[&quot;server.workspace&quot;] = privateWorkspace;
		draftTiddler.fields[&quot;server.bag&quot;] = privateBag;
		draftTiddler.fields[&quot;server.title&quot;] = draftTitle;
		draftTiddler.fields[&quot;server.page.revision&quot;] = &quot;false&quot;;
		delete draftTiddler.fields[&quot;server.etag&quot;];
		return draftTiddler;
	},
	handler: function(ev, src, title) {
		var tiddler = store.getTiddler(title); // original tiddler
		var tidEl = story.getTiddler(title);
		var uiFields = {};
		story.gatherSaveFields(tidEl, uiFields);
		var tid = saveDraftCmd.createDraftTiddler(title, uiFields);
		tid = store.saveTiddler(tid.title, tid.title, tid.text, tid.modifier,
			new Date(), tid.tags, tid.fields);
		autoSaveChanges(null, [tid]);
		story.closeTiddler(title);
		story.displayTiddler(src, title);
		story.displayTiddler(src, tid.title);
	}
};

var macro = config.macros.TiddlySpacePublisher = {
	locale: {
		title: &quot;Batch Publisher&quot;,
		changeStatusLabel: &quot;Make %0&quot;,
		noTiddlersText: &quot;No tiddlers to publish&quot;,
		changeStatusPrompt: &quot;Make all the selected tiddlers %0.&quot;,
		description: &quot;Change tiddlers from %0 to %1 in this space&quot;
	},

	listViewTemplate: {
		columns: [
			{ name: &quot;Selected&quot;, field: &quot;Selected&quot;, rowName: &quot;title&quot;, type: &quot;Selector&quot; },
			{ name: &quot;Tiddler&quot;, field: &quot;tiddler&quot;, title: &quot;Tiddler&quot;, type: &quot;Tiddler&quot; },
			{ name: &quot;Status&quot;, field: &quot;status&quot;, title: &quot;Status&quot;, type: &quot;WikiText&quot; }
		],
		rowClasses: []
	},

	changeStatus: function(tiddlers, status, callback) { // this is what is called when you click the publish button
		var publicBag;
		for(var i = 0; i &lt; tiddlers.length; i++) {
			var tiddler = tiddlers[i];
			var newTiddler = {
				title: tiddler.title,
				fields: { &quot;server.bag&quot;: cmd.toggleBag(tiddler, status) }
			};
			cmd.moveTiddler(tiddler, newTiddler, callback);
		}
	},
	getMode: function(paramString) {
		var params = paramString.parseParams(&quot;anon&quot;)[0];
		var status = params.type ?
			([&quot;public&quot;, &quot;private&quot;].contains(params.type[0]) ? params.type[0] : &quot;private&quot;) :
			&quot;private&quot;;
		var newStatus = status == &quot;public&quot; ? &quot;private&quot; : &quot;public&quot;;
		return [status, newStatus];
	},
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		var wizard = new Wizard();
		var locale = macro.locale;
		var status = macro.getMode(paramString);
		wizard.createWizard(place, locale.title);
		wizard.addStep(macro.locale.description.format(status[0], status[1]),
			'&lt;input type=&quot;hidden&quot; name=&quot;markList&quot; /&gt;');
		var markList = wizard.getElement(&quot;markList&quot;);
		var listWrapper = $(&quot;&lt;div /&gt;&quot;).addClass(&quot;batchPublisher&quot;).
			attr(&quot;refresh&quot;, &quot;macro&quot;).attr(&quot;macroName&quot;, macroName).
			attr(&quot;params&quot;, paramString)[0];
		markList.parentNode.insertBefore(listWrapper, markList);
		$.data(listWrapper, &quot;wizard&quot;, wizard);
		macro.refresh(listWrapper);
	},
	getCheckedTiddlers: function(listWrapper, titlesOnly) {
		var tiddlers = [];
		$(&quot;.chkOptionInput[rowName]:checked&quot;, listWrapper).each(function(i, el) {
			var title = $(el).attr(&quot;rowName&quot;);
			if(titlesOnly) {
				tiddlers.push(title);
			} else {
				tiddlers.push(store.getTiddler(title));
			}
		});
		return tiddlers;
	},
	refresh: function(listWrapper) {
		var checked = macro.getCheckedTiddlers(listWrapper, true);
		var paramString = $(listWrapper).empty().attr(&quot;params&quot;);
		var wizard = $.data(listWrapper, &quot;wizard&quot;);
		var locale = macro.locale;
		var params = paramString.parseParams(&quot;anon&quot;)[0];
		var publishCandidates = [];
		var status = macro.getMode(paramString);
		var pubType = status[0];
		var newPubType = status[1];
		var tiddlers = params.filter ? store.filterTiddlers(params.filter[0]) :
			store.filterTiddlers(&quot;[is[%0]]&quot;.format(pubType));
		var enabled = [];
		for(var i = 0; i &lt; tiddlers.length; i++) {
			var tiddler = tiddlers[i];
			var title = tiddler.title;
			if(!tiddler.tags.contains(&quot;excludePublisher&quot;) &amp;&amp; title !== &quot;SystemSettings&quot;) {
				publishCandidates.push({ title: title, tiddler: tiddler, status: pubType});
			}
			if(checked.contains(title)) {
				enabled.push(&quot;[rowname=%0]&quot;.format(title));
			}
		}

		if(publishCandidates.length === 0) {
			createTiddlyElement(listWrapper, &quot;em&quot;, null, null, locale.noTiddlersText);
		} else {
			var listView = ListView.create(listWrapper, publishCandidates, macro.listViewTemplate);
			wizard.setValue(&quot;listView&quot;, listView);
			var btnHandler = function(ev) {
				var tiddlers = macro.getCheckedTiddlers(listWrapper);
				var callback = function(status) {
					$(&quot;.batchPublisher&quot;).each(function(i, el) {
						macro.refresh(el);
					});
				};
				macro.changeStatus(tiddlers, newPubType, callback);
			};
			wizard.setButtons([{
				caption: locale.changeStatusLabel.format(newPubType),
				tooltip: locale.changeStatusPrompt.format(newPubType),
				onClick: btnHandler
			}]);
			$(enabled.join(&quot;,&quot;)).attr(&quot;checked&quot;, true); // retain what was checked before
		}
	}
};

})(jQuery);
//}}}</pre>
</div>
<div title="TiddlySpaceRevertRevision" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeMissing excludeSearch systemConfig" _hash="db2d6dc5a63b9262d62fb6ffe02dbe10fdd31feb" server.content-type="text/javascript" server.permissions="read" server.bag="system-plugins_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-plugins_public" server.etag="&quot;system-plugins_public/TiddlySpaceRevertRevision/1521871:0ec407e87fd5d47fb35260a3cfa187987255f89a&quot;" server.page.revision="1521871" server.title="TiddlySpaceRevertRevision">
<pre>/***
|''Name''|TiddlySpaceRevertRevision|
|''Description''|Revert to a previous revision|
|''Author''|BenGillies|
|''Version''|0.1|
|''Status''|unstable|
|''Source''|http://github.com/TiddlySpace/tiddlyspace|
|''CodeRepository''|http://github.com/TiddlySpace/tiddlyspace|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''CoreVersion''|2.6.0|
|''Requires''|TiddlyWebAdaptor TiddlySpaceRevisionView|
!Usage
Add a control button to revert to a particular revision.

The button must be called from within a revision, as generated by TiddlySpaceRevisionView
!Code
***/
//{{{
(function($) {

config.commands.revert = {
	text: &quot;revert&quot;,
	tooltip: &quot;make this revision the current one&quot;,
	handler: function(ev, src, title) {
		var revElem = story.getTiddler(title);
		var tidToRevert = store.getTiddler($(revElem).attr(&quot;revName&quot;));

		var revision = store.getTiddler(title);
		if ((revision) &amp;&amp; (tidToRevert)) {
			tidToRevert.text = revision.text;
			var newFields = merge({}, revision.fields);
			for (var fieldName in newFields) {
				if (fieldName.substr(0, 7) === &quot;server.&quot;) {
					delete newFields[fieldName];
				}
			}
			merge(tidToRevert.fields, newFields);
			tidToRevert.tags = merge([], revision.tags);
			tidToRevert.fields.changecount = 1;
			delete tidToRevert.fields.doNotSave;

			store.saveTiddler(tidToRevert.title, tidToRevert.title,
				tidToRevert.text, null, null, tidToRevert.tags,
				tidToRevert.fields, false, tidToRevert.created, tidToRevert.creator);

			autoSaveChanges(true);
		}
	}
};

})(jQuery);
//}}}</pre>
</div>
<div title="TiddlySpaceRevisionView" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeMissing excludeSearch systemConfig" _hash="be83cfafd902bff89908e6f74d71228655be3490" server.content-type="text/javascript" server.permissions="read" server.bag="system-plugins_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-plugins_public" server.etag="&quot;system-plugins_public/TiddlySpaceRevisionView/1521859:4940b6564dac81fb7026f5cbfe13918ce0c8eeff&quot;" server.page.revision="1521859" server.title="TiddlySpaceRevisionView">
<pre>/***
|''Name''|TiddlySpaceRevisionView|
|''Description''|Show tiddler revisions in a stack of cards view|
|''Author''|BenGillies|
|''Version''|0.2.0|
|''Status''|beta|
|''Source''|http://github.com/TiddlySpace/tiddlyspace|
|''CodeRepository''|http://github.com/TiddlySpace/tiddlyspace|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''CoreVersion''|2.6.0|
|''Requires''|TiddlyWebAdaptor|
!Usage
The viewRevisions macro can be attached to any element, which should be passed
in as a parameter.

For example:

&amp;lt;&amp;lt;viewRevisions page:10 link:&quot;&lt;&lt;view modified date&gt;&gt;&quot;&amp;gt;&amp;gt;

would show the revisions &quot;stack of cards&quot; view, 10 at a time, when the modified
date is clicked.
!Code
***/
//{{{
(function($) {

var me = config.macros.viewRevisions = {
	revisionTemplate: &quot;RevisionTemplate&quot;,
	revSuffix: &quot; [rev. #%0]&quot;, // text to append to each tiddler title
	defaultPageSize: 5, // default number of revisions to show
	defaultLinkText: &quot;View Revisions&quot;, // when there's nothing else to use
	offsetTop: 30, // in px
	offsetLeft: 10, // in px
	shiftDownDelay: 50, // in ms
	visibleSlideAmount: 20, // amount of revisions to show on left hand edge after sliding
	zIndex: 100, // default z-index
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		params = paramString.parseParams(null, null, true)[0];
		var tiddlerElem = story.findContainingTiddler(place);

		var revButton;
		var pageSize = parseInt(params.page[0], 10) || me.defaultPageSize;
		var linkObj = params.link ? params.link[0] || me.defaultLinkText : false;
		if(linkObj) {
			revButton = $('&lt;span class=&quot;button openRevisions&quot; /&gt;')
				.appendTo(place);
			wikify(linkObj, revButton[0], null, tiddler);
		} else {
			revButton = place;
		}

		$(revButton).click(function() {
			if (!$(tiddlerElem).hasClass(&quot;revisions&quot;)) {
				me.showRevisions(tiddlerElem, tiddler, pageSize);
			} else {
				me.closeRevisions(tiddlerElem);
			}
		});
	},

	// initialisation for revision view
	showRevisions: function(tiddlerElem, tiddler, pageSize) {
		var context = {
			host: tiddler.fields[&quot;server.host&quot;],
			workspace: tiddler.fields[&quot;server.workspace&quot;]
		};
		$(tiddlerElem).addClass(&quot;revisions&quot;).attr(&quot;revName&quot;, tiddler.title);
		// ensure toolbar commands deactivate RevisionsView
		$(&quot;a&quot;, &quot;.toolbar&quot;, tiddlerElem).each(function(index, btn) {
			var _onclick = btn.onclick;
			btn.onclick = function(e) {
				me.closeRevisions(tiddlerElem);
				_onclick.apply(this, arguments);
			};
		});
		// ensure default action deactivates RevisionsView
		var _ondblclick = tiddlerElem.ondblclick;
		tiddlerElem.ondblclick = function(e) {
			me.closeRevisions(tiddlerElem);
			_ondblclick.apply(this, arguments);
		};
		var type = tiddler.fields[&quot;server.type&quot;];
		var adaptor = new config.adaptors[type]();
		var userParams = {
			tiddlerElem: tiddlerElem,
			pageSize: pageSize,
			title: tiddler.title
		};
		me.createCloak(tiddlerElem);
		adaptor.getTiddlerRevisionList(tiddler.title, null, context, userParams,
				function(context, userParams) {
					// strip the current revision
					context.revisions.shift();
					me.expandStack(context, userParams);
				});
	},

	// fetch the actual revision and put it in the tiddler div
	showRevision: function(place, revision, callback) {
		var context = {
			host: revision.fields[&quot;server.host&quot;],
			workspace: revision.fields[&quot;server.workspace&quot;]
		};
		var userParams = {
			revElem: place
		};
		var type = revision.fields[&quot;server.type&quot;];
		var adaptor = new config.adaptors[type]();
		var revNo = revision.fields[&quot;server.page.revision&quot;];
		adaptor.getTiddlerRevision(revision.title, revNo, context, userParams,
			function(context, userParams) {
				var tiddler = context.tiddler;
				tiddler.title += me.revSuffix
					.format([$(place).attr(&quot;revision&quot;)]);
				tiddler.fields.doNotSave = true;
				if (store.getTiddler(tiddler.title)) {
					store.deleteTiddler(tiddler.title);
				}
				store.addTiddler(tiddler);

				//now, populate the existing div
				var revElem = userParams.revElem;
				$(revElem).attr(&quot;id&quot;, story.tiddlerId(tiddler.title));
				$(revElem).attr(&quot;refresh&quot;, &quot;tiddler&quot;);
				var getTemplate = function() {
					var themeName = config.options.txtTheme;
					if (themeName) {
						return store.getTiddlerSlice(themeName,
							me.revisionTemplate) || me.revisionTemplate ||
							&quot;ViewTemplate&quot;;
					} else {
						return (store.getTiddler(me.revisionTemplate)) ?
							me.revisionTemplate : &quot;ViewTemplate&quot;;
					}
				};
				var template = getTemplate();
				story.refreshTiddler(tiddler.title, template, true);
				callback(tiddler);
			});
	},

	createCloak: function(promoteElem) {
		var el = $(promoteElem);
		// cache styles for resetting later
		el.data({
			top: el.css(&quot;top&quot;),
			left: el.css(&quot;left&quot;),
			zIndex: el.css(&quot;z-index&quot;)
		});

		$('&lt;div class=&quot;revisionCloak&quot; /&gt;').css(&quot;z-index&quot;, me.zIndex)
			.click(function() {
				me.closeRevisions(promoteElem);
			})
			.appendTo(document.body);

		el.css(&quot;z-index&quot;, me.zIndex + 1);
	},

	// clean up, removing all evidence of revision view
	closeRevisions: function(promoteElem) {
		var el = $(promoteElem);
		// revert the original tiddler back to its previous state
		el.removeAttr(&quot;revName&quot;).removeClass(&quot;revisions&quot;).css({
			top: el.data(&quot;top&quot;),
			left: el.data(&quot;left&quot;),
			zIndex: el.data(&quot;zIndex&quot;)
		});

		// remove any revisions still in the store
		var revisions = $(&quot;.revisions&quot;);
		revisions.each(function(index, revision) {
			var revAttributes = revision.attributes;
			if ((revAttributes.revname) &amp;&amp;
					(revAttributes.revision)) {
				var revName = revAttributes.revname.value;
				var revNo = revAttributes.revision.value;
				var title = revName + me.revSuffix.format([revNo]);

				if (store.getTiddler(title)) {
					store.deleteTiddler(title);
				}
			}
		});

		// delete the previous revisions
		revisions.remove();

		// remove the cloak
		$(&quot;.revisionCloak&quot;).remove();
	},

	// calback from getting list of revisions
	expandStack: function(context, userParams) {
		var pageSize = userParams.pageSize;

		var from = userParams.from || 0;
		var tiddlerElem = userParams.tiddlerElem;

		userParams.defaultHeight = $(tiddlerElem).height();
		userParams.defaultWidth = $(tiddlerElem).width();
		if (from &lt; context.revisions.length) {
			me.displayNextRevision(tiddlerElem, userParams, context, from,
				from + pageSize - 1);
		}
	},

	// place the next div above and behind the previous one
	displayNextRevision: function(tiddlerElem, userParams, context, from, to) {
		var revision = context.revisions[from];
		var callback = function() {
			var revText = revBtn.getRevisionText(tiddlerElem, revision);
			tiddlerElem = me.createRevisionObject(tiddlerElem, context,
				userParams, revText);
			$(tiddlerElem)
				.attr(&quot;revision&quot;, (context.revisions.length - from));
			if ((from &lt; to) &amp;&amp; ((from + 1) &lt; context.revisions.length)){
				me.displayNextRevision(tiddlerElem, userParams, context,
					from + 1, to);
			} else if ((context.revisions.length - 1) &gt; to) {
				me.showMoreButton(tiddlerElem, context, userParams, to + 1);
			}
		};
		me.shiftVisibleDown(userParams.title, callback);
	},

	createRevisionObject: function(tiddlerElem, context, userParams, text) {
		var newPosition = me.calculatePosition(tiddlerElem, context);
		return $('&lt;div class=&quot;revisions tiddler&quot; /&gt;')
			.css({
				position: &quot;absolute&quot;,
				top: newPosition.top,
				left: newPosition.left,
				&quot;z-index&quot;: me.zIndex + 1,
				height: userParams.defaultHeight,
				width: userParams.defaultWidth
			})
			.attr(&quot;revName&quot;, userParams.title)
			.append(text)
			.insertBefore(tiddlerElem);
	},

	// move the already present revisions down by 1 to fit the next one in
	shiftVisibleDown: function(title, callback) {
		var revisions = $(&quot;[revName='%0'].revisions&quot;.format([title]));
		var revisionCount = revisions.length;

		$(revisions).animate({top: &quot;+=&quot; + me.offsetTop},
				me.shiftDownDelay, function() {
					revisionCount -= 1;
					if ((callback) &amp;&amp; (!revisionCount)) {
						callback();
					}
				});
	},

	// where we put the new revision
	calculatePosition: function(elem, context) {
		var offset = $(elem).offset();
		var currentPosition = $(elem).position();
		var newPosition = {
			top: currentPosition.top - me.offsetTop
		};
		if ((context.restrictLeft) ||
				((offset.left - me.offsetLeft) &lt;
				$(&quot;#contentWrapper&quot;).offset().left)) {
			newPosition.left = $(elem).position().left;
			context.restrictLeft = true;
		} else {
			newPosition.left = currentPosition.left - me.offsetLeft;
		}
		return newPosition;
	},

	// equivalent of displayNextRevision, but for the more button
	showMoreButton: function(tiddlerElem, context, userParams, moreIndex) {
		userParams.from = moreIndex + 1;
		me.shiftVisibleDown(userParams.title, function() {
			var btn = me.createRevisionObject(tiddlerElem, context, userParams,
				&quot;&quot;);

			var more = createTiddlyButton(btn[0], &quot;more...&quot;, &quot;show more revisions&quot;,
				function() {
					if ($(&quot;.viewRevision&quot;).length) {
						return;
					}
					userParams.tiddlerElem = btn[0];
					$(btn).text(&quot;&quot;)
						.append(revBtn
							.getRevisionText(btn[0], context.revisions[moreIndex]))
						.attr(&quot;revision&quot;, context.revisions.length - moreIndex);
					me.expandStack(context, userParams);
				});
			$(more).css(&quot;float&quot;, &quot;right&quot;);
		});
	},

	stripRevFromTitle: function(revisionTitle) {
		return revisionTitle.split(/ ?\[rev\. #[0-9]+\]$/)[0];
	},

	onClickRevision: function(revElem, revision, callback) {
		// don't do anything if we are still loading
		if ($(&quot;.revisions&quot;).hasClass(&quot;loading&quot;)) {
			return null;
		}

		var origTitle = me.stripRevFromTitle(revision.title);
		if ($(revElem).hasClass(&quot;viewRevision&quot;)) {
			$(&quot;.revisions&quot;).addClass(&quot;loading&quot;);
			me.slideIn(revElem, revision, origTitle, function() {
				store.deleteTiddler(revision.title);
				revision.title = origTitle;
				$(revElem).text(&quot;&quot;).append(revBtn.getRevisionText(revElem,
						revision))
					.removeAttr(&quot;tags&quot;).removeAttr(&quot;tiddler&quot;)
					.removeAttr(&quot;refresh&quot;).removeAttr(&quot;template&quot;)
					.removeAttr(&quot;id&quot;);
				$(&quot;.revisions&quot;).removeClass(&quot;loading&quot;);
				if (callback) {
					callback();
				}
			});
			$(revElem).removeAttr(&quot;prevPos&quot;).removeClass(&quot;viewRevision&quot;);
		} else {
			var viewRevision = function() {
				var prevPos = $(revElem).position().left;
				$(revElem).addClass(&quot;viewRevision&quot;).attr(&quot;prevPos&quot;, prevPos);
				$(&quot;.revisions&quot;).addClass(&quot;loading&quot;);
				me.showRevision(revElem, revision, function(rev) {
					me.slideOut(revElem, rev, origTitle, function() {
						$(&quot;.revisions&quot;).removeClass(&quot;loading&quot;);
					});
				});
			};
			// make sure another revision isn't already out
			if ($(&quot;.viewRevision&quot;).length) {
				var newRevElem = $(&quot;.viewRevision&quot;)[0];
				var newRevision = store.getTiddler($(newRevElem)
					.attr(&quot;tiddler&quot;));
				me.onClickRevision(newRevElem, newRevision, viewRevision);
			} else {
				viewRevision();
			}
		}
	},

	slideOut: function(revElem, revision, title, callback) {
		var leftMostPos = $(&quot;[revName='%0'].revisions&quot;.format([title]))
			.offset().left;
		var width = $(revElem).width();
		var originalLeftPos = $(story.getTiddler(title))
			.position().left;

		var slideAmount = leftMostPos + width - me.visibleSlideAmount;
		$(&quot;[revName='%0'].revisions:not(.viewRevision)&quot;.format([title]))
			.animate({left: &quot;-=&quot; + slideAmount}, 1000);
		$(revElem)
			.attr(&quot;baseHeight&quot;, $(revElem).css(&quot;height&quot;))
			.css(&quot;height&quot;, &quot;auto&quot;)
			.animate({left: originalLeftPos}, 1000, callback);
	},

	slideIn: function(revElem, revision, title, callback) {
		var slideAmount = $(revElem).offset().left -
			$(story.getTiddler(title)).offset().left;
		var origRevPos = $(revElem).attr(&quot;prevPos&quot;);

		$(&quot;[revName='%0'].revisions:not(.viewRevision)&quot;.format([title]))
			.animate({left: &quot;+=&quot; + slideAmount}, 1000);
		$(revElem).animate({left: origRevPos}, 1000, function() {
			$(revElem)
				.css(&quot;height&quot;, $(revElem).attr(&quot;baseHeight&quot;))
				.removeAttr(&quot;baseHeight&quot;);
			callback();
		});
	}
};

var revBtn;
config.macros.slideRevision = revBtn = {
	btnText: &quot;created by %0 at %1 on %2&quot;,
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		var btn = revBtn.getRevisionText(place, tiddler);
		$(place).append(btn);
	},

	getRevisionText: function(place, revision) {
		var text = revBtn.btnText.format([revision.modifier,
			revision.modified.formatString(&quot;0hh:0mm&quot;),
			revision.modified.formatString(&quot;0DD MMM YYYY&quot;)]);
		var btn = $('&lt;a href=&quot;javascript:;&quot; class=&quot;button revButton&quot; /&gt;')
			.text(text)
			.click(function() {
				var revElem = story.findContainingTiddler(this);
				me.onClickRevision(revElem, revision);
			});
		return btn;
	}
};

})(jQuery);
//}}}</pre>
</div>
<div title="TiddlySpaceSanitizer" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch systemConfig" _hash="4e7490026802a699cc23155cd88b09a2cce3fb87" server.content-type="text/javascript" server.permissions="read" server.bag="system-plugins_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-plugins_public" server.etag="&quot;system-plugins_public/TiddlySpaceSanitizer/1521866:ff1b0bd7325fd8396f31cb2bcea4c3c8048933f6&quot;" server.page.revision="1521866" server.title="TiddlySpaceSanitizer">
<pre>/***
|''Description''|Sanitisation for dynamically pulling tiddlers into your space and displaying them|
!Notes
Works both inside and outside TiddlyWiki. Uses the HTML Sanitizer provided by the Google Caja project
(see http://code.google.com/p/google-caja/wiki/JsHtmlSanitizer for more on this), which is licensed under
an Apache License (see http://www.apache.org/licenses/LICENSE-2.0).
!Code
***/
//{{{
(function($) {

var cleanURL = function(url) {
	var regexp = /^(?:http|https|mailto|ftp|irc|news):\/\//;
	return (regexp.test(url)) ? url : null;
};

$.sanitize = function(html) {
	return html_sanitize(html, cleanURL);
};

/*
 * HTML Sanitizer, provided by Google Caja
 */

/* Copyright Google Inc.
 * Licensed under the Apache Licence Version 2.0
 * Autogenerated at Tue May 17 17:39:24 BST 2011
 * @provides html4
 */var html4={};html4.atype={NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10},html4.ATTRIBS={&quot;*::class&quot;:9,&quot;*::dir&quot;:0,&quot;*::id&quot;:4,&quot;*::lang&quot;:0,&quot;*::onclick&quot;:2,&quot;*::ondblclick&quot;:2,&quot;*::onkeydown&quot;:2,&quot;*::onkeypress&quot;:2,&quot;*::onkeyup&quot;:2,&quot;*::onload&quot;:2,&quot;*::onmousedown&quot;:2,&quot;*::onmousemove&quot;:2,&quot;*::onmouseout&quot;:2,&quot;*::onmouseover&quot;:2,&quot;*::onmouseup&quot;:2,&quot;*::style&quot;:3,&quot;*::title&quot;:0,&quot;a::accesskey&quot;:0,&quot;a::coords&quot;:0,&quot;a::href&quot;:1,&quot;a::hreflang&quot;:0,&quot;a::name&quot;:7,&quot;a::onblur&quot;:2,&quot;a::onfocus&quot;:2,&quot;a::rel&quot;:0,&quot;a::rev&quot;:0,&quot;a::shape&quot;:0,&quot;a::tabindex&quot;:0,&quot;a::target&quot;:10,&quot;a::type&quot;:0,&quot;area::accesskey&quot;:0,&quot;area::alt&quot;:0,&quot;area::coords&quot;:0,&quot;area::href&quot;:1,&quot;area::nohref&quot;:0,&quot;area::onblur&quot;:2,&quot;area::onfocus&quot;:2,&quot;area::shape&quot;:0,&quot;area::tabindex&quot;:0,&quot;area::target&quot;:10,&quot;bdo::dir&quot;:0,&quot;blockquote::cite&quot;:1,&quot;br::clear&quot;:0,&quot;button::accesskey&quot;:0,&quot;button::disabled&quot;:0,&quot;button::name&quot;:8,&quot;button::onblur&quot;:2,&quot;button::onfocus&quot;:2,&quot;button::tabindex&quot;:0,&quot;button::type&quot;:0,&quot;button::value&quot;:0,&quot;canvas::height&quot;:0,&quot;canvas::width&quot;:0,&quot;caption::align&quot;:0,&quot;col::align&quot;:0,&quot;col::char&quot;:0,&quot;col::charoff&quot;:0,&quot;col::span&quot;:0,&quot;col::valign&quot;:0,&quot;col::width&quot;:0,&quot;colgroup::align&quot;:0,&quot;colgroup::char&quot;:0,&quot;colgroup::charoff&quot;:0,&quot;colgroup::span&quot;:0,&quot;colgroup::valign&quot;:0,&quot;colgroup::width&quot;:0,&quot;del::cite&quot;:1,&quot;del::datetime&quot;:0,&quot;dir::compact&quot;:0,&quot;div::align&quot;:0,&quot;dl::compact&quot;:0,&quot;font::color&quot;:0,&quot;font::face&quot;:0,&quot;font::size&quot;:0,&quot;form::accept&quot;:0,&quot;form::action&quot;:1,&quot;form::autocomplete&quot;:0,&quot;form::enctype&quot;:0,&quot;form::method&quot;:0,&quot;form::name&quot;:7,&quot;form::onreset&quot;:2,&quot;form::onsubmit&quot;:2,&quot;form::target&quot;:10,&quot;h1::align&quot;:0,&quot;h2::align&quot;:0,&quot;h3::align&quot;:0,&quot;h4::align&quot;:0,&quot;h5::align&quot;:0,&quot;h6::align&quot;:0,&quot;hr::align&quot;:0,&quot;hr::noshade&quot;:0,&quot;hr::size&quot;:0,&quot;hr::width&quot;:0,&quot;iframe::align&quot;:0,&quot;iframe::frameborder&quot;:0,&quot;iframe::height&quot;:0,&quot;iframe::marginheight&quot;:0,&quot;iframe::marginwidth&quot;:0,&quot;iframe::width&quot;:0,&quot;img::align&quot;:0,&quot;img::alt&quot;:0,&quot;img::border&quot;:0,&quot;img::height&quot;:0,&quot;img::hspace&quot;:0,&quot;img::ismap&quot;:0,&quot;img::name&quot;:7,&quot;img::src&quot;:1,&quot;img::usemap&quot;:11,&quot;img::vspace&quot;:0,&quot;img::width&quot;:0,&quot;input::accept&quot;:0,&quot;input::accesskey&quot;:0,&quot;input::align&quot;:0,&quot;input::alt&quot;:0,&quot;input::autocomplete&quot;:0,&quot;input::checked&quot;:0,&quot;input::disabled&quot;:0,&quot;input::ismap&quot;:0,&quot;input::maxlength&quot;:0,&quot;input::name&quot;:8,&quot;input::onblur&quot;:2,&quot;input::onchange&quot;:2,&quot;input::onfocus&quot;:2,&quot;input::onselect&quot;:2,&quot;input::readonly&quot;:0,&quot;input::size&quot;:0,&quot;input::src&quot;:1,&quot;input::tabindex&quot;:0,&quot;input::type&quot;:0,&quot;input::usemap&quot;:11,&quot;input::value&quot;:0,&quot;ins::cite&quot;:1,&quot;ins::datetime&quot;:0,&quot;label::accesskey&quot;:0,&quot;label::for&quot;:5,&quot;label::onblur&quot;:2,&quot;label::onfocus&quot;:2,&quot;legend::accesskey&quot;:0,&quot;legend::align&quot;:0,&quot;li::type&quot;:0,&quot;li::value&quot;:0,&quot;map::name&quot;:7,&quot;menu::compact&quot;:0,&quot;ol::compact&quot;:0,&quot;ol::start&quot;:0,&quot;ol::type&quot;:0,&quot;optgroup::disabled&quot;:0,&quot;optgroup::label&quot;:0,&quot;option::disabled&quot;:0,&quot;option::label&quot;:0,&quot;option::selected&quot;:0,&quot;option::value&quot;:0,&quot;p::align&quot;:0,&quot;pre::width&quot;:0,&quot;q::cite&quot;:1,&quot;select::disabled&quot;:0,&quot;select::multiple&quot;:0,&quot;select::name&quot;:8,&quot;select::onblur&quot;:2,&quot;select::onchange&quot;:2,&quot;select::onfocus&quot;:2,&quot;select::size&quot;:0,&quot;select::tabindex&quot;:0,&quot;table::align&quot;:0,&quot;table::bgcolor&quot;:0,&quot;table::border&quot;:0,&quot;table::cellpadding&quot;:0,&quot;table::cellspacing&quot;:0,&quot;table::frame&quot;:0,&quot;table::rules&quot;:0,&quot;table::summary&quot;:0,&quot;table::width&quot;:0,&quot;tbody::align&quot;:0,&quot;tbody::char&quot;:0,&quot;tbody::charoff&quot;:0,&quot;tbody::valign&quot;:0,&quot;td::abbr&quot;:0,&quot;td::align&quot;:0,&quot;td::axis&quot;:0,&quot;td::bgcolor&quot;:0,&quot;td::char&quot;:0,&quot;td::charoff&quot;:0,&quot;td::colspan&quot;:0,&quot;td::headers&quot;:6,&quot;td::height&quot;:0,&quot;td::nowrap&quot;:0,&quot;td::rowspan&quot;:0,&quot;td::scope&quot;:0,&quot;td::valign&quot;:0,&quot;td::width&quot;:0,&quot;textarea::accesskey&quot;:0,&quot;textarea::cols&quot;:0,&quot;textarea::disabled&quot;:0,&quot;textarea::name&quot;:8,&quot;textarea::onblur&quot;:2,&quot;textarea::onchange&quot;:2,&quot;textarea::onfocus&quot;:2,&quot;textarea::onselect&quot;:2,&quot;textarea::readonly&quot;:0,&quot;textarea::rows&quot;:0,&quot;textarea::tabindex&quot;:0,&quot;tfoot::align&quot;:0,&quot;tfoot::char&quot;:0,&quot;tfoot::charoff&quot;:0,&quot;tfoot::valign&quot;:0,&quot;th::abbr&quot;:0,&quot;th::align&quot;:0,&quot;th::axis&quot;:0,&quot;th::bgcolor&quot;:0,&quot;th::char&quot;:0,&quot;th::charoff&quot;:0,&quot;th::colspan&quot;:0,&quot;th::headers&quot;:6,&quot;th::height&quot;:0,&quot;th::nowrap&quot;:0,&quot;th::rowspan&quot;:0,&quot;th::scope&quot;:0,&quot;th::valign&quot;:0,&quot;th::width&quot;:0,&quot;thead::align&quot;:0,&quot;thead::char&quot;:0,&quot;thead::charoff&quot;:0,&quot;thead::valign&quot;:0,&quot;tr::align&quot;:0,&quot;tr::bgcolor&quot;:0,&quot;tr::char&quot;:0,&quot;tr::charoff&quot;:0,&quot;tr::valign&quot;:0,&quot;ul::compact&quot;:0,&quot;ul::type&quot;:0},html4.eflags={OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128},html4.ELEMENTS={a:0,abbr:0,acronym:0,address:0,applet:16,area:2,b:0,base:18,basefont:18,bdo:0,big:0,blockquote:0,body:49,br:2,button:0,canvas:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,dd:1,del:0,dfn:0,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,font:0,form:0,frame:18,frameset:16,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:49,hr:2,html:49,i:0,iframe:4,img:2,input:2,ins:0,isindex:18,kbd:0,label:0,legend:0,li:1,link:18,map:0,menu:0,meta:18,nobr:0,noframes:20,noscript:20,object:16,ol:0,optgroup:0,option:1,p:1,param:18,pre:0,q:0,s:0,samp:0,script:84,select:0,small:0,span:0,strike:0,strong:0,style:148,sub:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,title:24,tr:1,tt:0,u:0,ul:0,&quot;var&quot;:0},html4.ueffects={NOT_LOADED:0,SAME_DOCUMENT:1,NEW_DOCUMENT:2},html4.URIEFFECTS={&quot;a::href&quot;:2,&quot;area::href&quot;:2,&quot;blockquote::cite&quot;:0,&quot;body::background&quot;:1,&quot;del::cite&quot;:0,&quot;form::action&quot;:2,&quot;img::src&quot;:1,&quot;input::src&quot;:1,&quot;ins::cite&quot;:0,&quot;q::cite&quot;:0},html4.ltypes={UNSANDBOXED:2,SANDBOXED:1,DATA:0},html4.LOADERTYPES={&quot;a::href&quot;:2,&quot;area::href&quot;:2,&quot;blockquote::cite&quot;:2,&quot;body::background&quot;:1,&quot;del::cite&quot;:2,&quot;form::action&quot;:2,&quot;img::src&quot;:1,&quot;input::src&quot;:1,&quot;ins::cite&quot;:2,&quot;q::cite&quot;:2};var html=function(a){function x(b,c,d){var e=[];w(function(b,e){for(var f=0;f&lt;e.length;f+=2){var g=e[f],h=e[f+1],i=null,j;if((j=b+&quot;::&quot;+g,a.ATTRIBS.hasOwnProperty(j))||(j=&quot;*::&quot;+g,a.ATTRIBS.hasOwnProperty(j)))i=a.ATTRIBS[j];if(i!==null)switch(i){case a.atype.NONE:break;case a.atype.SCRIPT:case a.atype.STYLE:h=null;break;case a.atype.ID:case a.atype.IDREF:case a.atype.IDREFS:case a.atype.GLOBAL_NAME:case a.atype.LOCAL_NAME:case a.atype.CLASSES:h=d?d(h):h;break;case a.atype.URI:h=c&amp;&amp;c(h);break;case a.atype.URI_FRAGMENT:h&amp;&amp;&quot;#&quot;===h.charAt(0)?(h=d?d(h):h,h&amp;&amp;(h=&quot;#&quot;+h)):h=null;break;default:h=null}else h=null;e[f+1]=h}return e})(b,e);return e.join(&quot;&quot;)}function w(b){var c,d;return v({startDoc:function(a){c=[],d=!1},startTag:function(e,f,g){if(!d){if(!a.ELEMENTS.hasOwnProperty(e))return;var h=a.ELEMENTS[e];if(h&amp;a.eflags.FOLDABLE)return;if(h&amp;a.eflags.UNSAFE){d=!(h&amp;a.eflags.EMPTY);return}f=b(e,f);if(f){h&amp;a.eflags.EMPTY||c.push(e),g.push(&quot;&lt;&quot;,e);for(var i=0,j=f.length;i&lt;j;i+=2){var k=f[i],l=f[i+1];l!==null&amp;&amp;l!==void 0&amp;&amp;g.push(&quot; &quot;,k,'=&quot;',r(l),'&quot;')}g.push(&quot;&gt;&quot;)}}},endTag:function(b,e){if(d)d=!1;else{if(!a.ELEMENTS.hasOwnProperty(b))return;var f=a.ELEMENTS[b];if(!(f&amp;(a.eflags.UNSAFE|a.eflags.EMPTY|a.eflags.FOLDABLE))){var g;if(f&amp;a.eflags.OPTIONAL_ENDTAG)for(g=c.length;--g&gt;=0;){var h=c[g];if(h===b)break;if(!(a.ELEMENTS[h]&amp;a.eflags.OPTIONAL_ENDTAG))return}else for(g=c.length;--g&gt;=0;)if(c[g]===b)break;if(g&lt;0)return;for(var i=c.length;--i&gt;g;){var h=c[i];a.ELEMENTS[h]&amp;a.eflags.OPTIONAL_ENDTAG||e.push(&quot;&lt;/&quot;,h,&quot;&gt;&quot;)}c.length=g,e.push(&quot;&lt;/&quot;,b,&quot;&gt;&quot;)}}},pcdata:function(a,b){d||b.push(a)},rcdata:function(a,b){d||b.push(a)},cdata:function(a,b){d||b.push(a)},endDoc:function(a){for(var b=c.length;--b&gt;=0;)a.push(&quot;&lt;/&quot;,c[b],&quot;&gt;&quot;);c.length=0}})}function v(c){return function(d,e){d=String(d);var f=null,g=!1,h=[],j=void 0,l=void 0,m=void 0;c.startDoc&amp;&amp;c.startDoc(e);while(d){var n=d.match(g?t:u);d=d.substring(n[0].length);if(g){if(n[1]){var o=b(n[1]),p;if(n[2]){var q=n[3];switch(q.charCodeAt(0)){case 34:case 39:q=q.substring(1,q.length-1)}p=k(i(q))}else p=o;h.push(o,p)}else if(n[4]){l!==void 0&amp;&amp;(m?c.startTag&amp;&amp;c.startTag(j,h,e):c.endTag&amp;&amp;c.endTag(j,e));if(m&amp;&amp;l&amp;(a.eflags.CDATA|a.eflags.RCDATA)){f===null?f=b(d):f=f.substring(f.length-d.length);var r=f.indexOf(&quot;&lt;/&quot;+j);r&lt;0&amp;&amp;(r=d.length),l&amp;a.eflags.CDATA?c.cdata&amp;&amp;c.cdata(d.substring(0,r),e):c.rcdata&amp;&amp;c.rcdata(s(d.substring(0,r)),e),d=d.substring(r)}j=l=m=void 0,h.length=0,g=!1}}else if(n[1])c.pcdata&amp;&amp;c.pcdata(n[0],e);else if(n[3])m=!n[2],g=!0,j=b(n[3]),l=a.ELEMENTS.hasOwnProperty(j)?a.ELEMENTS[j]:void 0;else if(n[4])c.pcdata&amp;&amp;c.pcdata(n[4],e);else if(n[5]&amp;&amp;c.pcdata)switch(n[5]){case&quot;&lt;&quot;:c.pcdata(&quot;&amp;lt;&quot;,e);break;case&quot;&gt;&quot;:c.pcdata(&quot;&amp;gt;&quot;,e);break;default:c.pcdata(&quot;&amp;amp;&quot;,e)}}c.endDoc&amp;&amp;c.endDoc(e)}}function s(a){return a.replace(m,&quot;&amp;amp;$1&quot;).replace(n,&quot;&amp;lt;&quot;).replace(o,&quot;&amp;gt;&quot;)}function r(a){return a.replace(l,&quot;&amp;amp;&quot;).replace(n,&quot;&amp;lt;&quot;).replace(o,&quot;&amp;gt;&quot;).replace(p,&quot;&amp;#34;&quot;).replace(q,&quot;&amp;#61;&quot;)}function k(a){return a.replace(j,g)}function i(a){return a.replace(h,&quot;&quot;)}function g(a,b){return f(b)}function f(a){a=b(a);if(c.hasOwnProperty(a))return c[a];var f=a.match(d);if(f)return String.fromCharCode(parseInt(f[1],10));if(!!(f=a.match(e)))return String.fromCharCode(parseInt(f[1],16));return&quot;&quot;}var b;&quot;script&quot;===&quot;SCRIPT&quot;.toLowerCase()?b=function(a){return a.toLowerCase()}:b=function(a){return a.replace(/[A-Z]/g,function(a){return String.fromCharCode(a.charCodeAt(0)|32)})};var c={lt:&quot;&lt;&quot;,gt:&quot;&gt;&quot;,amp:&quot;&amp;&quot;,nbsp:&quot;240&quot;,quot:'&quot;',apos:&quot;'&quot;},d=/^#(\d+)$/,e=/^#x([0-9A-Fa-f]+)$/,h=/\0/g,j=/&amp;(#\d+|#x[0-9A-Fa-f]+|\w+);/g,l=/&amp;/g,m=/&amp;([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,n=/&lt;/g,o=/&gt;/g,p=/\&quot;/g,q=/\=/g,t=new RegExp(&quot;^\\s*(?:(?:([a-z][a-z-]*)(\\s*=\\s*(\&quot;[^\&quot;]*\&quot;|'[^']*'|(?=[a-z][a-z-]*\\s*=)|[^&gt;\&quot;'\\s]*))?)|(/?&gt;)|[\\s\\S][^a-z\\s&gt;]*)&quot;,&quot;i&quot;),u=new RegExp(&quot;^(?:&amp;(\\#[0-9]+|\\#[x][0-9a-f]+|\\w+);|&lt;!--[\\s\\S]*?--&gt;|&lt;!\\w[^&gt;]*&gt;|&lt;\\?[^&gt;*]*&gt;|&lt;(/)?([a-z][a-z0-9]*)|([^&lt;&amp;&gt;]+)|([&lt;&amp;&gt;]))&quot;,&quot;i&quot;);return{escapeAttrib:r,makeHtmlSanitizer:w,makeSaxParser:v,normalizeRCData:s,sanitize:x,unescapeEntities:k}}(html4),html_sanitize=html.sanitize

// stop here if we're not in TiddlyWiki
// XXX: is this the correct way of checking for TiddlyWiki?
if (!window.TiddlyWiki || !window.store || !store instanceof TiddlyWiki) {
	return;
}

var tiddlyspace = config.extensions.tiddlyspace;

var _subWikify = Wikifier.prototype.subWikify;

var cleanedTitle = 'This section has been cleaned of any potentially harmful code';

var replaceFunctions = {
	html: function(w) {
		var sanitizedHTML, spanEl;
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart) {
			sanitizedHTML = $.sanitize(lookaheadMatch[1]);
			spanEl = createTiddlyElement(w.output, 'span', null, 'sanitized');
			spanEl.innerHTML = sanitizedHTML;
			spanEl.setAttribute('title', cleanedTitle);
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	},
	customFormat: function(w) {
		switch(w.matchText) {
			case '@@':
				var e = createTiddlyElement(w.output, 'span');
				var styles = config.formatterHelpers.inlineCssHelper(w);
				if (styles.length === 0) {
					e.className = 'marked';
				}
				w.subWikifyTerm(e, /(@@)/mg);
				break;
			case '{{':
				var lookaheadRegExp = /\{\{[\s]*([\w]+[\s\w]*)[\s]*\{(\n?)/mg;
				lookaheadRegExp.lastIndex = w.matchStart;
				var lookaheadMatch = lookaheadRegExp.exec(w.source);
				if(lookaheadMatch) {
					w.nextMatch = lookaheadRegExp.lastIndex;
					e = createTiddlyElement(w.output,lookaheadMatch[2] == &quot;\n&quot; ? &quot;div&quot; : &quot;span&quot;,null,lookaheadMatch[1]);
					w.subWikifyTerm(e,/(\}\}\})/mg);
				}
				break;
		}
	}
};

Wikifier.prototype.subWikify = function(output, terminator) {
	var tid = this.tiddler,
		spaceName = tiddlyspace.currentSpace.name,
		tidSpace, recipeName, stripped;
	try {
		recipeName = tid.fields['server.recipe'] ||
			tid.fields['server.workspace'];
		tidSpace = tiddlyspace.resolveSpaceName(recipeName);
		if (tidSpace !== spaceName) {
			// external tiddler, so replace dangerous formatters
			stripped = stripHTML(tid, this.formatter);
		}
	} catch(e) {
		// do nothing. There's no tiddler, so assume it's safe (?!?!?)
	}

	_subWikify.apply(this, arguments);

	if (stripped) {
		// change back to the original function
		unstripHTML(stripped, this.formatter);
	}
};

// replace potentially unsafe formatters with versions that strip bad HTML/CSS
var stripHTML = function(tid, formatter) {
	var popped = {}, _handler;
	for (var i = 0; i &lt; formatter.formatters.length; i++) {
		var f = formatter.formatters[i];
		if (replaceFunctions[f.name]) {
			_handler = f.handler;
			popped[f.name] = _handler;
			f.handler = replaceFunctions[f.name];
		}
	};

	return popped;
};

// put the original formatters back where they belong
var unstripHTML = function(stripped, formatter) {
	for (var i = 0; i &lt; formatter.formatters.length; i++) {
		var f = formatter.formatters[i];
		if (stripped[f.name]) {
			f.handler = stripped[f.name];
		}
	};
};

})(jQuery);
//}}}</pre>
</div>
<div title="TiddlySpaceSearcher" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch systemConfig" _hash="e3762c200fa4b897f6e7bbb9e0e7d83f860a89a5" server.content-type="text/javascript" server.permissions="read" server.bag="tiddlyspace" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" server.etag="&quot;tiddlyspace/TiddlySpaceSearcher/1521908:6b45d5dadedbb5c9ccece7bcc3f0f23d94b4d5bc&quot;" server.page.revision="1521908" server.title="TiddlySpaceSearcher">
<pre>/***
|''Name''|TiddlySpaceSearcher|
|''Version''|0.2.5|
|''Requires''|TiddlySpaceConfig TiddlySpaceFollowingPlugin|
***/
//{{{
(function($) {
var tiddlyspace = config.extensions.tiddlyspace;
var tsScan = config.macros.tsScan;

config.shadowTiddlers.SearchTemplate = &quot;&lt;&lt;view server.bag SiteIcon label:no width:24 height:24 preserveAspectRatio:yes&gt;&gt; &lt;&lt;view server.bag spaceLink title external:no&gt;&gt; in space &lt;&lt;view server.bag spaceLink&gt;&gt;&quot;;
config.shadowTiddlers.StyleSheetSearch = [&quot;.resultsArea .siteIcon { display: inline; }&quot;,
	&quot;.searchForm {text-align: left;}&quot;].join(&quot;\n&quot;);
store.addNotification(&quot;StyleSheetSearch&quot;, refreshStyles);

var search = config.macros.tsSearch = {
	locale: {
		advanced: &quot;Advanced Options&quot;,
		header: &quot;Search&quot;,
		resultsHeader: &quot;Results (%0)&quot;,
		find: &quot;find&quot;,
		noResults: &quot;No tiddlers matched your search query&quot;,
		query: &quot;QUERY: &quot;,
		error: &quot;please provide a search query or a tag, modifier or title!&quot;,
		titleAdvanced: &quot;where the title is&quot;,
		modifierAdvanced: &quot;where the last modifier is&quot;,
		spaceAdvanced: &quot;only in the space: &quot;,
		notspaceAdvanced: &quot;but not in the spaces: &quot;,
		tagsAdvanced: &quot;with the tags: &quot;
	},
	andConstructor: function(container, label, fieldname, negationMode) {
		var tags = $(&quot;&lt;div /&gt;&quot;).appendTo(container);
		$('&lt;span /&gt;').text(label).appendTo(tags);
		var id = &quot;area&quot; + Math.random();
		container = $(&quot;&lt;span /&gt;&quot;).attr(&quot;id&quot;, id).appendTo(tags)[0];
		function add(container) {
			var el = $('&lt;input type=&quot;text&quot; /&gt;').attr(&quot;field&quot;, fieldname).appendTo(container);
			if(negationMode) {
				el.attr(&quot;negation&quot;, &quot;true&quot;);
			}
		}
		add(container);
		var el = $(&quot;&lt;button /&gt;&quot;).text(&quot;AND&quot;).click(function(ev) {
			add($(ev.target).data(&quot;container&quot;));
			ev.preventDefault();
		}).appendTo(tags);
		$(el).data(&quot;container&quot;, container);
	},
	fieldConstructor: function(container, label, field) {
		container = $(&quot;&lt;div /&gt;&quot;).appendTo(container)[0];
		$(&quot;&lt;span /&gt;&quot;).text(label).appendTo(container);
		$(&quot;&lt;input /&gt;&quot;).attr(&quot;text&quot;, &quot;input&quot;).attr(&quot;field&quot;, field).appendTo(container);
	},
	advancedOptions: function(form) {
		var locale = search.locale;
		var container = $(&quot;&lt;div /&gt;&quot;).addClass(&quot;tsAdvancedOptions&quot;).appendTo(form)[0];
		$(&quot;&lt;h2/ &gt;&quot;).text(search.locale.advanced).appendTo(container);
		$(&quot;&lt;div /&gt;&quot;).addClass(&quot;separator&quot;).appendTo(container);
		search.fieldConstructor(container, locale.titleAdvanced, &quot;title&quot;);
		search.fieldConstructor(container, locale.modifierAdvanced, &quot;modifier&quot;);
		search.fieldConstructor(container, locale.spaceAdvanced, &quot;space&quot;);
		search.andConstructor(container, locale.notspaceAdvanced, &quot;space&quot;, true);
		search.andConstructor(container, locale.tagsAdvanced, &quot;tag&quot;);
	},
	constructSearchQuery: function(form) {
		var data = [], select = [];
		var query = $(&quot;[name=q]&quot;, form).val();
		if(query) {
			data.push(&quot;q=%0&quot;.format(query));
		}

		// add tags, fields etc..
		$(&quot;[field]&quot;, form).each(function(i, el) {
			var val = $(el).val();
			var name = $(el).attr(&quot;field&quot;);
			var negate = $(el).attr(&quot;negation&quot;) == &quot;true&quot;;
			if(val &amp;&amp; name) {
				val = encodeURIComponent(val);
				val = negate ? &quot;!&quot; + val : val;
				if(name == &quot;space&quot;) {
					val += &quot;_public&quot;;
					name = &quot;bag&quot;;
				}
				if(negate) {
					select.push(&quot;select=%0:%1&quot;.format(name,val));
				} else {
					var prefix = data.length === 0 ? &quot;q=&quot; : &quot;&quot;;
					data.push('%0%1:&quot;%2&quot;'.format(prefix, name, val));
				}
			}
		});
		var dataString = data.join(&quot; &quot;);
		if(dataString.length === 0 &amp;&amp; !query) {
			return false;
		}
		var selectStatement = select.join(&quot;&amp;&quot;);
		if(dataString.length &gt; 0 &amp;&amp; selectStatement.length &gt; 0) {
			dataString += &quot;&amp;&quot;;
		}
		dataString += selectStatement;
		return &quot;/search?%0&quot;.format(dataString);
	},
	constructForm: function(place) {
		var locale = search.locale;
		$(&quot;&lt;h1 /&gt;&quot;).text(locale.header).appendTo(place);
		var form = $(&quot;&lt;form /&gt;&quot;).appendTo(place)[0];
		$('&lt;input type=&quot;text&quot; name=&quot;q&quot; /&gt;').appendTo(form);
		$('&lt;input type=&quot;submit&quot; /&gt;').val(locale.find).appendTo(form);
		search.advancedOptions(form);
		var query = $('&lt;h2 class=&quot;query&quot;/&gt;').appendTo(place)[0];
		var results = $(&quot;&lt;div /&gt;&quot;).appendTo(place).addClass(&quot;resultsArea&quot;)[0];
		var lookup = function(url) {
			if(!url) {
				results.empty().addClass(&quot;error&quot;).text(locale.error);
				return;
			}
			config.extensions.tiddlyweb.getStatus(function(status) {
				$(query).text(locale.query);
				var href = status.server_host.url + url;
				$(&quot;&lt;a /&gt;&quot;).attr(&quot;href&quot;, href).text(href).appendTo(query);
				tsScan.scan(results, { url: url, emptyMessage: search.locale.noResults, cache: true,
					template: &quot;SearchTemplate&quot;, sort: &quot;title&quot;, callback: function(tiddlers) {
						$(&quot;&lt;h2 /&gt;&quot;).text(locale.resultsHeader.format(tiddlers.length)).prependTo(results);
					}
				});
			});
		};
		$(form).submit(function(ev) {
			ev.preventDefault();
			var url = search.constructSearchQuery(form);
			config.macros.tsSearch.lastSearch = url;
			lookup(url);
		});
		if(search.lastSearch) {
			lookup(search.lastSearch);
		}
		return form;
	},
	handler: function(place) {
		var container = $(&quot;&lt;div /&gt;&quot;).addClass(&quot;searchForm&quot;).appendTo(place)[0];
		search.constructForm(container);
	}
};

})(jQuery);
//}}}</pre>
</div>
<div title="TiddlySpaceTabs" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch" _hash="7bc357188d6afd65d6724a670b0052c0488766a4" server.content-type="" server.permissions="read" server.bag="system-theme_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-theme_public" server.etag="&quot;system-theme_public/TiddlySpaceTabs/1521916:e316469f4d1d1d85ddc49626519a9885f446ee8f&quot;" server.page.revision="1521916" server.title="TiddlySpaceTabs">
<pre>!Spaces
&lt;&lt;groupBy server.bag&gt;&gt;

!Private
&lt;&lt;list filter [is[private]]&gt;&gt;

!Public
&lt;&lt;list filter [is[public]]&gt;&gt;

!Drafts
&lt;&lt;list filter [is[draft]]&gt;&gt;</pre>
</div>
<div title="TiddlySpaceTabs##Public" creator="inforabbi" modifier="inforabbi" created="201012121350" modified="201012121350" _hash="76156f52d2276ab6b1775d2a55096a7bbb817f71" server.content-type="" server.permissions="read, write, create, delete" server.bag="inforabbi_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/inforabbi_public" server.etag="&quot;inforabbi_public/TiddlySpaceTabs%23%23Public/114061:c91259eb2e93c18f6552a2fe18b8caf4486990b2&quot;" server.page.revision="114061" server.title="TiddlySpaceTabs##Public">
<pre>Type the text for 'TiddlySpaceTabs##Public'</pre>
</div>
<div title="TiddlySpaceTiddlerIconsPlugin" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch systemConfig" _hash="5c6cfebcd3cc3fd2df109c0d59735aaae48850b4" server.content-type="text/javascript" server.permissions="read" server.bag="system-plugins_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-plugins_public" server.etag="&quot;system-plugins_public/TiddlySpaceTiddlerIconsPlugin/1521862:2ecb020786b780084336406ffbe6fca91e6019ad&quot;" server.page.revision="1521862" server.title="TiddlySpaceTiddlerIconsPlugin">
<pre>/***
|''Name''|TiddlySpaceTiddlerIconsPlugin|
|''Version''|0.8.10|
|''Status''|@@beta@@|
|''Author''|Jon Robson|
|''Description''|Provides ability to render SiteIcons and icons that correspond to the home location of given tiddlers|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/TiddlySpaceTiddlerIconsPlugin.js|
|''Requires''|TiddlySpaceConfig BinaryTiddlersPlugin ImageMacroPlugin TiddlySpacePublishingCommands|
!Notes
{{{&lt;&lt;tiddlerOrigin&gt;&gt;}}} shows the origin of the tiddler it is being run on.
In TiddlySpace terms this means it will determine whether the tiddler is external, public or private.
Where private it will analyse whether a public version exists and distinguish between the different scenarios.
If a tiddler is external, the SiteIcon of that external space will be shown

!Parameters
width / height : define a width or height of the outputted icon
label: if label parameter is set to yes, a label will accompany the icon.
!Code
***/
//{{{
(function($) {

if(!config.macros.image) {
	throw &quot;Missing dependency: ImageMacroPlugin&quot;;
}

var imageMacro = config.macros.image;
var tiddlyspace = config.extensions.tiddlyspace;
var tweb = config.extensions.tiddlyweb;
var cmds = config.commands;
var cmd = cmds.publishTiddler;
tiddlyspace.resolveSpaceName = function(value) {
	var endsWith = config.extensions.BinaryTiddlersPlugin.endsWith;
	if(value) {
		value = value.indexOf(&quot;bags/&quot;) === 0 ? value.substr(5) : value;
		value = value.indexOf(&quot;recipes/&quot;) === 0 ? value.substr(8) : value;
		if(value.indexOf(&quot;@&quot;) === 0) {
			value = value.substr(1);
		}
		if(endsWith(value, &quot;_public&quot;)) {
			value = value.substr(0, value.length - 7);
		} else if(endsWith(value, &quot;_private&quot;)) {
			value = value.substr(0, value.length - 8);
		}
		value = value.toLowerCase();
	}
	return value;
};

tiddlyspace.renderAvatar = function(place, value, options) {
	options = options ? options : {};
	options.labelOptions = options.labelOptions ? options.labelOptions : { include: false, height: 48, width: 48 };
	options.imageOptions = options.imageOptions ? options.imageOptions : {};
	options.imageOptions.altImage = &quot;/bags/common/tiddlers/defaultUserIcon&quot;;
	var container = $('&lt;div class=&quot;siteIcon&quot; /&gt;').appendTo(place);
	value = tiddlyspace.resolveSpaceName(value);

	tweb.getStatus(function(status) {
		var link, noLabel;
		if(!value || value == config.views.wikified.defaultModifier ||
			value == config.views.wikified.shadowModifier) {
			var icon = config.views.wikified.shadowModifier == value ? &quot;shadowIcon&quot; : &quot;missingIcon&quot;;
			if(store.tiddlerExists(icon)) {
				imageMacro.renderImage(container, icon, options.imageOptions);
			} else {
				noLabel = true;
			}
		} else {
			var spaceURI;
			if(value != tiddlyspace.currentSpace.name) {
				spaceURI = options.notSpace ? tiddlyspace.getHost(status.server_host) :
					tiddlyspace.getHost(status.server_host, value);
			}
			link = spaceURI ? $(&quot;&lt;a /&gt;&quot;).attr(&quot;href&quot;, spaceURI) : $(&quot;&lt;span /&gt;&quot;);
			link.text(value);

			var imageOptions = options.imageOptions;
			if(options.spaceLink &amp;&amp; !imageOptions.link) {
				imageOptions.link = spaceURI;
			}
			var avatar = options.notSpace ? false : value;
			var uri = tiddlyspace.getAvatar(status.server_host, avatar);
			imageMacro.renderImage(container, uri, options.imageOptions);
			if(!value) {
				value = &quot;tiddlyspace&quot;;
			}
		}
		if(!noLabel &amp;&amp; options.labelOptions.include) {
			var prefix = $(&quot;&lt;span /&gt;&quot;).text(options.labelOptions.prefix || &quot;&quot;)[0];
			var suffix = $(&quot;&lt;span /&gt;&quot;).text(options.labelOptions.suffix || &quot;&quot;)[0];
			$('&lt;div class=&quot;label&quot; /&gt;').append(prefix).append(link).
				append(suffix).appendTo(container);
		}
	});
	if(value) {
		var prefix = options.labelOptions.prefix || &quot;&quot;;
		var suffix = options.labelOptions.suffix || &quot;&quot;;
		var label = &quot;%0%1%2&quot;.format(prefix, value, suffix);
		$(container).attr(&quot;title&quot;, label);
	}
};

var originMacro = config.macros.tiddlerOrigin = {
	locale: {
		&quot;shadow&quot;: &quot;shadow tiddler&quot;,
		&quot;missing&quot;: &quot;missing tiddler&quot;,
		&quot;private&quot;: &quot;private&quot;,
		&quot;unknown&quot;: &quot;unknown state&quot;,
		&quot;public&quot;: &quot;public&quot;,
		&quot;unsyncedPrivate&quot;: &quot;unsynced and private&quot;,
		&quot;unsyncedPublic&quot;: &quot;unsynced and public&quot;,
		externalPrefix: &quot;from &quot;,
		externalBagSuffix: &quot; bag&quot;,
		externalSuffix: &quot; space&quot;,
		publishPrivateDeletePrivate: &quot;Are you sure you want to make this tiddler public?&quot;,
		moveToPrivate: &quot;Are you sure you want to make this tiddler private? Only members will be able to see it.&quot;,
		pleaseWait: &quot;please wait..&quot;,
		keepPublic: &quot;keep public&quot;,
		cannotPublishDirtyTiddler: &quot;The current tiddler is unsaved so cannot be published. Please save the tiddler first.&quot;,
		keepPrivate: &quot;keep private&quot;,
		makePublic: &quot;make public&quot;,
		makePrivate: &quot;make private&quot;
	},
	handler: function(place, macroName, params,wikifier, paramString, tiddler){
		var adaptor = tiddler.getAdaptor();
		var btn = $(&quot;&lt;div /&gt;&quot;).addClass(&quot;originButton&quot;).attr(&quot;params&quot;, paramString).
			attr(&quot;refresh&quot;, &quot;macro&quot;).attr(&quot;macroName&quot;, macroName).appendTo(place)[0];
		$(btn).data(&quot;tiddler&quot;, tiddler);
		originMacro.refresh(btn);
	},
	refresh: function(btn) {
		$(btn).empty();
		var paramString = $(btn).attr(&quot;params&quot;);
		var tiddler = $(btn).data(&quot;tiddler&quot;);
		var options = originMacro.getOptions(paramString);
		var type = tiddlyspace.getTiddlerStatusType(tiddler);
		originMacro.renderIcon(tiddler, type, btn, options);
	},
	getOptions: function(paramString) {
		paramString = &quot;%0 label:no width:48 height:48 spaceLink:yes preserveAspectRatio:yes&quot;.format(paramString);
		var parsedParams = paramString.parseParams(&quot;name&quot;);
		var params = parsedParams[0].name;
		var options = {
			labelOptions: originMacro._getLabelOptions(parsedParams),
			imageOptions: imageMacro.getArguments(paramString, []),
			noclick: parsedParams[0].interactive &amp;&amp;
				parsedParams[0].interactive[0] == &quot;no&quot; ? true : false
		};
		if(!options.noclick) {
			var spaceLink = parsedParams[0].spaceLink;
			options.spaceLink = spaceLink &amp;&amp; spaceLink[0] == &quot;no&quot; ? false : true;
		} else {
			options.spaceLink = false;
		}
		return options;
	},
	_getLabelOptions: function(parsedParams) {
		parsedParams = parsedParams[0];
		var includeLabel = !parsedParams.label || ( parsedParams.label &amp;&amp; parsedParams.label[0] == &quot;yes&quot; );
		var prefix = parsedParams.labelPrefix ? parsedParams.labelPrefix[0] : false;
		var suffix = parsedParams.labelSuffix ? parsedParams.labelSuffix[0] : false;
		return { include: includeLabel, suffix: suffix, prefix: prefix };
	},
	_isSpace: function(value) {
		value = value ? value : &quot;&quot;;
		var endsWith = config.extensions.BinaryTiddlersPlugin.endsWith;
		if(endsWith(value, &quot;_private&quot;) || endsWith(value, &quot;_public&quot;)) {
			return true;
		} else {
			return false;
		}
	},
	renderIcon: function(tiddler, type, button, options) {
		var locale = originMacro.locale;
		originMacro.annotateTiddler(button, type);
		if(type != &quot;external&quot;) {
			originMacro.showPrivacyRoundel(tiddler, type, button,
				options);
		} else {
			var prefix = options.labelOptions.prefix, suffix = options.labelOptions.suffix;
			var space = tiddler.fields[&quot;server.bag&quot;];
			options.notSpace = !originMacro._isSpace(space);
			options.labelOptions.prefix = prefix ? prefix : locale.externalPrefix;
			options.labelOptions.suffix = suffix ? suffix : (options.notSpace ? locale.externalBagSuffix : locale.externalSuffix);

			tiddlyspace.renderAvatar(button, space, options);
		}
	},
	showPrivacyRoundel: function(thisTiddler, privacyType, button, options) {
		// there is a public tiddler as well as the current tiddler!
		// TODO: not this is not enough.. we also need to check if the public tiddler is the same as..
		// .. the private tiddler to determine whether this is a draft
		// use of hashes would be useful here.
		$(button).empty();
		var icon = &quot;%0Icon&quot;.format(privacyType);
		if(privacyType.indexOf(&quot;unsynced&quot;) === 0 &amp;&amp; !store.tiddlerExists(icon)) {
			icon = &quot;unsyncedIcon&quot;;
		}
		if(privacyType == &quot;shadow&quot;) {
			if(!store.tiddlerExists(icon)) {
				icon = &quot;bags/tiddlyspace/tiddlers/SiteIcon&quot;;
			}
		}
		if(privacyType == &quot;missing&quot; &amp;&amp; !store.tiddlerExists(icon)) {
			return; // the user is not making use of the missingIcon
		} else {
			imageMacro.renderImage(button, icon, options.imageOptions);
			originMacro.showLabel(button, privacyType, options.labelOptions);
			var cmd = originMacro.iconCommands[privacyType];
			if(cmd &amp;&amp; thisTiddler &amp;&amp; !options.noclick) {
				$(button).click(function(ev) {
					cmd(ev, thisTiddler);
				});
			}
		}
	},
	annotateTiddler: function(place, type) {
		var tidEl = $(story.findContainingTiddler(place));
		tidEl.
			removeClass(&quot;private public external privateAndPublic privateNotPublic shadow&quot;).
			addClass(type);
	},
	showLabel: function(button, type, options) {
		var locale = originMacro.locale;
		var label = options.label ? options.label : locale[type];
		label = label ? label : locale.unknown;
		if(options &amp;&amp; options.include) {
			$('&lt;div class=&quot;roundelLabel&quot; /&gt;').html(label).appendTo(button);
		}
		$(button).attr(&quot;title&quot;, label);
	},
	confirm: function(ev, msg, onYes, options) {
		options = options ? options : {};
		onYes = onYes ? onYes : function(ev) {};
		var btn = $(&quot;.originButton&quot;, $(ev.target).parents())[0];
		var popup = Popup.create(btn);
		$(popup).addClass(&quot;confirmationPopup&quot;);
		$(&quot;&lt;div /&gt;&quot;).addClass(&quot;message&quot;).text(msg).appendTo(popup);
		$(&quot;&lt;button /&gt;&quot;).addClass(&quot;button&quot;).text(options.yesLabel || &quot;yes&quot;).appendTo(popup).click(onYes);
		$(&quot;&lt;button /&gt;&quot;).addClass(&quot;button&quot;).text(options.noLabel || &quot;no&quot;).click(function(ev) {
			Popup.remove();
		}).appendTo(popup);
		Popup.show();
		ev.stopPropagation();
		return false;
	},
	alert: function(ev, msg) {
		var popup = Popup.create(ev.target);
		$(popup).addClass(&quot;confirmationPopup alert&quot;);
		$(&quot;&lt;div /&gt;&quot;).addClass(&quot;message&quot;).text(msg).appendTo(popup);
		Popup.show();
		ev.stopPropagation();
	},
	reportDirty: function(el) {
		originMacro.alert(el, originMacro.locale.cannotPublishDirtyTiddler);
	},
	iconCommands: {
		&quot;public&quot;: function(ev, tiddler) {
			if(!readOnly) {
				var locale = originMacro.locale;
				var msg = locale.moveToPrivate;
				if(story.isDirty(tiddler.title)) {
					originMacro.reportDirty(ev);
				} else {
					originMacro.confirm(ev, msg, function(ev) {
						var target = $(ev.target);
						var onComplete = function(info) {};
						var privateBag = cmd.toggleBag(tiddler, &quot;private&quot;);
						cmd.moveTiddler(tiddler, {
							title: tiddler.title,
							fields: { &quot;server.bag&quot;: privateBag }
						}, onComplete);
					}, { yesLabel: locale.makePrivate, noLabel: locale.keepPublic });
				}
			}
		},
		&quot;private&quot;: function(ev, tiddler) {
			if(!readOnly) {
				var locale = originMacro.locale;
				var adaptor = tiddler.getAdaptor();
				var publishTo = tiddler.fields[&quot;publish.name&quot;] || tiddler.title;
				var workspace = &quot;bags/%0&quot;.format(tiddler.fields[&quot;server.bag&quot;]);
				tiddler.fields[&quot;server.workspace&quot;] = workspace;
				var publicBag = cmd.toggleBag(tiddler, &quot;public&quot;);
				var msg;
				msg = locale.publishPrivateDeletePrivate;
				var title = tiddler.title;
				var newTitle = publishTo || tiddler.title;
				tiddler.fields[&quot;server.page.revision&quot;] = &quot;false&quot;;
				store.addTiddler(tiddler);
				if(story.isDirty(tiddler.title)) {
					originMacro.reportDirty(ev);
				} else {
					originMacro.confirm(ev, msg, function(ev) {
						var onComplete = function(info) {};
						cmd.moveTiddler(tiddler, {
							title: newTitle,
							fields: { &quot;server.bag&quot;: publicBag }
						}, onComplete);
					}, { yesLabel: locale.makePublic, noLabel: locale.keepPrivate });
				}
			}
		}
	}
};

})(jQuery);
//}}}</pre>
</div>
<div title="TiddlySpaceToolbar" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch systemConfig" _hash="f1d6038be5d1ecd8d107d604b0f0dce76bc901da" server.content-type="text/javascript" server.permissions="read" server.bag="system-plugins_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-plugins_public" server.etag="&quot;system-plugins_public/TiddlySpaceToolbar/1521861:4e8d63a5d12cdc4a78126ad137c88177a9d13f27&quot;" server.page.revision="1521861" server.title="TiddlySpaceToolbar">
<pre>/***
|''Name''|TiddlySpaceToolbar|
|''Description''|augments tiddler toolbar commands with SVG icons|
|''Author''|Osmosoft|
|''Version''|0.6.6|
|''Status''|@@beta@@|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/TiddlySpaceToolbar.js|
|''CodeRepository''|http://github.com/TiddlySpace/tiddlyspace|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''CoreVersion''|2.5.0|
|''Requires''|ImageMacroPlugin|
|''Keywords''|toolbar icons SVG|
!Description
replaces tiddler toolbar commands with SVG icons if available
!Notes
requires [[ImageMacroPlugin|http://svn.tiddlywiki.org/Trunk/contributors/JonRobson/plugins/ImageMacroPlugin/plugins/ImageMacroPlugin.tid]]

SVG icons are drawn from tiddlers titled {{{&lt;command&gt;.svg}}}
In readonly mode a tiddler called {{{&lt;command&gt;ReadOnly.svg}}} will be used if it exists.
!TODO
* rename (IconToolbarPlugin?)
* support more than one more popup menu in the toolbar.
!Code
***/
//{{{
(function($) {

if(!config.macros.image) {
	throw &quot;Missing dependency: ImageMacroPlugin&quot;;
}

var macro = config.macros.toolbar;

macro.icons = {
	cloneTiddler: &quot;editTiddler&quot;
};

var _handler = macro.handler;
macro.handler = function(place, macroName, params, wikifier,
		paramString, tiddler) {
	var toolbar = $(place);
	toolbar.attr({
		refresh: &quot;macro&quot;,
		macroName: macroName
	}).data(&quot;args&quot;, arguments);
	var status = _handler.apply(this, arguments);
	if(tiddler.isReadOnly()) {
		toolbar.addClass(&quot;toolbarReadOnly&quot;);
	} else {
		toolbar.removeClass(&quot;toolbarReadOnly&quot;);
	}
	var parsedParams = paramString.parseParams(&quot;name&quot;)[0];
	if(parsedParams.icons &amp;&amp; parsedParams.icons == &quot;yes&quot;) {
		this.augmentCommandButtons(place);
	}
	if(parsedParams.more &amp;&amp; parsedParams.more == &quot;popup&quot;) {
		// note we must override the onclick event like in createTiddlyButton
		// otherwise the click event is the popup AND the slider
		$(&quot;.moreCommand&quot;, place).each(function(i, el) {
			el.onclick = macro.onClickMorePopUp;
		});
		// buttons that are after a less command should not be in more menu.
		$(&quot;.lessCommand ~ .button&quot;, place).appendTo(place);
		$(&quot;.lessCommand&quot;, place).remove();
	}
	return status;
};

macro.refresh = function(place, params) {
	var args = $(place).empty().data(&quot;args&quot;);
	this.handler.apply(this, args);
};

var imageMacro = config.macros.image;
macro.augmentCommandButtons = function(toolbar) {
	$(&quot;.button&quot;, toolbar).each(function(i, el) {
		var cmd = $(el).attr(&quot;commandname&quot;);
		cmd = cmd ? cmd : &quot;moreCommand&quot;; // XXX: special-casing of moreCommand due to ticket #1234
		var icon = store.tiddlerExists(cmd) ? cmd : macro.icons[cmd];
		var text = $(el).text();
		if(readOnly) {
			var readOnlyAlternative = &quot;%0ReadOnly&quot;.format([icon]);
			if(store.tiddlerExists(readOnlyAlternative)) {
				icon = readOnlyAlternative;
			}
		}
		if(store.tiddlerExists(icon)) {
			$(el).css({display: &quot;inline-block&quot;}).empty();
			imageMacro.renderImage(el, icon, { alt: text });
		}
	});
};

// provide onClickMore to provide extra commands in a popup
macro.onClickMorePopUp = function(ev) {
	ev = ev || window.event;
	var sibling = this.nextSibling;
	if(sibling) {
		var commands = sibling.childNodes;
		var popup = Popup.create(this);
		$(popup).addClass(&quot;taggedTiddlerList&quot;);
		for(var i = 0; i &lt; commands.length; i++) {
			var li = createTiddlyElement(popup, &quot;li&quot;, null);
			var oldCommand = commands[i];
			var command = oldCommand.cloneNode(true);
			command.onclick = oldCommand.onclick;
			li.appendChild(command);
		}
		Popup.show();
	}
	ev.cancelBubble = true;
	if(ev.stopPropagation) {
		ev.stopPropagation();
	}
	return false;
};

})(jQuery);
//}}}</pre>
</div>
<div title="TiddlySpaceViewTypes" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch systemConfig" _hash="0a5a070cb32ab7b3dc724809555448e9948cf232" server.content-type="text/javascript" server.permissions="read" server.bag="system-plugins_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-plugins_public" server.etag="&quot;system-plugins_public/TiddlySpaceViewTypes/1521869:8ea089581dbffb56be06b03b7138e7d81d95c613&quot;" server.page.revision="1521869" server.title="TiddlySpaceViewTypes">
<pre>/***
|''Name''|TiddlySpaceViewTypes|
|''Version''|0.6.0|
|''Status''|@@beta@@|
|''Description''|Provides TiddlySpace specific view types|
|''Author''|Jon Robson|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/TiddlySpaceViewTypes.js|
|''Requires''|TiddlySpaceConfig TiddlySpaceTiddlerIconsPlugin|
!Usage
Provides replyLink, spaceLink and SiteIcon view types.
!!SiteIcon view parameters
* labelPrefix / labelSuffix : prefix or suffix the label with additional text. eg. labelPrefix:'modified by '
* spaceLink: if set to &quot;yes&quot; will make any avatars link to the corresponding space. {{{&lt;&lt;originMacro spaceLink:yes&gt;&gt;}}}

!Code
***/
//{{{
(function($) {

var tiddlyspace = config.extensions.tiddlyspace;
var originMacro = config.macros.tiddlerOrigin;
var tweb = config.extensions.tiddlyweb;

config.macros.view.replyLink = {
	locale: {
		label: &quot;Reply to this tiddler&quot;
	}
};

var _replyButtons = [];
var _replyInitialised, _replyScriptLoaded;
config.macros.view.views.replyLink = function(value, place, params, wikifier,
		paramString, tiddler) {
	var valueField = params[0];
	var imported;
	if(valueField == &quot;title&quot;) { // special casing for imported tiddlers
		var localTitle = tiddler.title;
		var serverTitle = tiddler.fields[&quot;server.title&quot;];
		if(serverTitle &amp;&amp; localTitle != serverTitle) {
			value = serverTitle ? serverTitle : localTitle;
			imported = true;
		}
	} else {
		title = tiddler[valueField] ? tiddler[valueField] : tiddler.fields[valueField];
	}
	var args = paramString.parseParams(&quot;anon&quot;)[0];
	var label = (args.label) ? args.label : config.macros.view.replyLink.locale.label;
	var space;
	if(tiddler) {
		var bag = tiddler.fields[&quot;server.bag&quot;];
		space = tiddlyspace.resolveSpaceName(bag);
	}
	var container = $('&lt;span class=&quot;replyLink&quot; /&gt;').appendTo(place)[0];

	tweb.getUserInfo(function(user) {
		if ((!user.anon) &amp;&amp; ((space &amp;&amp; user.name != space &amp;&amp;
				user.name != tiddlyspace.currentSpace.name) || imported)) {
			var link = $(&quot;&lt;a /&gt;&quot;)
				.text(config.macros.view.replyLink.locale.label)
				.appendTo(container)[0];

			if(typeof(createReplyButton) === &quot;undefined&quot;) {
				_replyButtons.push(link);
			}
			if(_replyInitialised) {
				createReplyButton(link);
			} else if(!_replyScriptLoaded) {
				_replyScriptLoaded = true;
				$.getScript(&quot;/bags/common/tiddlers/_reply-button.js&quot;,
					function() {
						_replyInitialised = true;
						for(var i = 0; i &lt; _replyButtons.length; i++) {
							createReplyButton(_replyButtons[i]);
						}
						_replyButtons = [];
					});
			}
		}
	});

};

config.macros.view.views.spaceLink = function(value, place, params, wikifier,
		paramString, tiddler) {
		var spaceName = tiddlyspace.resolveSpaceName(value);
		var isBag = params[0] == &quot;server.bag&quot; &amp;&amp; value === spaceName ? true : false;
		var args = paramString.parseParams(&quot;anon&quot;)[0];
		var titleField = args.anon[2];
		var labelField = args.labelField ? args.labelField[0] : false;
		var label;
		if(labelField) {
			label = tiddler[labelField] ? tiddler[labelField] : tiddler.fields[labelField];
		} else {
			label = args.label ? args.label[0] : false;
		}
		var title = tiddler[titleField] ? tiddler[titleField] : tiddler.fields[titleField];

		var link = createSpaceLink(place, spaceName, title, label, isBag);
		if(args.external &amp;&amp; args.external[0] == &quot;no&quot;) {
			$(link).click(function(ev) {
				var el = $(ev.target);
				var title = el.attr(&quot;tiddler&quot;);
				var bag = el.attr(&quot;bag&quot;);
				var space = el.attr(&quot;tiddlyspace&quot;);
				bag = space ? space + &quot;_public&quot; : bag;
				if(title &amp;&amp; bag) {
					ev.preventDefault();
					tiddlyspace.displayServerTiddler(el[0], title,
						&quot;bags/&quot; + bag);
				}
				return false;
			});
		}
};

config.macros.view.views.SiteIcon = function(value, place, params, wikifier,
		paramString, tiddler) {
	var options = originMacro.getOptions(paramString);
	if(!tiddler || value == &quot;None&quot;) { // some core tiddlers lack modifier
		value = false;
	}
	var field = params[0];
	if(field == &quot;server.bag&quot;) {
		options.notSpace = !originMacro._isSpace(value);
	}
	tiddlyspace.renderAvatar(place, value, options);
};

})(jQuery);
//}}}</pre>
</div>
<div title="TiddlyWebAdaptor" creator="FND" modifier="FND" created="200811260000" modified="200811260000" tags="excludeLists excludeSearch systemConfig" _hash="487ec1465c11e0798c029b3ed15a2f71ae51ce92" server.content-type="text/javascript" server.permissions="read" server.bag="system" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system" server.etag="&quot;system/TiddlyWebAdaptor/1521858:287e14318064707834037860793f127586b1709f&quot;" server.page.revision="1521858" server.title="TiddlyWebAdaptor">
<pre>/***
|''Name''|TiddlyWebAdaptor|
|''Description''|adaptor for interacting with TiddlyWeb|
|''Author:''|FND|
|''Contributors''|Chris Dent, Martin Budden|
|''Version''|1.4.10|
|''Status''|stable|
|''Source''|http://svn.tiddlywiki.org/Trunk/association/adaptors/TiddlyWebAdaptor.js|
|''CodeRepository''|http://svn.tiddlywiki.org/Trunk/association/|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''CoreVersion''|2.5|
|''Keywords''|serverSide TiddlyWeb|
!Notes
This plugin includes [[jQuery JSON|http://code.google.com/p/jquery-json/]].
!To Do
* createWorkspace
* document custom/optional context attributes (e.g. filters, query, revision) and tiddler fields (e.g. server.title, origin)
!Code
***/
//{{{
(function($) {

var adaptor = config.adaptors.tiddlyweb = function() {};

adaptor.prototype = new AdaptorBase();
adaptor.serverType = &quot;tiddlyweb&quot;;
adaptor.serverLabel = &quot;TiddlyWeb&quot;;
adaptor.mimeType = &quot;application/json&quot;;

adaptor.parsingErrorMessage = &quot;Error parsing result from server&quot;;
adaptor.noBagErrorMessage = &quot;no bag specified for tiddler&quot;;
adaptor.locationIDErrorMessage = &quot;no bag or recipe specified for tiddler&quot;; // TODO: rename

// retrieve current status (requires TiddlyWeb status plugin)
adaptor.prototype.getStatus = function(context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	var uriTemplate = &quot;%0/status&quot;;
	var uri = uriTemplate.format([context.host]);
	var req = httpReq(&quot;GET&quot;, uri, adaptor.getStatusCallback, context,
		null, null, null, null, null, true);
	return typeof req == &quot;string&quot; ? req : true;
};

adaptor.getStatusCallback = function(status, context, responseText, uri, xhr) {
	context.status = responseText ? status : false;
	try {
		context.statusText = xhr.statusText;
	} catch(exc) { // offline (Firefox)
		context.status = false;
		context.statusText = null;
	}
	context.httpStatus = xhr.status;
	if(context.status) {
		context.serverStatus = $.evalJSON(responseText); // XXX: error handling!?
	}
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// retrieve a list of workspaces
adaptor.prototype.getWorkspaceList = function(context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	context.workspaces = [];
	var uriTemplate = &quot;%0/recipes&quot;; // XXX: bags?
	var uri = uriTemplate.format([context.host]);
	var req = httpReq(&quot;GET&quot;, uri, adaptor.getWorkspaceListCallback,
		context, { accept: adaptor.mimeType }, null, null, null, null, true);
	return typeof req == &quot;string&quot; ? req : true;
};

adaptor.getWorkspaceListCallback = function(status, context, responseText, uri, xhr) {
	context.status = status;
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	if(status) {
		try {
			var workspaces = $.evalJSON(responseText);
		} catch(ex) {
			context.status = false; // XXX: correct?
			context.statusText = exceptionText(ex, adaptor.parsingErrorMessage);
			if(context.callback) {
				context.callback(context, context.userParams);
			}
			return;
		}
		context.workspaces = workspaces.map(function(itm) { return { title: itm }; });
	}
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// retrieve a list of tiddlers
adaptor.prototype.getTiddlerList = function(context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	var uriTemplate = &quot;%0/%1/%2/tiddlers%3&quot;;
	var params = context.filters ? &quot;?&quot; + context.filters : &quot;&quot;;
	if(context.format) {
		params = context.format + params;
	}
	var workspace = adaptor.resolveWorkspace(context.workspace);
	var uri = uriTemplate.format([context.host, workspace.type + &quot;s&quot;,
		adaptor.normalizeTitle(workspace.name), params]);
	var req = httpReq(&quot;GET&quot;, uri, adaptor.getTiddlerListCallback,
		context, merge({ accept: adaptor.mimeType }, context.headers), null, null, null, null, true);
	return typeof req == &quot;string&quot; ? req : true;
};

adaptor.getTiddlerListCallback = function(status, context, responseText, uri, xhr) {
	context.status = status;
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	if(status) {
		context.tiddlers = [];
		try {
			var tiddlers = $.evalJSON(responseText); //# NB: not actual tiddler instances
		} catch(ex) {
			context.status = false; // XXX: correct?
			context.statusText = exceptionText(ex, adaptor.parsingErrorMessage);
			if(context.callback) {
				context.callback(context, context.userParams);
			}
			return;
		}
		for(var i = 0; i &lt; tiddlers.length; i++) {
			var tiddler = adaptor.toTiddler(tiddlers[i], context.host);
			context.tiddlers.push(tiddler);
		}
	}
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// perform global search
adaptor.prototype.getSearchResults = function(context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	var uriTemplate = &quot;%0/search?q=%1%2&quot;;
	var filterString = context.filters ? &quot;;&quot; + context.filters : &quot;&quot;;
	var uri = uriTemplate.format([context.host, context.query, filterString]); // XXX: parameters need escaping?
	var req = httpReq(&quot;GET&quot;, uri, adaptor.getSearchResultsCallback,
		context, { accept: adaptor.mimeType }, null, null, null, null, true);
	return typeof req == &quot;string&quot; ? req : true;
};

adaptor.getSearchResultsCallback = function(status, context, responseText, uri, xhr) {
	adaptor.getTiddlerListCallback(status, context, responseText, uri, xhr); // XXX: use apply?
};

// retrieve a particular tiddler's revisions
adaptor.prototype.getTiddlerRevisionList = function(title, limit, context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	var uriTemplate = &quot;%0/%1/%2/tiddlers/%3/revisions&quot;;
	var workspace = adaptor.resolveWorkspace(context.workspace);
	var uri = uriTemplate.format([context.host, workspace.type + &quot;s&quot;,
		adaptor.normalizeTitle(workspace.name), adaptor.normalizeTitle(title)]);
	var req = httpReq(&quot;GET&quot;, uri, adaptor.getTiddlerRevisionListCallback,
		context, merge({ accept: adaptor.mimeType }, context.headers), null, null, null, null, true);
	return typeof req == &quot;string&quot; ? req : true;
};

adaptor.getTiddlerRevisionListCallback = function(status, context, responseText, uri, xhr) {
	context.status = status;
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	if(status) {
		context.revisions = [];
		try {
			var tiddlers = $.evalJSON(responseText); //# NB: not actual tiddler instances
		} catch(ex) {
			context.status = false; // XXX: correct?
			context.statusText = exceptionText(ex, adaptor.parsingErrorMessage);
			if(context.callback) {
				context.callback(context, context.userParams);
			}
			return;
		}
		for(var i = 0; i &lt; tiddlers.length; i++) {
			var tiddler = adaptor.toTiddler(tiddlers[i], context.host);
			context.revisions.push(tiddler);
		}
		var sortField = &quot;server.page.revision&quot;;
		context.revisions.sort(function(a, b) {
			return a.fields[sortField] &lt; b.fields[sortField] ? 1 :
				(a.fields[sortField] == b.fields[sortField] ? 0 : -1);
		});
	}
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// retrieve an individual tiddler revision -- XXX: breaks with standard arguments list -- XXX: convenience function; simply use getTiddler?
adaptor.prototype.getTiddlerRevision = function(title, revision, context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	context.revision = revision;
	return this.getTiddler(title, context, userParams, callback);
};

// retrieve an individual tiddler
//# context is an object with members host and workspace
//# callback is passed the new context and userParams
adaptor.prototype.getTiddler = function(title, context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	context.title = title;
	if(context.revision) {
		var uriTemplate = &quot;%0/%1/%2/tiddlers/%3/revisions/%4&quot;;
	} else {
		uriTemplate = &quot;%0/%1/%2/tiddlers/%3&quot;;
	}
	if(!context.tiddler) {
		context.tiddler = new Tiddler(title);
	}
	context.tiddler.fields[&quot;server.type&quot;] = adaptor.serverType;
	context.tiddler.fields[&quot;server.host&quot;] = AdaptorBase.minHostName(context.host);
	context.tiddler.fields[&quot;server.workspace&quot;] = context.workspace;
	var workspace = adaptor.resolveWorkspace(context.workspace);
	var uri = uriTemplate.format([context.host, workspace.type + &quot;s&quot;,
		adaptor.normalizeTitle(workspace.name), adaptor.normalizeTitle(title),
		context.revision]);
	var req = httpReq(&quot;GET&quot;, uri, adaptor.getTiddlerCallback, context,
		merge({ accept: adaptor.mimeType }, context.headers), null, null, null, null, true);
	return typeof req == &quot;string&quot; ? req : true;
};

adaptor.getTiddlerCallback = function(status, context, responseText, uri, xhr) {
	context.status = status;
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	if(status) {
		try {
			var tid = $.evalJSON(responseText);
		} catch(ex) {
			context.status = false;
			context.statusText = exceptionText(ex, adaptor.parsingErrorMessage);
			if(context.callback) {
				context.callback(context, context.userParams);
			}
			return;
		}
		var tiddler = adaptor.toTiddler(tid, context.host);
		tiddler.title = context.tiddler.title;
		tiddler.fields[&quot;server.etag&quot;] = xhr.getResponseHeader(&quot;Etag&quot;);
		// normally we'd assign context.tiddler = tiddler here - but we can't do
		// that because of IE, which triggers getTiddler in putTiddlerCallback,
		// and since ServerSideSavingPlugin foolishly relies on persistent
		// object references, we need to merge the data into the existing object
		$.extend(context.tiddler, tiddler);
	}
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// retrieve tiddler chronicle (all revisions)
adaptor.prototype.getTiddlerChronicle = function(title, context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	context.title = title;
	var uriTemplate = &quot;%0/%1/%2/tiddlers/%3/revisions?fat=1&quot;;
	var workspace = adaptor.resolveWorkspace(context.workspace);
	var uri = uriTemplate.format([context.host, workspace.type + &quot;s&quot;,
		adaptor.normalizeTitle(workspace.name), adaptor.normalizeTitle(title)]);
	var req = httpReq(&quot;GET&quot;, uri, adaptor.getTiddlerChronicleCallback,
		context, { accept: adaptor.mimeType }, null, null, null, null, true);
	return typeof req == &quot;string&quot; ? req : true;
};

adaptor.getTiddlerChronicleCallback = function(status, context, responseText, uri, xhr) {
	context.status = status;
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	if(status) {
		context.responseText = responseText;
	}
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// store an individual tiddler
adaptor.prototype.putTiddler = function(tiddler, context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	context.title = tiddler.title;
	context.tiddler = tiddler;
	context.host = context.host || this.fullHostName(tiddler.fields[&quot;server.host&quot;]);
	var uriTemplate = &quot;%0/%1/%2/tiddlers/%3&quot;;
	try {
		context.workspace = context.workspace || tiddler.fields[&quot;server.workspace&quot;];
		var workspace = adaptor.resolveWorkspace(context.workspace);
	} catch(ex) {
		return adaptor.locationIDErrorMessage;
	}
	var uri = uriTemplate.format([context.host, workspace.type + &quot;s&quot;,
		adaptor.normalizeTitle(workspace.name),
		adaptor.normalizeTitle(tiddler.title)]);
	var etag = adaptor.generateETag(workspace, tiddler);
	var headers = etag ? { &quot;If-Match&quot;: etag } : null;
	var payload = {
		type: tiddler.fields[&quot;server.content-type&quot;] || null,
		text: tiddler.text,
		tags: tiddler.tags,
		fields: $.extend({}, tiddler.fields)
	};
	delete payload.fields.changecount;
	$.each(payload.fields, function(key, value) {
		if(key.indexOf(&quot;server.&quot;) == 0) {
			delete payload.fields[key];
		}
	});
	payload = $.toJSON(payload);
	var req = httpReq(&quot;PUT&quot;, uri, adaptor.putTiddlerCallback,
		context, headers, payload, adaptor.mimeType, null, null, true);
	return typeof req == &quot;string&quot; ? req : true;
};

adaptor.putTiddlerCallback = function(status, context, responseText, uri, xhr) {
	context.status = [204, 1223].contains(xhr.status);
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	if(context.status) {
		var loc = xhr.getResponseHeader(&quot;Location&quot;);
		var etag = xhr.getResponseHeader(&quot;Etag&quot;);
		if(loc &amp;&amp; etag) {
			var bag = loc.split(&quot;/bags/&quot;).pop().split(&quot;/&quot;)[0];
			context.tiddler.fields[&quot;server.bag&quot;] = bag;
			context.tiddler.fields[&quot;server.workspace&quot;] = &quot;bags/&quot; + bag;
			var rev = etag.split(&quot;/&quot;).pop().split(/;|:/)[0];
			context.tiddler.fields[&quot;server.page.revision&quot;] = rev;
			context.tiddler.fields[&quot;server.etag&quot;] = etag;
			if(context.callback) {
				context.callback(context, context.userParams);
			}
		} else { // IE
			context.adaptor.getTiddler(context.tiddler.title, context,
				context.userParams, context.callback);
		}
	} else if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// store a tiddler chronicle
adaptor.prototype.putTiddlerChronicle = function(revisions, context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	context.title = revisions[0].title;
	var headers = null;
	var uriTemplate = &quot;%0/%1/%2/tiddlers/%3/revisions&quot;;
	var host = context.host || this.fullHostName(tiddler.fields[&quot;server.host&quot;]);
	var workspace = adaptor.resolveWorkspace(context.workspace);
	var uri = uriTemplate.format([host, workspace.type + &quot;s&quot;,
		adaptor.normalizeTitle(workspace.name),
		adaptor.normalizeTitle(context.title)]);
	if(workspace.type == &quot;bag&quot;) { // generate ETag
		var etag = [adaptor.normalizeTitle(workspace.name),
			adaptor.normalizeTitle(context.title), 0].join(&quot;/&quot;); //# zero-revision prevents overwriting existing contents
		headers = { &quot;If-Match&quot;: '&quot;' + etag + '&quot;' };
	}
	var payload = $.toJSON(revisions);
	var req = httpReq(&quot;POST&quot;, uri, adaptor.putTiddlerChronicleCallback,
		context, headers, payload, adaptor.mimeType, null, null, true);
	return typeof req == &quot;string&quot; ? req : true;
};

adaptor.putTiddlerChronicleCallback = function(status, context, responseText, uri, xhr) {
	context.status = [204, 1223].contains(xhr.status);
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// store a collection of tiddlers (import TiddlyWiki HTML store)
adaptor.prototype.putTiddlerStore = function(store, context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	var uriTemplate = &quot;%0/%1/%2/tiddlers&quot;;
	var host = context.host;
	var workspace = adaptor.resolveWorkspace(context.workspace);
	var uri = uriTemplate.format([host, workspace.type + &quot;s&quot;,
		adaptor.normalizeTitle(workspace.name)]);
	var req = httpReq(&quot;POST&quot;, uri, adaptor.putTiddlerStoreCallback,
		context, null, store, &quot;text/x-tiddlywiki&quot;, null, null, true);
	return typeof req == &quot;string&quot; ? req : true;
};

adaptor.putTiddlerStoreCallback = function(status, context, responseText, uri, xhr) {
	context.status = [204, 1223].contains(xhr.status);
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// rename an individual tiddler or move it to a different workspace -- TODO: make {from|to}.title optional
//# from and to are objects with members title and workspace (bag; optional),
//# representing source and target tiddler, respectively
adaptor.prototype.moveTiddler = function(from, to, context, userParams, callback) { // XXX: rename parameters (old/new)?
	var self = this;
	var newTiddler = store.getTiddler(from.title) || store.getTiddler(to.title); //# local rename might already have occurred
	var oldTiddler = $.extend(true, {}, newTiddler); //# required for eventual deletion
	oldTiddler.title = from.title; //# required for original tiddler's ETag
	var _getTiddlerChronicle = function(title, context, userParams, callback) {
		return self.getTiddlerChronicle(title, context, userParams, callback);
	};
	var _putTiddlerChronicle = function(context, userParams) {
		if(!context.status) {
			return callback(context, userParams);
		}
		var revisions = $.evalJSON(context.responseText); // XXX: error handling?
		// change current title while retaining previous location
		for(var i = 0; i &lt; revisions.length; i++) {
			delete revisions[i].revision;
			if(!revisions[i].fields.origin) { // NB: origin = &quot;&lt;workspace&gt;/&lt;title&gt;&quot;
				revisions[i].fields.origin = [&quot;bags&quot;, revisions[i].bag, revisions[i].title].join(&quot;/&quot;);
			}
			revisions[i].title = to.title;
		}
		// add new revision
		var rev = $.extend({}, revisions[0]);
		$.each(newTiddler, function(i, item) {
			if(!$.isFunction(item)) {
				rev[i] = item;
			}
		});
		rev.title = to.title;
		rev.created = rev.created.convertToYYYYMMDDHHMM();
		rev.modified = new Date().convertToYYYYMMDDHHMM();
		delete rev.fields.changecount;
		revisions.unshift(rev);
		if(to.workspace) {
			context.workspace = to.workspace;
		} else if(context.workspace.substring(0, 4) != &quot;bags&quot;) { // NB: target workspace must be a bag
			context.workspace = &quot;bags/&quot; + rev.bag;
		}
		var subCallback = function(context, userParams) {
			if(!context.status) {
				return callback(context, userParams);
			}
			context.adaptor.getTiddler(newTiddler.title, context, userParams, _deleteTiddler);
		};
		return self.putTiddlerChronicle(revisions, context, context.userParams, subCallback);
	};
	var _deleteTiddler = function(context, userParams) {
		if(!context.status) {
			return callback(context, userParams);
		}
		$.extend(true, newTiddler, context.tiddler);
		context.callback = null;
		return self.deleteTiddler(oldTiddler, context, context.userParams, callback);
	};
	callback = callback || function() {};
	context = this.setContext(context, userParams);
	context.host = context.host || oldTiddler.fields[&quot;server.host&quot;];
	context.workspace = from.workspace || oldTiddler.fields[&quot;server.workspace&quot;];
	return _getTiddlerChronicle(from.title, context, userParams, _putTiddlerChronicle);
};

// delete an individual tiddler
adaptor.prototype.deleteTiddler = function(tiddler, context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	context.title = tiddler.title; // XXX: not required!?
	var uriTemplate = &quot;%0/bags/%1/tiddlers/%2&quot;;
	var host = context.host || this.fullHostName(tiddler.fields[&quot;server.host&quot;]);
	var bag = tiddler.fields[&quot;server.bag&quot;];
	if(!bag) {
		return adaptor.noBagErrorMessage;
	}
	var uri = uriTemplate.format([host, adaptor.normalizeTitle(bag),
		adaptor.normalizeTitle(tiddler.title)]);
	var etag = adaptor.generateETag({ type: &quot;bag&quot;, name: bag }, tiddler);
	var headers = etag ? { &quot;If-Match&quot;: etag } : null;
	var req = httpReq(&quot;DELETE&quot;, uri, adaptor.deleteTiddlerCallback, context, headers,
		null, null, null, null, true);
	return typeof req == &quot;string&quot; ? req : true;
};

adaptor.deleteTiddlerCallback = function(status, context, responseText, uri, xhr) {
	context.status = [204, 1223].contains(xhr.status);
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// compare two revisions of a tiddler (requires TiddlyWeb differ plugin)
//# if context.rev1 is not specified, the latest revision will be used for comparison
//# if context.rev2 is not specified, the local revision will be sent for comparison
//# context.format is a string as determined by the TiddlyWeb differ plugin
adaptor.prototype.getTiddlerDiff = function(title, context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	context.title = title;

	var tiddler = store.getTiddler(title);
	try {
		var workspace = adaptor.resolveWorkspace(tiddler.fields[&quot;server.workspace&quot;]);
	} catch(ex) {
		return adaptor.locationIDErrorMessage;
	}
	var tiddlerRef = [workspace.type + &quot;s&quot;, workspace.name, tiddler.title].join(&quot;/&quot;);

	var rev1 = context.rev1 ? [tiddlerRef, context.rev1].join(&quot;/&quot;) : tiddlerRef;
	var rev2 = context.rev2 ? [tiddlerRef, context.rev2].join(&quot;/&quot;) : null;

	var uriTemplate = &quot;%0/diff?rev1=%1&quot;;
	if(rev2) {
		uriTemplate += &quot;&amp;rev2=%2&quot;;
	}
	if(context.format) {
		uriTemplate += &quot;&amp;format=%3&quot;;
	}
	var host = context.host || this.fullHostName(tiddler.fields[&quot;server.host&quot;]);
	var uri = uriTemplate.format([host, adaptor.normalizeTitle(rev1),
		adaptor.normalizeTitle(rev2), context.format]);

	if(rev2) {
		var req = httpReq(&quot;GET&quot;, uri, adaptor.getTiddlerDiffCallback, context, null,
			null, null, null, null, true);
	} else {
		var payload = {
			title: tiddler.title,
			text: tiddler.text,
			modifier: tiddler.modifier,
			tags: tiddler.tags,
			fields: $.extend({}, tiddler.fields)
		}; // XXX: missing attributes!?
		payload = $.toJSON(payload);
		req = httpReq(&quot;POST&quot;, uri, adaptor.getTiddlerDiffCallback, context,
			null, payload, adaptor.mimeType, null, null, true);
	}
	return typeof req == &quot;string&quot; ? req : true;
};

adaptor.getTiddlerDiffCallback = function(status, context, responseText, uri, xhr) {
	context.status = status;
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	context.uri = uri;
	if(status) {
		context.diff = responseText;
	}
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// generate tiddler information
adaptor.prototype.generateTiddlerInfo = function(tiddler) {
	var info = {};
	var uriTemplate = &quot;%0/%1/%2/tiddlers/%3&quot;;
	var host = this.host || tiddler.fields[&quot;server.host&quot;]; // XXX: this.host obsolete?
	host = this.fullHostName(host);
	var workspace = adaptor.resolveWorkspace(tiddler.fields[&quot;server.workspace&quot;]);
	info.uri = uriTemplate.format([host, workspace.type + &quot;s&quot;,
		adaptor.normalizeTitle(workspace.name),
		adaptor.normalizeTitle(tiddler.title)]);
	return info;
};

// create Tiddler instance from TiddlyWeb tiddler JSON
adaptor.toTiddler = function(json, host) {
	var created = Date.convertFromYYYYMMDDHHMM(json.created);
	var modified = Date.convertFromYYYYMMDDHHMM(json.modified);
	var fields = json.fields;
	fields[&quot;server.type&quot;] = adaptor.serverType;
	fields[&quot;server.host&quot;] = AdaptorBase.minHostName(host);
	fields[&quot;server.bag&quot;] = json.bag;
	fields[&quot;server.title&quot;] = json.title;
	if(json.recipe) {
		fields[&quot;server.recipe&quot;] = json.recipe;
	}
	if(json.type &amp;&amp; json.type != &quot;None&quot;) {
		fields[&quot;server.content-type&quot;] = json.type;
	}
	fields[&quot;server.permissions&quot;] = json.permissions.join(&quot;, &quot;);
	fields[&quot;server.page.revision&quot;] = json.revision;
	fields[&quot;server.workspace&quot;] = &quot;bags/&quot; + json.bag;
	var tiddler = new Tiddler(json.title);
	tiddler.assign(tiddler.title, json.text, json.modifier, modified, json.tags,
		created, json.fields, json.creator);
	return tiddler;
};

adaptor.resolveWorkspace = function(workspace) {
	var components = workspace.split(&quot;/&quot;);
	return {
		type: components[0] == &quot;bags&quot; ? &quot;bag&quot; : &quot;recipe&quot;,
		name: components[1] || components[0]
	};
};

adaptor.generateETag = function(workspace, tiddler) {
	var revision = tiddler.fields[&quot;server.page.revision&quot;];
	var etag = revision == &quot;false&quot; ? null : tiddler.fields[&quot;server.etag&quot;];
	if(!etag &amp;&amp; workspace.type == &quot;bag&quot;) {
		if(typeof revision == &quot;undefined&quot;) {
			revision = &quot;0&quot;;
		} else if(revision == &quot;false&quot;) {
			return null;
		}
		etag = [adaptor.normalizeTitle(workspace.name),
			adaptor.normalizeTitle(tiddler.title), revision].join(&quot;/&quot;);
		etag = '&quot;' + etag + '&quot;';
	}
	return etag;
};

adaptor.normalizeTitle = function(title) {
	return encodeURIComponent(title);
};

})(jQuery);


/*
 * jQuery JSON Plugin
 * version: 1.3
 * source: http://code.google.com/p/jquery-json/
 * license: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
(function($){function toIntegersAtLease(n)
{return n&lt;10?'0'+n:n;}
Date.prototype.toJSON=function(date)
{return this.getUTCFullYear()+'-'+
toIntegersAtLease(this.getUTCMonth())+'-'+
toIntegersAtLease(this.getUTCDate());};var escapeable=/[&quot;\\\x00-\x1f\x7f-\x9f]/g;var meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','&quot;':'\\&quot;','\\':'\\\\'};$.quoteString=function(string)
{if(escapeable.test(string))
{return'&quot;'+string.replace(escapeable,function(a)
{var c=meta[a];if(typeof c==='string'){return c;}
c=a.charCodeAt();return'\\u00'+Math.floor(c/16).toString(16)+(c%16).toString(16);})+'&quot;';}
return'&quot;'+string+'&quot;';};$.toJSON=function(o,compact)
{var type=typeof(o);if(type==&quot;undefined&quot;)
return&quot;undefined&quot;;else if(type==&quot;number&quot;||type==&quot;boolean&quot;)
return o+&quot;&quot;;else if(o===null)
return&quot;null&quot;;if(type==&quot;string&quot;)
{return $.quoteString(o);}
if(type==&quot;object&quot;&amp;&amp;typeof o.toJSON==&quot;function&quot;)
return o.toJSON(compact);if(type!=&quot;function&quot;&amp;&amp;typeof(o.length)==&quot;number&quot;)
{var ret=[];for(var i=0;i&lt;o.length;i++){ret.push($.toJSON(o[i],compact));}
if(compact)
return&quot;[&quot;+ret.join(&quot;,&quot;)+&quot;]&quot;;else
return&quot;[&quot;+ret.join(&quot;, &quot;)+&quot;]&quot;;}
if(type==&quot;function&quot;){throw new TypeError(&quot;Unable to convert object of type 'function' to json.&quot;);}
var ret=[];for(var k in o){var name;type=typeof(k);if(type==&quot;number&quot;)
name='&quot;'+k+'&quot;';else if(type==&quot;string&quot;)
name=$.quoteString(k);else
continue;var val=$.toJSON(o[k],compact);if(typeof(val)!=&quot;string&quot;){continue;}
if(compact)
ret.push(name+&quot;:&quot;+val);else
ret.push(name+&quot;: &quot;+val);}
return&quot;{&quot;+ret.join(&quot;, &quot;)+&quot;}&quot;;};$.compactJSON=function(o)
{return $.toJSON(o,true);};$.evalJSON=function(src)
{return eval(&quot;(&quot;+src+&quot;)&quot;);};$.secureEvalJSON=function(src)
{var filtered=src;filtered=filtered.replace(/\\[&quot;\\\/bfnrtu]/g,'@');filtered=filtered.replace(/&quot;[^&quot;\\\n\r]*&quot;|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']');filtered=filtered.replace(/(?:^|:|,)(?:\s*\[)+/g,'');if(/^[\],:{}\s]*$/.test(filtered))
return eval(&quot;(&quot;+src+&quot;)&quot;);else
throw new SyntaxError(&quot;Error parsing JSON, source is not valid.&quot;);};})(jQuery);
//}}}</pre>
</div>
<div title="TiddlyWebConfig" creator="FND" modifier="FND" created="201309241804" modified="201309241804" tags="excludeLists excludeSearch systemConfig" _hash="29e43eb7496ba0572556029d183cb3f434369f04" server.content-type="text/javascript" server.permissions="read" server.bag="system" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system" server.etag="&quot;system/TiddlyWebConfig/1521857:7490c3b60c9c6f5ad94521bfe70511996b1af791&quot;" server.page.revision="1521857" server.title="TiddlyWebConfig">
<pre>/***
|''Name''|TiddlyWebConfig|
|''Description''|configuration settings for TiddlyWebWiki|
|''Author''|FND|
|''Version''|1.3.2|
|''Status''|stable|
|''Source''|http://svn.tiddlywiki.org/Trunk/association/plugins/TiddlyWebConfig.js|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''Requires''|TiddlyWebAdaptor ServerSideSavingPlugin|
|''Keywords''|serverSide TiddlyWeb|
!Code
***/
//{{{
(function($) {

if(!config.extensions.ServerSideSavingPlugin) {
	throw &quot;Missing dependency: ServerSideSavingPlugin&quot;;
}
if(!config.adaptors.tiddlyweb) {
	throw &quot;Missing dependency: TiddlyWebAdaptor&quot;;
}

if(window.location.protocol != &quot;file:&quot;) {
	config.options.chkAutoSave = true;
}

var adaptor = tiddler.getAdaptor();
var recipe = tiddler.fields[&quot;server.recipe&quot;];
var workspace = recipe ? &quot;recipes/&quot; + recipe : &quot;bags/common&quot;;

var plugin = config.extensions.tiddlyweb = {
	host: tiddler.fields[&quot;server.host&quot;].replace(/\/$/, &quot;&quot;),
	username: null,
	status: {},

	getStatus: null, // assigned later
	getUserInfo: function(callback) {
		this.getStatus(function(status) {
			callback({
				name: plugin.username,
				anon: plugin.username ? plugin.username == &quot;GUEST&quot; : true
			});
		});
	},
	hasPermission: function(type, tiddler) {
		var perms = tiddler.fields[&quot;server.permissions&quot;];
		if(perms) {
			return perms.split(&quot;, &quot;).contains(type);
		} else {
			return true;
		}
	}
};

config.defaultCustomFields = {
	&quot;server.type&quot;: tiddler.getServerType(),
	&quot;server.host&quot;: plugin.host,
	&quot;server.workspace&quot;: workspace
};

// modify toolbar commands

config.shadowTiddlers.ToolbarCommands = config.shadowTiddlers.ToolbarCommands.
	replace(&quot;syncing &quot;, &quot;revisions syncing &quot;);

config.commands.saveTiddler.isEnabled = function(tiddler) {
	return plugin.hasPermission(&quot;write&quot;, tiddler) &amp;&amp; !tiddler.isReadOnly();
};

config.commands.deleteTiddler.isEnabled = function(tiddler) {
	return !readOnly &amp;&amp; plugin.hasPermission(&quot;delete&quot;, tiddler);
};

// hijack option macro to disable username editing
var _optionMacro = config.macros.option.handler;
config.macros.option.handler = function(place, macroName, params, wikifier,
		paramString) {
	if(params[0] == &quot;txtUserName&quot;) {
		params[0] = &quot;options.&quot; + params[0];
		var self = this;
		var args = arguments;
		args[0] = $(&quot;&lt;span /&gt;&quot;).appendTo(place)[0];
		plugin.getUserInfo(function(user) {
			config.macros.message.handler.apply(self, args);
		});
	} else {
		_optionMacro.apply(this, arguments);
	}
};

// hijack isReadOnly to take into account permissions and content type
var _isReadOnly = Tiddler.prototype.isReadOnly;
Tiddler.prototype.isReadOnly = function() {
	return _isReadOnly.apply(this, arguments) ||
		!plugin.hasPermission(&quot;write&quot;, this);
};

var getStatus = function(callback) {
	if(plugin.status.version) {
		callback(plugin.status);
	} else {
		var self = getStatus;
		if(self.pending) {
			if(callback) {
				self.queue.push(callback);
			}
		} else {
			self.pending = true;
			self.queue = callback ? [callback] : [];
			var _callback = function(context, userParams) {
				var status = context.serverStatus || {};
				for(var key in status) {
					if(key == &quot;username&quot;) {
						plugin.username = status[key];
						config.macros.option.propagateOption(&quot;txtUserName&quot;,
							&quot;value&quot;, plugin.username, &quot;input&quot;);
					} else {
						plugin.status[key] = status[key];
					}
				}
				for(var i = 0; i &lt; self.queue.length; i++) {
					self.queue[i](plugin.status);
				}
				delete self.queue;
				delete self.pending;
			};
			adaptor.getStatus({ host: plugin.host }, null, _callback);
		}
	}
};
(plugin.getStatus = getStatus)(); // XXX: hacky (arcane combo of assignment plus execution)

})(jQuery);
//}}}</pre>
</div>
<div title="ToggleTiddlerPrivacyPlugin" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch systemConfig" _hash="3acf06056e188b31bcc3c42ec673a050886d64c4" server.content-type="text/javascript" server.permissions="read" server.bag="system-plugins_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-plugins_public" server.etag="&quot;system-plugins_public/ToggleTiddlerPrivacyPlugin/1521863:bc8df69f76b528c790abb6dabf32de841de825a3&quot;" server.page.revision="1521863" server.title="ToggleTiddlerPrivacyPlugin">
<pre>/***
|''Name''|ToggleTiddlerPrivacyPlugin|
|''Version''|0.7.1|
|''Status''|@@beta@@|
|''Description''|Allows you to set the privacy of new tiddlers and external tiddlers within an EditTemplate, and allows you to set a default privacy setting|
|''CoreVersion''|2.6.1|
|''Requires''|TiddlySpaceConfig|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/ToggleTiddlerPrivacyPlugin.js|
!Notes
When used in conjunction with TiddlySpaceTiddlerIconsPlugin changing the privacy setting will also interact with any privacy icons.

Currently use of
{{{&lt;&lt;setPrivacy defaultValue:public&gt;&gt;}}} is in conflict with {{{&lt;&lt;newTiddler fields:&quot;server.workspace:x_private&quot;&gt;&gt;}}}

There is an option, found in the tweak tab of the backstage, called txtPrivacyMode. Set this to either ''public'' or ''private'' depending on your security preference. If you choose not to set it then it will default to ''public''.
!Params
defaultValue:[private|public]
Allows you to set the default privacy value (Default is private)

!Code
***/
//{{{
(function($) {

	var tiddlyspace = config.extensions.tiddlyspace,
		macro;
	macro = config.macros.setPrivacy = {
		handler: function(place, macroName, params, wikifier, paramString, tiddler) {
			if(readOnly) {
				return;
			}
			var el = $(story.findContainingTiddler(place)),
				args = paramString.parseParams(&quot;name&quot;,
					null, true, false, true)[0],
				container = $(&quot;&lt;div /&gt;&quot;).
					addClass(&quot;privacySettings&quot;).
					appendTo(place)[0],
				currentSpace = tiddlyspace.currentSpace.name,
				currentBag = tiddler ? tiddler.fields[&quot;server.bag&quot;] : false,
				// XXX: is the following reliable?
				isNewTiddler = el.hasClass(&quot;missing&quot;) || !currentBag,
				tiddlerStatus = tiddlyspace.getTiddlerStatusType(tiddler),
				customFields = el.attr(&quot;tiddlyfields&quot;),
				defaultValue = &quot;public&quot;,
				options = config.macros.tiddlerOrigin ?
						config.macros.tiddlerOrigin.getOptions(paramString) :
						{};
			customFields = customFields ? customFields.decodeHashMap() : {};
			if(isNewTiddler || ![&quot;public&quot;, &quot;private&quot;, &quot;unsyncedPrivate&quot;,
					&quot;unsyncedPublic&quot;].contains(tiddlerStatus)) {
				if(args.defaultValue) {
					defaultValue = args.defaultValue[0].toLowerCase();
				} else {
					defaultValue = config.options.chkPrivateMode ?
							&quot;private&quot; : &quot;public&quot;;
				}
				defaultValue = defaultValue ?
						&quot;%0_%1&quot;.format(currentSpace, defaultValue) :
						customFields[&quot;server.bag&quot;];
				this.createRoundel(container, tiddler, currentSpace,
						defaultValue, options);
			}
		},
		updateEditFields: function(tiddlerEl, bag) {
			var saveBagField = $('[edit=&quot;server.bag&quot;]', tiddlerEl),
				saveWorkspaceField = $('[edit=&quot;server.workspace&quot;]', tiddlerEl),
				input = $(&quot;&lt;input /&gt;&quot;).attr(&quot;type&quot;, &quot;hidden&quot;),
				workspace = &quot;bags/&quot; + bag;
			if(saveBagField.length === 0) {
				input.clone().attr(&quot;edit&quot;, &quot;server.bag&quot;).val(bag).
					appendTo(tiddlerEl);
			} else {
				saveBagField.val(bag);
			}
			// reset to prevent side effects
			$(tiddlerEl).attr(&quot;tiddlyFields&quot;, &quot;&quot;);
			if(saveWorkspaceField.length === 0) {
				input.clone().attr(&quot;edit&quot;, &quot;server.workspace&quot;).
					val(workspace).appendTo(tiddlerEl);
			} else {
				saveWorkspaceField.val(workspace);
			}
		},
		setBag: function(tiddlerEl, newBag, options) {
			var bagStatus,
				title = $(tiddlerEl).attr(&quot;tiddler&quot;),
				tiddler = store.getTiddler(title),
				originButton = $(&quot;.originButton&quot;, tiddlerEl)[0],
				refreshIcon,
				newWorkspace = &quot;bags/&quot; + newBag,
				rPrivate = $(&quot;input[type=radio].isPrivate&quot;, tiddlerEl),
				rPublic = $(&quot;input[type=radio].isPublic&quot;, tiddlerEl);
			refreshIcon = function(type) {
				var originMacro = config.macros.tiddlerOrigin;
				if(originButton &amp;&amp; originMacro) {
					options.noclick = true;
					originMacro.showPrivacyRoundel(tiddler, type,
							originButton, options);
				}
			};
			macro.updateEditFields(tiddlerEl, newBag);
			if(tiddler) {
				tiddler.fields[&quot;server.bag&quot;] = newBag;
				// for external tiddlers
				tiddler.fields[&quot;server.workspace&quot;] = newWorkspace;
			}
			if(newBag.indexOf(&quot;_public&quot;) &gt; -1) {
				rPrivate.attr(&quot;checked&quot;, false);
				rPublic.attr(&quot;checked&quot;, true);
				bagStatus = &quot;public&quot;;
			} else {
				rPublic.attr(&quot;checked&quot;, false); // explicitly do this for ie
				rPrivate.attr(&quot;checked&quot;, true);
				bagStatus = &quot;private&quot;;
			}
			refreshIcon(bagStatus);
		},
		createRoundel: function(container, tiddler, currentSpace,
							   defaultValue, options) {
			var privateBag = &quot;%0_private&quot;.format(currentSpace),
				publicBag = &quot;%0_public&quot;.format(currentSpace),
				rbtn = $(&quot;&lt;input /&gt;&quot;).attr(&quot;type&quot;, &quot;radio&quot;).
					attr(&quot;name&quot;, tiddler.title),
				el = story.findContainingTiddler(container);
			rbtn.clone().val(&quot;private&quot;).addClass(&quot;isPrivate&quot;).
				appendTo(container);
			$(&quot;&lt;label /&gt;&quot;).text(&quot;private&quot;).appendTo(container); // TODO: i18n
			rbtn.clone().val(&quot;public&quot;).addClass(&quot;isPublic&quot;)
				.appendTo(container);
			$(&quot;&lt;label /&gt;&quot;).text(&quot;public&quot;).appendTo(container); // TODO: i18n
			$(&quot;[type=radio]&quot;, container).click(function(ev) {
				var btn = $(ev.target);
				tiddler.fields[&quot;server.page.revision&quot;] = &quot;false&quot;;
				if(btn.hasClass(&quot;isPrivate&quot;)) { // private button clicked.
					$(el).addClass(&quot;isPrivate&quot;).removeClass(&quot;isPublic&quot;);
					macro.setBag(el, privateBag, options);
				} else {
					$(el).addClass(&quot;isPublic&quot;).removeClass(&quot;isPrivate&quot;);
					macro.setBag(el, publicBag, options);
				}
			});
			window.setTimeout(function() {
				macro.setBag(el, defaultValue, options);
			}, 100);
			// annoyingly this is needed as customFields are added to end of EditTemplate so are not present yet
			// and don't seem to respect any existing customFields.
		}
	};

}(jQuery));
//}}}</pre>
</div>
<div title="ToolbarCommands" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch" _hash="b4c48a116434073fe3dd125db8ac7616ac920c98" server.content-type="" server.permissions="read" server.bag="tiddlyspace" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" server.etag="&quot;tiddlyspace/ToolbarCommands/1521884:4b76872e5377170958f159fe2db2e9e9a7861614&quot;" server.page.revision="1521884" server.title="ToolbarCommands">
<pre>|~ViewToolbar|+editTiddler +cloneTiddler &gt; fields refreshTiddler changeToPublic changeToPrivate revisions syncing permalink references jump closeOthers &lt; closeTiddler|
|~EditToolbar|+saveTiddler saveDraft -cancelTiddler deleteTiddler|
|~RevisionToolbar|&gt; fields revert|</pre>
</div>
<div title="Triangulation" creator="inforabbi" modifier="inforabbi" created="201312151634" modified="201312151634" _hash="98faac3c78ccc7263febb24985feed745d027169" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/Triangulation/1596766:ce783463d51eae154170b1eb6801d16d2e0d7d7d&quot;" server.page.revision="1596766" server.title="Triangulation">
<pre>1.资料三角测定（data triangulation），即在研究中利用不同来源的资料。
2.研究者三角测定（investigator triangulation），即使用不同的研究人员或评鉴人员去分析所获得之资料。
3.理论三角测定（theory triangulation），即使用多种观点取向去诠释一组资料。
4.方法论三角测定（methodological triangulation），即以多种方法研究一个问题或一个方案。

</pre>
</div>
<div title="Ubuntu最新版9.10发布" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="dd916379d14756d492c9e5ac4e55aa304f0d3c72" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/Ubuntu%E6%9C%80%E6%96%B0%E7%89%889.10%E5%8F%91%E5%B8%83/1188323:b574daa10e12b578483db9fd18ade674e6cab5a2&quot;" server.page.revision="1188323" server.title="Ubuntu最新版9.10发布">
<pre>[img[Ubuntu9.10.png]]</pre>
</div>
<div title="ViewTemplate" creator="inforabbi" modifier="inforabbi" created="201012111848" modified="201012111848" tags="excludeSearch" _hash="0de979c0e3c3768e61bd85a51a4b410992a15ff2" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/ViewTemplate/76152:12b3ca1231a0a257eaf66d3f7fe47ebec714f317&quot;" server.page.revision="76152" server.title="ViewTemplate">
<pre>&lt;!--{{{--&gt;
&lt;div class='toolbar'
	macro='toolbar [[ToolbarCommands::ViewToolbar]] icons:yes height:16 width:16 more:popup'&gt;
&lt;/div&gt;&lt;div class='tagInfo'&gt;
	&lt;div class='tidTags' macro='tags'&gt;&lt;/div&gt;
	&lt;div class='tagging' macro='tagging'&gt;&lt;/div&gt;
&lt;div class='heading'&gt;
	&lt;span class='spaceSiteIcon'
		macro='tiddlerOrigin label:no spaceLink:yes height:48 width:48 preserveAspectRatio:yes'&gt;
	&lt;/span&gt;
	&lt;span class=&quot;titleBar&quot;&gt;
		&lt;div class='title' macro='view title text'&gt;&lt;/div&gt;
		&lt;span class=&quot;subtitle&quot; macro='viewRevisions page:5'&gt;
			last modified on
			&lt;span macro=&quot;view modified date&quot;&gt;&lt;/span&gt;
		&lt;/span&gt;
		&lt;div macro=&quot;view title replyLink&quot;&gt;&lt;/div&gt;
	&lt;/span&gt;
	&lt;span class='followPlaceHolder' macro='followTiddlers'&gt;&lt;/span&gt;
	&lt;span class='modifierIcon'
		macro='view modifier SiteIcon label:no spaceLink:yes height:48 width:48 preserveAspectRatio:yes'&gt;
	&lt;/span&gt;
	&lt;div class='tagClear'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class='content'&gt;
	&lt;div class='viewer' macro='view text wikified'&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div title="Web2.0网络信息组织" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="53250fc79026649139882712f1bfcb6a86799904" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/Web2.0%E7%BD%91%E7%BB%9C%E4%BF%A1%E6%81%AF%E7%BB%84%E7%BB%87/1188326:8390d272364dc935ac12c9e1877de69eebb584a2&quot;" server.page.revision="1188326" server.title="Web2.0网络信息组织">
<pre>*大众分类法（Folksonomy）是由“Folks”和“Taxonomy”组合而来，Folks在英文中是比较口语化的词，表示一群人，一伙人的意思。Taxonomy则是指分类法，它是信息架構（Information Architecture）中一个重要部分。而“Folksonomy”是指“群众”自发性定义的平面型非层级结构式标签分类，現有“分众分类法”,“通俗分类法”,“大眾分类法”,“民眾分类法”,“俗民分類法”等不同的翻譯名称。</pre>
</div>
<div title="Web信息架构一书" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201312111659" _hash="5307e6b90fb07d364344b0ff3a58c4f76f896ade" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/Web%E4%BF%A1%E6%81%AF%E6%9E%B6%E6%9E%84%E4%B8%80%E4%B9%A6/1590964:379ffe6ea32062e9649aee4b2f30b1c2c95eb8a1&quot;" server.page.revision="1590964" server.title="Web信息架构一书">
<pre>[img[Web信息架构一书封面|http://www.chnxp.com.cn/soft/UploadPic/2013-5/2013-05-312akpsxaa0ly.jpg]]</pre>
</div>
<div title="Welcome" creator="inforabbi" modifier="inforabbi" created="201403100846" modified="201504191617" _hash="6f0643bba4a3d5f8edcfd4e6b1c923ab279db33b" server.content-type="" server.permissions="read, write, create, delete" server.bag="inforabbi_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/inforabbi_public" server.etag="&quot;inforabbi_public/Welcome/2184195:df3ff9077732603b83e2757b2e7f65fd941c3476&quot;" server.page.revision="2184195" server.title="Welcome">
<pre>&lt;&lt;gradient horiz #ff8888 #ffdddd #ffffff&gt;&gt;''个人信息管理''&gt;&gt;
&lt;&lt;tabs tabsClass 工作 '关于工作的内容' 工作文档分类
研究 '关于研究内容的东西' 研究内容分类
学习 '关于学习相关的内容' 学习内容分类
业余 '关于业余学习的东西' 业余学习内容分类
娱乐 '关于娱乐的东西' 娱乐内容分类&gt;&gt;</pre>
</div>
<div title="WikiBar" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" tags="systemConfig" _hash="bfdc0a58912d6036ee851f7740fdcc9ee6b0d0ed" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/WikiBar/1188330:6a56fa7cd484a4aa41e268bc65ab2f41004f0291&quot;" server.page.revision="1188330" server.title="WikiBar">
<pre>/***
|''Name:''|WikiBar|
|''Version:''|2.0.0 beta3|
|''Source:''|[[AiddlyWiki|http://aiddlywiki.sourceforge.net]]|
|''Author:''|[[Arphen Lin|mailto:arphenlin@gmail.com]]|
|''Type:''|toolbar macro command extension|
|''Required:''|TiddlyWiki 2.0.0 beta6|
!Description
WikiBar is a toolbar that gives access to most of TiddlyWiki's formatting features with a few clicks. It's a handy tool for people who are not familiar with TiddlyWiki syntax.
Besides, with WikiBar-addons, users can extend the power of WikiBar.
!Support browser
*Firefox 1.5
!Revision history
*v2.0.0 beta3 (2005/12/30)
** remove macros (replaced by TWMacro addon)
** add wikibar command in toolbar automatically
** rename DOIT to HANDLER
** rename TIP to TOOLTIP
*v2.0.0 beta2 (2005/12/21)
** re-design Wikibar addon framework
*v2.0.0 beta1 (2005/12/14)
** Note:
*** WikiBarPlugin is renamed to WikiBar
** New Features:
*** support TiddlyWiki 2.0.0 template mechanism
*** new wikibar data structure
*** new wikibar-addon framework for developers
**** support dynamic popup menu generator
*** support most new macros added in TiddlyWiki 2.0.0
*** multi-level popup menu
*** fix wikibar tab stop
*** remove paletteSelector
** Known Bugs:
*** popup-menu and color-picker can't be closed correctly
*** some macros can't be displayed correctly in previewer
*** text in previewer will be displayed italic
*v1.2.0 (2005/11/21)
**New Features:
***User defined color palettes supported
####Get color palettes from [[ColorZilla Palettes|http://www.iosart.com/firefox/colorzilla/palettes.html]].
####Save the palette file(*.gpl) as a new tiddler and tag it with 'ColorPalettes', then you can use it in WikiBar.
***WikiBar style sheet supported
***Click on document to close current colorPicker, paletteSelector or aboutWikibar
*v1.1.1 (2005/11/03)
**Bugs fixed:
***'Not enough parameters!' message is displayed when the parameter includes '%+number', ex: 'hello%20world!'
*v1.1.0 (2005/11/01)
**Bugs fixed:
***WikiBar overruns (reported by by GeoffS &lt;gslocock@yahoo.co.uk&gt;)
**New features:
***Insert a color code at the cursor. (Thanks to RunningUtes &lt;RunningUtes@gmail.com&gt;)
***Enable gradient macro. (Thanks to RunningUtes &lt;RunningUtes@gmail.com&gt;)
***Insert tiddler comment tags {{{/% ... %/}}}. (new feature supported by TiddlyWiki 1.2.37)
***Insert DateFormatString for {{{&lt;&lt;today&gt;&gt;}}} macro. (new feature supported by TiddlyWiki 1.2.37)
**Enhanced:
***Allow optional parameters in syntax.
**Bugs:
***'Not enough parameters!' message is displayed when the parameter includes '%+number', ex: 'hello%20world!'
*v1.0.0 (2005/10/30)
**Initial release
!Code
***/
//{{{
config.macros.wikibar = {major: 2, minor: 0, revision: 0, beta: 3, date: new Date(2005,12,30)};
config.macros.wikibar.handler = function(place,macroName,params,wikifier,paramString,tiddler){
  if(!(tiddler instanceof Tiddler))  {return;}
	story.setDirty(tiddler.title,true);
  place.id = 'wikibar'+tiddler.title;
  place.className = 'toolbar wikibar';
};
function wikibar_install(){
  config.commands.wikibar = {
  	text: 'wikibar',
  	tooltip: 'wikibar on/off',
  	handler: function(e,src,title) {
      if(!e){ e = window.event; }
      var theButton = resolveTarget(e);
      theButton.id = 'wikibarButton'+title;
      wikibarPopup.remove();
      wikibar_installAddons(theButton, title);
      wikibar_createWikibar(title);
      return(false);
    }
  };
  config.shadowTiddlers['EditTemplate'] = wikibar_addWikibarCommand(config.shadowTiddlers['EditTemplate']);
  var tiddler = store.getTiddler('EditTemplate');
  if(tiddler){
    tiddler.text = wikibar_addWikibarCommand(tiddler.text);
  }
}
function wikibar_installAddons(theButton, title){
 	var tiddlers = store.getTaggedTiddlers('wikibarAddons');
	if(!tiddlers)	  { return; }
	theButton.addons=[];
  for(var i=0; i&lt;tiddlers.length; i++){
    try{
      eval(tiddlers[i].text);
      try{
        wikibar_addonInstall(title);
        wikibar_addonInstall = null;
        theButton.addons.push({ok:true, name:tiddlers[i].title});
      }catch(ex){
        theButton.addons.push({ok:false, name:tiddlers[i].title, error:ex});
      }
    }catch(ex){
      theButton.addons.push({ok:false, name:tiddlers[i].title, error:ex});
    }
  }
}
function wikibar_addWikibarCommand(tiddlerText){
  var div = document.createElement('div');
  div.style.display = 'none';
  div.innerHTML = tiddlerText;
  for(var i=0; i&lt;div.childNodes.length; i++){
    var o=div.childNodes[i];
    if(o.tagName==='DIV'){
      if(o.className=='toolbar'){
        var macroText = o.getAttribute('macro').trim();
        if(macroText.search('wikibar')&lt;=0){
          macroText += ' wikibar';
          o.setAttribute('macro', macroText);
        }
        break;
      }
    }
  }
  return div.innerHTML.replace(/\&quot;/g, &quot;\'&quot;);
}
function wikibar_processSyntaxParams(theSyntax, params){
  try{
    var pcr = 'AplWikibarPcr';
    var rx=null;
    var allParams=null;
    if(params){
      if(typeof(params)=='object'){
        for(var i=0; i&lt;params.length; i++){
          if(params[i]){
            params[i] = params[i].replace(new RegExp('%','g'), pcr).trim();
            rx = '(\\[%'+(i+1)+'\\])' + '|' + '(%'+(i+1)+')';
            theSyntax = theSyntax.replace(new RegExp(rx,'g'), params[i] );
          }
        }
        allParams = params.join(' ').trim();
      }else{
        allParams = params.replace(new RegExp('%','g'), pcr).trim();
        rx = /(\[%1{1}\])|(%1{1})/g;
        theSyntax = theSyntax.replace(rx, allParams);
      }
    }
    if(allParams){
      theSyntax = theSyntax.replace(new RegExp('%N{1}','g'), allParams);
    }
    rx=/\[%(([1-9]{1,}[0-9]{0,})|(N{1}))\]/g;
    theSyntax = theSyntax.replace(rx, '');
    rx=/%(([1-9]{1,}[0-9]{0,})|(N{1}))/g;
    if( theSyntax.match(rx) ){
      throw 'Not enough parameters! ' + theSyntax;
    }
    theSyntax=theSyntax.replace(new RegExp(pcr,'g'), '%');
    return theSyntax;
  } catch(ex){
    return null;
  }
}
function wikibar_resolveEditItem(tiddlerWrapper, itemName){
  if(tiddlerWrapper.hasChildNodes()){
    var c=tiddlerWrapper.childNodes;
    for(var i=0; i&lt;c.length; i++){
      var txt=wikibar_resolveEditItem(c[i], itemName);
      if(!txt){
        continue;
      }else{
        return txt;
      }
    }
  }
  return ((tiddlerWrapper.getAttribute &amp;&amp; tiddlerWrapper.getAttribute('edit')==itemName)? tiddlerWrapper : null);
}
function wikibar_resolveEditItemValue(tiddlerWrapper, itemName){
  var o = wikibar_resolveEditItem(tiddlerWrapper, itemName);
  return (o? o.value.replace(/\r/mg,'') : null);
}
function wikibar_resolveTiddlerEditorWrapper(obj){
  if(obj.id=='tiddlerDisplay'){return null;}
  if((obj.getAttribute &amp;&amp; obj.getAttribute('macro')=='edit text')){return obj;}
  return wikibar_resolveTiddlerEditorWrapper(obj.parentNode);
}
function wikibar_resolveTiddlerEditor(obj){
  if(obj.hasChildNodes()){
    var c = obj.childNodes;
    for(var i=0; i&lt;c.length; i++){
      var o=wikibar_resolveTiddlerEditor(c[i]);
      if(o){ return o;}
    }
  }
  return ((obj.getAttribute &amp;&amp; obj.getAttribute('edit')=='text')? obj : null);
}
function wikibar_resolveTargetButton(obj){
  if(obj.id &amp;&amp; obj.id.substring(0,7)=='wikibar'){ return null; }
  if(obj.tiddlerTitle){
    return obj;
  }else{
    return wikibar_resolveTargetButton(obj.parentNode);
  }
}
function wikibar_isValidMenuItem(tool){
  if(!tool){  return false; }
  if(tool.TYPE=='MENU' || tool.TYPE=='MAIN_MENU'){
    for(var key in tool){
      if(key.substring(0,8)=='DYNAITEM'){ return true; }
      if(wikibar_isValidMenuItem(tool[key])){ return true; }
    }
    return false;
  }else{
    return (tool.HANDLER? true : false);
  }
}
function wikibar_editFormat(param){
  var editor = param.button.editor;
  var params = param.params;
  clearMessage();
  if(!editor){ return; }
  var repText = wikibar_processSyntaxParams(this.syntax, params);
  if(repText===null){ return; }
	var st = editor.scrollTop;
	var ss = editor.selectionStart;
	var se = editor.selectionEnd;
	var frontText= '';
	var endText  = '';
	var fullText = editor.value;
	if(se&gt;ss &amp;&amp; ss&gt;=0){
	  frontText  = fullText.substring(0, ss);
	  endText    = fullText.substring(se, fullText.length);
	}
	else if(ss===0 &amp;&amp; (se===0 || se == fullText.length) ){
    endText    = fullText;
	}
	else if(se==ss &amp;&amp; ss&gt;0){
    frontText  = fullText.substring(0, ss);
    endText    = fullText.substring(se, fullText.length);
	}
	if(repText.indexOf('user_text')&gt;=0 &amp;&amp; this.hint){
		repText = repText.replace('user_text', this.hint);
	}
	editor.value = frontText + repText + endText;
	editor.selectionStart = ss;
	editor.selectionEnd   = ss + repText.length;
	editor.scrollTop      = st;
	editor.focus();
}
function wikibar_editFormatByWord(param){
  var editor = param.button.editor;
  var params = param.params;
  clearMessage();
  if(!editor){return;}
  var repText = wikibar_processSyntaxParams(this.syntax, params);
  if(repText===null){ return; }
	var st = editor.scrollTop;
	var ss = editor.selectionStart;
	var se = editor.selectionEnd;
	var frontText= '';
	var selText  = '';
	var endText  = '';
	var fullText = editor.value;
	if(se&gt;ss &amp;&amp; ss&gt;=0){
	  frontText  = fullText.substring(0, ss);
	  selText	   = fullText.substring(ss,se);
	  endText    = fullText.substring(se, fullText.length);
	}
	else if(ss===0 &amp;&amp; (se===0 || se == fullText.length) ){
    endText    = fullText;
	}
	else if(se==ss &amp;&amp; ss&gt;0){
    frontText  = fullText.substring(0, ss);
    endText    = fullText.substring(se, fullText.length);
	  if(!( fullText.charAt(ss-1).match(/\W/gi) || fullText.charAt(ss).match(/\W/gi) )){
      var m = frontText.match(/\W/gi);
      if(m){
        ss = frontText.lastIndexOf(m[m.length-1])+1;
      }
      else{
        ss = 0;
      }
      m = endText.match(/\W/gi);
      if(m){
        se += endText.indexOf(m[0]);
      }
      else{
        se = fullText.length;
      }
      frontText = fullText.substring(0, ss);
  	  endText   = fullText.substring(se, fullText.length);
  	  selText   = fullText.substring(ss,se);
	  }
	}
	if(selText.length&gt;0){
		repText = repText.replace('user_text', selText);
	}
	if(repText.indexOf('user_text')&gt;=0 &amp;&amp; this.hint){
		repText = repText.replace('user_text', this.hint);
	}
	editor.value = frontText + repText + endText;
	editor.selectionStart = ss;
	editor.selectionEnd   = ss + repText.length;
	editor.scrollTop      = st;
	editor.focus();
}
function wikibar_editFormatByCursor(param){
  var editor = param.button.editor;
  var params = param.params;
  clearMessage();
  if(!editor){ return; }
  var repText = wikibar_processSyntaxParams(this.syntax, params);
  if(repText===null){ return; }
	var st = editor.scrollTop;
	var ss = editor.selectionStart;
	var se = editor.selectionEnd;
	var frontText= '';
	var endText  = '';
	var fullText = editor.value;
	if(se&gt;ss &amp;&amp; ss&gt;=0){
	  frontText  = fullText.substring(0, ss);
	  endText    = fullText.substring(se, fullText.length);
	}
	else if(ss===0 &amp;&amp; (se===0 || se == fullText.length) ){
    endText    = fullText;
	}
	else if(se==ss &amp;&amp; ss&gt;0){
    frontText  = fullText.substring(0, ss);
    endText    = fullText.substring(se, fullText.length);
	}
	if(repText.indexOf('user_text')&gt;=0 &amp;&amp; this.hint){
		repText = repText.replace('user_text', this.hint);
	}
	editor.value = frontText + repText + endText;
	editor.selectionStart = ss;
	editor.selectionEnd   = ss + repText.length;
	editor.scrollTop      = st;
	editor.focus();
}
function wikibar_editFormatByLine(param){
  var editor = param.button.editor;
  var params = param.params;
  clearMessage();
  if(!editor){ return; }
  var repText = wikibar_processSyntaxParams(this.syntax, params);
  if(repText===null){ return; }
	var st = editor.scrollTop;
	var ss = editor.selectionStart;
	var se = editor.selectionEnd;
	var frontText= '';
	var selText  = '';
	var endText  = '';
	var fullText = editor.value;
	if(se&gt;ss &amp;&amp; ss&gt;=0){
		if(this.byBlock){
	    frontText  = fullText.substring(0, ss);
	    selText		 = fullText.substring(ss,se);
	    endText    = fullText.substring(se, fullText.length);
		}
		else{
	  	se = ss;
		}
	}
  if(ss===0 &amp;&amp; (se===0 || se == fullText.length) ){
    var m=fullText.match(/(\n|\r)/g);
    if(m){
      se = fullText.indexOf(m[0]);
    }else{
      se = fullText.length;
    }
    selText    = fullText.substring(0, se);
    endText    = fullText.substring(se, fullText.length);
	}
	else if(se==ss &amp;&amp; ss&gt;0){
    frontText  = fullText.substring(0, ss);
    endText    = fullText.substring(se, fullText.length);
    m = frontText.match(/(\n|\r)/g);
    if(m){
      ss = frontText.lastIndexOf(m[m.length-1])+1;
    }
    else{
      ss = 0;
    }
    m = endText.match(/(\n|\r)/g);
    if(m){
      se += endText.indexOf(m[0]);
    }
    else{
      se = fullText.length;
    }
    frontText = fullText.substring(0, ss);
	  selText   = fullText.substring(ss,se);
	  endText   = fullText.substring(se, fullText.length);
	}
	if(selText.length&gt;0){
		repText = repText.replace('user_text', selText);
	}
	if(repText.indexOf('user_text')&gt;=0 &amp;&amp; this.hint){
		repText = repText.replace('user_text', this.hint);
	}
	if(this.byBlock){
    if( (frontText.charAt(frontText.length-1)!='\n') &amp;&amp; ss&gt;0 ){
    	repText = '\n' + repText;
    }
    if( (endText.charAt(0)!='\n') || se==fullText.length){
    	repText += '\n';
    }
	}
	editor.value = frontText + repText + endText;
	editor.selectionStart = ss;
	editor.selectionEnd   = ss + repText.length;
	editor.scrollTop      = st;
	editor.focus();
}
function wikibar_editFormatByTableCell(param){
  var editor = param.button.editor;
  var params = param.params;
  clearMessage();
  if(!editor){ return; }
  var repText = wikibar_processSyntaxParams(this.syntax, params);
  if(repText===null){ return; }
	var st = editor.scrollTop;
	var ss = editor.selectionStart;
	var se = editor.selectionEnd;
	var frontText= '';
	var selText  = '';
	var endText  = '';
	var fullText = editor.value;
	if(ss===0 || ss==fullText.length){
		throw 'not valid cell!';
	}
	se=ss;
  frontText  = fullText.substring(0, ss);
  endText    = fullText.substring(se, fullText.length);
  i=frontText.lastIndexOf('\n');
  j=frontText.lastIndexOf('|');
  if(i&gt;j || j&lt;0){
  	throw 'not valid cell!';
  }
	ss = j+1;
  i=endText.indexOf('\n');
  j=endText.indexOf('|');
  if(i&lt;j || j&lt;0){
  	throw 'not valid cell!';
  }
  se += j;
  frontText = fullText.substring(0, ss-1);
  selText   = fullText.substring(ss,se);
  endText   = fullText.substring(se+1, fullText.length);
	if(this.key.substring(0,5)=='align'){
		selText = selText.trim();
		if(	selText=='&gt;' || selText=='~' ||	selText.substring(0,8)=='bgcolor(')	{return; }
	}
	if(selText.length&gt;0){
		repText = repText.replace('user_text', selText);
	}
	if(repText.indexOf('user_text')&gt;=0 &amp;&amp; this.hint){
		repText = repText.replace('user_text', this.hint);
	}
	editor.value = frontText + repText + endText;
	editor.selectionStart = ss;
	editor.selectionEnd   = ss + repText.length - 2;
	editor.scrollTop      = st;
	editor.focus();
}
function wikibar_editSelectAll(param){
  var editor = param.button.editor;
	editor.selectionStart = 0;
	editor.selectionEnd   = editor.value.length;
	editor.scrollTop      = 0;
	editor.focus();
}
function wikibar_doPreview(param){
  var theButton = param.button;
  var editor = param.button.editor;
  var wikibar = theButton.parentNode;
  if(!wikibar)  { return; }
  title = theButton.tiddlerTitle;
  var editorWrapper = wikibar_resolveTiddlerEditorWrapper(editor);
  var tiddlerWrapper = editorWrapper.parentNode;
  var previewer = document.getElementById('previewer'+title);
  if(previewer){
    previewer.parentNode.removeChild(previewer);
    editorWrapper.style.display = 'block';
    visible=true;
  }else{
    previewer = document.createElement('div');
    previewer.id = 'previewer'+title;
    previewer.className = 'viewer previewer';
    previewer.style.height = (editor.offsetHeight) + 'px';
    wikify(editor.value, previewer);
    tiddlerWrapper.insertBefore(previewer, editorWrapper);
    editorWrapper.style.display = 'none';
    visible=false;
  }
  var pv=null;
  for(var i=0; i&lt;wikibar.childNodes.length; i++){
    try{
      var btn = wikibar.childNodes[i];
      if(btn.toolItem.key == 'preview'){ pv=btn; }
      if(btn.toolItem.key != 'preview'){
        btn.style.display = visible ? '': 'none';
      }
    }catch(ex){}
  }
  if(!pv) { return; }
  if(visible){
    pv.innerHTML = '&lt;font face=\&quot;verdana\&quot;&gt;&amp;infin;&lt;/font&gt;';
    pv.title = 'preview current tiddler';
  }
  else{
    pv.innerHTML = '&lt;font face=\&quot;verdana\&quot;&gt;&amp;larr;&lt;/font&gt;';
    pv.title = 'back to editor';
  }
}
function wikibar_doListAddons(param){
  clearMessage();
  var title = param.button.tiddlerTitle;
  var wikibarButton = document.getElementById('wikibarButton'+title);
  var ok=0, fail=0;
  for(var i=0; i&lt;wikibarButton.addons.length; i++){
    var addon=wikibarButton.addons[i];
    if(addon.ok){
      displayMessage('[ o ] '+addon.name);
      ok++;
    }
    else{
      displayMessage('[ x ] '+addon.name + ': ' + addon.error);
      fail++;
    }
  }
  displayMessage('---------------------------------');
  displayMessage(ok + ' ok ; ' + fail + ' failed');
}
function wikibar_getColorCode(param){
  var cbOnPickColor = function(colorCode, param){
    param.params = colorCode;
    param.button.toolItem.doMore(param);
  };
  wikibarColorTool.openColorPicker(param.button, cbOnPickColor, param);
}
function wikibar_getLinkUrl(param){
  var url= prompt('Please enter the link target', (this.param? this.param : ''));
  if (url &amp;&amp; url.trim().length&gt;0){
    param.params = url;
    this.doMore(param);
  }
}
function wikibar_getTableRowCol(param){
  var rc= prompt('Please enter (rows x cols) of the table', '2 x 3');
  if (!rc || (rc.trim()).length&lt;=0){ return; }
  var arr = rc.toUpperCase().split('X');
  if(arr.length != 2)   { return; }
  for(var i=0; i&lt;arr.length; i++){
    if(isNaN(arr[i].trim()))  { return; }
  }
  var rows = parseInt(arr[0].trim(), 10);
  var cols = parseInt(arr[1].trim(), 10);
  var txtTable='';
  for(var r=0; r&lt;rows; r++){
    for(var c=0; c&lt;=cols; c++){
      if(c===0){
        txtTable += '|';
      }else{
        txtTable += ' |';
      }
    }
    txtTable += '\n';
  }
  if(txtTable.trim().length&gt;0){
    param.params = txtTable.trim();
    this.doMore(param);
  }
}
function wikibar_getMacroParam(param){
  var p = prompt('Please enter the parameters of macro \&quot;' + this.key + '\&quot;:' +
                 '\nSyntax: ' + this.syntax +
                 '\n\nNote: '+
                 '\n%1,%2,... - parameter needed'+
                 '\n[%1] - optional parameter'+
                 '\n%N   - more than one parameter(1~n)'+
                 '\n[%N] - any number of parameters(0~n)'+
                 '\n\nPS:'+
                 '\n1. Parameters should be seperated with space character'+
                 '\n2. Use \&quot; to wrap the parameter that includes space character, ex: \&quot;hello world\&quot;'+
                 '\n3. Input the word(null) for the optional parameter ignored',
                 (this.param? this.param : '') );
  if(!p)  { return; }
  p=p.readMacroParams();
  for(var i=0; i&lt;p.length; i++){
    var s=p[i].trim();
    if(s.indexOf(' ')&gt;0){ p[i]=&quot;'&quot;+s+&quot;'&quot;; }
    if(s.toLowerCase()=='null'){ p[i]=null; }
  }
  param.params = p;
  this.doMore(param);
}
function wikibar_getMorePalette(unused){
  clearMessage();
  displayMessage('Get more color palettes(*.gpl) from ColorZilla Palettes site', 'http:\/\/www.iosart.com/firefox/colorzilla/palettes.html');
  displayMessage('Save it as a new tiddler with \&quot;ColorPalettes\&quot; tag');
}
function wikibar_createWikibar(title){
  var theWikibar = document.getElementById('wikibar' + title);
  if(theWikibar){
    if(theWikibar.hasChildNodes()){
      theWikibar.style.display = (theWikibar.style.display=='block'? 'none':'block');
      return;
    }
  }
  var tiddlerWrapper = document.getElementById('tiddler'+title);
  var theTextarea = wikibar_resolveTiddlerEditor(tiddlerWrapper);
  if(!theTextarea){
    clearMessage();
    displayMessage('WikiBar only works in tiddler edit mode now');
    return;
  }else{
    if(!theTextarea.id){ theTextarea.id = 'editor'+title; }
    if(!theTextarea.parentNode.id){ theTextarea.parentNode.id='editorWrapper'+title;  }
  }
  if(theWikibar){
    theWikibar = document.getElementById('wikibar'+title);
  }else{
    var editorWrapper = wikibar_resolveTiddlerEditorWrapper(theTextarea);
    theWikibar = createTiddlyElement(tiddlerWrapper, 'div', 'wikibar'+title, 'toolbar');
    addClass(theWikibar, 'wikibar');
    var previewer = document.getElementById('previewer'+title);
    if(previewer){
      tiddlerWrapper.insertBefore(theWikibar, previewer);
    }else{
      tiddlerWrapper.insertBefore(theWikibar, editorWrapper);
    }
  }
  wikibar_createMenu(theWikibar,wikibarStore,title,theTextarea);
  if(config.options['chkWikibarSetEditorHeight'] &amp;&amp; config.options['txtWikibarEditorRows']){
    theTextarea.rows = config.options['txtWikibarEditorRows'];
  }
  setStylesheet(
    '.wikibar{text-align:left;visibility:visible;margin:2px;padding:1px;}.previewer{overflow:auto;display:block;border:1px solid;}#colorPicker{position:absolute;display:none;z-index:10;margin:0px;padding:0px;}#colorPicker table{margin:0px;padding:0px;border:2px solid #000;border-spacing:0px;border-collapse:collapse;}#colorPicker td{margin:0px;padding:0px;border:1px solid;font-size:11px;text-align:center;cursor:auto;}#colorPicker .header{background-color:#fff;}#colorPicker .button{background-color:#fff;cursor:pointer;cursor:hand;}#colorPicker .button:hover{padding-top:3px;padding-bottom:3px;color:#fff;background-color:#136;}#colorPicker .cell{padding:4px;font-size:7px;cursor:crosshair;}#colorPicker .cell:hover{padding:10px;}.wikibarPopup{position:absolute;z-index:10;border:1px solid #014;color:#014;background-color:#cef;}.wikibarPopup table{margin:0;padding:0;border:0;border-spacing:0;border-collapse:collapse;}.wikibarPopup .button:hover{color:#eee;background-color:#014;}.wikibarPopup .disabled{color:#888;}.wikibarPopup .disabled:hover{color:#888;background-color:#cef;}.wikibarPopup tr .seperator hr{margin:0;padding:0;background-color:#cef;width:100%;border:0;border-top:1px dashed #014;}.wikibarPopup tr .icon{font-family:verdana;font-weight:bolder;}.wikibarPopup tr .marker{font-family:verdana;font-weight:bolder;}.wikibarPopup td{font-size:0.9em;padding:2px;}.wikibarPopup input{border:0;border-bottom:1px solid #014;margin:0;padding:0;font-family:arial;font-size:100%;background-color:#fff;}',
  	'WikiBarStyleSheet');
}
function wikibar_createMenu(place,toolset,title,editor){
  if(!wikibar_isValidMenuItem(toolset)){return;}
  if(!(toolset.TYPE=='MAIN_MENU' || toolset.TYPE=='MENU')){ return; }
    for(var key in toolset){
      if(key.substring(0,9)=='SEPERATOR'){
        wikibar_createMenuSeperator(place);
        continue;
      }
      if(key.substring(0,8)=='DYNAITEM'){
        var dynaTools = toolset[key](title,editor);
        if(dynaTools.TYPE &amp;&amp; dynaTools.TYPE=='MENU'){
          wikibar_createMenuItem(place,dynaTools,null,editor,title);
        }else{
          dynaTools.TYPE = 'MENU';
          wikibar_createMenu(place, dynaTools, title, editor);
        }
        continue;
      }
      if((toolset[key].TYPE!='MENU' &amp;&amp; toolset[key].TYPE!='MAIN_MENU') &amp;&amp; !toolset[key].HANDLER){continue;}
      wikibar_createMenuItem(place,toolset,key,editor,title);
    }
}
function wikibar_createMenuItem(place,toolset,key,editor,title){
  if(!key){
    var tool = toolset;
  }else{
    tool = toolset[key];
    tool.key = key;
  }
  if(!wikibar_isValidMenuItem(tool)){return;}
  var toolIsOnMainMenu = (toolset.TYPE=='MAIN_MENU');
  var toolIsMenu = (tool.TYPE=='MENU');
  var theButton;
  if(toolIsOnMainMenu){
    theButton = createTiddlyButton(
                  place,
                  '',
                  (tool.TOOLTIP? tool.TOOLTIP : ''),
                  (toolIsMenu? wikibar_onClickMenuItem : wikibar_onClickItem),
                  'button');
    theButton.innerHTML = (tool.CAPTION? tool.CAPTION : key);
    theButton.isOnMainMenu = true;
    addClass(theButton, (toolIsMenu? 'menu' : 'item'));
  	place.appendChild( document.createTextNode('\n') );
    if(!toolIsMenu){
      if(config.options['chkWikibarPopmenuOnMouseOver']){
        theButton.onmouseover = function(e){ wikibarPopup.remove(); };
      }
    }
  }else{
    theButton=createTiddlyElement(place, 'tr',key,'button');
    theButton.title = (tool.TOOLTIP? tool.TOOLTIP : '');
    theButton.onclick = (toolIsMenu? wikibar_onClickMenuItem : wikibar_onClickItem);
    var tdL = createTiddlyElement(theButton, 'td','','marker');
    var td = createTiddlyElement(theButton, 'td');
    var tdR = createTiddlyElement(theButton, 'td','','marker');
    td.innerHTML = (tool.CAPTION? tool.CAPTION : key);
    if(toolIsMenu){
      tdR.innerHTML='&amp;nbsp;&amp;nbsp;&amp;rsaquo;';
    }
    if(tool.SELECTED){
      tdL.innerHTML = '&amp;radic; ';
      addClass(theButton, 'selected');
    }
    if(tool.DISABLED){
      addClass(theButton, 'disabled');
    }
  }
  theButton.tiddlerTitle = title;
  theButton.toolItem = tool;
  theButton.editor = editor;
  theButton.tabIndex = 999;
  if(toolIsMenu){
    if(config.options['chkWikibarPopmenuOnMouseOver']){
      theButton.onmouseover = wikibar_onClickMenuItem;
    }
  }
}
function wikibar_createMenuSeperator(place){
  if(place.id.substring(0,7)=='wikibar')  { return; }
  var onclickSeperator=function(e){
  	if(!e){ e = window.event; }
  	e.cancelBubble = true;
    if (e.stopPropagation){ e.stopPropagation();  }
  	return(false);
  };
  var theButton=createTiddlyElement(place,'tr','','seperator');
  var td = createTiddlyElement(theButton, 'td','','seperator');
  td.colSpan=3;
  theButton.onclick=onclickSeperator;
	td.innerHTML = '&lt;hr&gt;';
}
function wikibar_genWikibarAbout(){
  var toolset={};
  toolset.version = {
    CAPTION: '&lt;center&gt;WikiBar ' +
              config.macros.wikibar.major + '.' +
              config.macros.wikibar.minor + '.' +
              config.macros.wikibar.revision +
              (config.macros.wikibar.beta? ' beta '+config.macros.wikibar.beta : '') +
              '&lt;/center&gt;',
    HANDLER: function(){}
  };
  toolset.SEPERATOR = {};
  toolset.author = {
    CAPTION: '&lt;center&gt;Arphen Lin&lt;br&gt;arphenlin@gmail.com&lt;/center&gt;',
    TOOLTIP: 'send mail to the author',
    HANDLER: function(){ window.open('mailto:arphenlin@gmail.com'); }
  };
  toolset.website = {
    CAPTION: '&lt;center&gt;aiddlywiki.sourceforge.net&lt;/center&gt;',
    TOOLTIP: 'go to the web site of WikiBar',
    HANDLER: function(){ window.open('http:\/\/aiddlywiki.sourceforge.net/'); }
  };
  return toolset;
}
function wikibar_genWikibarOptions(title, editor){
  var toolset={};
  toolset.popOnMouseOver = {
    CAPTION:'popup menu on mouse over',
    SELECTED: config.options['chkWikibarPopmenuOnMouseOver'],
    HANDLER: function(param){
      config.options['chkWikibarPopmenuOnMouseOver'] = !config.options['chkWikibarPopmenuOnMouseOver'];
      saveOptionCookie('chkWikibarPopmenuOnMouseOver');
      var title = param.button.tiddlerTitle;
      var wikibar = document.getElementById('wikibar'+title);
      if(wikibar){ wikibar.parentNode.removeChild(wikibar); }
      wikibar_createWikibar(title);
    }
  };
  toolset.setEditorSize = {
    CAPTION:'set editor height: &lt;input id=\&quot;txtWikibarEditorRows\&quot; type=text size=1 MAXLENGTH=3 value=\&quot;' +
            (config.options['txtWikibarEditorRows']? config.options['txtWikibarEditorRows']:editor.rows) + '\&quot;&gt; ok',
    HANDLER: function(param){
      var input = document.getElementById('txtWikibarEditorRows');
      if(input){
        var rows = parseInt(input.value, 10);
        if(!isNaN(rows)){
          var editor = param.button.editor;
          editor.rows = rows;
        }else{
          rows=config.maxEditRows;
        }
        config.options['txtWikibarEditorRows'] = rows;
        saveOptionCookie('txtWikibarEditorRows');
        config.maxEditRows = rows;
      }
    }
  };
  toolset.setEditorSizeOnLoadingWikibar = {
    CAPTION:'set editor height on loading wikibar',
    SELECTED: config.options['chkWikibarSetEditorHeight'],
    HANDLER: function(param){
      config.options['chkWikibarSetEditorHeight'] = !config.options['chkWikibarSetEditorHeight'];
      saveOptionCookie('chkWikibarSetEditorHeight');
      if(config.options['chkWikibarSetEditorHeight']){
        var rows = config.options['txtWikibarEditorRows'];
        if(!isNaN(rows)){ rows = 15; }
        var editor = param.button.editor;
        editor.rows = rows;
        config.options['txtWikibarEditorRows'] = rows;
        saveOptionCookie('txtWikibarEditorRows');
      }
    }
  };
  toolset.SEPERATOR = {};
  toolset.update = {
    CAPTION: 'check for updates',
    DISABLED: true,
    HANDLER: function(){}
  };
  return toolset;
}
function wikibar_genPaletteSelector(){
  try{
  	var cpTiddlers = store.getTaggedTiddlers('ColorPalettes');
  	if(!cpTiddlers) { return; }
  	var palettes=[];
  	palettes.push(wikibarColorTool.defaultPaletteName);
  	for(var i=0; i&lt;cpTiddlers.length; i++){
  		palettes.push(cpTiddlers[i].title.trim());
  	}
    var toolset={};
    for(i=0; i&lt;palettes.length; i++){
      toolset[palettes[i]] = {
        TOOLTIP: palettes[i],
        SELECTED: (palettes[i]==wikibarColorTool.paletteName),
        HANDLER: wikibar_doSelectPalette
      };
    }
    return toolset;
  }catch(ex){ return null; }
}
function wikibar_onClickItem(e){
	if(!e){ e = window.event; }
	var theTarget = resolveTarget(e);
	if(theTarget.tagName=='INPUT'){
    e.cancelBubble = true;
    if (e.stopPropagation){ e.stopPropagation(); }
    return;
	}
	var theButton = wikibar_resolveTargetButton(theTarget);
	if(!theButton){ return(false);  }
  	var o = theButton.toolItem;
    if(!o) { return; }
    var param = {
      event: e,
      button: theButton
    };
    if(o.HANDLER){ o.HANDLER(param);  }
  if(o.DISABLED){
    e.cancelBubble = true;
    if (e.stopPropagation){ e.stopPropagation(); }
  }
	return(false);
}
function wikibar_onClickMenuItem(e){
	if(!e){ e = window.event; }
	var theButton = wikibar_resolveTargetButton(resolveTarget(e));
	if(!theButton){ return(false);  }
	e.cancelBubble = true;
	if (e.stopPropagation){ e.stopPropagation(); }
    var title = theButton.tiddlerTitle;
    var editor = theButton.editor;
    var tool = theButton.toolItem;
    if(!tool) { return; }
    var popup = wikibarPopup.create(this);
  	if(popup){
      wikibar_createMenu(popup,tool,title,editor);
      if(!popup.hasChildNodes()){
        wikibarPopup.remove();
      }else{
        wikibarPopup.show(popup, false);
      }
    }
	return(false);
}
var wikibarColorTool = {
  defaultPaletteName : 'default',
  defaultColumns : 16,
  defaultPalette : [
    '#FFF','#DDD','#CCC','#BBB','#AAA','#999','#666','#333','#111','#000','#FC0','#F90','#F60','#F30','#C30','#C03',
    '#9C0','#9D0','#9E0','#E90','#D90','#C90','#FC3','#FC6','#F96','#F63','#600','#900','#C00','#F00','#F36','#F03',
    '#CF0','#CF3','#330','#660','#990','#CC0','#FF0','#C93','#C63','#300','#933','#C33','#F33','#C36','#F69','#F06',
    '#9F0','#CF6','#9C3','#663','#993','#CC3','#FF3','#960','#930','#633','#C66','#F66','#903','#C39','#F6C','#F09',
    '#6F0','#9F6','#6C3','#690','#996','#CC6','#FF6','#963','#630','#966','#F99','#F39','#C06','#906','#F3C','#F0C',
    '#3F0','#6F3','#390','#6C0','#9F3','#CC9','#FF9','#C96','#C60','#C99','#F9C','#C69','#936','#603','#C09','#303',
    '#0C0','#3C0','#360','#693','#9C6','#CF9','#FFC','#FC9','#F93','#FCC','#C9C','#969','#939','#909','#636','#606',
    '#060','#3C3','#6C6','#0F0','#3F3','#6F6','#9F9','#CFC','#9CF','#FCF','#F9F','#F6F','#F3F','#F0F','#C6C','#C3C',
    '#030','#363','#090','#393','#696','#9C9','#CFF','#39F','#69C','#CCF','#C9F','#96C','#639','#306','#90C','#C0C',
    '#0F3','#0C3','#063','#396','#6C9','#9FC','#9CC','#06C','#369','#99F','#99C','#93F','#60C','#609','#C3F','#C0F',
    '#0F6','#3F6','#093','#0C6','#3F9','#9FF','#699','#036','#039','#66F','#66C','#669','#309','#93C','#C6F','#90F',
    '#0F9','#6F9','#3C6','#096','#6FF','#6CC','#366','#069','#36C','#33F','#33C','#339','#336','#63C','#96F','#60F',
    '#0FC','#6FC','#3C9','#3FF','#3CC','#399','#033','#39C','#69F','#00F','#00C','#009','#006','#003','#63F','#30F',
    '#0C9','#3FC','#0FF','#0CC','#099','#066','#3CF','#6CF','#09C','#36F','#0CF','#09F','#06F','#03F','#03C','#30C'
  ],
	colorPicker : null,
  pickColorHandler: null,
  userData: null
};
wikibarColorTool.paletteName = wikibarColorTool.defaultPaletteName;
wikibarColorTool.columns = wikibarColorTool.defaultColumns;
wikibarColorTool.palette = wikibarColorTool.defaultPalette;
wikibarColorTool.onPickColor = function(e){
	if (!e){ e = window.event; }
	var theCell = resolveTarget(e);
	if(!theCell){ return(false); }
    color = theCell.bgColor.toLowerCase();
    if(!color)  { return; }
    wikibarColorTool.displayColorPicker(false);
    if(wikibarColorTool.pickColorHandler){
      wikibarColorTool.pickColorHandler(color, wikibarColorTool.userData);
    }
	return(false);
};
wikibarColorTool.onMouseOver = function(e){
	if (!e){ e = window.event; }
	var theButton = resolveTarget(e);
	if(!theButton){ return(false);  }
  	if(!wikibarColorTool)  { return; }
    color = theButton.bgColor.toUpperCase();
    if(!color)  { return; }
    td=document.getElementById('colorPickerInfo');
  	if(!td) { return; }
  	td.bgColor = color;
  	td.innerHTML = '&lt;span style=\&quot;color:#000;\&quot;&gt;'+color+'&lt;/span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;' +
  	               '&lt;span style=\&quot;color:#fff;\&quot;&gt;'+color+'&lt;/span&gt;';
	e.cancelBubble = true;
	if (e.stopPropagation){ e.stopPropagation(); }
	return(false);
};
wikibarColorTool.openColorPicker = function(theTarget, pickColorHandler, userData){
  wikibarColorTool.skipClickDocumentEvent = true;
  wikibarColorTool.pickColorHandler = pickColorHandler;
  wikibarColorTool.userData = userData;
  wikibarColorTool.moveColorPicker(theTarget);
};
wikibarColorTool.convert3to6HexColor = function(c){
  c=c.trim();
  var rx=/^\#(\d|[a-f])(\d|[a-f])(\d|[a-f])$/gi;
  return (rx.test(c)? c.replace(rx, '#$1$1$2$2$3$3') : c);
};
wikibarColorTool.numToHexColor = function (n){
  if(typeof(n)=='number' &amp;&amp; (n&gt;=0 &amp;&amp; n&lt;=255)) {
  		s = n.toString(16).toLowerCase();
  		return ((s.length==1)? '0'+s : s);
  }else{
	 return null;
	}
};
wikibarColorTool.renderColorPalette = function(){
	if(wikibarColorTool.paletteName==wikibarColorTool.defaultPaletteName){
		wikibarColorTool.palette=wikibarColorTool.defaultPalette;
		wikibarColorTool.columns=wikibarColorTool.defaultColumns;
		return;
	}
	tiddlerText = (store.getTiddlerText(wikibarColorTool.paletteName, '')).trim();
	if(tiddlerText.length&lt;=0) { return; }
	var cpContents = tiddlerText.split('\n');
	var colors=[];
	columns = wikibarColorTool.defaultColumns;
	var tmpArray=null;
	errCount=0;
	for(var i=0; i&lt;cpContents.length; i++){
		cpLine=cpContents[i].trim();
    if( (!cpLine) || (cpLine.length&lt;=0) || (cpLine.charAt(0) == '#') ){ continue; }
		if(cpLine.substring(0,8).toLowerCase()=='columns:'){
			tmpArray = cpLine.split(':');
			try{
				columns = parseInt(tmpArray[1],10);
			}catch(ex){
				columns = wikibarColorTool.defaultColumns;
			}
		}else{
			tmpArray = cpLine.replace('\t', ' ').split(/[ ]{1,}/);
			try{
				color='';
				for(var j=0; j&lt;3; j++){
          c=parseInt(tmpArray[j].trim(), 10);
          if(isNaN(c)){
						break;
          }else{
						c=wikibarColorTool.numToHexColor(c);
						if(!c) {break;}
            color+=c;
					}
				}
				if(color.length==6){
					colors.push('#'+color);
				}	else {
					throw 'error';
				}
			}catch(ex){
			}
		}
	}
	if(colors.length&gt;0){
		wikibarColorTool.palette = colors;
		wikibarColorTool.columns = columns;
	}else{
		throw 'renderColorPalette(): No color defined in the palette.';
	}
};
wikibarColorTool.displayColorPicker = function(visible){
  if(wikibarColorTool.colorPicker){
    wikibarColorTool.colorPicker.style.display = (visible? 'block' : 'none');
  }
};
wikibarColorTool.moveColorPicker = function(theTarget){
  if(!wikibarColorTool.colorPicker){
  	wikibarColorTool.createColorPicker();
  }
	var cp = wikibarColorTool.colorPicker;
	var rootLeft = findPosX(theTarget);
  var rootTop = findPosY(theTarget);
  var popupLeft = rootLeft;
  var popupTop = rootTop;
  var popupWidth = cp.offsetWidth;
  var winWidth = findWindowWidth();
  if(popupLeft + popupWidth &gt; winWidth){
	  popupLeft = winWidth - popupWidth;
	}
  cp.style.left = popupLeft + 'px';
  cp.style.top = popupTop + 'px';
  wikibarColorTool.displayColorPicker(true);
};
wikibarColorTool.createColorPicker = function(unused, palette){
  if(palette){	wikibarColorTool.paletteName=palette; }
	wikibarColorTool.renderColorPalette();
	wikibarColorTool.colorPicker = document.createElement('div');
	wikibarColorTool.colorPicker.id = 'colorPicker';
	document.body.appendChild(wikibarColorTool.colorPicker);
  var theTable = document.createElement('table');
  wikibarColorTool.colorPicker.appendChild(theTable);
  var theTR = document.createElement('tr');
	theTable.appendChild(theTR);
	var theTD = document.createElement('td');
	theTD.className = 'header';
	theTD.colSpan = wikibarColorTool.columns;
	theTD.innerHTML = wikibarColorTool.paletteName;
  theTR.appendChild(theTD);
  for(var i=0; i&lt;wikibarColorTool.palette.length; i++){
    if((i%wikibarColorTool.columns)===0){
      theTR = document.createElement('tr');
      theTable.appendChild(theTR);
    }
    theTD = document.createElement('td');
    theTD.className = 'cell';
    theTD.bgColor = wikibarColorTool.convert3to6HexColor(wikibarColorTool.palette[i]);
    theTD.onclick = wikibarColorTool.onPickColor;
    theTD.onmouseover = wikibarColorTool.onMouseOver;
    theTR.appendChild(theTD);
  }
  rest = wikibarColorTool.palette.length % wikibarColorTool.columns;
  if(rest&gt;0){
    theTD = document.createElement('td');
		theTD.colSpan = wikibarColorTool.columns-rest;
    theTD.bgColor = '#000000';
    theTR.appendChild(theTD);
  }
  theTR = document.createElement('tr');
	theTable.appendChild(theTR);
	theTD = document.createElement('td');
	theTD.colSpan = wikibarColorTool.columns;
	theTD.id = 'colorPickerInfo';
  theTR.appendChild(theTD);
};
wikibarColorTool.onDocumentClick = function(e){
	if (!e){ e = window.event; }
	if(wikibarColorTool.skipClickDocumentEvent) {
	  wikibarColorTool.skipClickDocumentEvent = false;
    return true;
	}
	if((!e.eventPhase) || e.eventPhase == Event.BUBBLING_PHASE || e.eventPhase == Event.AT_TARGET){
    wikibarColorTool.displayColorPicker(false);
  }
	return true;
};
function wikibar_doSelectPalette(param){
	clearMessage();
	var theButton = param.button;
	if(!theButton.toolItem.key)  { return; }
	var palette = theButton.toolItem.key;
	var oldPaletteName = wikibarColorTool.paletteName;
	if(oldPaletteName != palette){
		try{
			wikibarColorTool.createColorPicker(theButton, palette);
			displayMessage('Palette \&quot;'+palette+'\&quot; ('+ wikibarColorTool.palette.length +' colors) is selected');
		}catch(ex){
			errMsg = ex;
			if(errMsg.substring(0,18)=='renderColorPalette'){
				displayMessage('Invalid palette \&quot;' + palette + '\&quot;, please check it out!');
				wikibarColorTool.createColorPicker(theButton, oldPaletteName);
			}
		}
	}
}
var wikibarPopup = {
  skipClickDocumentEvent: false,
	stack: []
};
wikibarPopup.resolveRootPopup = function(o){
  if(o.isOnMainMenu){  return null; }
  if(o.className.substring(0,12)=='wikibarPopup'){  return o;}
  return wikibarPopup.resolveRootPopup(o.parentNode);
};
wikibarPopup.create = function(root){
  for(var i=0; i&lt;wikibarPopup.stack.length; i++){
    var p=wikibarPopup.stack[i];
    if(p.root==root){
      wikibarPopup.removeFrom(i+1);
      return null;
    }
  }
  var rootPopup = wikibarPopup.resolveRootPopup(root);
  if(!rootPopup){
    wikibarPopup.remove();
  }else{
    wikibarPopup.removeFromRootPopup(rootPopup);
  }
	var popup = createTiddlyElement(document.body,'div','wikibarPopup'+root.toolItem.key,'wikibarPopup');
	var pop = createTiddlyElement(popup,'table','','');
	wikibarPopup.stack.push({rootPopup: rootPopup, root: root, popup: popup});
	return pop;
};
wikibarPopup.show = function(unused,slowly){
	var curr = wikibarPopup.stack[wikibarPopup.stack.length-1];
	var overlayWidth = 1;
  var rootLeft, rootTop, rootWidth, rootHeight, popupLeft, popupTop, popupWidth;
  if(curr.rootPopup){
  	rootLeft = findPosX(curr.rootPopup);
  	rootTop = findPosY(curr.root);
  	rootWidth = curr.rootPopup.offsetWidth;
  	popupLeft = rootLeft + rootWidth - overlayWidth;
  	popupTop = rootTop;
  }else{
  	rootLeft = findPosX(curr.root);
  	rootTop = findPosY(curr.root);
  	rootHeight = curr.root.offsetHeight;
  	popupLeft = rootLeft;
  	popupTop = rootTop + rootHeight;
  }
	var winWidth = findWindowWidth();
	popupWidth = curr.popup.offsetWidth;
	if(popupLeft + popupWidth &gt; winWidth){
		popupLeft = rootLeft - popupWidth + overlayWidth;
	}
	curr.popup.style.left = popupLeft + 'px';
	curr.popup.style.top = popupTop + 'px';
	curr.popup.style.display = 'block';
	addClass(curr.root, 'highlight');
	if(config.options.chkAnimate){
		anim.startAnimating(new Scroller(curr.popup,slowly));
	}else{
		window.scrollTo(0,ensureVisible(curr.popup));
	}
};
wikibarPopup.remove = function(){
	if(wikibarPopup.stack.length &gt; 0){
		wikibarPopup.removeFrom(0);
  }
};
wikibarPopup.removeFrom = function(from){
	for(var t=wikibarPopup.stack.length-1; t&gt;=from; t--){
		var p = wikibarPopup.stack[t];
		removeClass(p.root,'highlight');
		p.popup.parentNode.removeChild(p.popup);
  }
	wikibarPopup.stack = wikibarPopup.stack.slice(0,from);
};
wikibarPopup.removeFromRootPopup = function(from){
  for(var t=0; t&lt;wikibarPopup.stack.length; t++){
    var p = wikibarPopup.stack[t];
    if(p.rootPopup==from){
      wikibarPopup.removeFrom(t);
      break;
    }
  }
};
wikibarPopup.onDocumentClick = function(e){
	if (!e){ e = window.event; }
	if(wikibarPopup.skipClickDocumentEvent){
	 wikibarPopup.skipClickDocumentEvent=false;
	 return true;
	}
	if((!e.eventPhase) || e.eventPhase == Event.BUBBLING_PHASE || e.eventPhase == Event.AT_TARGET){
		wikibarPopup.remove();
	}
	return true;
};
var wikibarStore = {
  TYPE: 'MAIN_MENU',
  help:{
    TYPE:'MENU',
    CAPTION: '&lt;font face=\&quot;verdana\&quot;&gt;?&lt;/font&gt;',
    TOOLTIP:     'about WikiBar',
    options:{
      TYPE:'MENU',
      DYNAITEM: wikibar_genWikibarOptions
    },
    about:{
      TYPE:'MENU',
      DYNAITEM: wikibar_genWikibarAbout
    }
  },
  preview:{
    TOOLTIP:     'preview this tiddler',
    CAPTION: '&lt;font face=\&quot;verdana\&quot;&gt;&amp;infin;&lt;/font&gt;',
    HANDLER: wikibar_doPreview
  },
	line:{
		TOOLTIP:    'horizontal line',
		CAPTION: '&lt;font face=\&quot;verdana\&quot;&gt;&amp;mdash;&lt;/font&gt;',
		syntax: '\n----\n',
		HANDLER: wikibar_editFormatByCursor
	},
	crlf:{
		TOOLTIP:    'new line',
		CAPTION: '&lt;font face=\&quot;verdana\&quot;&gt;&amp;para;&lt;/font&gt;',
		syntax: '\n',
		HANDLER: wikibar_editFormatByCursor
	},
	selectAll:{
		TOOLTIP:    'select all',
		CAPTION: '&lt;font face=\&quot;verdana\&quot;&gt;&amp;sect;&lt;/font&gt;',
		HANDLER: wikibar_editSelectAll
	},
	deleteSelected:{
		TOOLTIP:    'delete selected',
		CAPTION: '&lt;font face=\&quot;verdana\&quot;&gt;&amp;times;&lt;/font&gt;',
		syntax: '',
		HANDLER: wikibar_editFormat
	},
  textFormat:{
    TYPE: 'MENU',
    CAPTION: 'text',
    TOOLTIP: 'text formatters',
    ignore:{
			TOOLTIP:     'ignore wiki word',
			CAPTION: 'ignore wikiWord',
			syntax:  '~user_text',
			hint:    'wiki_word',
			HANDLER:    wikibar_editFormatByWord
		},
		bolder:{
			TOOLTIP:     'bolder text',
			CAPTION: '&lt;strong&gt;bolder&lt;/strong&gt;',
			syntax:  &quot;''user_text''&quot;,
			hint:		 'bold_text',
			HANDLER:    wikibar_editFormatByWord
		},
		italic:{
			TOOLTIP:    'italic text',
			CAPTION: '&lt;em&gt;italic&lt;/em&gt;',
			syntax: '\/\/user_text\/\/',
			hint:		'italic_text',
			HANDLER: wikibar_editFormatByWord
		},
		underline:{
			TOOLTIP:    'underline text',
			CAPTION: '&lt;u&gt;underline&lt;/u&gt;',
			syntax: '__user_text__',
			hint:		'underline_text',
			HANDLER: wikibar_editFormatByWord
		},
		strikethrough:{
			TOOLTIP:    'strikethrough text',
			CAPTION: '&lt;strike&gt;strikethrough&lt;/strike&gt;',
			syntax: '==user_text==',
			hint:		'strikethrough_text',
			HANDLER: wikibar_editFormatByWord
		},
		superscript:{
			TOOLTIP:    'superscript text',
			CAPTION: 'X&lt;sup&gt;superscript&lt;/sup&gt;',
			syntax: '^^user_text^^',
			hint:		'superscript_text',
			HANDLER: wikibar_editFormatByWord
		},
		subscript:{
			TOOLTIP:    'subscript text',
			CAPTION: 'X&lt;sub&gt;subscript&lt;/sub&gt;',
			syntax: '~~user_text~~',
			hint:		'subscript_text',
			HANDLER: wikibar_editFormatByWord
		},
		comment:{
			TOOLTIP:    'comment text',
			CAPTION: 'comment text',
			syntax: '/%user_text%/',
			hint:		'comment_text',
			HANDLER: wikibar_editFormatByWord
		},
		monospaced:{
			TOOLTIP:    'monospaced text',
			CAPTION: '&lt;code&gt;monospaced&lt;/code&gt;',
			syntax: '{{{user_text}}}',
			hint:		'monospaced_text',
			HANDLER: wikibar_editFormatByWord
		}
  },
  paragraph:{
    TYPE: 'MENU',
    TOOLTIP: 'paragarph formatters',
    list:{
      TYPE: 'MENU',
      TOOLTIP: 'list tools',
      bullet:{
  			TOOLTIP:    'bullet point',
  			syntax: '*user_text',
  			hint:		'bullet_text',
  			HANDLER: wikibar_editFormatByLine
  		},
  		numbered:{
  			TOOLTIP:    'numbered list',
  			syntax: '#user_text',
  			hint:		'numbered_text',
  			HANDLER: wikibar_editFormatByLine
  		}
    },
    heading:{
      TYPE: 'MENU',
      heading1:{
  		  CAPTION:'&lt;h1&gt;Heading 1&lt;/h1&gt;',
  			TOOLTIP:    'Heading 1',
  			syntax: '!user_text',
  			hint:		'heading_1',
  			HANDLER: wikibar_editFormatByLine
  		},
  		heading2:{
  		  CAPTION:'&lt;h2&gt;Heading 2&lt;h2&gt;',
  			TOOLTIP:    'Heading 2',
  			syntax: '!!user_text',
  			hint:		'heading_2',
  			HANDLER: wikibar_editFormatByLine
  		},
  		heading3:{
  		  CAPTION:'&lt;h3&gt;Heading 3&lt;/h3&gt;',
  			TOOLTIP:    'Heading 3',
  			syntax: '!!!user_text',
  			hint:		'heading_3',
  			HANDLER: wikibar_editFormatByLine
  		},
  		heading4:{
  		  CAPTION:'&lt;h4&gt;Heading 4&lt;/h4&gt;',
  			TOOLTIP:    'Heading 4',
  			syntax: '!!!!user_text',
  			hint:		'heading_4',
  			HANDLER: wikibar_editFormatByLine
  		},
  		heading5:{
  		  CAPTION:'&lt;h5&gt;Heading 5&lt;/h5&gt;',
  			TOOLTIP:    'Heading 5',
  			syntax: '!!!!!user_text',
  			hint:		'heading_5',
  			HANDLER: wikibar_editFormatByLine
  		}
    },
    comment:{
      TYPE: 'MENU',
      commentByLine:{
  			CAPTION:'comment by line',
  			TOOLTIP:    'line comment',
  			syntax: '/%user_text%/',
  			hint:		'comment_text',
  			HANDLER: wikibar_editFormatByLine
  		},
  		commentByBlock:{
  			CAPTION:'comment by block',
  			TOOLTIP:    'block comment',
  			syntax: '/%\nuser_text\n%/',
  			hint:		'comment_text',
  			byBlock: true,
  			HANDLER: wikibar_editFormatByLine
  		}
    },
    monospaced:{
      TYPE: 'MENU',
  		monosByLine:{
  			CAPTION: 	'monospaced by line',
  			TOOLTIP:    'line monospaced',
  			syntax: '{{{\nuser_text\n}}}',
  			hint:		'monospaced_text',
  			HANDLER: wikibar_editFormatByLine
  		},
  		monosByBlock:{
  			CAPTION: 	'monospaced by block',
  			TOOLTIP:    'block monospaced',
  			syntax: '{{{\nuser_text\n}}}',
  			hint:		'monospaced_text',
  			byBlock: true,
  			HANDLER: wikibar_editFormatByLine
  		}
    },
    quote:{
      TYPE: 'MENU',
  		quoteByLine:{
  			CAPTION: 	'quote by line',
  			TOOLTIP:    'line quote',
  			syntax: '&gt;user_text',
  			hint:		'quote_text',
  			HANDLER: wikibar_editFormatByLine
  		},
  		quoteByBlcok:{
  			CAPTION: 	'quote by block',
  			TOOLTIP:    'block quote',
  			syntax: '&lt;&lt;&lt;\nuser_text\n&lt;&lt;&lt;',
  			hint:		'quote_text',
  			byBlock: true,
  			HANDLER: wikibar_editFormatByLine
  		}
    },
    plugin:{
      TYPE: 'MENU',
      code:{
  			CAPTION: 	'code area',
  			TOOLTIP:    'block monospaced for plugin',
  			syntax: '\n\/\/{{{\nuser_text\n\/\/}}}\n',
  			hint:		'monospaced_plugin_code',
  			byBlock: true,
  			HANDLER: wikibar_editFormatByLine
  		},
  		commentByLine:{
  			CAPTION: 	'comment by line',
  			TOOLTIP:    'line comment',
  			syntax: '\/\/user_text',
  			hint:		'plugin_comment',
  			HANDLER: wikibar_editFormatByLine
  		},
  		commentByBlock:{
  			CAPTION: 	'comment by block',
  			TOOLTIP:    'block comment',
  			syntax: '\/\***\nuser_text\n***\/',
  			hint:		'plugin_comment',
  			byBlock: true,
  			HANDLER: wikibar_editFormatByLine
  		}
    },
    css:{
      TYPE: 'MENU',
      code:{
  			CAPTION: 	'code area',
  			TOOLTIP:    'block monospaced for css',
  			syntax: '\n\nuser_text\n\n',
  			hint:		'monospaced_css_code',
  			byBlock: true,
  			HANDLER: wikibar_editFormatByLine
  		},
  		commentByLine:{
  			CAPTION: 	'comment by line',
  			TOOLTIP:    'line comment',
  			syntax: '',
  			hint:		'css_comment',
  			HANDLER: wikibar_editFormatByLine
  		},
  		commentByBlock:{
  			CAPTION: 	'comment by block',
  			TOOLTIP:    'block comment',
  			syntax: '',
  			hint:		'css_comment',
  			byBlock: true,
  			HANDLER: wikibar_editFormatByLine
  		}
    }
  },
  color:{
    TYPE: 'MENU',
    TOOLTIP: 'color tools',
    highlight:{
		  CAPTION:'highlight text',
			TOOLTIP:    'highlight text',
			syntax: '@@user_text@@',
			hint:		'highlight_text',
			HANDLER: wikibar_editFormatByWord
		},
		color:{
		  CAPTION:'text color',
			TOOLTIP:    'text color',
			hint:		'your_text',
			syntax: '@@color(%1):user_text@@',
			HANDLER:   wikibar_getColorCode,
			doMore: wikibar_editFormatByWord
		},
		bgcolor:{
		  CAPTION:'background color',
			TOOLTIP:    'background color',
			hint:		'your_text',
			syntax: '@@bgcolor(%1):user_text@@',
			HANDLER: wikibar_getColorCode,
			doMore: wikibar_editFormatByWord
		},
		colorcode:{
      CAPTION:'color code',
      TOOLTIP:    'insert color code',
      syntax: '%1',
      HANDLER: wikibar_getColorCode,
      doMore: wikibar_editFormatByCursor
    },
    'color palette':{
      TYPE:'MENU',
      DYNAITEM: wikibar_genPaletteSelector,
  		SEPERATOR:{},
  		morePalette:{
  		  CAPTION:'more palettes',
  		  TOOLTIP:'get more palettes',
  		  HANDLER: wikibar_getMorePalette
  		}
    }
  },
  link:{
    TYPE: 'MENU',
    TOOLTIP: 'insert link',
    wiki:{
		  CAPTION:'wiki link',
			TOOLTIP:    'wiki link',
			syntax: '[[user_text]]',
			hint:		'wiki_word',
			HANDLER: wikibar_editFormatByWord
		},
		pretty:{
			CAPTION: 	'pretty link',
			TOOLTIP:    'pretty link',
			syntax: '[[user_text|%1]]',
			hint:		'pretty_word',
			param:	'PrettyLink Target',
			HANDLER:   wikibar_getLinkUrl,
			doMore: wikibar_editFormatByWord
		},
		url:{
			TOOLTIP:    'url link',
			syntax: '[[user_text|%1]]',
			hint:		'your_text',
			param:	'http:\/\/...',
			HANDLER:   wikibar_getLinkUrl,
			doMore: wikibar_editFormatByWord
		},
		image:{
			TOOLTIP:    'image link',
			syntax: '[img[user_text|%1]]',
			hint:		'alt_text',
			param:	'image/icon.jpg',
			HANDLER:   wikibar_getLinkUrl,
			doMore: wikibar_editFormatByWord
		}
  },
  macro:{},
  more:{
    TYPE: 'MENU',
    TOOLTIP: 'more tools',
    table:{
      TYPE: 'MENU',
      TOOLTIP: 'table',
      table:{
  		  CAPTION:'create table',
  			TOOLTIP:    'create a new table',
  			syntax: '\n%1\n',
  			HANDLER: wikibar_getTableRowCol,
  			doMore: wikibar_editFormatByWord
  		},
  		header:{
  			TOOLTIP:    'table header text',
  			syntax: '|user_text|c',
  			hint:		'table_header',
  			HANDLER: wikibar_editFormatByWord
  		},
  		cell:{
  			TOOLTIP:    'create a tabel cell',
  			syntax: '|user_text|',
  			hint:		'your_text',
  			HANDLER: wikibar_editFormatByWord
  		},
  		columnHeader:{
  		  CAPTION:'column header',
  			TOOLTIP:    'create a column header cell',
  			syntax: '|!user_text|',
  			hint:		'column_header',
  			HANDLER: wikibar_editFormatByWord
  		},
  	  cell:{
  	    TYPE: 'MENU',
        CAPTION: 'cell options',
    		bgcolor:{
    			CAPTION: 	'background color',
    			TOOLTIP:    'cell bgcolor',
    			syntax: '|bgcolor(%1):user_text|',
    			hint:		'your_text',
    			HANDLER: wikibar_getColorCode,
    			doMore: wikibar_editFormatByTableCell
    		},
    		alignLeft:{
    			CAPTION: 	'align left',
    			TOOLTIP:    'left align cell text',
    			syntax: '|user_text|',
    			hint:		'your_text',
    			HANDLER: wikibar_editFormatByTableCell
    		},
    		alignCenter:{
    			CAPTION: 	'align center',
    			TOOLTIP:    'center align cell text',
    			syntax: '| user_text |',
    			hint:		'your_text',
    			HANDLER: wikibar_editFormatByTableCell
    		},
    		alignRight:{
    			CAPTION: 	'align right',
    			TOOLTIP:    'right align cell text',
    			syntax: '| user_text|',
    			hint:		'your_text',
    			HANDLER: wikibar_editFormatByTableCell
    		}
    	}
    },
    html:{
      TYPE: 'MENU',
      html:{
  			CAPTION: 	'&amp;lt;html&amp;gt;',
  			TOOLTIP:    'html tag',
  			syntax: '&lt;html&gt;\nuser_text\n&lt;/html&gt;',
  			hint:		'html_content',
  			byBlock: true,
  			HANDLER: wikibar_editFormatByLine
  		}
    }
  },
  addon:{
    TYPE: 'MENU',
    TOOLTIP:'3rd party tools',
    'about addons':{
      TOOLTIP: 'list loaded addons',
      HANDLER: wikibar_doListAddons
    },
    SEPERATOR:{}
  }
};
addEvent(document, 'click', wikibarColorTool.onDocumentClick);
addEvent(document, 'click', wikibarPopup.onDocumentClick);
wikibar_install();
//}}}</pre>
</div>
<div title="_account" creator="None" modifier="None" created="201311111923" modified="201311111923" tags="excludeLists excludeMissing excludeSearch" _hash="96201fdb51bfa585c117321c84d64d2fb9a3df71" server.content-type="text/html" server.permissions="read" server.bag="tiddlyspace" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" server.etag="&quot;tiddlyspace/_account/1521899:0bac69cd819f65367baaa628bea3ea49d61c3b7e&quot;" server.page.revision="1521899" server.title="_account">
<pre>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
	&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=utf-8&quot;&gt;
	&lt;title&gt;Account&lt;/title&gt;
	&lt;link href=&quot;/bags/common/tiddlers/profile.css&quot; type='text/css' rel='stylesheet' &gt;
	&lt;link href=&quot;/bags/common/tiddlers/admin.css&quot; type='text/css' rel='stylesheet' &gt;
	&lt;link href=&quot;/bags/common/tiddlers/jquery-ui.custom.css&quot; type='text/css' rel='stylesheet' &gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div id=&quot;container&quot;&gt;
	&lt;div class=&quot;main section&quot;&gt;
		&lt;a class=&quot;app&quot; href=&quot;/&quot;&gt;home&lt;/a&gt;
		&lt;div class=&quot;left&quot;&gt;
		&lt;div id=&quot;siteiconArea&quot;&gt;
		&lt;h2&gt;User Icon&lt;/h2&gt;
		&lt;div&gt;
			&lt;img id=&quot;siteicon&quot; class=&quot;siteicon&quot;&gt;
			&lt;form id=&quot;upload&quot; method=&quot;POST&quot; enctype=&quot;multipart/form-data&quot;&gt;
				&lt;input type=&quot;hidden&quot; name=&quot;title&quot; value=&quot;SiteIcon&quot; /&gt;
				&lt;input type=&quot;hidden&quot; name=&quot;tags&quot; value=&quot;excludeLists&quot;&gt;
				&lt;input type=&quot;hidden&quot; name=&quot;csrf_token&quot; class=&quot;csrf&quot; /&gt;
				&lt;input type=&quot;file&quot; name=&quot;file&quot; accept=&quot;image/*&quot; /&gt;
				&lt;input type=&quot;submit&quot; value=&quot;upload&quot; /&gt;
			&lt;/form&gt;
			&lt;div id=&quot;dropzone&quot;&gt;Drop file here
				&lt;img class=&quot;notloading&quot; src=&quot;/bags/common/tiddlers/ajax-loader.gif&quot; alt=&quot;submitting SiteIcon&quot; /&gt;
			&lt;/div&gt;
		&lt;/div&gt;
		&lt;/div&gt;
		&lt;h2&gt;Find Space&lt;/h2&gt;
		&lt;form class=&quot;spaceSearch&quot;&gt;
			&lt;input class=&quot;inputBox&quot; type=&quot;text&quot; placeholder=&quot;find space&quot; /&gt;
			&lt;a href=&quot;http://docs.tiddlyspace.com/What%20is%20a%20Space%3F&quot; class=&quot;help&quot;
				title=&quot;What is a space?&quot;&gt;What is a space?&lt;/a&gt;
			&lt;button&gt;view all&lt;/button&gt;
		&lt;/form&gt;
		&lt;div class='list-container'&gt;
			You are a member of the following spaces:
			&lt;ul class='ts-space-search'&gt;
			&lt;/ul&gt;
		&lt;/div&gt;
		&lt;h2&gt;Create New Space&lt;/h2&gt;
		&lt;form class=&quot;ts-spaces&quot;&gt;
			&lt;input class=&quot;inputBox&quot; type=&quot;text&quot; name=&quot;spacename&quot; placeholder=&quot;space name&quot;&gt;&lt;span class=&quot;hostSuffix&quot;&gt;.tiddlyspace.com&lt;/span&gt;
			&lt;input type=&quot;submit&quot; value=&quot;Create Space&quot; /&gt;
		&lt;/form&gt;
		&lt;/div&gt;
		&lt;div class=&quot;right&quot;&gt;
		&lt;h2&gt;Change Password&lt;/h2&gt;
		&lt;form class=&quot;ts-password&quot;&gt;
			&lt;input class=&quot;inputBox&quot; placeholder=&quot;existing password&quot; type=&quot;password&quot; name=&quot;password&quot;&gt;
			&lt;input class=&quot;inputBox&quot; placeholder=&quot;new password&quot; type=&quot;password&quot; name=&quot;new_password&quot;&gt;
			&lt;input class=&quot;inputBox&quot; placeholder=&quot;new password&quot;	type=&quot;password&quot; name=&quot;new_password_confirm&quot;&gt;
			&lt;input type=&quot;submit&quot; value=&quot;Change password&quot;&gt;
		&lt;/form&gt;
		&lt;h2&gt;OpenID&lt;/h2&gt;
		&lt;h3&gt;Why OpenID?&lt;/h3&gt;
		&lt;a href=&quot;http://openid.net/&quot;&gt;&lt;img src=&quot;/bags/common/tiddlers/openid.png&quot; alt=&quot;openid&quot; &gt;&lt;/a&gt;&lt;br /&gt;
		Use just one username and password across hundreds of OpenID-enabled sites.&lt;br /&gt;
		It's an open standard.&lt;br /&gt;
		&lt;a href=&quot;http://openid.net/what/&quot;&gt;learn more&lt;/a&gt;
		&lt;ul class=&quot;ts-identities&quot;&gt;&lt;/ul&gt;
		&lt;form class=&quot;ts-openid&quot; target=&quot;_top&quot;&gt;
			&lt;div&gt;
				Add an openid:
			&lt;/div&gt;
			&lt;input class=&quot;inputBox&quot; type=&quot;text&quot; name=&quot;openid&quot; placeholder=&quot;your openid&quot; /&gt;
			&lt;input type=&quot;submit&quot; value=&quot;Register&quot; /&gt;
			&lt;a href=&quot;http://openid.net/get-an-openid/&quot; class=&quot;help&quot;
			title=&quot;What is an open id?&quot;&gt;What is an open id?&lt;/a&gt;
		&lt;/form&gt;
		&lt;/div&gt;
		&lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;script src=&quot;/bags/common/tiddlers/backstage.js&quot;&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/jquery.js'&gt;&lt;/script&gt;
&lt;script src='/bags/tiddlyspace/tiddlers/chrjs'&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/chrjs.space'&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/chrjs.users'&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/chrjs.identities'&gt;&lt;/script&gt;
&lt;script src=&quot;/bags/common/tiddlers/jquery-ui.custom.js&quot;&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/jquery-form.js'&gt;&lt;/script&gt;
&lt;script src=&quot;/bags/common/tiddlers/siteiconupload.js&quot;&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/ts.js'&gt;&lt;/script&gt;
&lt;script src=&quot;/status.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
/*
 * jQuery UI Autocomplete HTML Extension
 *
 * Copyright 2010, Scott González (http://scottgonzalez.com)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * http://github.com/scottgonzalez/jquery-ui-extensions
 */
(function( $ ) {

var proto = $.ui.autocomplete.prototype,
	initSource = proto._initSource;

function filter( array, term ) {
	var matcher = new RegExp( $.ui.autocomplete.escapeRegex(term), &quot;i&quot; );
	return $.grep( array, function(value) {
		return matcher.test( $( &quot;&lt;div&gt;&quot; ).html( value.label || value.value || value ).text() );
	});
}

$.extend( proto, {
	_initSource: function() {
		if ( this.options.html &amp;&amp; $.isArray(this.options.source) ) {
			this.source = function( request, response ) {
				response( filter( this.options.source, request.term ) );
			};
		} else {
			initSource.call( this );
		}
	},

	_renderItem: function( ul, item) {
		return $( &quot;&lt;li&gt;&lt;/li&gt;&quot; )
			.data( &quot;item.autocomplete&quot;, item )
			.append( $( &quot;&lt;a&gt;&lt;/a&gt;&quot; )[ this.options.html ? &quot;html&quot; : &quot;text&quot; ]( item.label ) )
			.appendTo( ul );
	}
});

})( jQuery );

/***
_accounts application specific javascript
***/
var link;
ts.init(function(ts) {
	if(ts.user.anon) { // redirect to homepage when user not logged in
		window.location = ts.getHost();
	} else if(ts.user.name === ts.currentSpace){
		initSiteIconUpload(ts.user.name);
	} else {
		link = $(&quot;&lt;a /&gt;&quot;).attr(&quot;href&quot;, ts.getHost(ts.user.name) + &quot;/_account&quot;).text(&quot;Change User Icon&quot;);
		$(&quot;#siteiconArea div&quot;).empty().append(link);
	}
	$(&quot;.hostSuffix&quot;).text(&quot;.&quot; + ts.getHost(&quot;&quot;).split(&quot;//&quot;)[1]);
	ts.getSpaces(function(spaces) {
		$(&quot;&lt;div class='info' /&gt;&quot;).text(&quot;You have &quot; + spaces.length + &quot; spaces.&quot;).insertBefore($(&quot;.spaceSearch&quot;)[0]);
		$(&quot;form.spaceSearch input&quot;).autocomplete({
			html: true,
			source: function(req, response) {
				ts.getSpaces(function(spaces) {
					var selected = [];
					for(var i = 0; i &lt; spaces.length; i++) {
						var space = spaces[i];
						if(space.name.indexOf(req.term) &gt; -1) {
							var host = ts.getHost(space.name) ;
							var img = host + &quot;/SiteIcon&quot;;
							selected.push({
								value: space.name,
								label: '&lt;a href=&quot;' + host + '&quot; target=&quot;_parent&quot; class=&quot;autocompleteLink&quot;&gt;&lt;img src=&quot;' + img + '&quot; style=&quot;height:24px;width:auto;max-height:24px;max-width:24px;&quot;/&gt;' + space.name + '&lt;/a&gt;'
							});
						}
					}
					response(selected);
				});
			},
			select: function(event, ui) {
				window.top.location = ts.getHost(ui.item.value);
			}
		});

		var $ul = $('.ts-space-search');
		$.each(spaces, function(i, space) {
			$ul.append($('&lt;li/&gt;').html($('&lt;a/&gt;').attr('href', space.uri)
				.text(space.name)));
		});

		$('form.spaceSearch button').click(function(ev) {
			$('.list-container').slideToggle('fast');
			ev.preventDefault();
			return false;
		});
	});
});

if(window != window.top) {
	$(&quot;html&quot;).addClass(&quot;iframeMode&quot;);
	$(&quot;a&quot;).live(&quot;click&quot;,function(ev) {
		$(ev.target).attr(&quot;target&quot;, &quot;_parent&quot;);
	});
}
&lt;/script&gt;
&lt;!--[if lt IE 8]&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;/bags/common/tiddlers/json2.js&quot;&gt;&lt;/script&gt;
&lt;![endif]--&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<div title="_reply" creator="bengillies" modifier="bengillies" created="201311111923" modified="201311111923" tags="excludeLists excludeMissing excludeSearch" _hash="01c7fff74dd8fd746394153d7c586fee665e4ce6" server.content-type="text/html" server.permissions="read" server.bag="tiddlyspace" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" server.etag="&quot;tiddlyspace/_reply/1521889:3c5d93aac95dbee5862d0509bb1efac8b2971400&quot;" server.page.revision="1521889" server.title="_reply">
<pre>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
	&lt;meta charset=&quot;UTF-8&quot;&gt;
	&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge,chrome=1&quot;&gt;
	&lt;title&gt;Reply&lt;/title&gt;
	&lt;link rel=&quot;stylesheet&quot; href=&quot;//tiddlyspace.com/bags/benspa_public/tiddlers/bootvelcro.css&quot;&gt;
	&lt;style&gt;
		html,
		body {
			overflow: hidden;
			background-color: transparent;
		}

		#container {
			/* prevent a fouc if no images present */
			display: none;
		}

		.modal-header {
			border-bottom: none;
			padding: 5px 0 0;
			position: absolute;
			width: 100%;
			background-color: #e0e0e0;
			-webkit-border-radius: 6px 6px 0 0;
			-moz-border-radius: 6px 6px 0 0;
			border-radius: 6px 6px 0 0;
			cursor: move;
		}

		.form-actions {
			position: absolute;
			bottom: 0;
			box-sizing: border-box;
			-moz-box-sizing: border-box;
			width: 100%;
			margin: 0;
			border-radius: 0 0 6px 6px;
			background-color: #e0e0e0;
			border-top: 1px solid gray;
		}

		.form-actions input.btn {
			width: auto;
			float: right;
			margin: 0 0.2em;
		}

		.closeBtn {
			background-color: #DCE7F1 !important;
		}

		.primary {
			background-color: #09F !important;
		}

		h1 {
			margin-bottom: 9px;
			margin-top: 9px;
		}

		body {
			width: 100%;
			height: 100%;
			position: absolute;
		}

		.modal {
			margin: 10px;
			top: 0;
			left: 0;
			bottom: 0;
			width: 510px;
			position: absolute;
			box-shadow: #444 0px 0px 10px 2px;
			border-radius: 6px;
			background-color: white;
			border: 1px solid gray;
			background-color: #F0F4F8;
		}

		label em {
			cursor: pointer;
		}

		.modal-body {
			overflow: auto;
			position: absolute;
			top: 0;
			bottom: 0;
			left: 0;
			right: 0;
			margin: 65px 20px 67px;
			background-color: transparent;
		}

		.nav-tabs {
			padding-left: 1%;
			margin: 0;
			width: 99%;
			border-color: gray;
		}

		.nav-tabs &gt; li {
			cursor: pointer;
		}

		.nav-tabs &gt; li &gt; a {
			line-height: 2.4em;
			font-weight: bold;
			font-size: 100%;
		}

		.nav-tabs &gt; li.active &gt; a{
			background-color: #F0F4F8;
			border-color: gray;
			border-bottom-color: #F0F4F8;
		}

		.active {
			display: block;
		}

		input,
		textarea,
		select,
		.uneditable-input {
			color: #606060;
		}

		.imagePicker {
			-moz-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
			-webkit-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
			box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
			border: 1px solid #CCC;
			height: 110px;
			overflow: auto;
			-webkit-border-radius: 3px;
			-moz-border-radius: 3px;
			border-radius: 3px;
			margin-left: 0;
		}

		.imagePicker img {
			margin: 5px;
			border: 2px solid transparent;
		}

		.imagePicker .current {
			border: 2px dotted #555;
		}

		label {
			font-weight: bold;
		}

		.form-actions label {
			float: left;
			margin-top: 0.75em;
		}

		fieldset input,
		fieldset textarea {
			width: 90%;
			border-color: gray;
		}

		@media all and (max-width: 550px) {
			.modal {
				width: 95%;
			}
		}

		#help {
			position: absolute;
			border: 0;
			right: 4px;
			top: 5px;
			text-indent: -9999px;
			color: transparent;
			height: 16px;
			width: 16px;
			background: none;
			background-image: url(/bags/common/tiddlers/help.png);
			background-repeat: no-repeat;
			background-color: white;
			z-index: 2;
			border-radius: 10px;
		}

		#help-info {
			padding: 0;
			border: 1px solid gray;
			width: 60%;
			height: 50px;
			color: #404040;
			background-color: white;
			position: absolute;
			top: 5px;
			right: 5px;
			z-index: 1;
			cursor: auto;
			border-radius: 5px;

		}

		#help-info p {
			padding: 10px 25px;
			margin-bottom: 0;
		}
	&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;div id=&quot;container&quot;&gt;
		&lt;form action=&quot;#&quot; class=&quot;modal&quot;&gt;
			&lt;div class=&quot;modal-header&quot;&gt;
				&lt;button id=&quot;help&quot;&gt;help&lt;/button&gt;
				&lt;div id=&quot;help-info&quot; style=&quot;display:none;&quot;&gt;&lt;p&gt;
				Found something interesting? Write about it in your own space. &lt;a href=&quot;//docs.tiddlyspace.com/Reply to this Tiddler&quot; target=&quot;_blank&quot;&gt;Find out more&lt;/a&gt;
				&lt;/p&gt;&lt;/div&gt;
				&lt;ul class=&quot;nav nav-tabs&quot; data-tabs=&quot;tabs&quot;&gt;
					&lt;li class=&quot;active&quot; data-tab-name=&quot;post&quot;&gt;&lt;a href=&quot;#postForm&quot;&gt;Reply&lt;/a&gt;&lt;/li&gt;
				&lt;/ul&gt;
			&lt;/div&gt;


			&lt;fieldset id=&quot;postForm&quot; class=&quot;modal-body&quot;&gt;
				&lt;label&gt;Title
					&lt;input type=&quot;text&quot; name=&quot;title&quot;&gt;
				&lt;/label&gt;
				&lt;input type=&quot;hidden&quot; name=&quot;url&quot;&gt;
				&lt;label&gt;Post
					&lt;textarea name=&quot;text&quot; rows=&quot;8&quot;&gt;&lt;/textarea&gt;
				&lt;/label&gt;
				&lt;label&gt;Tags
					&lt;input type=&quot;text&quot; name=&quot;tags&quot; value=&quot;&quot;&gt;
				&lt;/label&gt;
			&lt;/fieldset&gt;


			&lt;div class=&quot;form-actions&quot;&gt;
				&lt;label class=&quot;checkbox&quot;&gt;
					&lt;input type=&quot;checkbox&quot; name=&quot;private&quot; val=&quot;private&quot;&gt;
					keep private
				&lt;/label&gt;
				&lt;input type=&quot;submit&quot; class=&quot;btn primary btn-large&quot; value=&quot;Done&quot;&gt;
				&lt;input type=&quot;button&quot; class=&quot;btn btn-large closeBtn&quot; value=&quot;Cancel&quot;&gt;
			&lt;/div&gt;
		&lt;/form&gt;
	&lt;/div&gt;

	&lt;script type=&quot;text/javascript&quot;
            src=&quot;/bags/common/tiddlers/jquery.js&quot;&gt;&lt;/script&gt;
	&lt;script type=&quot;text/javascript&quot; src=&quot;/bags/tiddlyspace/tiddlers/chrjs&quot;&gt;&lt;/script&gt;
	&lt;script type=&quot;text/javascript&quot; src=&quot;/bags/common/tiddlers/_reply.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<div title="_space" creator="None" modifier="None" created="201311111923" modified="201311111923" tags="excludeLists excludeMissing excludeSearch" _hash="8c535528a72c980d5c68cc9ca28ef21cb040b270" server.content-type="text/html" server.permissions="read" server.bag="tiddlyspace" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" server.etag="&quot;tiddlyspace/_space/1521890:6352d3858954f50ea10c3bbfde50f8efa396948a&quot;" server.page.revision="1521890" server.title="_space">
<pre>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
	&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=utf-8&quot;&gt;
	&lt;title&gt;This Space&lt;/title&gt;
	&lt;link href=&quot;/bags/common/tiddlers/profile.css&quot; type='text/css' rel='stylesheet' &gt;
	&lt;link href=&quot;/bags/common/tiddlers/admin.css&quot; type='text/css' rel='stylesheet' &gt;
	&lt;!--[if lte IE 8]&gt;
	&lt;script type=&quot;text/javascript&quot; src=&quot;/bags/common/tiddlers/json2.js&quot;&gt;&lt;/script&gt;
	&lt;script type=&quot;text/javascript&quot; src=&quot;/bags/common/tiddlers/es5-shim.min.js&quot;&gt;&lt;/script&gt;
	&lt;![endif]--&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id=&quot;container&quot;&gt;
	&lt;div id=&quot;text-html&quot; class=&quot;main section&quot;&gt;
		&lt;a class=&quot;app&quot; href=&quot;/&quot;&gt;home&lt;/a&gt;
		&lt;div class=&quot;left&quot;&gt;
		&lt;h2&gt;About this space &lt;button class='toggleNext'&gt;&lt;/button&gt;&lt;/h2&gt;
		&lt;div id=&quot;siteinfo&quot;&gt;&lt;/div&gt;
		&lt;h2&gt;Site Icon&lt;/h2&gt;
		&lt;div&gt;
			&lt;img id=&quot;siteicon&quot; class=&quot;siteicon&quot;&gt;
			&lt;form id=&quot;upload&quot; method=&quot;POST&quot; enctype=&quot;multipart/form-data&quot;&gt;
				&lt;input type=&quot;hidden&quot; name=&quot;title&quot; value=&quot;SiteIcon&quot; /&gt;
				&lt;input type=&quot;hidden&quot; name=&quot;tags&quot; value=&quot;excludeLists&quot;&gt;
				&lt;input type=&quot;hidden&quot; name=&quot;csrf_token&quot; class=&quot;csrf&quot; /&gt;
				&lt;input type=&quot;file&quot; name=&quot;file&quot; accept=&quot;image/*&quot; /&gt;
				&lt;input class=&quot;btn&quot; type=&quot;submit&quot; value=&quot;upload&quot; /&gt;
			&lt;/form&gt;
			&lt;div id=&quot;dropzone&quot;&gt;Drop file here
				&lt;img class=&quot;notloading&quot; src=&quot;/bags/common/tiddlers/ajax-loader.gif&quot; alt=&quot;submitting SiteIcon&quot; /&gt;
			&lt;/div&gt;
		&lt;/div&gt;
		&lt;h2&gt;Vital Statistics&lt;/h2&gt;
		&lt;div id=&quot;info&quot;&gt;please wait while information is loaded about this space...&lt;/div&gt;
		&lt;button class=&quot;spacereset&quot;&gt;Reset Space&lt;/button&gt;
		&lt;div class=&quot;reset-confirm-wrap messageArea&quot;&gt;
			&lt;button class=&quot;close-btn&quot; title=&quot;cancel reset&quot;&gt;×&lt;/button&gt;
			&lt;p&gt;Are you sure you want to reset the space? You can't go back! This will remove all the content from the space!&lt;/p&gt;
			&lt;form class=&quot;cf&quot;&gt;
				&lt;label for=&quot;reset-confirm&quot;&gt;Enter the space name to confirm.&lt;/label&gt;
				&lt;input type=&quot;text&quot; name=&quot;reset-confirm&quot; class=&quot;reset-confirm-input inputBox&quot; /&gt;
				&lt;button type=&quot;submit&quot;&gt;Reset Now&lt;/button&gt;
			&lt;/form&gt;
			&lt;div class=&quot;reset-message-area&quot;&gt;
				&lt;p class=&quot;performing&quot;&gt;Resetting...&lt;/p&gt;
				&lt;p class=&quot;finished&quot;&gt;Reset Done!&lt;/p&gt;
				&lt;p class=&quot;recipe-error-msg&quot;&gt;Error removing includes. Please remove manually.&lt;/p&gt;
			&lt;/div&gt;
		&lt;/div&gt;
		&lt;/div&gt;
		&lt;div class=&quot;right&quot;&gt;
		&lt;div class=&quot;ts-membership&quot;&gt;
			&lt;h2&gt;
				Add Member
				&lt;a href=&quot;http://docs.tiddlyspace.com/What%20is%20a%20member%3F&quot; title=&quot;What is a Member?&quot; class=&quot;help&quot;&gt;What is a Member?&lt;/a&gt;
			&lt;/h2&gt;
			&lt;div&gt;
				&lt;p&gt;Add a new member to your space by entering their name below. Enter a space name instead and prefix with @ to add everyone who is already a member of that space.&lt;/p&gt;
				&lt;form class=&quot;ts-members&quot;&gt;
					&lt;input class=&quot;inputBox&quot; type=&quot;text&quot; name=&quot;username&quot;&gt;
					&lt;input type=&quot;submit&quot; value=&quot;Add Member&quot; class=&quot;btn&quot; /&gt;
				&lt;/form&gt;
			&lt;/div&gt;
			&lt;h2&gt;
				Existing Members &lt;button class='toggleNext'&gt;&lt;/button&gt;
			&lt;/h2&gt;
			&lt;div&gt;
				Your space currently has the following members: 
				&lt;ul class=&quot;ts-members&quot;&gt;&lt;/ul&gt;
			&lt;/div&gt;
			&lt;h2&gt;
				Include Space
				&lt;a class=&quot;help&quot; href=&quot;http://docs.tiddlyspace.com/What%20is%20space%20inclusion%3F&quot; title=&quot;What is inclusion?&quot;&gt;What is Inclusion?&lt;/a&gt;
			&lt;/h2&gt;
			&lt;form class=&quot;ts-includes&quot;&gt;
				&lt;input class=&quot;inputBox&quot; type=&quot;text&quot; name=&quot;spacename&quot;&gt;
				&lt;input type=&quot;submit&quot; value=&quot;Include Space&quot; class=&quot;btn&quot; /&gt;
			&lt;/form&gt;
		&lt;/div&gt;
		&lt;div&gt;
			&lt;h2&gt;Included Spaces &lt;button class='toggleNext'&gt;&lt;/button&gt;&lt;/h2&gt;
			&lt;div&gt;
			This space includes the following spaces:
			&lt;ul class=&quot;ts-includes&quot;&gt;&lt;/ul&gt;
			&lt;/div&gt;
		&lt;/div&gt;
		&lt;/div&gt;
		&lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;script src='/bags/common/tiddlers/backstage.js'&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/jquery.js'&gt;&lt;/script&gt;
&lt;script src='/bags/tiddlyspace/tiddlers/chrjs'&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/chrjs.space'&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/chrjs.users'&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/chrjs.identities'&gt;&lt;/script&gt;
&lt;script src='/bags/tiddlyspace/tiddlers/TiddlySpaceCSRF'&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/jquery-form.js'&gt;&lt;/script&gt;
&lt;script src=&quot;/bags/common/tiddlers/siteiconupload.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;/bags/common/tiddlers/ts.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;/status.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;/bags/common/tiddlers/space.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<div title="_topics" creator="jon" modifier="jon" created="201112281504" modified="201112291540" tags="excludeLists" summary="" _hash="1cdba9d2e797e24d19c73ee5a766333694776c84" server.content-type="text/html" server.permissions="read" server.bag="following_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/following_public" server.etag="&quot;following_public/_topics/71183:908a0dad3c2abbb012dca2ebb1dde43475ad9b61&quot;" server.page.revision="71183" server.title="_topics">
<pre>&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
&lt;body style=&quot;display:none&quot;&gt;
topics: &lt;ul id=&quot;topics&quot;&gt;&lt;/ul&gt;
&lt;button id='addtopic'&gt;add topic&lt;/button&gt;
stream:
&lt;ul id=&quot;stream&quot;&gt;&lt;/ul&gt;
&lt;script type='text/javascript' src='/bags/common/tiddlers/jquery.js'&gt;&lt;/script&gt;
&lt;script type='text/javascript' src='/bags/tiddlyspace/tiddlers/chrjs'&gt;&lt;/script&gt;
&lt;script src=&quot;/twikifier.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;script type='text/javascript'&gt;
	$.ajaxSetup({
		beforeSend: function(xhr) {
			xhr.setRequestHeader(&quot;X-ControlView&quot;, &quot;false&quot;);
		}
	});
	function renderTopic(topic) {
		var item = $(&quot;&lt;li /&gt;&quot;).appendTo(&quot;#topics&quot;);
		$(&quot;&lt;button class='show' /&gt;&quot;).text(topic).appendTo(item);
		$(&quot;&lt;button class='delete'&gt;x&lt;/button&gt;&quot;).appendTo(item);
		return item[0];
	}
	var host =  '/';
	var space = &quot;jon&quot;;
	var active_topics = [];
	var current_topic, offset;
	function renderTopics() {
		var topics = active_topics;
		$(&quot;#topics&quot;).empty();
		for(var i = 0; i &lt; topics.length; i++) {
			var topic = topics[i];
			if(topic) {
				renderTopic(topic);
			}
		}
		$(&quot;body&quot;).show();
	}
	// Array Remove - By John Resig (MIT Licensed)
	Array.prototype.remove = function(from, to) {
		var rest = this.slice((to || from) + 1 || this.length);
		this.length = from &lt; 0 ? this.length + from : from;
		return this.push.apply(this, rest);
	};

	var topicList = new tiddlyweb.Tiddler(&quot;Topics&quot;, new tiddlyweb.Bag(space + &quot;_public&quot;, host));
	topicList.get(function(tid) {
			active_topics = tid.text.split(&quot;\n&quot;);
			renderTopics(active_topics);
			$(&quot;#topics .show:first&quot;).trigger(&quot;click&quot;);
		},
		function() {
			active_topics = [&quot;tiddlyspace&quot;];
			renderTopics(active_topics)
		}
	);
	$(&quot;#addtopic&quot;).click(function(ev) {
		var text = prompt(&quot;What topic would you like to watch?&quot;);
		if(active_topics.indexOf(text) === -1) {
			active_topics.push(text);
		}
		var el = renderTopic(text);
		topicList.text = active_topics.join(&quot;\n&quot;);
		topicList.put(function() {
			$(&quot;button.show&quot;, el).trigger(&quot;click&quot;);
		}, function() {
			alert(&quot;eek!&quot;)
		});
	});
	$(&quot;#topics .delete&quot;).live(&quot;click&quot;,function(ev) {
		var topic = $(&quot;.show&quot;, this.parentNode).text();
		active_topics.remove(active_topics.indexOf(topic));
		renderTopics();
		topicList.text = active_topics.join(&quot;\n&quot;);
		topicList.put(function() {}, function() {
			alert(&quot;eek!&quot;)
		});
	});
	w = createWikifier(window, jQuery, { host: host, container: &quot;recipes/&quot; + space + &quot;_public&quot; });
	$(&quot;#topics .show&quot;).live(&quot;click&quot;,function(ev) {
		var tag = $(this).text();
		current_topic = tag;
		offset = 0;
		$(&quot;#stream&quot;).empty();
		var search = new tiddlyweb.Search('tag:&quot;' + tag + '&quot; &amp;fat=y', host);
		search.get(function(tiddlers) {
			for(var i = 0; i &lt; tiddlers.length; i++) {
				var tiddler = tiddlers[i];
				var item = $(&quot;&lt;li /&gt;&quot;).appendTo(&quot;#stream&quot;)[0];
				$(&quot;&lt;h2 /&gt;&quot;).text(tiddler.title + &quot;: &quot;).appendTo(item);
				
				$(&quot;&lt;div class='text' /&gt;&quot;).text(tiddler.text).appendTo(item);
				$(&quot;&lt;div class='author' /&gt;&quot;).text(tiddler.modifier).appendTo(item);
			}
		}, function() {
			$(&quot;&lt;li&gt;no topics :-(&lt;/li&gt;&quot;).appendTo(&quot;#stream&quot;);
		});
	});
	$(window).scroll(function(){
		if($(window).scrollTop() == $(document).height() - $(window).height()) {
			offset += 10;
			// find a way to get all tiddlers created before the ones above
			console.log(&quot;loadMore();&quot;);
		}
	});
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<div title="activity" creator="bengillies" modifier="pads" created="201204301507" modified="201309121350" _hash="f86d6e2de5080b090a8ac79b64504e44eaae76d4" server.content-type="text/html" server.permissions="read" server.bag="tivity_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/tivity_public" server.etag="&quot;tivity_public/activity/1399308:ff1c19bb417010cf4964488c719642964f3ad3f6&quot;" server.page.revision="1399308" server.title="activity">
<pre>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;@tivity&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot;
    href=&quot;/bags/common/tiddlers/reset.css&quot;&gt;
    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot;
    href=&quot;http://tiddlyspace.com/bags/tivity-extra_public/tiddlers/activity.css&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;message&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;box&quot;&gt;
        &lt;h1 title=&quot;from spaces you follow&quot;&gt;&amp;#9634;&lt;/h1&gt;
        &lt;ul id=&quot;bbox&quot; class=&quot;tiddlers&quot;&gt;&lt;/ul&gt;
    &lt;/div&gt;
    &lt;div class=&quot;box&quot;&gt;
        &lt;h1 title=&quot;tagged for you&quot;&gt;@&lt;/h1&gt;
        &lt;ul id=&quot;atbox&quot; class=&quot;tiddlers&quot;&gt;&lt;/ul&gt;
    &lt;/div&gt;
    &lt;div class=&quot;box&quot;&gt;
        &lt;h1 title=&quot;from your friends&quot;&gt;&amp;#x263A;&lt;/h1&gt;
        &lt;ul id=&quot;fbox&quot; class=&quot;tiddlers&quot;&gt;&lt;/ul&gt;
    &lt;/div&gt;
    &lt;div class=&quot;box&quot;&gt;
        &lt;h1 title=&quot;from everybody&quot;&gt;&amp;#x221E;&lt;/h1&gt;
        &lt;ul id=&quot;upbox&quot; class=&quot;tiddlers&quot;&gt;&lt;/ul&gt;
    &lt;/div&gt;
    &lt;div id=&quot;sizer&quot;&gt;M&lt;/div&gt;
    &lt;div id=&quot;more&quot;&gt;
        &lt;input type=&quot;text&quot; id=&quot;newsub&quot; value=&quot;#tag, +modifier or @space&quot;&gt;
        &lt;button id=&quot;addsub&quot;&gt;+&lt;/button&gt;
    &lt;/div&gt;
&lt;/body&gt;
&lt;script src=&quot;/bags/common/tiddlers/jquery.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;http://tiddlyspace.com/bags/tivity-extra_public/tiddlers/jquery.timeago.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;/status.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;http://tiddlyspace.com/bags/tivity-extra_public/tiddlers/tiddlersocket.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;http://tiddlyspace.com/bags/tivity-extra_public/tiddlers/activity.js&quot;&gt;&lt;/script&gt;
&lt;/html&gt;

</pre>
</div>
<div title="another one" creator="inforabbi" modifier="inforabbi" created="201509090524" modified="201509201825" _hash="a8da8900eebdd45e12b5dd7f54702c0939943346" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/another%20one/2342508:e251572db8a67962f0687018a17f202cdb90f9c5&quot;" server.page.revision="2342508" server.title="another one">
<pre>&lt;html&gt;&lt;iframe src=&quot;https://www.opendrive.com/player/Ml8zMTc0Njg5Ml9IZkJnYQ&quot; width=&quot;541&quot; height=&quot;450&quot; style=&quot;border:0&quot; scrolling=&quot;no&quot; frameborder=&quot;0&quot; allowtransparency=&quot;true&quot;&gt;&lt;/iframe&gt;&lt;/html&gt;


</pre>
</div>
<div title="apps" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch" _hash="901ce9fdbc458a92f3643134f0bd968fc1f69cb1" server.content-type="text/html" server.permissions="read" server.bag="tiddlyspace" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" server.etag="&quot;tiddlyspace/apps/1521891:03f326b2d175799ae42b7fb211f80c9a98cf4e75&quot;" server.page.revision="1521891" server.title="apps">
<pre>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
	&lt;meta charset=&quot;utf-8&quot;/&gt;
	&lt;title&gt;TiddlySpace Apps&lt;/title&gt;
	&lt;link rel=&quot;stylesheet&quot; href=&quot;/bags/common/tiddlers/reset.css&quot; /&gt;
	&lt;link rel=&quot;stylesheet&quot; href=&quot;/bags/common/tiddlers/appspage.css&quot; /&gt;
	&lt;!--[if lt IE 7 ]&gt;
	&lt;link rel=&quot;stylesheet&quot; href=&quot;/bags/common/tiddlers/appspageie6.css&quot; /&gt;
	&lt;![endif]--&gt;
&lt;/head&gt;
&lt;body&gt;
	
	&lt;div id=&quot;wrapper&quot;&gt;
		&lt;div id=&quot;TSbar&quot;&gt;&lt;/div&gt;
		&lt;div id=&quot;main-content&quot;&gt;
			&lt;div id=&quot;space-details&quot;&gt;
				&lt;a href=&quot;/_space&quot;&gt;&lt;img class=&quot;siteicon&quot;&gt;&lt;/a&gt;
				&lt;div id=&quot;title-subtitle&quot;&gt;
					&lt;h1 class=&quot;spaceaddress&quot;&gt;
						&lt;span class=&quot;spaceName&quot;&gt;&lt;/span&gt;&lt;span class=&quot;hostName&quot;&gt;&lt;/span&gt;
					&lt;/h1&gt;
					&lt;p class=&quot;tagline&quot;&gt;&lt;span class=&quot;subTitle&quot;&gt;&lt;/span&gt;&lt;a class=&quot;managespaces&quot; href=&quot;/_space&quot;&gt;manage space&lt;/a&gt;&lt;/p&gt;
				&lt;/div&gt;
			&lt;/div&gt;
			&lt;div id=&quot;holder&quot;&gt;
				&lt;div id=&quot;appswitcher-wrapper&quot;&gt;
					&lt;div id=&quot;appswitcher&quot;&gt;
						&lt;h2&gt;Your Apps&lt;/h2&gt;
						&lt;ul id=&quot;app-list&quot;&gt;
							&lt;li class=&quot;htmlserialisation&quot;&gt;
								&lt;a href=&quot;/tiddlers.html?select=tag:!excludeLists;sort=-modified&quot;&gt;
									&lt;img src=&quot;/bags/common/tiddlers/browse_read_blue.png&quot; alt=&quot;Icon for the HTML Serialisation&quot; class=&quot;app-img&quot; /&gt;
									BROWSE
								&lt;/a&gt;
							&lt;/li&gt;
							&lt;li class=&quot;tiddlywiki&quot;&gt;
								&lt;a href=&quot;/tiddlers.wiki&quot;&gt;
									&lt;img src=&quot;/bags/common/tiddlers/tiddlywiki2_blue.png&quot; alt=&quot;Icon for TiddlyWiki&quot; class=&quot;app-img&quot; /&gt;
									TIDDLYWIKI
								&lt;/a&gt;
							&lt;/li&gt;
						&lt;/ul&gt;
						&lt;div id=&quot;addapp&quot;&gt;
							&lt;button class=&quot;inactive&quot;&gt;Add More!&lt;/button&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div id=&quot;app-desc&quot;&gt;
						&lt;ul&gt;
							&lt;li class=&quot;htmlserialisationdesc&quot;&gt;&lt;p&gt;an easy to understand HTML representation of your content.&lt;/p&gt;&lt;/li&gt;
							&lt;li class=&quot;tiddlywikidesc&quot;&gt;&lt;p&gt;use TiddlyWiki to create, edit and organise your content.&lt;/p&gt;&lt;/li&gt;
						&lt;/ul&gt;
					&lt;/div&gt;
					&lt;div style=&quot;clear: both;&quot;&gt;&lt;/div&gt;
				&lt;/div&gt;
			&lt;/div&gt;
		&lt;/div&gt;
		&lt;div id=&quot;footer&quot;&gt;&lt;!-- ie doesn't support footer tag --&gt;
			&lt;div id=&quot;footer-content&quot;&gt;
				&lt;div class=&quot;links&quot;&gt;
					&lt;a href=&quot;http://blog.tiddlyspace.com&quot;&gt;blog&lt;/a&gt;
					&lt;a href=&quot;http://featured.tiddlyspace.com&quot;&gt;featured&lt;/a&gt;
					&lt;a href=&quot;http://docs.tiddlyspace.com&quot;&gt;documentation&lt;/a&gt;
					&lt;a href=&quot;https://github.com/TiddlySpace/tiddlyspace&quot;&gt;source&lt;/a&gt;
				&lt;/div&gt;
				&lt;p&gt;TiddlySpace 2011, created by &lt;a href=&quot;http://osmosoft.com&quot;&gt;Osmosoft&lt;/a&gt;&lt;/p&gt;
			&lt;/div&gt;
		&lt;/div&gt;
	&lt;/div&gt;
	
	&lt;script type=&quot;text/javascript&quot; src=&quot;/bags/common/tiddlers/backstage.js&quot;&gt;&lt;/script&gt;
	&lt;script type=&quot;text/javascript&quot; src=&quot;/bags/common/tiddlers/jquery.js&quot;&gt;&lt;/script&gt;
	&lt;script type=&quot;text/javascript&quot; src=&quot;/bags/tiddlyspace/tiddlers/chrjs&quot;&gt;&lt;/script&gt;
	&lt;script type=&quot;text/javascript&quot; src=&quot;/bags/common/tiddlers/chrjs-store.js&quot;&gt;&lt;/script&gt;
	&lt;script type=&quot;text/javascript&quot; src=&quot;/bags/common/tiddlers/jquery-json.js&quot;&gt;&lt;/script&gt;
	&lt;script type=&quot;text/javascript&quot; src=&quot;/bags/common/tiddlers/appspage.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<div title="backstage.svg" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch" _hash="c1cd42462c1b10a4e77a891408b9c2a24da3b2e6" server.content-type="image/svg+xml" server.permissions="read" server.bag="tiddlyspace" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" server.etag="&quot;tiddlyspace/backstage.svg/1521885:258b1349e4cec98aec553498bdd2c1a13cf80e7f&quot;" server.page.revision="1521885" server.title="backstage.svg">
<pre>&lt;svg xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; height=&quot;100%&quot; width=&quot;100%&quot; version=&quot;1.1&quot; xmlns:cc=&quot;http://creativecommons.org/ns#&quot; xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot; viewBox=&quot;0 0 40 40&quot;&gt;&lt;metadata&gt;&lt;rdf:RDF&gt;&lt;cc:Work rdf:about=&quot;&quot;&gt;&lt;dc:format&gt;image/svg+xml&lt;/dc:format&gt;&lt;dc:type rdf:resource=&quot;http://purl.org/dc/dcmitype/StillImage&quot;/&gt;&lt;dc:title/&gt;&lt;/cc:Work&gt;&lt;/rdf:RDF&gt;&lt;/metadata&gt;&lt;defs&gt;&lt;linearGradient id=&quot;lG3826&quot; x1=&quot;7.0996&quot; gradientUnits=&quot;userSpaceOnUse&quot; y1=&quot;18.829&quot; gradientTransform=&quot;matrix(1.5858347,0,0,1.8078238,1098.1851,351.13716)&quot; x2=&quot;1.5461&quot; y2=&quot;-0.95166&quot;&gt;&lt;stop stop-color=&quot;#000&quot; offset=&quot;0&quot;/&gt;&lt;stop stop-color=&quot;#9c9b99&quot; offset=&quot;1&quot;/&gt;&lt;/linearGradient&gt;&lt;linearGradient id=&quot;lG3828&quot; y2=&quot;372.44&quot; gradientUnits=&quot;userSpaceOnUse&quot; y1=&quot;375.7&quot; x2=&quot;1111.7&quot; x1=&quot;1097.7&quot;&gt;&lt;stop style=&quot;stop-color:#ac9393;&quot; offset=&quot;0&quot;/&gt;&lt;stop style=&quot;stop-color:#c8b7b7;&quot; offset=&quot;1&quot;/&gt;&lt;/linearGradient&gt;&lt;/defs&gt;&lt;g transform=&quot;translate(-1080.9375,-357.3329)&quot;&gt;&lt;path style=&quot;stroke-width:0;stroke-miterlimit:4;fill:url(#lG3826);&quot; d=&quot;m1080.9,357.32,39.996-0.0426-0.01,40.008c-15.507-25.519-15.36-25.95-39.988-39.965z&quot;/&gt;&lt;path style=&quot;stroke-dashoffset:0;stroke:#7aa3be;stroke-linecap:round;stroke-miterlimit:4;stroke-width:1.49999988;fill:#c1e6fd;&quot; d=&quot;m1091.9,363.55c6.5716-6.4925,16.576-7.3925,23.147-0.90003,6.5717,6.4925,6.5717,17.019,0,23.511-4.4424-8.6113-12.288-15.713-23.147-22.611z&quot;/&gt;&lt;path style=&quot;stroke-dashoffset:0;stroke:#ce81b0;stroke-linecap:round;stroke-miterlimit:4;stroke-width:1.5;fill:#f4c4e2;&quot; d=&quot;m1110.2,367.62c3.217,3.2168,3.217,8.4323,0,11.649-3.8194-4.2357-8.3307-8.1824-11.649-11.649,3.217-3.2168,8.4325-3.2168,11.649-0.00002z&quot;/&gt;&lt;path style=&quot;stroke-linejoin:bevel;stroke:#000000;stroke-linecap:round;stroke-dasharray:none;stroke-miterlimit:4;stroke-width:0.80000001;fill:url(#lG3828);&quot; d=&quot;m1081,357.34c18.79,6.4752,32.53,16.56,39.894,39.892-11.19-17.028-14.878-19.19-27.352-14.96,6.2984-12.098,3.9371-13.19-12.542-24.932z&quot;/&gt;&lt;/g&gt;&lt;/svg&gt;</pre>
</div>
<div title="backup" creator="inforabbi" modifier="inforabbi" created="201409170512" modified="201409170512" _hash="d8d6381d193c60ff0a8c1967ebc1e3cb8a302816" server.content-type="" server.permissions="read, write, create, delete" server.bag="inforabbi_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/inforabbi_public" server.etag="&quot;inforabbi_public/backup/1892344:85cf5b7a039aff8454c560498e2f010d425b9bbb&quot;" server.page.revision="1892344" server.title="backup">
<pre>本周我们关注以下问题：
*信息传播：[[最高人民法院、最高人民检察院关于办理利用信息网络实施诽谤等刑事案件适用法律若干问题的解释|http://www.chinanews.com/gn/2013/09-10/5269332.shtml]]
*[[网盘大战的思考|http://pc.2u.com.cn/2_320577.html]]：功能、目的、潜能？
*资源： [[the Association for Information and Image Management (AIIM)|http://www.aiim.org/]]</pre>
</div>
<div title="cancelTiddler" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch" _hash="7ec49872e728041385751b4252f6baab334f44ce" server.content-type="image/svg+xml" server.permissions="read" server.bag="system-images_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-images_public" server.etag="&quot;system-images_public/cancelTiddler/1521931:d1a3b3126772af7a1955fe35bacb9480d677ef37&quot;" server.page.revision="1521931" server.title="cancelTiddler">
<pre>&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xl=&quot;http://www.w3.org/1999/xlink&quot; version=&quot;1.1&quot; viewBox=&quot;72 648 70 70&quot; 
width=&quot;30&quot; height=&quot;30&quot;&gt;
&lt;g stroke=&quot;none&quot; stroke-opacity=&quot;1&quot; stroke-dasharray=&quot;none&quot; fill=&quot;none&quot; fill-opacity=&quot;1&quot;&gt;
	&lt;g&gt;
		&lt;path d=&quot;M 77.59005 669.34003 C 71.532745 681.90424 73.714462 697.4441 84.135193 707.86475 
		C 97.315445 721.0451 118.684715 721.0451 131.8649 707.86475 
		C 145.04515 694.68457 145.04515 673.31537 131.8649 660.13513 
		C 121.4441 649.7141 105.90419 647.53253 93.339905 653.5899 L 102.047455 662.2976 
		C 109.58637 660.2373 117.987976 662.16803 123.90997 668.08997 
		C 132.69673 676.8767 132.69673 691.12317 123.90997 699.90985 
		C 115.12313 708.6966 100.87699 708.6966 92.09012 699.90985 
		C 86.168266 693.98804 84.23744 685.58643 86.297653 678.04755 Z M 72 648 L 72 668.25 L 78.75 661.49957 
		L 99.00019 681.7502 L 105.750175 675.00006 L 85.50013 654.75012 L 92.249985 648 Z&quot; fill=&quot;black&quot;
		class=&quot;glyph&quot;/&gt;
	&lt;/g&gt;
&lt;/g&gt;
&lt;/svg&gt;</pre>
</div>
<div title="chrjs" creator="None" modifier="None" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch systemConfig" _hash="21f8cd31fb5331db45ab9f2cfbaeb97c6cdf38a9" _cache-max-age="43200" server.content-type="text/javascript" server.permissions="read" server.bag="tiddlyspace" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" server.etag="&quot;tiddlyspace/chrjs/1521886:e681aae0460e7319a3739c65964b783fef2176cd&quot;" server.page.revision="1521886" server.title="chrjs">
<pre>/***
https://raw.github.com/tiddlyweb/chrjs/master/main.js
***/
//{{{
// TiddlyWeb adaptor
// v0.14.3

/*jslint vars: true, unparam: true, nomen: true, white: true */
/*global jQuery */

var tiddlyweb = (function($) {

&quot;use strict&quot;;

var tw = {
	routes: {
		// host is the TiddlyWeb instance's URI (including server_prefix)
		// placeholders &quot;_type&quot; &amp; &quot;name&quot; refer to the respective bag/recipe
		root     : &quot;{host}/&quot;,
		bags     : &quot;{host}/bags&quot;,
		bag      : &quot;{host}/bags/{name}&quot;,
		recipes  : &quot;{host}/recipes&quot;,
		recipe   : &quot;{host}/recipes/{name}&quot;,
		tiddlers : &quot;{host}/{_type}s/{name}/tiddlers&quot;,
		tiddler  : &quot;{host}/{_type}s/{name}/tiddlers/{title}&quot;,
		revisions: &quot;{host}/{_type}s/{name}/tiddlers/{title}/revisions&quot;,
		revision : &quot;{host}/{_type}s/{name}/tiddlers/{title}/revisions/{revision}&quot;,
		search   : &quot;{host}/search?q={query}&quot;
	}
};

var convertTimestamp, supplant;

// host (optional) is the URI of the originating TiddlyWeb instance
tw.Resource = function(type, host) {
	if(arguments.length) { // initialization
		this._type = type;
		if(host !== false) {
			this.host = host !== undefined ? host.replace(/\/$/, &quot;&quot;) : null;
		}
	}
};
$.extend(tw.Resource.prototype, {
	// retrieves resource from server
	// callback is passed resource, status, XHR (cf. jQuery.ajax success)
	// errback is passed XHR, error, exception, resource (cf. jQuery.ajax error)
	// filters is an optional filter string (e.g. &quot;select=tag:foo;limit=5&quot;)
	get: function(callback, errback, filters) {
		var uri = this.route();
		if(filters) {
			var separator = uri.indexOf(&quot;?&quot;) === -1 ? &quot;?&quot; : &quot;;&quot;;
			uri += separator + filters;
		}
		var self = this;
		return $.ajax({
			url: uri,
			type: &quot;GET&quot;,
			dataType: &quot;json&quot;,
			success: function(data, status, xhr) {
				var resource = self.parse(data);
				resource.etag = xhr.getResponseHeader(&quot;Etag&quot;);
				callback(resource, status, xhr);
			},
			error: function(xhr, error, exc) {
				errback(xhr, error, exc, self);
			}
		});
	},
	// sends resource to server
	// callback is passed data, status, XHR (cf. jQuery.ajax success)
	// errback is passed XHR, error, exception, resource (cf. jQuery.ajax error)
	put: function(callback, errback) {
		var self = this;
		var options = {
			url: this.route(),
			type: &quot;PUT&quot;,
			contentType: &quot;application/json&quot;,
			data: JSON.stringify(this.baseData()),
			success: function(data, status, xhr) {
				callback(self, status, xhr);
			},
			error: function(xhr, error, exc) {
				errback(xhr, error, exc, self);
			}
		};
		if(this.ajaxSetup) {
			this.ajaxSetup(options);
		}
		return $.ajax(options);
	},
	// deletes resource on server
	// callback is passed data, status, XHR (cf. jQuery.ajax success)
	// errback is passed XHR, error, exception, resource (cf. jQuery.ajax error)
	&quot;delete&quot;: function(callback, errback) {
		var self = this;
		var options = {
			url: this.route(),
			type: &quot;DELETE&quot;,
			success: function(data, status, xhr) {
				callback(self, status, xhr);
			},
			error: function(xhr, error, exc) {
				errback(xhr, error, exc, self);
			}
		};
		if(this.ajaxSetup) {
			this.ajaxSetup(options);
		}
		return $.ajax(options);
	},
	// returns an object carrying only the essential information of the resource
	baseData: function() {
		var data = {},
			self = this;
		$.each(this.data, function(i, item) {
			var value = self[item];
			if(value !== undefined) {
				data[item] = value;
			}
		});
		return data;
	},
	// returns corresponding instance from a raw object (if applicable)
	parse: function(data) {
		return data;
	},
	// list of accepted keys in serialization
	data: [],
	// returns resource's URI
	route: function() {
		return supplant(tw.routes[this._type], this);
	}
});

var Container = function(type, name, host) {
	if(arguments.length) { // initialization
		tw.Resource.apply(this, [type, host]);
		this.name = name;
		this.desc = &quot;&quot;;
		this.policy = new tw.Policy({});
	}
};
Container.prototype = new tw.Resource();
$.extend(Container.prototype, {
	tiddlers: function() {
		return new tw.TiddlerCollection(this);
	},
	parse: function(data) {
		var type = tw._capitalize(this._type),
			container = new tw[type](this.name, this.host);
		data.policy = new tw.Policy(data.policy);
		return $.extend(container, data);
	},
	data: [&quot;desc&quot;, &quot;policy&quot;]
});

// attribs is an object whose members are merged into the instance (e.g. query)
tw.Collection = function(type, host, attribs) {
	if(arguments.length) { // initialization
		tw.Resource.apply(this, [type, host]);
		$.extend(this, attribs);
	}
};
tw.Collection.prototype = new tw.Resource();

tw.TiddlerCollection = function(container, tiddler) {
	if(arguments.length) { // initialization
		tw.Collection.apply(this, [tiddler ? &quot;revisions&quot; : &quot;tiddlers&quot;]);
		this.container = container || null;
		this.tiddler = tiddler || null;
	}
};
tw.TiddlerCollection.prototype = new tw.Collection();
$.extend(tw.TiddlerCollection.prototype, {
	parse: function(data) {
		var container = this.container;
		return $.map(data, function(item, i) {
			var tiddler = new tw.Tiddler(item.title, container),
				bag = item.bag;
			tiddler = tw.Tiddler.prototype.parse.apply(tiddler, [item]);
			if(!tiddler.bag &amp;&amp; bag) { // XXX: bag always present!?
				tiddler.bag = new tw.Bag(bag, container.host);
			}
			if(!tiddler.recipe &amp;&amp; item.recipe) {
				tiddler.recipe = new tw.Recipe(item.recipe, container.host);
			}
			delete item.recipe;
			return $.extend(tiddler, item);
		});
	},
	route: function() {
		var params = this.container;
		if(this.tiddler) {
			var container = this.tiddler.bag || this.tiddler.recipe;
			params = {
				_type: container._type,
				host: container.host,
				name: container.name,
				title: this.tiddler.title
			};
		}
		return supplant(tw.routes[this._type], params);
	}
});

tw.Search = function(query, host) {
	tw.Collection.apply(this, [&quot;search&quot;, host]);
	this.query = query;
};
tw.Search.prototype = new tw.Collection();
$.extend(tw.Search.prototype, {
	parse: function(data) {
		this.container = { // XXX: hacky
			_type: &quot;bag&quot;,
			host: this.host
		};
		var tiddlers = tw.TiddlerCollection.prototype.parse.apply(this, arguments);
		delete this.container;
		return tiddlers;
	}
});

// title is the name of the tiddler
// container (optional) is an instance of either Bag or Recipe
// optionally accepts a single object representing tiddler attributes
tw.Tiddler = function(title, container) {
	tw.Resource.apply(this, [&quot;tiddler&quot;, false]);
	this.title = title;
	this.bag = container &amp;&amp; container._type === &quot;bag&quot; ? container : null;
	this.recipe = container &amp;&amp; container._type === &quot;recipe&quot; ? container : null;
	var self = this;
	$.each(this.data, function(i, item) {
		self[item] = undefined; // exposes list of standard attributes for inspectability
	});
	if(title &amp;&amp; title.title) { // title is an object of tiddler attributes
		$.extend(this, title);
	}
};
tw.Tiddler.prototype = new tw.Resource();
$.extend(tw.Tiddler.prototype, {
	revisions: function() {
		return new tw.TiddlerCollection(this.bag || this.recipe, this);
	},
	route: function() {
		var container = this.bag || this.recipe;
		var params = $.extend({}, this, {
			host: container ? container.host : null,
			_type: this.bag ? &quot;bag&quot; : (this.recipe ? &quot;recipe&quot; : null),
			name: container ? container.name : null
		});
		return supplant(tw.routes[this._type], params);
	},
	parse: function(data) {
		var tiddler = new tw.Tiddler(this.title),
			container = this.bag || this.recipe;
		if(data.bag) {
			tiddler.bag = new tw.Bag(data.bag, container.host);
			delete data.bag;
		}
		delete data.recipe;
		tiddler.created = data.created ? convertTimestamp(data.created) : new Date();
		delete data.created;
		tiddler.modified = data.modified ? convertTimestamp(data.modified) : new Date();
		delete data.modified;
		if(this.recipe) {
			tiddler.recipe = this.recipe;
		}
		return $.extend(tiddler, data);
	},
	data: [&quot;created&quot;, &quot;creator&quot;, &quot;modifier&quot;, &quot;modified&quot;, &quot;tags&quot;, &quot;type&quot;, &quot;text&quot;,
			&quot;fields&quot;],
	ajaxSetup: function(options) {
		var self = this;
		if(this.etag &amp;&amp; (options.type === &quot;PUT&quot; || options.type === &quot;DELETE&quot;)) {
			options.beforeSend = function(xhr) {
				xhr.setRequestHeader(&quot;If-Match&quot;, self.etag);
			};
		}
		if(options.type === &quot;PUT&quot;) {
			var callback = options.success;
			options.success = function(data, status, xhr) {
				var loc = xhr.getResponseHeader(&quot;Location&quot;),
					etag = xhr.getResponseHeader(&quot;Etag&quot;);
				if(loc &amp;&amp; etag) {
					self.etag = etag;
					if(!self.bag) {
						var bag = loc.split(&quot;/bags/&quot;).pop().split(&quot;/&quot;)[0];
						self.bag = new tw.Bag(bag, self.recipe.host);
					}
					callback(self, status, xhr);
				} else { // IE
					self.get(callback, options.error);
				}
			};
		}
	}
});

tw.Revision = function(id, tiddler) {
	var container = tiddler.bag || tiddler.recipe;
	tw.Tiddler.apply(this, [tiddler.title, container]);
	this._type = &quot;revision&quot;;
	this.revision = id;
};
tw.Revision.prototype = new tw.Tiddler();
$.extend(tw.Revision.prototype, {
	revisions: false,
	data: false,
	put: false,
	&quot;delete&quot;: false
});

tw.Bag = function(name, host) {
	Container.apply(this, [&quot;bag&quot;, name, host]);
};
tw.Bag.prototype = new Container();

tw.Recipe = function(name, host) {
	Container.apply(this, [&quot;recipe&quot;, name, host]);
	this.recipe = [];
};
tw.Recipe.prototype = new Container();
$.extend(tw.Recipe.prototype, {
	data: [&quot;recipe&quot;].concat(Container.prototype.data)
});

tw.Policy = function(constraints) { // TODO: validation?
	var self = this;
	$.each(this.constraints, function(i, item) {
		self[item] = constraints[item];
	});
};
tw.Policy.prototype.constraints = [&quot;read&quot;, &quot;write&quot;, &quot;create&quot;, &quot;delete&quot;,
	&quot;manage&quot;, &quot;accept&quot;, &quot;owner&quot;];

/*
 * utilities
 */

tw._capitalize = function(str) {
	return str.charAt(0).toUpperCase() + str.slice(1);
};

// convert YYYYMMDDhhmmss timestamp to Date instance
convertTimestamp = function(t) {
	if (t.match(/^\d{12,17}$/)) {
		return new Date(Date.UTC(
			parseInt(t.substr(0, 4), 10),
			parseInt(t.substr(4, 2), 10) - 1,
			parseInt(t.substr(6, 2), 10),
			parseInt(t.substr(8, 2), 10),
			parseInt(t.substr(10, 2), 10),
			parseInt(t.substr(12, 2) || &quot;0&quot;, 10),
			parseInt(t.substr(14, 3) || &quot;0&quot;, 10)
		));
	} else {
		return new Date(Date.parse(t));
	}
};

// adapted from Crockford (http://javascript.crockford.com/remedial.html)
supplant = function(str, obj) {
	return str.replace(/{([^{}]*)}/g, function (a, b) {
		var r = obj[b];
		r = typeof r === &quot;string&quot; || typeof r === &quot;number&quot; ? r : a;
		return $.inArray(b, [&quot;host&quot;, &quot;query&quot;]) !== -1 ? r : encodeURIComponent(r); // XXX: special-casing
	});
};

return tw;

}(jQuery));
//}}}</pre>
</div>
<div title="close.svg" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch" _hash="b21fe0ea0a8dba52788155f5ed2188b45210d076" server.content-type="image/svg+xml" server.permissions="read" server.bag="tiddlyspace" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" server.etag="&quot;tiddlyspace/close.svg/1521888:c1e5de085ba0727a964d271659dc54d4b94d6d87&quot;" server.page.revision="1521888" server.title="close.svg">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;
&lt;!-- Created with Inkscape (http://www.inkscape.org/) --&gt;

&lt;svg
   xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot;
   xmlns:cc=&quot;http://creativecommons.org/ns#&quot;
   xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;
   xmlns:svg=&quot;http://www.w3.org/2000/svg&quot;
   xmlns=&quot;http://www.w3.org/2000/svg&quot;
   xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;
   version=&quot;1.1&quot;
   width=&quot;14pt&quot;
   height=&quot;14pt&quot;
   viewBox=&quot;918 510 14 14&quot;
   id=&quot;svg3070&quot;&gt;
  &lt;metadata
     id=&quot;metadata3089&quot;&gt;
    &lt;rdf:RDF&gt;
      &lt;cc:Work
         rdf:about=&quot;&quot;&gt;
        &lt;dc:format&gt;image/svg+xml&lt;/dc:format&gt;
        &lt;dc:type
           rdf:resource=&quot;http://purl.org/dc/dcmitype/StillImage&quot; /&gt;
        &lt;dc:title&gt;&lt;/dc:title&gt;
      &lt;/cc:Work&gt;
    &lt;/rdf:RDF&gt;
  &lt;/metadata&gt;
  &lt;defs
     id=&quot;defs3072&quot;&gt;
    &lt;radialGradient
       cx=&quot;0&quot;
       cy=&quot;0&quot;
       r=&quot;1&quot;
       id=&quot;Gradient&quot;
       gradientUnits=&quot;userSpaceOnUse&quot;&gt;
      &lt;stop
         id=&quot;stop3075&quot;
         style=&quot;stop-color:#ffffff;stop-opacity:1&quot;
         offset=&quot;0&quot; /&gt;
      &lt;stop
         id=&quot;stop3077&quot;
         style=&quot;stop-color:#2b2b2b;stop-opacity:1&quot;
         offset=&quot;1&quot; /&gt;
    &lt;/radialGradient&gt;
    &lt;radialGradient
       id=&quot;Obj_Gradient&quot;
       xlink:href=&quot;#Gradient&quot;
       gradientTransform=&quot;matrix(11.473944,0,0,11.473944,922.3752,513.7837)&quot; /&gt;
  &lt;/defs&gt;
  &lt;g
     id=&quot;g3080&quot;
     style=&quot;fill:none;stroke:none&quot;&gt;
    &lt;g
       id=&quot;g3082&quot;&gt;
      &lt;path
         d=&quot;m 929.6952,512.9018 c -2.5384,-2.53843 -6.654,-2.53843 -9.1924,0 -2.5384,2.5384 -2.5384,6.654 0,9.19238 2.5384,2.53839 6.654,2.53839 9.1924,0 2.5384,-2.53838 2.5384,-6.65398 0,-9.19238 m -4.5962,2.8407 2.07733,-2.07734 1.75547,1.75549 -2.0773,2.07735 2.0773,2.07732 -1.75547,1.75548 -2.07733,-2.07732 -2.07733,2.07732 -1.75547,-1.75548 2.0773,-2.07732 -2.0773,-2.07735 1.75547,-1.75549 z&quot;
         id=&quot;path3084&quot;
         style=&quot;fill:url(#Obj_Gradient)&quot; /&gt;
      &lt;path
         d=&quot;m 927.61447,515.38354 a 4.51205,4.2590378 0 1 1 -9.0241,0 4.51205,4.2590378 0 1 1 9.0241,0 z&quot;
         transform=&quot;matrix(1.0218069,0,0,1.0462046,-18.063694,-21.648443)&quot;
         id=&quot;path2394&quot;
         style=&quot;fill:#000000;fill-opacity:0;fill-rule:evenodd;stroke:none;stroke-width:5;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate&quot; /&gt;
    &lt;/g&gt;
  &lt;/g&gt;
&lt;/svg&gt;</pre>
</div>
<div title="closeTiddler" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch" _hash="1ddacf68b541cb91b7b896c9c2934ec79e8997a0" server.content-type="image/svg+xml" server.permissions="read" server.bag="system-images_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-images_public" server.etag="&quot;system-images_public/closeTiddler/1521934:2547527c7794d7f2e632b0a3ad641f1ac4603cb1&quot;" server.page.revision="1521934" server.title="closeTiddler">
<pre>&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xl=&quot;http://www.w3.org/1999/xlink&quot; version=&quot;1.1&quot; viewBox=&quot;78 222 60 60&quot; 
width=&quot;30&quot; height=&quot;30&quot;&gt;
&lt;g stroke=&quot;none&quot; stroke-opacity=&quot;1&quot; stroke-dasharray=&quot;none&quot; fill=&quot;none&quot; fill-opacity=&quot;1&quot;&gt;
	&lt;g&gt;
		&lt;path d=&quot;M 107.92718 244.14815 L 86.651474 222.89253 L 78.85206 230.69925 L 100.120415 251.9476 L 78.774 273.27396 
		L 86.57342 281.08075 L 107.927216 259.74707 L 129.39981 281.19946 L 137.19922 273.39267 L 115.73397 251.94763 
		L 137.121155 230.58054 L 129.32175 222.77374 Z&quot; fill=&quot;black&quot; class=&quot;glyph&quot;/&gt;
	&lt;/g&gt;
&lt;/g&gt;
&lt;/svg&gt;</pre>
</div>
<div title="colorScheme" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch" _hash="bfe2408ed9b5cebf918768cae9c9e15bdb8f3309" server.content-type="" server.permissions="read" server.bag="system-info_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-info_public" server.etag="&quot;system-info_public/colorScheme/1521879:858c87f303e9ddc715332b90d15787e69cbb1377&quot;" server.page.revision="1521879" server.title="colorScheme">
<pre>Unless you're delighted with the default theme you can make some quick changes by generating a new random color palette, hit this button to cycle through some alternatives.

&lt;&lt;RandomColorPaletteButton saturation_pale:0.67 saturation_light:0.53
saturation_mid:0.43 saturation_dark:0.06 pale:0.99 light:0.85 mid:0.5 dark:0.31&gt;&gt;

You can also change the look and feel completely by installing a new theme. To do this, find one you like in the @themes space, note down the name, and include it in this space by going to the space menu. You can reach the space menu by clicking on the blue and pink circle at the top-right of the page and chooshing &quot;THIS SPACE&quot;. Here are a few to check out:
* @pip
* @caspian-ii
* @basalt
* @simplicity
* @cheesecake
* @jelly-doughnut

(//Note that if you are using a custom TiddlySpace install, these themes may not be present.//)</pre>
</div>
<div title="contentFooter" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201310161643" tags="HaemoglobinTheme" _hash="1d09bbfd2cfd2e406621d5aa87fd896c9ce9ff3f" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/contentFooter/1464886:f4f29c37caa2a1178773ccaf50252d4630fbe6e4&quot;" server.page.revision="1464886" server.title="contentFooter">
<pre>&lt;html&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(192, 192, 192);&quot;&gt;版权所有： 贵州财经大学&lt;/span&gt;    [[杨帆|http://www.inforabbi.org/blog]]&lt;/p&gt;&lt;/html&gt;</pre>
</div>
<div title="deleteTiddler" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch" _hash="cdf65cc5eb8e6665817a04cc764cd8797947f799" server.content-type="image/svg+xml" server.permissions="read" server.bag="system-images_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-images_public" server.etag="&quot;system-images_public/deleteTiddler/1521929:35a31728105f37324e29e1dd43f1d51780decaf2&quot;" server.page.revision="1521929" server.title="deleteTiddler">
<pre>&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xl=&quot;http://www.w3.org/1999/xlink&quot; version=&quot;1.1&quot; viewBox=&quot;450 366 38 57&quot;
width=&quot;30&quot; height=&quot;30&quot;&gt;
	&lt;g stroke=&quot;none&quot; stroke-opacity=&quot;1&quot; stroke-dasharray=&quot;none&quot; fill=&quot;none&quot; fill-opacity=&quot;1&quot;&gt;
		&lt;g&gt;
			&lt;path d=&quot;M 452.1094 421.2422 L 450 421.2422 L 450 423 L 487.9688 423 L 487.9688 421.2422 L 485.8595 421.2422 
			L 485.8595 377.29688 L 487.9688 377.29688 L 487.9688 375.53906 L 485.8595 375.53906 
			C 485.8595 375.53906 481.12463 371.59341 473.02023 370.52802 C 472.6824 368.9689 471.72098 366.75 468.9844 366.75 
			C 466.24783 366.75 465.28638 368.9689 464.94864 370.52802 
			C 456.84418 371.59341 452.1094 375.53906 452.1094 375.53906 L 450 375.53906 L 450 377.29688 L 452.1094 377.29688 
			Z M 467.12247 370.32086 L 467.12247 370.32086 C 467.3805 369.42395 467.90762 368.50781 468.9844 368.50781 
			C 470.0612 368.50781 470.5883 369.42395 470.84634 370.32086 
			C 470.24136 370.2848 469.62054 370.26562 468.9844 370.26562 
			C 468.34827 370.26562 467.72748 370.2848 467.12247 370.32086 Z M 454.21875 420.92804 L 454.21875 420.92804 
			C 455.46762 420.42087 456.32816 419.35281 456.32816 418.11716 L 456.32816 377.29688 L 458.4375 377.29688 
			L 458.4375 421.2422 L 454.21875 421.2422 Z M 460.5469 420.92804 L 460.5469 420.92804 
			C 461.79578 420.42087 462.65625 419.35281 462.65625 418.11716 L 462.65625 377.29688 L 464.76566 377.29688 
			L 464.76566 421.2422 L 460.5469 421.2422 Z M 466.87503 420.92804 L 466.87503 420.92804 
			C 468.1239 420.42087 468.9844 419.35281 468.9844 418.11716 L 468.9844 377.29688 L 471.09378 377.29688 
			L 471.09378 421.2422 L 466.87503 421.2422 Z M 473.2032 420.92804 L 473.2032 420.92804 
			C 474.45203 420.42087 475.31256 419.35281 475.31256 418.11716 L 475.31256 377.29688 L 477.4219 377.29688 
			L 477.4219 421.2422 L 473.2032 421.2422 Z M 479.5313 420.92804 L 479.5313 420.92804 
			C 480.78018 420.42087 481.64066 419.35281 481.64066 418.11716 L 481.64066 377.29688 L 483.75006 377.29688 
			L 483.75006 421.2422 L 479.5313 421.2422 Z&quot; fill=&quot;black&quot; class=&quot;glyph&quot;/&gt;
		&lt;/g&gt;
	&lt;/g&gt;
&lt;/svg&gt;</pre>
</div>
<div title="editTiddler" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch" _hash="3083cb53eb17cc9c4f3863af070aac156272cef1" server.content-type="image/svg+xml" server.permissions="read" server.bag="system-images_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-images_public" server.etag="&quot;system-images_public/editTiddler/1521932:fe4a754a3819c3f19a9e6a0ba8424df4f6121a6c&quot;" server.page.revision="1521932" server.title="editTiddler">
<pre>&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xl=&quot;http://www.w3.org/1999/xlink&quot; version=&quot;1.1&quot; viewBox=&quot;301 225 48 52&quot;
width=&quot;30&quot; height=&quot;30&quot;&gt;
&lt;g stroke=&quot;none&quot; stroke-opacity=&quot;1&quot; stroke-dasharray=&quot;none&quot; fill=&quot;none&quot; fill-opacity=&quot;1&quot;&gt;
	&lt;g&gt;
		&lt;path d=&quot;M 333.00003 234 L 306 258.75003 L 301.5 270 L 312.75 265.50003 L 339.75 240.74998 Z M 337.5 229.50002 
		L 335.24988 231.75008 L 341.99997 238.50003 L 344.24997 236.24995 Z M 342 225.00003 L 339.74988 227.25009 
		L 346.5 234.00005 L 348.75 231.75003 Z M 301.5 273.9719 C 301.5 273.9719 309.59888 277.99927 317.70013 273.97183 
		C 325.80066 269.94437 341.99997 276.65686 341.99997 276.65686 L 341.99997 273.97195 
		C 341.99997 273.97195 325.80014 267.2594 317.70013 271.28687 C 309.6 275.31451 301.5 271.28683 301.5 271.28683 Z&quot; 
		fill=&quot;#101010&quot; class=&quot;glyph&quot;/&gt;
	&lt;/g&gt;
&lt;/g&gt;
&lt;/svg&gt;</pre>
</div>
<div title="editTiddlerReadOnly" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch" _hash="24d0766e948d10eb5e220d57a8c0d16a194ebe1f" server.content-type="image/svg+xml" server.permissions="read" server.bag="system-images_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-images_public" server.etag="&quot;system-images_public/editTiddlerReadOnly/1521933:34ba80d941ab2deab0952ea8fc55adfb6395fb91&quot;" server.page.revision="1521933" server.title="editTiddlerReadOnly">
<pre>&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xl=&quot;http://www.w3.org/1999/xlink&quot; version=&quot;1.1&quot; viewBox=&quot;506 234 68 36&quot; width=&quot;30&quot; height=&quot;30&quot;&gt;&lt;metadata xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot;&gt;&lt;dc:date&gt;2010-09-16 14:51Z&lt;/dc:date&gt;&lt;!-- Produced by OmniGraffle Professional 5.2.3 --&gt;&lt;/metadata&gt;&lt;defs&gt;&lt;/defs&gt;&lt;g stroke=&quot;none&quot; stroke-opacity=&quot;1&quot; stroke-dasharray=&quot;none&quot; fill=&quot;none&quot; fill-opacity=&quot;1&quot;&gt;&lt;rect width=&quot;1118&quot; height=&quot;783&quot;/&gt;&lt;g&gt;&lt;path d=&quot;M 538.68195 244.31807 C 540.43927 246.07547 540.43927 248.9247 538.68195 250.68204 C 536.92456 252.4394 534.07532 252.4394 532.318 250.68204 C 530.5606 248.9247 530.5606 246.07547 532.318 244.31807 C 534.07532 242.56075 536.92456 242.56075 538.68195 244.31807 M 511.12607 257.99356 C 511.26108 258.13019 511.39728 258.26608 511.53473 258.40121 C 527.2556 273.86606 552.74414 273.86606 568.46515 258.40121 C 568.60248 258.26617 568.73853 258.13037 568.87354 257.9938 C 568.8736 257.99374 568.8736 257.99371 568.8736 257.99362 C 568.87366 257.99371 568.87366 257.9938 568.87372 257.9939 C 570.72504 256.12051 572.35046 254.11153 573.74994 252 C 573.74994 251.99997 573.74994 251.99994 573.74994 251.99992 C 572.35046 249.8884 570.72504 247.87938 568.87372 246.00606 C 568.87366 246.00613 568.87366 246.00621 568.8736 246.00627 C 568.73865 245.86966 568.60254 245.73383 568.46515 245.5987 C 552.74414 230.13387 527.2556 230.13387 511.53473 245.5987 C 511.39728 245.73383 511.26108 245.86974 511.12613 246.00635 C 511.126 246.00624 511.126 246.00616 511.12595 246.00606 C 509.2748 247.87938 507.64954 249.88837 506.24994 251.9998 L 506.24994 251.99983 C 506.24994 251.9999 506.25 251.99992 506.25 251.99997 C 506.25 252 506.24994 252.00005 506.24994 252.00009 L 506.24994 252.00012 C 507.64954 254.11157 509.2748 256.12051 511.12595 257.9939 C 511.126 257.99377 511.126 257.99365 511.12607 257.99359 Z M 515.44916 252 C 515.8548 251.55469 516.27502 251.11778 516.71014 250.68985 C 522.16632 245.32257 529.06055 242.23206 536.17273 241.41824 C 534.6662 241.96199 533.2525 242.83762 532.04498 244.04512 C 527.65155 248.43852 527.65155 255.56163 532.04498 259.95502 C 533.2522 261.16226 534.6656 262.03778 536.17175 262.58154 C 529.05988 261.76761 522.16608 258.6771 516.71014 253.31009 C 516.2751 252.88219 515.85486 252.44528 515.44922 252 Z M 564.55054 251.99995 C 564.14502 252.44525 563.7248 252.88217 563.28973 253.31009 C 557.83368 258.67712 550.93988 261.76764 543.828 262.58157 C 545.33423 262.03781 546.74756 261.1623 547.9549 259.95502 C 552.34833 255.56163 552.34833 248.43852 547.9549 244.04512 C 546.74744 242.83765 545.33374 241.96202 543.82715 241.41824 C 550.9394 242.23206 557.83356 245.3226 563.28973 250.68985 C 563.7248 251.11775 564.14502 251.55467 564.55054 251.99995 Z M 568.8736 257.99362 C 570.7249 256.12033 572.35028 254.11139 573.74988 252.00002&quot; fill=&quot;black&quot; class=&quot;glyph&quot;/&gt;&lt;/g&gt;&lt;/g&gt;&lt;/svg&gt;</pre>
</div>
<div title="favicon.ico" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch" _hash="d884f6069c2350d026d57c45dc100c1390bd6112" server.content-type="image/x-icon" server.permissions="read" server.bag="tiddlyspace" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" server.etag="&quot;tiddlyspace/favicon.ico/1521895:4a56e788e63ab9dd6f913121d6c34f45acc81961&quot;" server.page.revision="1521895" server.title="favicon.ico">
<pre>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AP8zZgAAAGYA//8zAADMMwD/mTMAAGYzAP8zMwAAADMAzP8AAADMAADMmQAAAGYAAMwzAAAAAADuzAAA3QAAALvMAACqAAAAiMwAAHcAAABVmQAARAAAACKZAAARAADuAJkA3QAAALsAmQCqAAAAiACZAHcAAABVAJkARAAAACIAZgARAADuAABm3QAAALsAAGaqAAAAiAAAZncAAABVAABmRAAAACIAAGYRAAAA7u7uM93d3QC7u7szqqqqAIiIiDN3d3cAVVVVM0RERAAiIiIzERERAAAAADMBAQEBAQEBAQEBpXl5eXl5eXl5eXmlAQEBAQEBAQEBAQEBAQEBAQEBgHl5eXl5eXl5eXl5eXl5gAEBAQEBAQEBAQEBAQEB/Xp5eXlVT04qKioqTk9VeXl5ev0BAQEBAQEBAQEBAaV5eXlPKioqKioqKioqKioqT3l5eaUBAQEBAQEBAQGAeXlVTioqKioqKioqKioqKioqTlV5eYABAQEBAQEBgHl5VSoqKioqKioqKioqKioqKioqKlV5eYABAQEBAaV5eVUqKioqKioqKioqKioqKioqKioqKlV5eaUBAQEBeXlVKioqKioqKioqKioqKioqKioqKioqKlV5eQEBAXl5eU4qKioqKioqKjExMTExMSoqKioqKioqTnl5eQEBeXlPKioqKioqKjEyMjIyMjIyMjEqKioqKioqT3l5AXp5eSoqKioqKioxMjIxBwcHBzEyMjEqKioqKioqeXl6eXlVKioqKioqMTIxBwcHBwcHBwcxMjEqKioqKipVeXl5eU8qKioqKioyMgcHBwcHBwcHBwcyMioqKioqKk95eXl5TioqKioqMTIxBwcHBwcHBwcHBzEyMSoqKioqTnl5eXkqKioqKioxMgcHBwcHBwcHBwcHBzIxKioqKioqeXl5eSoqKioqKjEyBwcHBwcHBwcHBwcHMjEqKioqKip5eXl5KioqKioqMTIHBwcHBwcHBwcHBwcyMSoqKioqKnl5eXkqKioqKioxMgcHBwcHBwcHBwcHBzIxKioqKioqeXl5eU4qKioqKjEyMQcHBwcHBwcHBwcxMjEqKioqKk55eXl5TyoqKioqKjIyBwcHBwcHBwcHBzIyKioqKioqT3l5eXlVKioqKioqMTIxBwcHBwcHBwcxMjEqKioqKipVeXl6eXkqKioqKioqMTIyMQcHBwcxMjIxKioqKioqKnl5egF5eU8qKioqKioqMTIyMjIyMjIyMSoqKioqKipPeXkBAXl5eU4qKioqKioqKjExMTExMSoqKioqKioqTnl5eQEBAXl5VSoqKioqKioqKioqKioqKioqKioqKipVeXkBAQEB+nl5VSoqKioqKioqKioqKioqKioqKioqVXl5+gEBAQEBenl5VSoqKioqKioqKioqKioqKioqKlV5eXoBAQEBAQEBeXl5VU4qKioqKioqKioqKioqKk5VeXl5AQEBAQEBAQEBenl5eU8qKioqKioqKioqKipPeXl5egEBAQEBAQEBAQEB+nl5eXlVT04qKioqTk9VeXl5efoBAQEBAQEBAQEBAQEBAXl5eXl5eXl5eXl5eXl5eXkBAQEBAQEBAQEBAQEBAQEBAQF6eXl5eXl5eXl5eXoBAQEBAQEBAQEB/+AH//+AAf/+AAB//AAAP/gAAB/wAAAP4AAAB8AAAAPAAAADgAAAAYAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAYAAAAHAAAADwAAAA+AAAAfwAAAP+AAAH/wAAD/+AAB//4AB///gB/8oAAAAIAAAAEAAAAABACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAACAAAAAwAAAAMAAAADAAAABG1bSA61m3JXuqB4mbuhd8m9o3jqvaF4+b2hePm9o3jqu6F3ybqgeJm1m3JXbVtIDgAAAAQAAAADAAAAAwAAAAMAAAACAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAACAAAAAwAAAAUAAAAGAAAACI98Wye0nXWavKF4876kev++pHr/vqR6/76kev++pHr/vqR6/76kev++pHr/vqR6/76kev+8oXjztJ11mo98WycAAAAIAAAABgAAAAUAAAADAAAAAgAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAQAAAAHAAAAChwcHBKulnGJvaN5+L6kev++pHr/y7GJ/9/Fnv/s1K7/9t25//rivv/64r7/9t25/+zUrv/fxZ7/y7GJ/76kev++pHr/vaN5+K6WcYkcHBwSAAAACgAAAAcAAAAEAAAAAgAAAAEAAAAAAAAAAAAAAAEAAAADAAAABwAAAAtuYkUst552z76kev++pHr+1LuS//Latf/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD/8tq1/9S7kv++pHr+vqR6/7eeds9uYkUsAAAACwAAAAcAAAADAAAAAQAAAAAAAAABAAAAAgAAAAQAAAAIi3hbNbqgd+a+pHr/xayD/+3Vr//85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA/+3Vr//FrIP/vqR6/7qgd+aJdVg0AAAACAAAAAQAAAACAAAAAQAAAAEAAAACAAAABIl8WSW8oXjlvqR6/8yyiv/54Lz//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//ngvP/Msor/vqR6/7yheOWJfFklAAAABAAAAAIAAAABAAAAAAAAAAFfXz8Iu6F4zL6kev/Msor/+uK+//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//rivv/Msor/vqR6/7uheMxfXz8IAAAAAQAAAAAAAAAAAAAAAbqid4K+pHr/xayD//ngvP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//fgvP/FrIP/vqR6/7qid4IAAAABAAAAAAAAAAC3l28gvaN5+L6kev7t1a///OXA//zlwP/85cD//OXA//zlwP/85cD//OXA/+/Twv/Qq8f/u5HK/7OGzP+zhsz/u5HK/9Crx//v08L//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA/+3Vr/++pHr+vaN5+LeXbyAAAAAAAAAAALuheJa+pHr/1LuS//zlwP/85cD//OXA//zlwP/85cD//OXA//riwP/Pq8f/r4HM/6+Bzf+vgc3/r4HN/6+Bzf+vgc3/r4HN/6+BzP/Pq8f/+uLA//zlwP/85cD//OXA//zlwP/85cD//OXA/9S5kv++pHr/u6F4lgAAAACii3MLvKF4876kev/y2rX//OXA//zlwP/85cD//OXA//zlwP/64sD/w5vJ/6+Bzf+vg83/w5vc/9W06v/dwPD/3cDw/9W06v/Dm9z/r4PN/6+Bzf/Dm8n/+uLA//zlwP/85cD//OXA//zlwP/85cD/8tq1/76kev+8oXjzootzC72feFW+pHr/y7GJ//zlwP/85cD//OXA//zlwP/85cD//OXA/8+rx/+vgc3/tIfQ/9a16//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//Wtev/tIfQ/6+Bzf/Pq8f//OXA//zlwP/85cD//OXA//zlwP/85cD/y7GJ/76kev+9n3hVvaF4mL6kev/fxZ7//OXA//zlwP/85cD//OXA//zlwP/v08L/r4HM/6+Dzf/Wtev/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//Wtev/r4PN/6+BzP/v08L//OXA//zlwP/85cD//OXA//zlwP/fxZ7/vqR6/72heJi8oXfIvqR6/+zUrv/85cD//OXA//zlwP/85cD//OXA/9Crx/+vgc3/w5vc/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//Dm9z/r4HN/9Crx//85cD//OXA//zlwP/85cD//OXA/+zUrv++pHr/vKF3yL2jeOq+pHr/9t25//zlwP/85cD//OXA//zlwP/85cD/u5HK/6+Bzf/VtOr/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/9W06v+vgc3/u5HK//zlwP/85cD//OXA//zlwP/85cD/9t25/76kev+9o3jqvaF4+b6kev/64r7//OXA//zlwP/85cD//OXA//zlwP+zhsz/r4HN/93A8P/hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/3cDw/6+Bzf+zhsz//OXA//zlwP/85cD//OXA//zlwP/64r7/vqR6/72hePm9oXj5vqR6//rivv/85cD//OXA//zlwP/85cD//OXA/7OGzP+vgc3/3cDw/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//dwPD/r4HN/7OGzP/85cD//OXA//zlwP/85cD//OXA//rivv++pHr/vaF4+b2jeOq+pHr/9t25//zlwP/85cD//OXA//zlwP/85cD/u5HK/6+Bzf/VtOr/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/9W06v+vgc3/u5HK//zlwP/85cD//OXA//zlwP/85cD/9t25/76kev+9o3jqvKF3yL6kev/s1K7//OXA//zlwP/85cD//OXA//zlwP/Qq8f/r4HN/8Ob3P/hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/w5vc/6+Bzf/Qq8f//OXA//zlwP/85cD//OXA//zlwP/s1K7/vqR6/7yhd8i9oXiYvqR6/9/Fnv/85cD//OXA//zlwP/85cD//OXA/+/Twv+vgcz/r4PN/9a16//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/9a16/+vg83/r4HM/+/Twv/85cD//OXA//zlwP/85cD//OXA/9/Fnv++pHr/vaF4mL2feFW+pHr/y7GJ//zlwP/85cD//OXA//zlwP/85cD//OXA/8+rx/+vgc3/tIfQ/9a16//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//Wtev/tIfQ/6+Bzf/Pq8f//OXA//zlwP/85cD//OXA//zlwP/85cD/y7GJ/76kev+9n3hVootzC7yhePO+pHr/8tq1//zlwP/85cD//OXA//zlwP/85cD/+uLA/8Obyf+vgc3/r4PN/8Ob3P/VtOr/3cDw/93A8P/VtOr/w5vc/6+Dzf+vgc3/w5vJ//riwP/85cD//OXA//zlwP/85cD//OXA//Latf++pHr/vKF486KLcwsAAAAAu6N3l76kev/Uu5L//OXA//zlwP/85cD//OXA//zlwP/85cD/+uLA/8+rx/+vgcz/r4HN/6+Bzf+vgc3/r4HN/6+Bzf+vgc3/r4HM/8+rx//64sD//OXA//zlwP/85cD//OXA//zlwP/85cD/1LmS/76kev+7oXiWAAAAAAAAAAC3l28gvaN5+L6kev7t1a///OXA//zlwP/85cD//OXA//zlwP/85cD//OXA/+/Twv/Qq8f/u5HK/7OGzP+zhsz/u5HK/9Crx//v08L//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA/+3Vr/++pHr+vaN5+LeXbyAAAAAAAAAAAAAAAAC6oneCvqR6/8Wsg//54Lz//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/34Lz/xayD/76kev+6oneCAAAAAAAAAAAAAAAAAAAAAH9/VQa8oHjLvqR6/8yyiv/64r7//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD/+uK+/8yyiv++pHr/vKB4y39/VQYAAAAAAAAAAAAAAAAAAAAAAAAAALKhbh67o3nkvqR6/8yyiv/54Lz//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//ngvP/Msor/vqR6/7ujeeSyoW4eAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALqbdim7o3nkvqR6/8Wsg//t1a///OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/t1a//xayD/76kev+7o3nkupt2KQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALKhbh68oHjLvqR6/76kev7Uu5L/8tq1//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/y2rX/1LmS/76kev6+pHr/vKB4y7Khbh4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH9/VQa6oneCvaN5+L6kev++pHr/y7GJ/9/Fnv/s1K7/9t25//rivv/64r7/9t25/+zUrv/fxZ7/y7GJ/76kev++pHr/vaN5+Lqid4J/f1UGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC3l28gu6F4lryhePO+pHr/vqR6/76kev++pHr/vqR6/76kev++pHr/vqR6/76kev++pHr/vKF487uheJa3l28gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAootzC72feFW9oXiYvKF3yL2jeOq9oXj5vaF4+b2jeOq8oXfIvaF4mL2feFWii3MLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/gB///gAH//gAAf/wAAD/4AAAf8AAAD+AAAAfAAAADwAAAA4AAAAGAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAGAAAABwAAAA8AAAAPgAAAH8AAAD/gAAB/8AAA//gAAf/+AAf//4Af/</pre>
</div>
<div title="follow" creator="inforabbi" modifier="inforabbi" created="201310290723" modified="201509131441" tags="@informaiton @library @tivity @zhengqian" _hash="1b9c9ad0b6f7e39f34583d3892d64fc267864be0" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/follow/2334491:08573c8b120e3fd595c607f6fc16ccc2de93626a&quot;" server.page.revision="2334491" server.title="follow">
<pre>@zhengqian
@informaiton
@tivity
</pre>
</div>
<div title="four types of data" creator="inforabbi" modifier="inforabbi" created="201511161637" modified="201511161637" _hash="911bd3ea4e6d045b8c2641eefdb12a72cd686e61" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/four%20types%20of%20data/2400713:15f22029475cd38425886837a42a0333e07eaa93&quot;" server.page.revision="2400713" server.title="four types of data">
<pre>!1 Primary data are the principal data stored in a database and which an information system can deliver to a user. 
!2 Metadata enable a database management system to fulfill its tasks by describing essential properties of the primary data, like its origin, format, availability, and copyrights. 
!3 Operational data are data regarding the usage of the primary data, which may help the owners of information services, like online newspapers, to improve and customize their data to user needs or making the data more easily accessible. 
!4 Derivative data are data that can be created on basis of the first three types. </pre>
</div>
<div title="friendjs" creator="jon" modifier="jon" created="201107101924" modified="201107281620" tags="excludeLists" summary="" _hash="238c1704a5b9a58ffeb7e55a110e7e077fc53f42" tiddler.source="takenote_public" server.content-type="text/javascript" server.permissions="read" server.bag="following_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/following_public" server.etag="&quot;following_public/friendjs/71140:e5b8a02a352ec4c558a5b8592c57fa4ab53da4df&quot;" server.page.revision="71140" server.title="friendjs">
<pre>var user, userbag;
var friends = [];
var host = &quot;http://tiddlyspace.com&quot;;

$.ajaxSetup({
	beforeSend: function(xhr) {
		xhr.setRequestHeader(&quot;X-ControlView&quot;, &quot;false&quot;);
	}
});

function printMessage(txt) {
	alert(txt);
}

function printError(txt) {
	alert(txt);
}

var simpleDate = (function() {

	var measures = {
		second: 1,
		minute: 60,
		hour: 3600,
		day: 86400,
		week: 604800,
		month: 2592000,
		year: 31536000
	};

	var chkMultiple = function(amount, type) {
		return (amount &gt; 1) ? amount + &quot; &quot; + type + &quot;s&quot;:&quot;a &quot; + type;
	};

	return function(thedate) {

		var dateStr, amount,
			current = new Date().getTime(),
			diff = (current - thedate.getTime()) / 1000; // work with seconds

		if(diff &gt; measures.year) {
			amount = Math.round(diff/measures.year);
			dateStr = &quot;about &quot; + chkMultiple(amount, &quot;year&quot;) + &quot; ago&quot;;
		} else if(diff &gt; measures.month) {
			amount = Math.round(diff/measures.month);
			//if(typeof amount == &quot;&quot;)
			dateStr = &quot;about &quot; + chkMultiple(amount, &quot;month&quot;) + &quot; ago&quot;;
		} else if(diff &gt; measures.week) {
			amount = Math.round(diff/measures.week);
			dateStr = &quot;about &quot; + chkMultiple(amount, &quot;week&quot;) + &quot; ago&quot;;
		} else if(diff &gt; measures.day) {
			amount = Math.round(diff/measures.day);
			dateStr = &quot;about &quot; + chkMultiple(amount, &quot;day&quot;) + &quot; ago&quot;;
		} else if(diff &gt; measures.hour) {
			amount = Math.round(diff/measures.hour);
			dateStr = &quot;about &quot; + chkMultiple(amount, &quot;hour&quot;) + &quot; ago&quot;;
		} else if(diff &gt; measures.minute) {
			amount = Math.round(diff/measures.minute);
			dateStr = &quot;about &quot; + chkMultiple(amount, &quot;minute&quot;) + &quot; ago&quot;;
		} else {
			dateStr = &quot;a few seconds ago&quot;;
		}

		return dateStr;

	};
})();

function prettyDate(t) {
	var date = new Date(Date.UTC(
		parseInt(t.substr(0, 4), 10),
		parseInt(t.substr(4, 2), 10) - 1,
		parseInt(t.substr(6, 2), 10),
		parseInt(t.substr(8, 2), 10),
		parseInt(t.substr(10, 2), 10),
		parseInt(t.substr(12, 2) || &quot;0&quot;, 10),
		parseInt(t.substr(14, 3) || &quot;0&quot;, 10)
	));
	return simpleDate(date);
}

function endsWith(str, suffix) {
	return str.indexOf(suffix) == str.length - suffix.length;
}

function isShadow(tid) {
	var shadows = [&quot;MarkupPreHead&quot;, &quot;DefaultTiddlers&quot;, &quot;PageTemplate&quot;, &quot;SideBarTabs&quot;,
		&quot;GettingStarted&quot;, &quot;MainMenu&quot;, &quot;SiteTitle&quot;, &quot;SiteSubtitle&quot;, &quot;ColorPalette&quot;,
		&quot;SiteIcon&quot;, &quot;ViewTemplate&quot;, &quot;EditTemplate&quot;, &quot;ServerSettings&quot;, &quot;MarkupPostHead&quot;,
		&quot;MarkupPostBody&quot;, &quot;MarkupPreBody&quot;];
	return tid.title.indexOf(&quot;StyleSheet&quot;) === 0 ||
		tid.title.indexOf(&quot;SideBar&quot;) === 0 ||
		shadows.indexOf(tid.title) &gt; -1 || endsWith(tid.title, &quot;SetupFlag&quot;) ? true : false;
}

function isPlugin(tid) {
	return tid.tags.indexOf(&quot;systemConfig&quot;) &gt; -1 ? true : false;
}

function isArtifact(tid) {
	var follow = tid.tags.indexOf(&quot;follow&quot;) &gt; -1;
	var type = tid.type;
	if(follow || type) {
		return true;
	} else {
		return false;
	}
}

function chooseTiddlers(tiddlers) {
	var _tiddlers = [];
	for(var i = 0; i &lt; tiddlers.length; i++) {
		var tid = tiddlers[i];
		if(!isPlugin(tid) &amp;&amp; !isShadow(tid) &amp;&amp; !isArtifact(tid)) {
			_tiddlers.push(tid);
		}
	}
	return _tiddlers;
}

function bubbleDown() {
	var friends = $(&quot;.friend&quot;);
	friends.css({ position: &quot;relative&quot; });
	var target;
	friends.each(function(i, el) {
		if(!target &amp;&amp; $(el).hasClass(&quot;silentFriend&quot;) &amp;&amp;
			$(el).next(&quot;.friend&quot;).hasClass(&quot;noisyFriend&quot;)) {
			target = el;
		}
	});
	if(target) {
		var other = $(target).next(&quot;.friend&quot;);
		// we want to move target above the prev element
		// target is an element which has the class noisy and the previous node is quiet
		var swapDuration = 50;
		var otherHeight = other.height();
		var thisHeight = $(target).height();
		$(target).animate({ top: + otherHeight }, { duration: swapDuration });
		$(other).animate({ top:  - thisHeight }, { duration: swapDuration,
				complete: function() {
					var newTarget = $(target).clone(true).insertAfter(other)[0];
					$(target).remove();
					$(other).css({ top: 0 });
					$(newTarget).css({ top: 0 });
					bubbleDown();
				}
		});
	}
}

function renderTiddlerList(container,friend) {
	var tidList = $(&quot;&lt;ul /&gt;&quot;).appendTo(container)[0];
	$(&quot;&lt;li /&gt;&quot;).text(&quot;loading&quot;).appendTo(tidList);
	var oncompletion = function() {
		if($(&quot;.errorFriend,.silentFriend,.noisyFriend&quot;).length === $(&quot;.friend&quot;).length) {
			bubbleDown();
		}
	}
	$.ajax({ dataType: &quot;json&quot;,
		url: &quot;/search?q=modifier:&quot; + friend + &quot;&amp;select=modified:&gt;3d&amp;sort=-modified&quot;,
		error: function() {
			$(container).addClass(&quot;errorFriend&quot;);
			oncompletion();
		},
		success: function(tiddlers) {
			$(tidList).empty();
			tiddlers = chooseTiddlers(tiddlers);
			if(tiddlers.length === 0) {
				$(container).addClass(&quot;silentFriend&quot;);
				$(&quot;&lt;li /&gt;&quot;).text(&quot;No recent activity.&quot;).appendTo(tidList);
				oncompletion();
				return;
			} else {
				$(container).addClass(&quot;noisyFriend&quot;).removeClass(&quot;inactiveFriend&quot;);
				oncompletion();
			}
			for(var i=0; i &lt; tiddlers.length; i++) {
				var tiddler = tiddlers[i];
				var item = $(&quot;&lt;li /&gt;&quot;).appendTo(tidList)[0];
				var win;
				var space = tiddler.bag.split(&quot;_&quot;)[0];
				var spaceUrl = &quot;http://&quot; + space + &quot;.tiddlyspace.com&quot;;
				var path = &quot;/bags/&quot; + tiddler.bag + &quot;/tiddlers/&quot; + encodeURIComponent(tiddler.title);
				var link = $(&quot;&lt;a /&gt;&quot;).text(tiddler.title).
					attr(&quot;href&quot;, spaceUrl + path).
					data(&quot;path&quot;, path).
					click(function(ev) {
						var win = $(ev.target).data(&quot;win&quot;);
						if($(ev.target).hasClass(&quot;active&quot;)) {
							$(win).toggle(1000);
						} else {
							$(ev.target).addClass(&quot;active&quot;);
							$(&quot;.text&quot;, win).text(&quot;loading...&quot;);
							$(win).show();
							$.ajax({
								url: $(ev.target).data(&quot;path&quot;),
								data: {
									render: &quot;y&quot;
								},
								dataType: &quot;json&quot;,
								success: function(tiddler) {
									$(&quot;.text&quot;,win).html(tiddler.render);
									$(win).show(1000);
								},
								error: function() {
									$(&quot;.text&quot;, win).text(&quot;error loading that tiddler&quot;);
								}
							});
						}
						ev.preventDefault();
					}).
					appendTo(item)[0];
				var space = tiddler.bag.split(&quot;_&quot;)[0];
				$(&quot;&lt;span /&gt;&quot;).text(&quot; in &quot;).appendTo(item);
				$(&quot;&lt;a /&gt;&quot;).attr(&quot;href&quot;, spaceUrl).text(space).appendTo(item);
				$(&quot;&lt;span /&gt;&quot;).text(&quot; (&quot; + prettyDate(tiddler.modified) + &quot;)&quot;).appendTo(item);
				win = $(&quot;&lt;div /&gt;&quot;).addClass(&quot;tiddler&quot;).appendTo(item)[0];
				$(&quot;&lt;div /&gt;&quot;).addClass(&quot;text&quot;).appendTo(win);
				var toolbar = $(&quot;&lt;div /&gt;&quot;).addClass(&quot;toolbar&quot;).appendTo(win)[0];
				var extra = $(&quot;&lt;div /&gt;&quot;).addClass(&quot;extra&quot;).appendTo(win)[0];
				$(&quot;&lt;button /&gt;&quot;).data(&quot;bag&quot;, tiddler.bag).data(&quot;title&quot;, tiddler.title).text(&quot;give feedback&quot;).
					data(&quot;revision&quot;, tiddler.revision).click(function(ev) {
					var title = $(ev.target).data(&quot;title&quot;);
					var revision = $(ev.target).data(&quot;revision&quot;);
					var bag = $(ev.target).data(&quot;bag&quot;);
					var revisionURL = host + &quot;/bags/&quot; + bag + &quot;/tiddlers/&quot; + encodeURIComponent(title) + &quot;/revisions/&quot; + revision;
					var space = bag.split(&quot;_&quot;)[0];
					var area = $(ev.target).parents(&quot;.tiddler&quot;).children(&quot;.extra&quot;)[0];
					$(area).hide();
					$(&quot;&lt;textarea /&gt;&quot;).appendTo(area);
					$(&quot;&lt;button /&gt;&quot;).text(&quot;save feedback&quot;).click(function(ev) {
						var tid = new tiddlyweb.Tiddler(&quot;Feedback for &quot; + title, userbag);
						tid.tags = [&quot;feedback&quot;, &quot;@&quot; + space];
						tid.text = [&quot;In reply to [[&quot;, title, &quot;]]@&quot;, space,
							&quot; (revision [[&quot;, revision, &quot;|&quot;, revisionURL, &quot;]])\n\n&quot;].join(&quot;&quot;) + $(&quot;textarea&quot;, area).val();
						tid.put(function(tiddler) {
							$(area).empty();
							$(&quot;&lt;span /&gt;&quot;).text(&quot;your comment: &quot;).appendTo(area);
							$(&quot;&lt;a /&gt;&quot;).attr(&quot;href&quot;, &quot;/&quot; + encodeURIComponent(tiddler.title)).text(tiddler.title).appendTo(area);
						}, function() {
							printError(&quot;error commenting!&quot;);
						});
					}).appendTo(area);
					$(area).show(1000);
					ev.preventDefault();
					$(ev.target).remove();
					return false;
				}).appendTo(toolbar);

				$(win).hide();
				$(link).data(&quot;win&quot;, win);
			}
		}
	})
}

function removeFriend(friend) {
	var tiddler = new tiddlyweb.Tiddler(&quot;@&quot; + friend, userbag);
	var success = function() {
		printMessage(&quot;User removed from friends&quot;);
		var newFriends = [];
		for(var i = 0; i &lt; friends.length; i++) {
			var f = friends[i];
			if(f !== friend) {
				newFriends.push(f);
			}
		}
		friends = newFriends;
		$(&quot;#friend-&quot; + friend).hide(2000);
	};
	tiddler[&quot;delete&quot;](success, function() {
		var old = new tiddlyweb.Tiddler(friend, userbag);
		old[&quot;delete&quot;](success, function() {
			printError(&quot;Unable to remove friend &quot; + friend);
		})
	})
}

function renderFriend(list, friend) {
	var bag = friend + &quot;_public&quot;;
	var item = $(&quot;&lt;li /&gt;&quot;).addClass(&quot;friend&quot;).attr(&quot;id&quot;, &quot;friend-&quot; + friend).addClass(&quot;inactiveFriend&quot;).appendTo(list)[0];
	$(&quot;&lt;img /&gt;&quot;).attr(&quot;alt&quot;, friend).attr(&quot;title&quot;, friend).
		attr(&quot;src&quot;, host + &quot;/bags/&quot; + bag + &quot;/tiddlers/SiteIcon&quot;).css({ width: 48, height: 48 }).appendTo(item);
	var heading = $(&quot;&lt;h2&gt;&quot;).appendTo(item)[0];
	$(&quot;&lt;a /&gt;&quot;).attr(&quot;href&quot;, &quot;#friend-&quot; + friend).attr(&quot;name&quot;, &quot;friend-&quot; + friend).text(friend).appendTo(heading);
	$(&quot;&lt;button /&gt;&quot;).data(&quot;who&quot;, friend).text(&quot;remove from friends&quot;).
		click(function(ev) {
			if(confirm(&quot;Are you sure you want to remove &quot; + friend + &quot; as a friend?&quot;)) {
				removeFriend($(ev.target).data(&quot;who&quot;));
			}
		}).appendTo(item)[0];
	renderTiddlerList(item,friend);
}

function renderFriends() {
	var list = $(&quot;&lt;ul /&gt;&quot;).appendTo(&quot;#friends&quot;)[0];
	$(&quot;&lt;li /&gt;&quot;).text(&quot;Activity of your friends will appear below when available&quot;).appendTo(list);
	for(var i = 0; i &lt; friends.length; i++) {
		var friend = friends[i];
		renderFriend(list, friend);
	}
}

function followWidget() {
	$(&quot;#friends&quot;).empty();
	var container = $(&quot;&lt;div /&gt;&quot;).addClass(&quot;addfriends&quot;).appendTo(&quot;#friends&quot;)[0];
	$(&quot;&lt;input /&gt;&quot;).attr(&quot;name&quot;, &quot;friend&quot;).appendTo(container);
	$(&quot;&lt;button /&gt;&quot;).text(&quot;add friend&quot;).click(function(ev) {
		var friend = $(ev.target).parent().children(&quot;[name='friend']&quot;).val();
		if(friends.indexOf(friend) &gt; -1) {
			return printError(&quot;You already follow &quot; + friend + &quot;!&quot;);
		}

		var title;
		if(friend.indexOf(&quot;@&quot;) !== 0) {
			title = &quot;@&quot; + friend;
		} else {
			title = friend;
		}

		$.ajax({ dataType: &quot;text&quot;, url: &quot;/users/&quot; + friend,
			success: function() {
				var tid = new tiddlyweb.Tiddler(title, userbag);
				tid.tags = [&quot;follow&quot;, &quot;excludeLists&quot;];
				tid.put(function(tiddler) {
					printMessage(&quot;Added friend &quot; + friend);
					renderFriend($(&quot;#friends ul&quot;)[0], friend);
					window.location.hash = &quot;#friend-&quot; + friend;
				}, function() {
					printError(&quot;Failed to add friend &quot; + friend);
				})
			},
			error: function() {
				printError(&quot;No one with name &quot; + friend + &quot; exists!&quot;);
			}
		});
	}).appendTo(container);
	renderFriends();
}
$.ajax({
	url: &quot;/status&quot;,
	dataType: &quot;json&quot;,
	success: function(status) {
		user = status.username;
		userbag = new tiddlyweb.Bag(user + &quot;_public&quot;, &quot;/&quot;);
		$.ajax({ url: &quot;/bags/&quot; + user + &quot;_public/tiddlers?select=tag:follow&quot;, dataType: &quot;json&quot;, success: function(tiddlers) {
				for(var i = 0; i &lt; tiddlers.length; i++) {
					var title = tiddlers[i].title;
					if(title.indexOf(&quot;@&quot;) === 0) {
						title = title.substr(1, title.length);
					}
					friends.push(title);
				}
				friends.sort();
				followWidget();
			}
		});
	}
})</pre>
</div>
<div title="friends" creator="jon" modifier="jon" created="201106281644" modified="201110100956" tags="app excludeLists excludeSearch" description="" _hash="89262e713b31df6313dbd224c2c631ec82f7ae20" tiddler.source="jon_public" summary="A tool for managing friends in TiddlySpace. Follow users, unfollow users and see what those users are up to." server.content-type="text/html" server.permissions="read" server.bag="following_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/following_public" server.etag="&quot;following_public/friends/71126:e29a78b39a8346ba07617e37fba060c22762b18e&quot;" server.page.revision="71126" server.title="friends">
<pre>&lt;html&gt;
&lt;head&gt;
	&lt;title&gt;Friends&lt;/title&gt;
	&lt;style type='text/css'&gt;
		ul {
			list-style: none;
		}
		ul .friend {
			border-bottom: solid 1px black;
		}
		ul .friend .tiddler {
			margin-left: 10px;
			margin-bottom: 30px;
			padding: 10px;
			border: dotted 2px #CCC;
			color: #006100;
		}
		textarea {
			width: 100%;
			height: 150px;
		}
		.friend h2 {
			display: inline-block;
		}
		button {
			display: inline-block;
		}
		.inactiveFriend {
			background-color: #ccc;
			opacity: 0.1;
		}
	&lt;/style&gt;
	&lt;link rel=&quot;stylesheet&quot; href=&quot;/HtmlCss&quot; type=&quot;text/css&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id=&quot;container&quot;&gt;
&lt;div id=&quot;header&quot;&gt;
&lt;h1&gt;Your friends&lt;/h1&gt;
&lt;/div&gt;
&lt;noscript&gt;
	javascript is required to see friend's activity
&lt;/noscript&gt;
&lt;div id='friends' class=&quot;section&quot;&gt;loading...&lt;/div&gt;
&lt;/div&gt;
&lt;script src=&quot;/bags/common/tiddlers/jquery.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;/bags/common/tiddlers/jquery-json.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;/bags/tiddlyspace/tiddlers/chrjs&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;script type='text/javascript' src='/friendjs'&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<div title="game" creator="inforabbi" modifier="inforabbi" created="201410211459" modified="201410211459" tags="@xushian" _source="/bags/xushian_public/tiddlers/game" _hash="0754d5df7a068307f24a234d613eb9ec8ab8e3e7" server.content-type="" server.permissions="read, write, create, delete" server.bag="inforabbi_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/inforabbi_public" server.etag="&quot;inforabbi_public/game/1930909:a7f6bf176e2cd7257eb9bc16f1c646738533469b&quot;" server.page.revision="1930909" server.title="game">
<pre>in reply to [[game]]@xushian:

这是啥意思？</pre>
</div>
<div title="gcsimSetupFlag" creator="inforabbi" modifier="inforabbi" created="201012050836" modified="201012091915" tags="excludeLists excludePublisher excludeSearch" tiddlyspaceinit_version="0.6" _hash="378e7c4224d9b9ed97947eefce1fab45a0a71696" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/gcsimSetupFlag/76154:6b9182d1eec4bcac04b284968f505c4592ed47a0&quot;" server.page.revision="76154" server.title="gcsimSetupFlag">
<pre>@@Please do not modify this tiddler; it was created automatically upon space creation.@@</pre>
</div>
<div title="home" creator="inforabbi" modifier="inforabbi" created="201509011746" modified="201509011819" _hash="64aa1122bafb6dada1541abbbc784cf0620cb670" server.content-type="" server.permissions="read, write, create, delete" server.bag="inforabbi_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/inforabbi_public" server.etag="&quot;inforabbi_public/home/2327638:d014090667fe15eb50bceecd77f5c173da56bc14&quot;" server.page.revision="2327638" server.title="home">
<pre>[img[http://img4.douban.com/lpic/s1477328.jpg]][img[http://img3.douban.com/lpic/s7113771.jpg]][img[http://img3.douban.com/lpic/s4606590.jpg]]</pre>
</div>
<div title="inforabbiSetupFlag" creator="inforabbi" modifier="inforabbi" created="201403100814" modified="201403100814" tags="excludeLists excludePublisher excludeSearch" tiddlyspaceinit_version="0.6" _hash="378e7c4224d9b9ed97947eefce1fab45a0a71696" server.content-type="" server.permissions="read, write, create, delete" server.bag="inforabbi_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/inforabbi_public" server.etag="&quot;inforabbi_public/inforabbiSetupFlag/1684138:bf053c6209b63672aa4e25b5eadf06ef437f2068&quot;" server.page.revision="1684138" server.title="inforabbiSetupFlag">
<pre>@@Please do not modify this tiddler; it was created automatically upon space creation.@@</pre>
</div>
<div title="information" creator="inforabbi" modifier="inforabbi" created="201311061621" modified="201311061621" tags="follow" _hash="ff14a0409e4efd4ffcdb7fb1c42308603d3486b1" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/information/1507147:18d4470c505465c823fabcefebdf6b9159357e7b&quot;" server.page.revision="1507147" server.title="information">
<pre>Type the text for 'New Tiddler'</pre>
</div>
<div title="information acquire" creator="inforabbi" modifier="inforabbi" created="201511090527" modified="201511090527" _hash="b743205f0121ba99f16bd63539007a0df2ed6994" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/information%20acquire/2393728:33b0e7b113ce8eb0ee73ae8c39656ceaf172d937&quot;" server.page.revision="2393728" server.title="information acquire">
<pre>----
*每位同学完成一家iSchool成员单位的信息：历史、课程情况、员工信息，主要研究方向，奖学金信息（不能重复别人做过的）
----
*请比较“百度知道”和“知乎”作为信息源的差异，并用网络信息评价指标体系对其进行分析。
----
*请对[[学术信息资源开放目录|http://odp.nit.net.cn/]]进行信息源综合评价
----
</pre>
</div>
<div title="information communication" creator="inforabbi" modifier="inforabbi" created="201310240613" modified="201610141603" _hash="ef41e425a15e64b7db515bd4b819ef05777e9919" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/information%20communication/2573468:668d904193da195df735abe5983978a41c1b1800&quot;" server.page.revision="2573468" server.title="information communication">
<pre>
!1.每个人在自己的QQ邮箱中的阅读空间中完成对Tiddlyspace相关内容的RSS订阅，截图
!2.[[比较wiki|http://www.wikimatrix.org/]]（利用该工具完成多种wiki软件的比较，论述选择该wiki软件的目的）</pre>
</div>
<div title="information system" creator="inforabbi" modifier="inforabbi" created="201511130611" modified="201511130611" _hash="3ba99b52124f26160392c42979dabcb15fcceb5f" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/information%20system/2397100:cebb0c66f4784685ea0460980697cc6f2bf04303&quot;" server.page.revision="2397100" server.title="information system">
<pre>!第一部分：information behavior for Community of Practice（实践社群的信息行为，其实就是关于群体的信息行为研究）
*Collect articles on these topics in international scientific journals.   
*@@color(red):Make a data model and database for e-gov and e-business research for these topics and their article titles, and insert abstracts in the database.@@   
*What can be found on the Internet about these topics  
*Which universities seem to deliver major research in these areas?  
*Which consultancy firms have profiled themselves on these topics (and how)?   *Which organizations seem to have the chosen topic as a key challenge?   
*Discuss the Internet as a knowledge resource versus university library resources.
&gt;关于数据模型与数据库的建立，目的是收集相关信息资源，存储在下面的Zotero里面，Zotero就是一个个人的信息资源管理数据库，所以上述第一部分的任务要和下面第二部分的工具使用的任务结合起来。   

!第二部分：信息系统工具使用（个人信息管理）
!结合上面的题目要求搜集的信息资源，用下面的工具进行管理，并了解其群体交流的方式
1、[[Zotero|http://www.zotero.com]]的功能和安装（Firefox扩展以及 Standalone版本），主要使用Firefox扩展版本。利用Firefox的Portable版本（[[英文|http://portableapps.com/apps/internet/firefox_portable]]、[[中文|http://portableapps.com/apps/internet/firefox_portable/localization]]）。
2、利用Zotero进行信息组织（组织内容可全部放在Portable FF文件夹内），掌握Zotero信息组织组织的方式（重点是分类方式和Tag方式）。掌握并利用[[zotero的各种插件|http://www.zotero.org/support/plugins]]，以及[[在移动设备上使用zotero|http://www.zotero.org/support/mobile]]。
</pre>
</div>
<div title="m1" creator="GUEST" modifier="GUEST" created="201610230408" server.type="tiddlyweb" server.host="http://gcsim.tiddlyspace.com" server.workspace="bags/gcsim_public" server.bag="gcsim_public" changecount="1">
<pre>&lt;html&gt;&lt;embed src='http://player.youku.com/player.php/sid/XMTc2NjQxMTM5Ng==/v.swf' allowFullScreen='true' quality='high' width='480' height='400' align='middle' allowScriptAccess='always' type='application/x-shockwave-flash'&gt;&lt;/embed&gt;&lt;/html&gt;</pre>
</div>
<div title="missingIcon" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch" _hash="6d8a31e0f98c2550de88c48110ecdceccb686a1e" server.content-type="image/png" server.permissions="read" server.bag="system-images_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-images_public" server.etag="&quot;system-images_public/missingIcon/1521928:0a09c8fd9fd5cc28780e9be177799632e8b9bd19&quot;" server.page.revision="1521928" server.title="missingIcon">
<pre>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</pre>
</div>
<div title="moreCommand" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch" _hash="83f02e8680765ba08fd5764a7627f51cdd4b7f0d" server.content-type="image/svg+xml" server.permissions="read" server.bag="system-images_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-images_public" server.etag="&quot;system-images_public/moreCommand/1521923:516d9752788be199175017fbb181a82a19ed723e&quot;" server.page.revision="1521923" server.title="moreCommand">
<pre>&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xl=&quot;http://www.w3.org/1999/xlink&quot; version=&quot;1.1&quot; viewBox=&quot;434 218 68 68&quot;
width=&quot;30&quot; height=&quot;30&quot;&gt;
&lt;g stroke=&quot;none&quot; stroke-opacity=&quot;1&quot; stroke-dasharray=&quot;none&quot; fill=&quot;none&quot; fill-opacity=&quot;1&quot;&gt;
	&lt;g&gt;
		&lt;path d=&quot;M 478.39694 232.53705 L 478.39694 232.53705 
		C 477.1145 231.85132 475.77875 231.30147 474.41058 230.88734 L 474.41058 218.24994 L 461.58942 218.24994 
		L 461.58942 230.88734 C 460.22125 231.30147 458.8855 231.85132 457.60306 232.53705 L 448.66824 223.60214 
		L 439.6022 232.66814 L 448.53717 241.60304 C 447.8515 242.8854 447.30157 244.22116 446.88745 245.58936 
		L 434.25 245.58936 L 434.25 258.41052 L 446.88745 258.41052 
		C 447.30157 259.77869 447.8515 261.11447 448.53717 262.39688 L 439.6022 271.33173 L 448.66824 280.3978 
		L 457.60306 271.46283 C 458.8855 272.14862 460.22125 272.69846 461.58942 273.11252 L 461.58942 285.74988 
		L 474.41058 285.74988 L 474.41058 273.11252 C 475.77875 272.69846 477.1145 272.14862 478.39694 271.46283 
		L 487.33176 280.3978 L 496.39767 271.33173 L 487.46286 262.39688 
		C 488.14853 261.11447 488.69836 259.77869 489.11255 258.41052 L 501.74988 258.41052 L 501.74988 245.58936 
		L 489.11255 245.58936 C 488.69836 244.22116 488.14853 242.8854 487.46286 241.60304 L 496.39767 232.66814 
		L 487.33176 223.60214 Z M 475.3328 244.66714 C 479.3825 248.71698 479.3825 255.2829 475.3328 259.33273 
		C 471.28296 263.3826 464.71704 263.3826 460.66724 259.33273 
		C 456.61737 255.2829 456.61737 248.71698 460.66724 244.66714 
		C 464.71704 240.61734 471.28296 240.61734 475.3328 244.66714&quot; fill=&quot;#111&quot;
		class=&quot;glyph&quot;/&gt;
	&lt;/g&gt;
&lt;/g&gt;
&lt;/svg&gt;</pre>
</div>
<div title="paper" creator="inforabbi" modifier="inforabbi" created="201609131431" modified="201609131431" _hash="922afcf474da9d6f94200dab68de02abe7ad2f89" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_private" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_private" server.etag="&quot;gcsim_private/paper/2558960:6bd291239db0aac8e026c4ade4ba2445f3980899&quot;" server.page.revision="2558960" server.title="paper">
<pre>&gt;今天（12月17日）最后一次实践课程，课堂上除了尽力完成今天的任务外，各位抓紧完善前几次的作业以及课堂上布置的要求写在Tiddlyspace上的作业！下周最后一周，deadtime!

&gt;各位goodluck!

!信息服务机构的服务比较研究
&gt;结合你的认知、学习和经历，了解下列问题：
*实体书店作为图书信息商品的服务供应商，其内容组织有什么特色？
*博物馆作为实物信息服务的提供者，在服务手段、内容组织上有什么特色？
*超星数字图书馆作为数字图书信息资源的供应商，其在信息内容组织、服务手段上有哪些特色？
*豆瓣作为图书、音乐、电影、旅游等信息交流与服务的提供商在信息服务手段和信息交流促进上有哪些特色？
*通过对上述服务提供者的了解，对比贵州财经大学图书馆作为公益性信息服务机构在服务设施、内容组织等环节有哪些不足的地方？
&gt;最终撰写一篇1000字以上的短文，提出关于我们学校的图书馆作为信息服务机构应该有的功能，应该完善的信息能力，应该开展的服务等方面的建议

&gt;每个人先写在你的tiddlyspace上，17周结束前交打印稿。</pre>
</div>
<div title="privateAndPublicIcon" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch" _hash="5ae36775b0926a779ae5f5ec4f20d07cd3609b39" _cache-max-age="43200" server.content-type="image/png" server.permissions="read" server.bag="tiddlyspace" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" server.etag="&quot;tiddlyspace/privateAndPublicIcon/1521887:fa4507503c3d1371a530a7612c959a432a83fc9b&quot;" server.page.revision="1521887" server.title="privateAndPublicIcon">
<pre>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</pre>
</div>
<div title="privateIcon" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch" _hash="94eabb8c954332020ab12d027656ddc3adb98c63" server.content-type="image/png" server.permissions="read" server.bag="tiddlyspace" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" server.etag="&quot;tiddlyspace/privateIcon/1521894:4acc30ca3c2e91af1e9e6799728572e034de4fc5&quot;" server.page.revision="1521894" server.title="privateIcon">
<pre>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</pre>
</div>
<div title="privateNotPublicIcon" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch" _hash="ec84c2619af08b1c361984baa4e8e871e8ce8946" server.content-type="image/png" server.permissions="read" server.bag="tiddlyspace" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" server.etag="&quot;tiddlyspace/privateNotPublicIcon/1521893:457817e56c75bd8c24001106e4a31bd5588b2eb4&quot;" server.page.revision="1521893" server.title="privateNotPublicIcon">
<pre>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</pre>
</div>
<div title="publicIcon" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch" _hash="8e44a24b6d966bfdda2a6cfeb9f141ac3a3892a5" _cache-max-age="43200" server.content-type="image/png" server.permissions="read" server.bag="tiddlyspace" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" server.etag="&quot;tiddlyspace/publicIcon/1521911:78691276219cc40c7bd7780a9f9bedab228d7217&quot;" server.page.revision="1521911" server.title="publicIcon">
<pre>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</pre>
</div>
<div title="robots" creator="None" modifier="None" created="201305301950" modified="201305301950" tags="excludeLists excludeSearch" _hash="35333958a4be1e71dffd5f713170f41c5785914a" server.content-type="text/plain" server.permissions="read" server.bag="system-info_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-info_public" server.etag="&quot;system-info_public/robots/1521875:1f536fd3cf8bd8ed6e6017fdc8d24f20f82fa64b&quot;" server.page.revision="1521875" server.title="robots">
<pre>User-agent: *
Disallow: /bags
Disallow: /recipes</pre>
</div>
<div title="saveDraft" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch" _hash="8b5516d12e2aafb4aecd48f696fcb276e61ac468" server.content-type="image/svg+xml" server.permissions="read" server.bag="system-images_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-images_public" server.etag="&quot;system-images_public/saveDraft/1521925:a05f4b3d6a7fd18799567d4f0cbdca8735cce741&quot;" server.page.revision="1521925" server.title="saveDraft">
<pre>&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xl=&quot;http://www.w3.org/1999/xlink&quot; version=&quot;1.1&quot; viewBox=&quot;364 157 64 51&quot; width=&quot;30&quot; height=&quot;30&quot;&gt;&lt;g stroke=&quot;none&quot; stroke-opacity=&quot;1&quot; stroke-dasharray=&quot;none&quot; fill=&quot;none&quot; fill-opacity=&quot;1&quot;&gt;&lt;g&gt;&lt;path class=&quot;glyph&quot; d=&quot;M 364.50006 184.50061 L 386.99985 207.00037 L 396 198.00002 L 373.50003 175.50066 Z M 403.02295 181.97704 C 400.38693 179.34099 396.11307 179.34099 393.47702 181.97704 C 390.841 184.61307 390.841 188.88695 393.47702 191.52298 C 396.11307 194.15903 400.38693 194.15903 403.02295 191.52298 C 405.65906 188.88695 405.65906 184.61307 403.02295 181.97704 M 414.27298 170.72704 C 411.63693 168.091 407.36307 168.091 404.72702 170.72704 C 402.091 173.36308 402.091 177.63693 404.72702 180.27296 C 407.36307 182.90901 411.63693 182.90901 414.27298 180.27296 C 416.90903 177.63693 416.90903 173.36308 414.27298 170.72704 M 425.523 159.47705 C 422.88696 156.841 418.6131 156.841 415.97705 159.47705 C 413.341 162.11308 413.341 166.38695 415.97705 169.02295 C 418.6131 171.65903 422.88696 171.65903 425.523 169.02295 C 428.15906 166.38695 428.15906 162.11308 425.523 159.47705&quot; fill=&quot;#020202&quot;/&gt;&lt;/g&gt;&lt;/g&gt;&lt;/svg&gt;</pre>
</div>
<div title="saveTiddler" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch" _hash="461592520ce0f489a4d4a95f0dcb4e1e46d2f6e7" server.content-type="image/svg+xml" server.permissions="read" server.bag="system-images_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-images_public" server.etag="&quot;system-images_public/saveTiddler/1521927:86c23297e705d10ffcabd7fb71ec8c3180867c09&quot;" server.page.revision="1521927" server.title="saveTiddler">
<pre>&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xl=&quot;http://www.w3.org/1999/xlink&quot; version=&quot;1.1&quot; viewBox=&quot;2 724 68 55&quot; 
width=&quot;30&quot; height=&quot;30&quot;&gt;
&lt;g stroke=&quot;none&quot; stroke-opacity=&quot;1&quot; stroke-dasharray=&quot;none&quot; fill=&quot;none&quot; fill-opacity=&quot;1&quot;&gt;
	&lt;g&gt;
		&lt;path d=&quot;M 2.25 756 L 11.25 747 L 24.75 760.4994 L 60.750004 724.4994 L 69.75 733.49902 
		L 24.749977 778.49976 Z&quot; fill=&quot;#101010&quot; class=&quot;glyph&quot;/&gt;
	&lt;/g&gt;
&lt;/g&gt;
&lt;/svg&gt;</pre>
</div>
<div title="setDefaultTiddlers" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch" _hash="c632865df818925daec0d5040975797a27218e81" server.content-type="" server.permissions="read" server.bag="system-info_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-info_public" server.etag="&quot;system-info_public/setDefaultTiddlers/1521878:9d54780ecae8887d9b1cec4b96346c964b21e216&quot;" server.page.revision="1521878" server.title="setDefaultTiddlers">
<pre>Once you have some content then you may choose to determine a tiddler, or set of tiddlers to display each time you load ~TiddlySpace. This is determined by the [[DefaultTiddlers]].</pre>
</div>
<div title="shadowIcon" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch" _hash="754f7258625a19c375dcae5254d6a604c7686d8d" server.content-type="image/png" server.permissions="read" server.bag="system-images_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-images_public" server.etag="&quot;system-images_public/shadowIcon/1521926:d593253207328f50ee9d10a304899fb602f216ff&quot;" server.page.revision="1521926" server.title="shadowIcon">
<pre>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</pre>
</div>
<div title="spaceIcon" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch" _hash="ef5f983ca36b19ed82d51224aee1c85d8fecb0a5" server.content-type="" server.permissions="read" server.bag="system-info_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-info_public" server.etag="&quot;system-info_public/spaceIcon/1521883:bfed99891721fc48d50e51b7ed2dc53ea10d41c6&quot;" server.page.revision="1521883" server.title="spaceIcon">
<pre>A [[SiteIcon|SiteIcon tiddler]]@glossary helps provide some identity to your space.  Ideally it'd be a square and a minimum of 48*48 pixels size.  You can upload your site icon using the uploader below.

&lt;&lt;binaryUploadPublic title:SiteIcon&gt;&gt;</pre>
</div>
<div title="spaceTitle" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch" _hash="fc6cbafbbf1009da659a70f1f400ca4db8ebc84d" server.content-type="" server.permissions="read" server.bag="system-info_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-info_public" server.etag="&quot;system-info_public/spaceTitle/1521874:96a02dc14e46aa54bb52e8337e1e3ea6221bfc9c&quot;" server.page.revision="1521874" server.title="spaceTitle">
<pre>The title and subtitle of your space are visible to visitors and are also displayed in your browser's tabs. Click on the SiteTitle and SiteSubtitle tiddler links below to make changes.
* [[SiteTitle]]
* [[SiteSubtitle]]</pre>
</div>
<div title="tagCloud" creator="inforabbi" modifier="inforabbi" created="201012111902" modified="201012111919" _hash="8b5f6ad42a26eb5063b461424da23a82553affed" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/tagCloud/76158:8838e1b1765988d0b52a8518d83bdb476c186b56&quot;" server.page.revision="76158" server.title="tagCloud">
<pre>&lt;&lt;tagCloud&gt;&gt;
&lt;&lt;slider chkTestSlider [[OptionsPanel]] &quot;Options&quot; &quot;Open advanced options&quot;&gt;&gt;</pre>
</div>
<div title="tagCloud plugin" creator="inforabbi" modifier="inforabbi" created="201012111900" modified="201012111900" tags="systemConfig" _hash="d150e9c27c7b98ed1f46d8daf3d8dceed5dce7fe" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/tagCloud%20plugin/76159:1fe2ac3732eb05098a0471265dbd84d2e693400b&quot;" server.page.revision="76159" server.title="tagCloud plugin">
<pre>version.extensions.tagCloud = {major: 1, minor: 0 , revision: 1, date: new Date(2005,8,16)};
//Created by Clint Checketts, contributions by Jonny Leroy and Eric Shulman

config.macros.tagCloud = {
 noTags: &quot;No tag cloud created because there are no tags.&quot;,
 tooltip: &quot;%1 tiddlers tagged with '%0'&quot;
};

config.macros.tagCloud.handler = function(place,macroName,params) {
 
var tagCloudWrapper = createTiddlyElement(place,&quot;div&quot;,null,&quot;tagCloud&quot;,null);

var tags = store.getTags();
for (t=0; t&lt;tags.length; t++) {
  for (p=0;p&lt;params.length; p++) if (tags[t][0] == params[p]) tags[t][0] = &quot;&quot;;
}

 if(tags.length == 0) 
   createTiddlyElement(tagCloudWrapper,&quot;span&quot;,null,null,this.noTags);
 //Findout the maximum number of tags
 var mostTags = 0;
 for (t=0; t&lt;tags.length; t++) if (tags[t][0].length &gt; 0){
  if (tags[t][1] &gt; mostTags) mostTags = tags[t][1];
 }
 //divide the mostTags into 4 segments for the 4 different tagCloud sizes
 var tagSegment = mostTags / 4;

  for (t=0; t&lt;tags.length; t++) if (tags[t][0].length &gt; 0){
 var tagCloudElement = createTiddlyElement(tagCloudWrapper,&quot;span&quot;,null,null,null);
 tagCloudWrapper.appendChild(document.createTextNode(&quot; &quot;));
 var theTag = createTiddlyButton(tagCloudElement,tags[t][0],this.tooltip.format(tags[t]),onClickTag,&quot;tagCloudtag tagCloud&quot; + (Math.round(tags[t][1]/tagSegment)+1));
  theTag.setAttribute(&quot;tag&quot;,tags[t][0]);
 }

};

setStylesheet(&quot;.tagCloud span{height: 1.8em;margin: 3px;}.tagCloud1{font-size: 1.2em;}.tagCloud2{font-size: 1.4em;}.tagCloud3{font-size: 1.6em;}.tagCloud4{font-size: 1.8em;}.tagCloud5{font-size: 1.8em;font-weight: bold;}&quot;,&quot;tagCloudsStyles&quot;);</pre>
</div>
<div title="test" creator="inforabbi" modifier="inforabbi" created="201012050900" modified="201012111906" _hash="0ba0d54d2c2ce2b6794658be4d21567e6b973858" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/test/76162:2d07d29d0c8f78c4b40cf8e3a748ef5797d02461&quot;" server.page.revision="76162" server.title="test">
<pre>&lt;&lt;tagCloud&gt;&gt;</pre>
</div>
<div title="tivitySetupFlag" creator="bengillies" modifier="bengillies" created="201204301501" modified="201204301501" tags="excludeLists excludePublisher excludeSearch" tiddlyspaceinit_version="0.6" _hash="378e7c4224d9b9ed97947eefce1fab45a0a71696" server.content-type="" server.permissions="read" server.bag="tivity_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/tivity_public" server.etag="&quot;tivity_public/tivitySetupFlag/696187:240b2b609ff653794a84a1c7574d8282e9d808c5&quot;" server.page.revision="696187" server.title="tivitySetupFlag">
<pre>@@Please do not modify this tiddler; it was created automatically upon space creation.@@</pre>
</div>
<div title="tsScanCountPlugin" creator="jon" modifier="jon" created="201103310738" modified="201104111039" tags="excludeLists excludeSearch systemConfig" _hash="1ee08923ff297138f10696798a07381af707548d" server.content-type="" server.permissions="read" server.bag="following_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/following_public" server.etag="&quot;following_public/tsScanCountPlugin/71064:724ad302ab11f2d7506140eb65dddbbacff31dd6&quot;" server.page.revision="71064" server.title="tsScanCountPlugin">
<pre>/***
|''Name''|tsScanCountPlugin|
|''Description''|Provides ability to count tiddlers at a given tiddlyspace url and display a button that when clicked lists them. Also upgrades tsScan to replace any options containing with $1 with the current space|
|''Version''|0.2.0|
***/
//{{{
(function($) {

var tsScan = config.macros.tsScan;
var tiddlyspace = config.extensions.tiddlyspace;

var macro = config.macros.tsScanCount = {
	cache: true,
	countCache: {},
	handler: function(place, macroName, params, w, paramString, tiddler) {
		var container = $(&quot;&lt;a href='#' class='button' /&gt;&quot;).attr(&quot;refresh&quot;, &quot;macro&quot;).attr(&quot;macroName&quot;, macroName).appendTo(place)[0];
		$(container).data(&quot;params&quot;, paramString);
		macro.refresh(container);
	},
	refresh: function(container) {
		var paramString = $(container).data(&quot;params&quot;);
		var options = tsScan.getOptions(paramString, tiddler);
		var url = options.url;
		options.cache = macro.cache;
		options.callback = function(tiddlers) {
				options.cache = true;
				macro.cache = true;
				var count = tiddlers[0] ? tiddlers[0].fields['server.page.revision'] : 0;
				var lastCount = macro.countCache[url] || 0;
				if(lastCount != count) {
					var interval, step = 0;
					interval = window.setInterval(function() {
						var last = step;
						step += 1;
						$(container).removeClass(&quot;step&quot; + last);
						if(step &gt; 10) {
							macro.countCache[url] = count;
							window.clearInterval(interval);
						} else {
							$(container).addClass(&quot;step&quot; + step);
						}
					}, 500)
				}
				$(container).empty().addClass(&quot;enabled&quot;).text(tiddlers.length).click(function(ev) {
				$(ev.target).addClass(&quot;active&quot;);
				var target = options.popupSelector ? $(options.popupSelector)[0] : ev.target;
				var p = Popup.create(target, &quot;div&quot;);
				var container;
				if(options.heading) {
					container = $(&quot;&lt;div /&gt;&quot;).addClass(&quot;heading&quot;).appendTo(p)[0];
					wikify(store.getTiddlerText(options.heading) || &quot;&quot;, container);
				}
				container = $(&quot;&lt;div /&gt;&quot;).addClass(&quot;followTiddlersList&quot;).appendTo(p)[0];
				tsScan.scan(container, options);
				Popup.show();
				ev.stopPropagation();
				return false;
			});
		};
		tsScan.scan(container, options);
	}
}

var _getOptions = tsScan.getOptions;
config.macros.tsScan.getOptions = function(paramString, tiddler) {
	var options = _getOptions.apply(this, arguments);
	var optionsClone = {};
	for(var i in options) {
		if(typeof(options[i]) == &quot;string&quot;) {
			optionsClone[i] = options[i].format(tiddlyspace.currentSpace.name);
		} else {
			optionsClone[i] = options[i];
		}
	}
	return optionsClone;
}

// every 5 minutes make tsScan update.
window.setInterval(function() {
	macro.cache = false;
	$(&quot;[macroName=tsScanCount]&quot;).each(function(i, el) {
		macro.refresh(el);
	});
}, 1000 * 60 * 5);
})(jQuery);
//}}}</pre>
</div>
<div title="unsyncedIcon" creator="osmosoft" modifier="osmosoft" created="201311111923" modified="201311111923" tags="excludeLists excludeSearch" _hash="f130b8a5de4a2cd9ab4d23a6fc3e9a8d83d1b7b3" server.content-type="image/png" server.permissions="read" server.bag="system-images_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/system-images_public" server.etag="&quot;system-images_public/unsyncedIcon/1521924:42936c056c37697aebecc2f230222ed712f6273a&quot;" server.page.revision="1521924" server.title="unsyncedIcon">
<pre>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</pre>
</div>
<div title="《一般系统理论——基础、发展和应用》（《General System Theory; Foundations, Development, Applications》）" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="dbc569ab21bc831b420668fafdb644cb628c53a2" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E3%80%8A%E4%B8%80%E8%88%AC%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA%E2%80%94%E2%80%94%E5%9F%BA%E7%A1%80%E3%80%81%E5%8F%91%E5%B1%95%E5%92%8C%E5%BA%94%E7%94%A8%E3%80%8B%EF%BC%88%E3%80%8AGeneral%20System%20Theory%3B%20Foundations%2C%20Development%2C%20Applications%E3%80%8B%EF%BC%89/1188325:c2bb15b495b757936d3455072040d6ecb02244a7&quot;" server.page.revision="1188325" server.title="《一般系统理论——基础、发展和应用》（《General System Theory; Foundations, Development, Applications》）">
<pre>&lt;html&gt;&lt;embed height=&quot;600&quot; width=&quot;880&quot; loop=&quot;true&quot; play=&quot;true&quot; quality=&quot;high&quot; type=&quot;application/x-shockwave-flash&quot; src=&quot;system.swf&quot; pluginspage=&quot;http://www.macromedia.com/go/getflashplayer&quot;/&gt;&lt;/html&gt;</pre>
</div>
<div title="一项相当高级的修炼" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="15ec032d486326a4c11bd3eb23bef927137e99d0" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%B8%80%E9%A1%B9%E7%9B%B8%E5%BD%93%E9%AB%98%E7%BA%A7%E7%9A%84%E4%BF%AE%E7%82%BC/1188331:d35b54c83e6f859088461db911d96b555c7aaf8f&quot;" server.page.revision="1188331" server.title="一项相当高级的修炼">
<pre>下面，我们来“专注”地看一段30秒的影片。
''@@color(#cc0000):注意，只准看一遍，不要欺骗自己，所以一定要专注，一边看影片，一边数一数，这三个白衣人和三个黑衣人一共传了多少次球@@。''

&lt;html&gt;
&lt;object height=&quot;350&quot; width=&quot;500&quot; codebase=&quot;http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,29,0&quot; classid=&quot;clsid:D27CDB6E-AE6D-11cf-96B8-444553540000&quot;&gt; &lt;param value=&quot;Flvplayer.swf?vcastr_file=movie 1.flv&quot; name=&quot;movie&quot; /&gt; &lt;param value=&quot;high&quot; name=&quot;quality&quot; /&gt; &lt;param value=&quot;true&quot; name=&quot;allowFullScreen&quot; /&gt; &lt;embed height=&quot;350&quot; width=&quot;500&quot; type=&quot;application/x-shockwave-flash&quot; pluginspage=&quot;http://www.macromedia.com/go/getflashplayer&quot; quality=&quot;high&quot; allowfullscreen=&quot;true&quot; src=&quot;Flvplayer.swf?vcastr_file=movie 1.flv&quot; /&gt;
&lt;/html&gt;</pre>
</div>
<div title="业余学习内容分类" creator="inforabbi" modifier="inforabbi" created="201504191618" modified="201504191618" _hash="1a2a1d7131a002c0d3a26a6c626d40e15b08fa68" server.content-type="" server.permissions="read, write, create, delete" server.bag="inforabbi_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/inforabbi_public" server.etag="&quot;inforabbi_public/%E4%B8%9A%E4%BD%99%E5%AD%A6%E4%B9%A0%E5%86%85%E5%AE%B9%E5%88%86%E7%B1%BB/2184197:06f65635f7a28e348c67575e0236d9a34992389c&quot;" server.page.revision="2184197" server.title="业余学习内容分类">
<pre>[[道德经]]</pre>
</div>
<div title="两张图" creator="inforabbi" modifier="inforabbi" created="201510260507" modified="201609131432" _hash="db5db56f67b23231d1f37bf0210397188ddc92b3" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%B8%A4%E5%BC%A0%E5%9B%BE/2558961:69e0d9bcb4353a43f44d44dde16e461611c12ac6&quot;" server.page.revision="2558961" server.title="两张图">
<pre>[img[https://od.lk/s/Ml8zMTM0OTYxNl8/qiancengwang.JPG]] [img[https://od.lk/s/Ml8zMTM0OTYyMF8/shencwjiansuo.jpeg]]</pre>
</div>
<div title="个人信息素养" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="31cb39c36d0551895e512d43b8aa21f19576397e" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%B8%AA%E4%BA%BA%E4%BF%A1%E6%81%AF%E7%B4%A0%E5%85%BB/1188328:e1fca1cd6df7231cb3d31d8f76de05cb7649bbb1&quot;" server.page.revision="1188328" server.title="个人信息素养">
<pre>资源：
[[Information Literacy Resources|http://www.ala.org/acrl/issues/infolit]]
[[武汉大学信息素养协会|http://oursim.whu.edu.cn/supersite/]]
[[文章|数字参考服务中的信息素养分析311.doc]]</pre>
</div>
<div title="中文工具书诞生封面" creator="inforabbi" modifier="inforabbi" created="201508310444" modified="201508310444" _hash="fb7c1c8e25f09c58a58e7dee74d8a43e5df1030b" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%B8%AD%E6%96%87%E5%B7%A5%E5%85%B7%E4%B9%A6%E8%AF%9E%E7%94%9F%E5%B0%81%E9%9D%A2/2326132:4fd4bcb450de192bdeb0fc27b478d007dbdf58ae&quot;" server.page.revision="2326132" server.title="中文工具书诞生封面">
<pre> [img[信息简史|http://img4.douban.com/lpic/s27973728.jpg]]</pre>
</div>
<div title="互联网时代" creator="inforabbi" modifier="inforabbi" created="201409021428" modified="201409031500" _hash="468bbe7bab9973b48693cf48a57b7d17c5bf518d" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BA%92%E8%81%94%E7%BD%91%E6%97%B6%E4%BB%A3/1877692:684dfd503b8fd4fa4dc757bbdb00e29a4ecab505&quot;" server.page.revision="1877692" server.title="互联网时代">
<pre>&lt;&lt;gradient horiz #dd6535 #ffdddd #ffffff&gt;&gt;''央视纪录片《互联网时代》全集''&gt;&gt;
&lt;&lt;tabs tabsClass 第一集 '互联网时代第一集' 互联网时代第一集：时代
第二集 '互联网时代第二集' 互联网时代第二集：浪潮
第三集 '互联网时代第三集' 互联网时代第三集：能量
第四集 '互联网时代第四集' 互联网时代第四集：再构
第五集 '互联网时代第五集' 互联网时代第五集：崛起
第六集 '互联网时代第六集' 互联网时代第六集：迁徙
第七集 '互联网时代第七集' 互联网时代第七集：控制
第八集 '互联网时代第八集' 互联网时代第八集：忧虑
第九集 '互联网时代第九集' 互联网时代第九集：世界
第十集 '互联网时代第十集' 互联网时代第十集：眺望&gt;&gt;</pre>
</div>
<div title="互联网时代第一集：时代" creator="inforabbi" modifier="inforabbi" created="201409021430" modified="201409031459" _hash="af2e5e56a4989d515c25d5a3158391f7dfe8440f" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BA%92%E8%81%94%E7%BD%91%E6%97%B6%E4%BB%A3%E7%AC%AC%E4%B8%80%E9%9B%86%EF%BC%9A%E6%97%B6%E4%BB%A3/1877687:31fc9b2435641d5f6fc70958df5fc089117d0d3e&quot;" server.page.revision="1877687" server.title="互联网时代第一集：时代">
<pre>&lt;&lt;gradient horiz #ff8888 #ffdddd #ffffff&gt;&gt;''互联网时代第十集：时代''&gt;&gt;
&lt;html&gt;&lt;object width=&quot;541&quot; height=&quot;450&quot;&gt;&lt;param name=&quot;allowFullScreen&quot; value=&quot;true&quot;&gt;&lt;param name=&quot;flashVars&quot; value=&quot;id=20525063&quot; /&gt;&lt;param name=&quot;movie&quot; value=&quot;http://i7.imgs.letv.com/player/swfPlayer.swf?autoplay=0&quot; /&gt;&lt;embed src=&quot;http://i7.imgs.letv.com/player/swfPlayer.swf?autoplay=0&quot; flashVars=&quot;id=20525063&quot; width=&quot;541&quot; height=&quot;450&quot; allowFullScreen=&quot;true&quot; type=&quot;application/x-shockwave-flash&quot; /&gt;&lt;/object&gt;&lt;/html&gt;</pre>
</div>
<div title="互联网时代第七集：控制" creator="inforabbi" modifier="inforabbi" created="201409021444" modified="201409031457" _hash="97b6a496c3b39abc3f4c7665a9f8e04518182909" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BA%92%E8%81%94%E7%BD%91%E6%97%B6%E4%BB%A3%E7%AC%AC%E4%B8%83%E9%9B%86%EF%BC%9A%E6%8E%A7%E5%88%B6/1877681:f7ace2931e98139cc121624e10331c6bf453c5c4&quot;" server.page.revision="1877681" server.title="互联网时代第七集：控制">
<pre>&lt;&lt;gradient horiz #ff8888 #ffdddd #ffffff&gt;&gt;''互联网时代第十集：控制''&gt;&gt;
&lt;html&gt;&lt;object width=&quot;541&quot; height=&quot;450&quot;&gt;&lt;param name=&quot;allowFullScreen&quot; value=&quot;true&quot;&gt;&lt;param name=&quot;flashVars&quot; value=&quot;id=20544193&quot; /&gt;&lt;param name=&quot;movie&quot; value=&quot;http://i7.imgs.letv.com/player/swfPlayer.swf?autoplay=0&quot; /&gt;&lt;embed src=&quot;http://i7.imgs.letv.com/player/swfPlayer.swf?autoplay=0&quot; flashVars=&quot;id=20544193&quot; width=&quot;541&quot; height=&quot;450&quot; allowFullScreen=&quot;true&quot; type=&quot;application/x-shockwave-flash&quot; /&gt;&lt;/object&gt;&lt;/html&gt;</pre>
</div>
<div title="互联网时代第三集：能量" creator="inforabbi" modifier="inforabbi" created="201409021434" modified="201409031459" _hash="027162b19d2884ce477d28f3c13acb3dc86a0f3a" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BA%92%E8%81%94%E7%BD%91%E6%97%B6%E4%BB%A3%E7%AC%AC%E4%B8%89%E9%9B%86%EF%BC%9A%E8%83%BD%E9%87%8F/1877685:36811474da15b5495f91fc90ee02e607239a77cf&quot;" server.page.revision="1877685" server.title="互联网时代第三集：能量">
<pre>&lt;&lt;gradient horiz #ff8888 #ffdddd #ffffff&gt;&gt;''互联网时代第十集：能量''&gt;&gt;
&lt;html&gt;&lt;object width=&quot;541&quot; height=&quot;450&quot;&gt;&lt;param name=&quot;allowFullScreen&quot; value=&quot;true&quot;&gt;&lt;param name=&quot;flashVars&quot; value=&quot;id=20534095&quot; /&gt;&lt;param name=&quot;movie&quot; value=&quot;http://i7.imgs.letv.com/player/swfPlayer.swf?autoplay=0&quot; /&gt;&lt;embed src=&quot;http://i7.imgs.letv.com/player/swfPlayer.swf?autoplay=0&quot; flashVars=&quot;id=20534095&quot; width=&quot;541&quot; height=&quot;450&quot; allowFullScreen=&quot;true&quot; type=&quot;application/x-shockwave-flash&quot; /&gt;&lt;/object&gt;&lt;/html&gt;</pre>
</div>
<div title="互联网时代第九集：世界" creator="inforabbi" modifier="inforabbi" created="201409021510" modified="201409031457" _hash="5b4430ae91d628721fbbebe98394128036e6c110" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BA%92%E8%81%94%E7%BD%91%E6%97%B6%E4%BB%A3%E7%AC%AC%E4%B9%9D%E9%9B%86%EF%BC%9A%E4%B8%96%E7%95%8C/1877678:ea377b16db79a61811e2774eae39235b031a8119&quot;" server.page.revision="1877678" server.title="互联网时代第九集：世界">
<pre>&lt;&lt;gradient horiz #ff8888 #ffdddd #ffffff&gt;&gt;''互联网时代第十集：世界''&gt;&gt;
&lt;html&gt;&lt;object width=&quot;541&quot; height=&quot;450&quot;&gt;&lt;param name=&quot;allowFullScreen&quot; value=&quot;true&quot;&gt;&lt;param name=&quot;flashVars&quot; value=&quot;id=20555853&quot; /&gt;&lt;param name=&quot;movie&quot; value=&quot;http://i7.imgs.letv.com/player/swfPlayer.swf?autoplay=0&quot; /&gt;&lt;embed src=&quot;http://i7.imgs.letv.com/player/swfPlayer.swf?autoplay=0&quot; flashVars=&quot;id=20555853&quot; width=&quot;541&quot; height=&quot;450&quot; allowFullScreen=&quot;true&quot; type=&quot;application/x-shockwave-flash&quot; /&gt;&lt;/object&gt;&lt;/html&gt;</pre>
</div>
<div title="互联网时代第二集：浪潮" creator="inforabbi" modifier="inforabbi" created="201409021433" modified="201409031459" _hash="081c9986827f359e6f9c2fc78e55608cf9c82894" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BA%92%E8%81%94%E7%BD%91%E6%97%B6%E4%BB%A3%E7%AC%AC%E4%BA%8C%E9%9B%86%EF%BC%9A%E6%B5%AA%E6%BD%AE/1877686:89ee7427bc962d5386ff0a13634dbe9bb3df66a9&quot;" server.page.revision="1877686" server.title="互联网时代第二集：浪潮">
<pre>&lt;&lt;gradient horiz #ff8888 #ffdddd #ffffff&gt;&gt;''互联网时代第十集：浪潮''&gt;&gt;
&lt;html&gt;&lt;object width=&quot;541&quot; height=&quot;450&quot;&gt;&lt;param name=&quot;allowFullScreen&quot; value=&quot;true&quot;&gt;&lt;param name=&quot;flashVars&quot; value=&quot;id=20543703&quot; /&gt;&lt;param name=&quot;movie&quot; value=&quot;http://i7.imgs.letv.com/player/swfPlayer.swf?autoplay=0&quot; /&gt;&lt;embed src=&quot;http://i7.imgs.letv.com/player/swfPlayer.swf?autoplay=0&quot; flashVars=&quot;id=20543703&quot; width=&quot;541&quot; height=&quot;450&quot; allowFullScreen=&quot;true&quot; type=&quot;application/x-shockwave-flash&quot; /&gt;&lt;/object&gt;&lt;/html&gt;</pre>
</div>
<div title="互联网时代第五集：崛起" creator="inforabbi" modifier="inforabbi" created="201409021500" modified="201409031458" _hash="3353996034e78b8cfbeccd42fff8d37abbc2e954" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BA%92%E8%81%94%E7%BD%91%E6%97%B6%E4%BB%A3%E7%AC%AC%E4%BA%94%E9%9B%86%EF%BC%9A%E5%B4%9B%E8%B5%B7/1877683:5a808c09ac0563e1ef9f30b21a19a088b37d7147&quot;" server.page.revision="1877683" server.title="互联网时代第五集：崛起">
<pre>&lt;&lt;gradient horiz #ff8888 #ffdddd #ffffff&gt;&gt;''互联网时代第十集：崛起''&gt;&gt;
&lt;html&gt;&lt;object width=&quot;541&quot; height=&quot;450&quot;&gt;&lt;param name=&quot;allowFullScreen&quot; value=&quot;true&quot;&gt;&lt;param name=&quot;flashVars&quot; value=&quot;id=20543574&quot; /&gt;&lt;param name=&quot;movie&quot; value=&quot;http://i7.imgs.letv.com/player/swfPlayer.swf?autoplay=0&quot; /&gt;&lt;embed src=&quot;http://i7.imgs.letv.com/player/swfPlayer.swf?autoplay=0&quot; flashVars=&quot;id=20543574&quot; width=&quot;541&quot; height=&quot;450&quot; allowFullScreen=&quot;true&quot; type=&quot;application/x-shockwave-flash&quot; /&gt;&lt;/object&gt;&lt;/html&gt;</pre>
</div>
<div title="互联网时代第八集：忧虑" creator="inforabbi" modifier="inforabbi" created="201409021502" modified="201409031457" _hash="634ef5f474b0988d3ee691387fb21981b56d450e" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BA%92%E8%81%94%E7%BD%91%E6%97%B6%E4%BB%A3%E7%AC%AC%E5%85%AB%E9%9B%86%EF%BC%9A%E5%BF%A7%E8%99%91/1877679:e1cc4e4fb0fb8c18e3eff84fd73208f80ee41a5e&quot;" server.page.revision="1877679" server.title="互联网时代第八集：忧虑">
<pre>&lt;&lt;gradient horiz #ff8888 #ffdddd #ffffff&gt;&gt;''互联网时代第十集：忧虑''&gt;&gt;
&lt;html&gt;&lt;object width=&quot;541&quot; height=&quot;450&quot;&gt;&lt;param name=&quot;allowFullScreen&quot; value=&quot;true&quot;&gt;&lt;param name=&quot;flashVars&quot; value=&quot;id=20555351&quot; /&gt;&lt;param name=&quot;movie&quot; value=&quot;http://i7.imgs.letv.com/player/swfPlayer.swf?autoplay=0&quot; /&gt;&lt;embed src=&quot;http://i7.imgs.letv.com/player/swfPlayer.swf?autoplay=0&quot; flashVars=&quot;id=20555351&quot; width=&quot;541&quot; height=&quot;450&quot; allowFullScreen=&quot;true&quot; type=&quot;application/x-shockwave-flash&quot; /&gt;&lt;/object&gt;&lt;/html&gt;</pre>
</div>
<div title="互联网时代第六集：迁徙" creator="inforabbi" modifier="inforabbi" created="201409021501" modified="201409031458" _hash="f2aaee28b8fdfb8966cd7ff8bce45daaa0aad5b4" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BA%92%E8%81%94%E7%BD%91%E6%97%B6%E4%BB%A3%E7%AC%AC%E5%85%AD%E9%9B%86%EF%BC%9A%E8%BF%81%E5%BE%99/1877682:a46f437862467c733662404cecea9f95012a842f&quot;" server.page.revision="1877682" server.title="互联网时代第六集：迁徙">
<pre>&lt;&lt;gradient horiz #ff8888 #ffdddd #ffffff&gt;&gt;''互联网时代第十集：迁徙''&gt;&gt;
&lt;html&gt;&lt;object width=&quot;541&quot; height=&quot;450&quot;&gt;&lt;param name=&quot;allowFullScreen&quot; value=&quot;true&quot;&gt;&lt;param name=&quot;flashVars&quot; value=&quot;id=20543703&quot; /&gt;&lt;param name=&quot;movie&quot; value=&quot;http://i7.imgs.letv.com/player/swfPlayer.swf?autoplay=0&quot; /&gt;&lt;embed src=&quot;http://i7.imgs.letv.com/player/swfPlayer.swf?autoplay=0&quot; flashVars=&quot;id=20543703&quot; width=&quot;541&quot; height=&quot;450&quot; allowFullScreen=&quot;true&quot; type=&quot;application/x-shockwave-flash&quot; /&gt;&lt;/object&gt;&lt;/html&gt;</pre>
</div>
<div title="互联网时代第十集：眺望" creator="inforabbi" modifier="inforabbi" created="201409031451" modified="201409031516" _hash="6de638079f4214d4da9816ec0f448c96110936fb" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BA%92%E8%81%94%E7%BD%91%E6%97%B6%E4%BB%A3%E7%AC%AC%E5%8D%81%E9%9B%86%EF%BC%9A%E7%9C%BA%E6%9C%9B/1877709:2964dd6a8da212bfa1d9c57f5e98ee0c63f38b9d&quot;" server.page.revision="1877709" server.title="互联网时代第十集：眺望">
<pre>&lt;&lt;gradient horiz #ff8888 #ffdddd #ffffff&gt;&gt;''互联网时代第十集：眺望''&gt;&gt;
&lt;html&gt;&lt;object width=&quot;541&quot; height=&quot;450&quot;&gt;&lt;param name=&quot;allowFullScreen&quot; value=&quot;true&quot;&gt;&lt;param name=&quot;flashVars&quot; value=&quot;id=20556405&quot; /&gt;&lt;param name=&quot;movie&quot; value=&quot;http://i7.imgs.letv.com/player/swfPlayer.swf?autoplay=0&quot; /&gt;&lt;embed src=&quot;http://i7.imgs.letv.com/player/swfPlayer.swf?autoplay=0&quot; flashVars=&quot;id=20556405&quot; width=&quot;541&quot; height=&quot;450&quot; allowFullScreen=&quot;true&quot; type=&quot;application/x-shockwave-flash&quot; /&gt;&lt;/object&gt;&lt;/html&gt;</pre>
</div>
<div title="互联网时代第四集：再构" creator="inforabbi" modifier="inforabbi" created="201409021445" modified="201409031459" _hash="cd05cc9ee1342bb27d9faf4ed5351810db123955" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BA%92%E8%81%94%E7%BD%91%E6%97%B6%E4%BB%A3%E7%AC%AC%E5%9B%9B%E9%9B%86%EF%BC%9A%E5%86%8D%E6%9E%84/1877684:8848ec82a50cb1d4a29c31e917acb8147eb415b7&quot;" server.page.revision="1877684" server.title="互联网时代第四集：再构">
<pre>&lt;&lt;gradient horiz #ff8888 #ffdddd #ffffff&gt;&gt;''互联网时代第十集：再构''&gt;&gt;
&lt;html&gt;&lt;object width=&quot;541&quot; height=&quot;450&quot;&gt;&lt;param name=&quot;allowFullScreen&quot; value=&quot;true&quot;&gt;&lt;param name=&quot;flashVars&quot; value=&quot;id=20534440&quot; /&gt;&lt;param name=&quot;movie&quot; value=&quot;http://i7.imgs.letv.com/player/swfPlayer.swf?autoplay=0&quot; /&gt;&lt;embed src=&quot;http://i7.imgs.letv.com/player/swfPlayer.swf?autoplay=0&quot; flashVars=&quot;id=20534440&quot; width=&quot;541&quot; height=&quot;450&quot; allowFullScreen=&quot;true&quot; type=&quot;application/x-shockwave-flash&quot; /&gt;&lt;/object&gt;&lt;/html&gt;</pre>
</div>
<div title="以Twitter为代表" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="753df8d274a19a8c0ed53e0476b5ca4311ee0d5b" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BB%A5Twitter%E4%B8%BA%E4%BB%A3%E8%A1%A8/1188329:5b803e9fb54e28569fd240365bcc87a6e16aa2a4&quot;" server.page.revision="1188329" server.title="以Twitter为代表">
<pre>&lt;html&gt;
&lt;object height=&quot;350&quot; width=&quot;500&quot; codebase=&quot;http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,29,0&quot; classid=&quot;clsid:D27CDB6E-AE6D-11cf-96B8-444553540000&quot;&gt; &lt;param value=&quot;Flvplayer.swf?vcastr_file=twitterand info flow.flv&quot; name=&quot;movie&quot; /&gt; &lt;param value=&quot;high&quot; name=&quot;quality&quot; /&gt; &lt;param value=&quot;true&quot; name=&quot;allowFullScreen&quot; /&gt; &lt;embed height=&quot;350&quot; width=&quot;500&quot; type=&quot;application/x-shockwave-flash&quot; pluginspage=&quot;http://www.macromedia.com/go/getflashplayer&quot; quality=&quot;high&quot; allowfullscreen=&quot;true&quot; src=&quot;Flvplayer.swf?vcastr_file=twitterand info flow.flv&quot; /&gt;
&lt;/html&gt;</pre>
</div>
<div title="企业价值链" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="7115abe42eff7527a9cd9bd93334b1d91c0ab2e5" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BC%81%E4%B8%9A%E4%BB%B7%E5%80%BC%E9%93%BE/1188334:a6b3f8404ee3aea8e1afefe89df25fefbf9e92f1&quot;" server.page.revision="1188334" server.title="企业价值链">
<pre>企业价值链（Enterprise ~Value-Link）是指企业通过一系列的价值活动来实现价值增值，企业内部的所有价值活动连接在一起就形成了价值链。

具体地讲，价值链是指，任何一个企业均可看作是由一系列相互关联的行为所构成，这些行为对应于物料从供应商到顾客的流动过程，而这一过程就是物料在企业的各个部门不断增加价值的过程。

现在企业在建立和完善内部价值链的同时，更加致力于将内部的价值链与其他企业的价值链相连，这种企业间的价值链的连接被称作价值系统。
</pre>
</div>
<div title="企业信息管理学一书封面" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201409110435" _hash="5eaa872024b59d4e6e443d0ae9454cbcadeb1cc7" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BC%81%E4%B8%9A%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86%E5%AD%A6%E4%B8%80%E4%B9%A6%E5%B0%81%E9%9D%A2/1884198:b679ff06d0ebd43290a76e05cf8a00bed85ddc5b&quot;" server.page.revision="1884198" server.title="企业信息管理学一书封面">
<pre> [img[企业信息管理|http://inforabbi.opendrive.com/files/Ml82Mzc2ODI2N19xbXNmNQ/9352026.jpg]]</pre>
</div>
<div title="企业资源规划" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="ad7e359a1d6b0196289019077f44d0739d34bc4b" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BC%81%E4%B8%9A%E8%B5%84%E6%BA%90%E8%A7%84%E5%88%92/1188332:9f3935dcfed96ec11e81da77b5d0e3fd21d4fe1b&quot;" server.page.revision="1188332" server.title="企业资源规划">
<pre>企业资源计划（ERP：Enterprise Resource Planning）:它是基于计算机技术和管理理论的最新进展，从理论和实践两个方面提供的企业整体经营解决方案。

ERP是一个发展中的概念，它是在制造资源规划（MRP-2）的基础上并综合了其他类型的企业管理信息系统发展起来的，在功能上实现了一个企业具有的各类资源的系统与综合管理，是企业信息化的一个新里程碑。

ERP是将企业所有资源进行整合集成管理，简单的说是将企业的三大流：物流、资金流、信息流进行全面一体化管理的管理信息系统。主要包括：生产控制、物流管理、财务管理和人力资源管理等系统。

ERP作为企业经营管理的整体解决方案，不仅仅是一套软件，更多的是管理思想和理念的结晶和体现，从而成为崭新的现代制造企业的管理手段。它利用企业的所有资源，包括内部资源与外部市场资源，为企业制造产品或提供服务创造最优的解决方案，最终达到企业的经营目标。

</pre>
</div>
<div title="企业过程再工程" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="01eb3a9feac4e867ecb13956be994c140e4aebf8" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BC%81%E4%B8%9A%E8%BF%87%E7%A8%8B%E5%86%8D%E5%B7%A5%E7%A8%8B/1188337:b52e3a257697317b25a7be5c9ccf29beafe97cba&quot;" server.page.revision="1188337" server.title="企业过程再工程">
<pre>BPR（Business Process Reengineering）又名企业过程再造，是80年代由哈佛大学哈默提出的对管理影响最大的一种思想。

BPR以企业过程为对象，从顾客的需求出发，对企业再思考和彻底性的再设计。它以信息技术的应用和人员组织的调整为手段，以求达到企业关键性能指标和业绩的巨大提高和改善，从而保证企业战略目标的实现。

BPR的一个特点是着眼于“过程”，一切“再工程”工作全部是围绕业务流程展开的。

BPR实现的手段是两个使能器：一个是信息技术，一个是组织。没有深入的应用信息技术，没有改变组织结构，严格地说不能算是实现了BPR。 
    
概括而言，BPR与其说是一种方法论，不如说是一个概念，是一种思想，是一种着眼于长远和全局，突出发展与合作的变革理念。    

</pre>
</div>
<div title="作业存档" creator="inforabbi" modifier="inforabbi" created="201512151057" modified="201610120448" _hash="15394e90785cca04da4f1c9c7ceb98e817407809" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BD%9C%E4%B8%9A%E5%AD%98%E6%A1%A3/2571740:90b22477c227de10540e8b725ed238f22bee0888&quot;" server.page.revision="2571740" server.title="作业存档">
<pre>!1.基于Tiddlyspace的信息交流
&gt;按照[[指示的步骤|http://docs.tiddlyspace.com/#%5B%5BSocialising%20On%20TiddlySpace%5D%5D]]，在自己的space上完成每一步。
&gt;&gt;How to Create a Profile
&gt;&gt;How to Follow User or Space Activity
&gt;&gt;Adding Additional Feeds
&gt;&gt;How to Tag Tiddlers for Other User's Attention
&gt;&gt;How to Reply to Tiddlers Tagged for Your Attention
&gt;&gt;Subscribing to Content
&gt;&gt;Socialising Via TiddlyWiki</pre>
</div>
<div title="作者Peter Morville" creator="inforabbi" modifier="inforabbi" created="201312111648" modified="201312111801" _hash="137baf6182f32051bba0a7961fb7bf1ec63972d8" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BD%9C%E8%80%85Peter%20Morville/1591040:6e51439699cd6ea948baf8c1bf56fb2bd9c2d56d&quot;" server.page.revision="1591040" server.title="作者Peter Morville">
<pre>[img[http://semanticstudios.com/images/morvillephoto.jpg]]
[[Peter Morville's Biography|http://semanticstudios.com/about/]]
他的所有的信息（[[Blog|http://findability.org/]]、[[公司|http://semanticstudios.com/]]）都可以通过这里获得，这是一位非常值得我们关注的学者！
他最新的著作：[[Search Patterns]]
看看他的母校：[[the University of Michigan's School of Information|https://www.si.umich.edu/]]</pre>
</div>
<div title="供应链管理" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="a558d8ae74ffa59116d3ad6a74ca8f15588479e4" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BE%9B%E5%BA%94%E9%93%BE%E7%AE%A1%E7%90%86/1188338:0172db79e915f310d93836951ffc15cd95c577c2&quot;" server.page.revision="1188338" server.title="供应链管理">
<pre>供应链管理(SCM：Supply Chain Management)是由价值链理论发展而来得。早期的供应链概念是指制造企业中的一个内部过程，后来供应链概念开始扩展到关联企业。
    
作为一种新的管理思想，它把供应链上的各个企业作为一个不可分割的整体，使供应链上各企业成为一个协调发展的有机体。
 
SCM是一种跨企业的协作，覆盖了从原材料到最终产品的全部过程。企业的视野已不仅仅局限于企业内部，而延伸到供应商和客户。

应当说自从人类生产有了分工以后，供应链就存在了。但SCM作为一个概念提出来，对其加以研究并得到应用，依靠的是近20年来信息技术的支持和企业信息化程度的提高。

一方面正是由于信息技术的发展，使得信息的传送日益便捷，促进了供应链上各企业间的信息交流，跨越企业边界和地域边界的合作变得更加容易；

另一方面由于企业内部信息化的进程，使得管理人员能够随时掌握企业生产与库存等状况，控制企业的能力从广度和深度上都大为增强。

</pre>
</div>
<div title="信息与生存" creator="inforabbi" modifier="inforabbi" created="201508301756" modified="201508301756" _hash="6e1536d3b2e648bf9242adacda9309491b2a52fb" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E4%B8%8E%E7%94%9F%E5%AD%98/2322954:441087025cf701c61436ebd66b6c0f970b6caedd&quot;" server.page.revision="2322954" server.title="信息与生存">
<pre>*@@color(blue):某海军陆战队在原始森林进行为时一个月左右的生存实验，具体要求如下：第一，每个队员除了身上穿的衣服外，随身只能带三件物品，每件物品不能超过二公斤；第二，队员都是由飞机空降到半径为1000公里原始森林的中心地带，要求在一个月时间内从森林里走出来。问题：队员带哪三件物品合适？@@
*@@color(red):可选择的物品有：笔记本电脑、钢刀、水、饼干、打火机、指南针、火石@@
*&lt;&lt;slider chkslider 生存案例答案 标准答案&gt;&gt;
</pre>
</div>
<div title="信息传播法律制度" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="e6af3f4e053acc7e904e729d7cd639f7fd0e37b7" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E4%BC%A0%E6%92%AD%E6%B3%95%E5%BE%8B%E5%88%B6%E5%BA%A6/1188335:c70124f996d870dab525b6b577ac157bf7acd85a&quot;" server.page.revision="1188335" server.title="信息传播法律制度">
<pre>*国内外
*网络信息传播
**我们要重点关注的是新的东西：从2006.7.1开始实施的[[《信息网络传播权保护条例》|8723/content_294000.html]]</pre>
</div>
<div title="信息公开政策法律" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="93c81cec117a48d2cdc2926b21c2dc3abd20d8f5" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E5%85%AC%E5%BC%80%E6%94%BF%E7%AD%96%E6%B3%95%E5%BE%8B/1188336:df6063686807701a28bd09f22eceacd22311a850&quot;" server.page.revision="1188336" server.title="信息公开政策法律">
<pre>*[[《政府信息公开条例》|175/content_592937.html]]
*[[商业机构信息公开]]
</pre>
</div>
<div title="信息分化" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="cad37988b54e4f7ac0dd017d058b7f32eb275cd8" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E5%88%86%E5%8C%96/1188339:debb791ff93d25330b9a432ee0c5edc5c6aca79c&quot;" server.page.revision="1188339" server.title="信息分化">
<pre>信息分化 （Information Differentiation） 是指在当代社会信息化发展的过程中， 不同国家、不同地区、不同群体、 不同个体之间， 由于其对信息技术、网络技术拥有和应用程度的不同，以及信息接受、信息消化与知识创新能力的差异，而日渐显现和迅速加剧的一种新的社会分化现象。 
信息分化是一种普遍存在于世界各地的现象，国家与国家之间、地区与地区之间、群体与群体之间、个体与个体之间，都有信息分化现象。信息分化的产生的原因是数字鸿沟，信息分化的结果就是贫富极端分化。并且信息分化具有马太效应，拥有信息的人越来越富有，缺乏信息的人越来越贫穷。从《福布斯》公布的“中国大陆 50 名首富名单”来看，有1/4的人从业高科技和媒体通讯行业，贫富分化在很大程度上是社会信息化过程中的信息分化所致。有关资料表明。美国已经进入高度社会信息化，信息分化现象严重，20%的富有家庭中拥有美国社会财富的 80%。</pre>
</div>
<div title="信息化与信息社会的问题" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="57337c52f6f2262c32f2c2b448623145f309a781" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E5%8C%96%E4%B8%8E%E4%BF%A1%E6%81%AF%E7%A4%BE%E4%BC%9A%E7%9A%84%E9%97%AE%E9%A2%98/1188343:1709713f10bd7256cc8f96ee45f8cb7607b2ab0e&quot;" server.page.revision="1188343" server.title="信息化与信息社会的问题">
<pre>**信息、物质、能量
***信息流
**信息化
***信息资源
***信息技术
***信息观念
***资源共享
**信息社会：
***[[丹尼尔·贝尔|file:///E:/Curriculum%20Resources/Information%20Management/data/20120918135137/index.html]]
***[[费里茨·马克鲁普|file:///E:/Curriculum%20Resources/Information%20Management/data/20120918135037/index.html]]
***马克·波拉特
***[[阿尔文·托夫勒|file:///E:/Curriculum%20Resources/Information%20Management/data/20120918135911/index.html]]
***[[托马斯·弗里德曼|file:///E:/Curriculum%20Resources/Information%20Management/data/20120918135628/index.html]]
***[[克里斯 安德森|file:///E:/Curriculum%20Resources/Information%20Management/data/20120918135751/index.html]]
</pre>
</div>
<div title="信息在管理中的地位和作用" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="192854c2723210fec8efe120c586e4dfeb395648" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E5%9C%A8%E7%AE%A1%E7%90%86%E4%B8%AD%E7%9A%84%E5%9C%B0%E4%BD%8D%E5%92%8C%E4%BD%9C%E7%94%A8/1188340:fbb03c4f2a53ae43eb632fb251573d0d34dd6c28&quot;" server.page.revision="1188340" server.title="信息在管理中的地位和作用">
<pre>#从管理系统的角度看，信息是管理系统的基本构成要素和有机联系的介质。
#从管理过程的角度看，管理过程实际上就是以信息为媒介，表现为信息的不断输入、变换、输出和反馈的过程。
#从管理组织的角度看，信息是相互间沟通联络、协调行动的桥梁和纽带。
#从管理目的的角度看，信息的开发利用是提高经济效益和社会效益的重要途径。

因此，对信息的管理应该是组织管理的核心。所以，我们必须积极地开展对[[信息管理]]的研究。 
</pre>
</div>
<div title="信息存储与检索" creator="inforabbi" modifier="inforabbi" created="201303121701" modified="201303121701" _hash="ef50815085e25b37a6880cd5ea600a4ee8076206" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E5%AD%98%E5%82%A8%E4%B8%8E%E6%A3%80%E7%B4%A2/1144629:94ada0d307b693aa332e4eedca0e3325068e26fc&quot;" server.page.revision="1144629" server.title="信息存储与检索">
<pre>Type the text for '信息存储与检索'</pre>
</div>
<div title="信息学、管理学、系统科学" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="2d374445ca70ff7d33fefb994e631a56e1e1c5de" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E5%AD%A6%E3%80%81%E7%AE%A1%E7%90%86%E5%AD%A6%E3%80%81%E7%B3%BB%E7%BB%9F%E7%A7%91%E5%AD%A6/1188341:1435824bc205b43d65354cfab1a076a6c3b7b6e7&quot;" server.page.revision="1188341" server.title="信息学、管理学、系统科学">
<pre>[img[2009-10-11_215607.png]]</pre>
</div>
<div title="信息安全法律规范" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="124176de350ed28cebf29c5d588534f7e6a37331" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E6%B3%95%E5%BE%8B%E8%A7%84%E8%8C%83/1188344:37f6c687ee48b060ff1dcf94cde9836146b3f670&quot;" server.page.revision="1188344" server.title="信息安全法律规范">
<pre>请关注几个法律条文：
*计算机信息系统安全保护条例
*计算机信息网络国际联网安全保护管理办法
大部分均可[[从这里查阅|20081103023841/index.html]]</pre>
</div>
<div title="信息市场管理政策法律" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="82b45b79d9b321069eb6c03d6f1b7c019596f6e3" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E5%B8%82%E5%9C%BA%E7%AE%A1%E7%90%86%E6%94%BF%E7%AD%96%E6%B3%95%E5%BE%8B/1188345:80e5ece1e7d97993e3bec7619d7b9380620af9b7&quot;" server.page.revision="1188345" server.title="信息市场管理政策法律">
<pre>*&lt;&lt;slider chkSlider 信息市场 信息市场&gt;&gt;
*信息市场秩序的法律规范。通用市场规范、专门领域市场规范</pre>
</div>
<div title="信息技术应用" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="a06db124f3be1742038a9a8d19240a42fdc6007d" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E5%BA%94%E7%94%A8/1188347:07116cf22d511703e019698566894cebbad49920&quot;" server.page.revision="1188347" server.title="信息技术应用">
<pre>*信息处理技术
*通信技术（看[[一篇强文|data/20091011223543/index.html]]）</pre>
</div>
<div title="信息改变了美国一书" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201409110432" _hash="98ba9296a934c3ccc8284ff26f62508feb5c57ce" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E6%94%B9%E5%8F%98%E4%BA%86%E7%BE%8E%E5%9B%BD%E4%B8%80%E4%B9%A6/1884193:9fe8fe330918a773410862b79d33f287dc72996f&quot;" server.page.revision="1884193" server.title="信息改变了美国一书">
<pre>[img[信息改变了美国一书的封面|http://inforabbi.opendrive.com/files/Ml82Mzc2ODI4Nl9JMWN1Yg/showpic.php.jpg]]</pre>
</div>
<div title="信息时代的管理一书封面" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201409110437" _hash="a0160f1b976aadbe99af6976a9991d909e5e9326" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E6%97%B6%E4%BB%A3%E7%9A%84%E7%AE%A1%E7%90%86%E4%B8%80%E4%B9%A6%E5%B0%81%E9%9D%A2/1884203:b568e61cfb2ed9c8687ec3cece613d9e3f318602&quot;" server.page.revision="1884203" server.title="信息时代的管理一书封面">
<pre>[img[信息时代的管理一书|http://inforabbi.opendrive.com/files/Ml82Mzc2ODI2M19EcTJOeA/8522187-1_o.jpg]]</pre>
</div>
<div title="信息流的变化" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="1864db273d5f26086869dd7526278a8e246bac9f" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E6%B5%81%E7%9A%84%E5%8F%98%E5%8C%96/1188348:2c869d7268495b929dce99b910773dce9688dd56&quot;" server.page.revision="1188348" server.title="信息流的变化">
<pre>&lt;html&gt;
&lt;object height=&quot;350&quot; width=&quot;500&quot; codebase=&quot;http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,29,0&quot; classid=&quot;clsid:D27CDB6E-AE6D-11cf-96B8-444553540000&quot;&gt; &lt;param value=&quot;Flvplayer.swf?vcastr_file=Internet Recruiting 2.0 - The Flow of Information.flv&quot; name=&quot;movie&quot; /&gt; &lt;param value=&quot;high&quot; name=&quot;quality&quot; /&gt; &lt;param value=&quot;true&quot; name=&quot;allowFullScreen&quot; /&gt; &lt;embed height=&quot;350&quot; width=&quot;500&quot; type=&quot;application/x-shockwave-flash&quot; pluginspage=&quot;http://www.macromedia.com/go/getflashplayer&quot; quality=&quot;high&quot; allowfullscreen=&quot;true&quot; src=&quot;Flvplayer.swf?vcastr_file=Internet Recruiting 2.0 - The Flow of Information.flv&quot; /&gt;
&lt;/html&gt;</pre>
</div>
<div title="信息生命周期理论" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="7d1c1daaa28ce48819c3fa03451273a27b2b1636" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%90%86%E8%AE%BA/1188349:b87a39a4ac9ea63ca17cd01469c66662d8ab4caf&quot;" server.page.revision="1188349" server.title="信息生命周期理论">
<pre>!从理论基础的角度讲，信息生命周期理论真正算是一个IRM以及IM活动中一个重要的理论基础。因此，我们需要认真掌握信息生命周期（Infomation Life Cycle）这一理论。
*首先把握[[霍顿的信息生命周期|data/20091011220123/index.html]]。霍顿提出了两种信息生命周期：一种由需求定义、收集、传递、处理、储存、传播、利用7 个阶段所组成；另一种由创造、交流、利用、维护、恢复、再利用、再包装、再交流、降低使用等级、处置等10个阶段所组成 (Horton1985) 。
*另外，注意ILC理论所发展出来的ILM（Infomation Lifecycle Management）以及这一管理理论在信息存储技术领域的应用。极力倡导ILM的[[EMC公司|data/20091011224021/index.html]]及其在ILM方面的应用拓展，可以参考几份他们的文献：[[Comprehensive ILM Initiative Delivers Business-Oriented Information Infrastructure for EMC|h2148-comprehensive-ilm-wp.pdf]]、[[扩大信息生命周期管理的威力|h2025-extending-ilm-power.pdf]]以及[[EMC 信息生命周期战略：可用性与保护|EMC ILM.pdf]]</pre>
</div>
<div title="信息的定义" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201508301808" _hash="c051b1bf22a6eae53530a912a080b4c37c8e72d2" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E7%9A%84%E5%AE%9A%E4%B9%89/2322977:8976ae152ed619f7d661e6be143d24d622293fe4&quot;" server.page.revision="2322977" server.title="信息的定义">
<pre>*信息的&lt;&lt;slider chkSlider 关于信息的定义 定义、相关概念、常见分类以及作用&gt;&gt;</pre>
</div>
<div title="信息的概念" creator="inforabbi" modifier="inforabbi" created="201508301755" modified="201508301809" _hash="a894b9b303b12f581268c54e8b26078b20d6e083" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E7%9A%84%E6%A6%82%E5%BF%B5/2322980:7b5354f652672faca5d805a90542d7b598bcf8f2&quot;" server.page.revision="2322980" server.title="信息的概念">
<pre>*关于信息的概念，我们首先来看看一个广为引用的&lt;&lt;slider chkSlider 信息与生存 例子&gt;&gt;
*[[信息的定义]]
</pre>
</div>
<div title="信息社会的5大潮流趋势" creator="inforabbi" modifier="inforabbi" created="201312181627" modified="201312181644" _hash="75ff503e275ab36ac5cba45494118d769985e7fc" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E7%A4%BE%E4%BC%9A%E7%9A%845%E5%A4%A7%E6%BD%AE%E6%B5%81%E8%B6%8B%E5%8A%BF/1599892:b86fdb73a85fd22f56bbc31f59e648603b052473&quot;" server.page.revision="1599892" server.title="信息社会的5大潮流趋势">
<pre>資訊社會的五大趨勢潮流（[[来源|http://ifii-enews.blogspot.tw/2013_08_01_archive.html]] 要翻墙）（[[原文下载地址|http://trends.ifla.org/files/trends/assets/insights-from-the-ifla-trend-report_v3.pdf]]）
2013年8月，IFLA 趨勢報告 (IFLA Trend Report) 指出資訊社會的五大趨勢潮流，也帶來了對圖書館員角色與服務的省思。從資訊擁有者、線上學習、個人資料隱私、公民動力(Civic Engagement) 與新科技轉移。圖書館如何順應這五大趨勢潮流，化危機成轉機!!


·         TREND 1 新科技將同時擴大及限縮資訊擁有者的權限。New Technologies will both expand and limit who has access to information.


隨著資訊科技的進步，取得資訊的方式將會與傳統方式有極大差異。當使用者缺乏適應新技術的能力時，隨之而來的是嚴重影響取得資訊的管道。因應而來的新趨勢是未來在擁有 (own) ，加值 (Profit from) ，分享(share) 與取得 (access) 資源時，新導入的企業模式將嚴重影響資訊的取得。
[img[https://www.opendrive.com/thumbnails?Ml8zNjcxMzc3Nl9URURkcw]]

圖片來源: IFLA Trend Report (http://trends.ifla.org/)

·         TREND 2 線上學習將均化與崩解全球教育的資源限制。Online Education will democratise and disrupt global learning.)

隨著 MOOCs 日漸流行的趨勢，全球且快速的線上教育的趨勢將使得學習資源是更豐富的，更便宜的且更容易取得課程。在正規教育體制之外，繼續教育的價值會因應此趨勢而提升。
[img[https://www.opendrive.com/thumbnails?Ml8zNjcxMzk0OF82OVVRSQ]]

圖片來源: IFLA Trend Report (http://trends.ifla.org/)

TREND 3 隱私權與資料保護的籓籬將重新定義。The boundaries of privacy and data protection will be redefined.

資訊科技帶給大家方便，也將個人的數位刺青揭露於大環境中。大數據時代的資料，政府與企業單位將會應用這些資料進行加值，但衍生而來的議題是如何強化監控與篩選的機制。在資訊揭露與隱私的兩難之中，我們都需要正面去面對此議題所帶來的法律、道德的相關議題。
[img[https://www.opendrive.com/thumbnails?Ml8zNjcxNDAzMF9MUllUTw]]

圖片來源: IFLA Trend Report (http://trends.ifla.org/)

·         TREND 4 超連結社會將傾聽與授權新網路社群的聲音。Hyper-connected societies will listen to and empower new voices and groups.

有愈來愈多隨之而來的行動是因應超連結時代而起。最近大家印象很深刻的實例就是透過網路集結公民活動，包括洪仲丘事件與核四議題。虛擬的網路世界所引起的效益，公眾需要更透明與群眾導向的資訊傳遞。包括醫療、社會議題、環境改變與氣候變遷等議題，大數據能夠支援更多以實證為基礎的決策。(Big data supports more effective evidence-based policy-making in many fields – including health, social care, environmental conservation and climate change.)
[img[https://www.opendrive.com/thumbnails?Ml8zNjcxNDA5Nl8yUFo1cQ]]

圖片來源: IFLA Trend Report (http://trends.ifla.org/)

·         TREND 5 全球資訊科技環境將透過新科技轉移。The global information environment will be transformed by new technologies.

3D 列印? 手機語音即時翻譯?? 藉由智慧型手機的普遍而擴展的超連結網絡。資訊科技讓大家行動無國界，無國界服務也擴展了全球資訊經濟，相輔相成。物聯網 (Internet of thing, IOP)技術隨著新科技的變化而帶領出產業加值、社會有感之服務需求及趨勢變化，同時也產生新的企業經營模式如雲端智慧產業價值創造中心與智慧商業應用實證中心的新契機。
[img[https://www.opendrive.com/thumbnails?Ml8zNjcxNDE0OF9nTEpWRA]]

圖片來源: IFLA Trend Report (http://trends.ifla.org/)

1.    International Federation of Library Associations (IFLA) Identifies Five High Level Information Trends in New Report (http://www.infodocket.com/2013/08/19/international-federation-of-library-associations-ifla-identifies-and-discusses-five-high-level-information-trends-in-new-report/)
2.    IFLA Trend Report (http://trends.ifla.org/)</pre>
</div>
<div title="信息科学理论" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="930ab2f9bdc116ead8a0767e81a6ce1bea6169f3" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E7%A7%91%E5%AD%A6%E7%90%86%E8%AE%BA/1188350:0abca4bf3f6a9d858d323ecd5ddabb4a2dd215ca&quot;" server.page.revision="1188350" server.title="信息科学理论">
<pre>*&lt;&lt;slider chkSlider 信息论 信息论&gt;&gt;
*&lt;&lt;slider chkSlider 控制论 控制论&gt;&gt;
*&lt;&lt;slider chkSlider 系统论 系统论&gt;&gt;</pre>
</div>
<div title="信息空间封面" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201409110427" _hash="283a4a2f53280554399d93513ae011f692ffd4ee" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E7%A9%BA%E9%97%B4%E5%B0%81%E9%9D%A2/1884189:656ba440ed9a2363664eef43c4618e19ad840308&quot;" server.page.revision="1884189" server.title="信息空间封面">
<pre> [img[信息空间一书的封面|http://inforabbi.opendrive.com/files/Ml82Mzc2ODI3OV9icWlCaA/s2873156.jpg]]</pre>
</div>
<div title="信息简史封面" creator="inforabbi" modifier="inforabbi" created="201508310438" modified="201508310438" _hash="e65d74824d40ed9e4edcf84a01b0f8253f76ea23" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E7%AE%80%E5%8F%B2%E5%B0%81%E9%9D%A2/2326130:adf338f21b60db314767133ec8e3c5eed388e23c&quot;" server.page.revision="2326130" server.title="信息简史封面">
<pre> [img[信息简史|http://img10.360buyimg.com/n0/jfs/t205/318/1165988190/63631/f5f803d1/53a3e705Nc3e24205.jpg]]</pre>
</div>
<div title="信息管理" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="e524f3049b8561458907fab0b1c192c94cecb44b" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86/1188351:af9afe2a193bcc988f80d669f997d05280432583&quot;" server.page.revision="1188351" server.title="信息管理">
<pre>@@color(#ff3333):''信息管理的定义：''@@
信息管理属于人类管理活动的一部分。信息管理是管理领域的新成员。根据管理的定义以及现代社会已把信息作为一种重要的战略性资源来对待，我们给信息管理也下一个定义：

@@color(#f00):''信息管理是在管理科学的一般原理指导下，对信息活动中的各种要素，包括信息、人员、资金、设备、技术等，进行科学地规划、组织、协调和控制，以充分开发和有效利用信息资源，从而最大限度地满足社会的信息需求。''@@

结合我们刚才提到的IRM概念，那么，&lt;&lt;slider ChkSlider IM和IRM 信息管理和信息资源管理&gt;&gt;究竟有什么区别和联系呢？
</pre>
</div>
<div title="信息管理与组织" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="41bea09ac4d06590e2bfa4446e5c7969e46dd71d" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86%E4%B8%8E%E7%BB%84%E7%BB%87/1188352:4542029c85f460ae225d7bc39f04936d8917f871&quot;" server.page.revision="1188352" server.title="信息管理与组织">
<pre>信息对组织的生存和发展具有重要的意义,组织管理过程实际上是信息沟通的过程。

与此同时，信息管理对组织也提出了新的要求和产生了前所未有的影响 ，引起的管理的变革。

教材第四局所引出[[企业价值链]]、[[供应链管理]]、[[企业过程再工程]]、[[企业资源规划]]、[[客户关系管理]]等概念，有助于我们探讨信息、信息技术对现代企业管理所产生的影响，进一步明确信息管理的意义。

在当今的Internet时代的发展是以电子商务为特色的组织管理形式，因此，电子商务（EC）时代企业运作和管理的基础平台就是：

SCM定位于企业外部资源特别是原材料和零部件等资源与企业生产制造过程的集成管理，ERP定位于企业内部从原材料到产成品交付整个过程的各种资源计划与控制，CRM则定位于产成品的整个营销过程的管理。三者共同构成了电子商务（EC）时代企业运作和管理的基础平台。

</pre>
</div>
<div title="信息管理发展时期" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="9d4ed9888dae6c7c589ba16d9592f1e74a6c63fe" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86%E5%8F%91%E5%B1%95%E6%97%B6%E6%9C%9F/1188353:5a8d600ec14b0fbb5245e8c5a5051ba7f408be87&quot;" server.page.revision="1188353" server.title="信息管理发展时期">
<pre>[img[2009-09-28_135050.png]]</pre>
</div>
<div title="信息管理概念图" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="547aa64a84f8071373ea238c34c78c6926f67beb" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86%E6%A6%82%E5%BF%B5%E5%9B%BE/1188354:a1a4c630bbc7a3c5de8f0987dc7f307012fd4148&quot;" server.page.revision="1188354" server.title="信息管理概念图">
<pre>[img[2009-09-28_134124.png]]</pre>
</div>
<div title="信息管理概述问题" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="0f5b7cd8f78479646c8d65b0417fb0ea56465a18" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86%E6%A6%82%E8%BF%B0%E9%97%AE%E9%A2%98/1188356:4a1cbf1b929700907f9c92aad66890b3bf293182&quot;" server.page.revision="1188356" server.title="信息管理概述问题">
<pre>**概念和对象
***[[人类社会信息过程|renleishehuixinxiguocheng.png]]
***资源与活动
**目标和任务
***社会的
***组织的
***&lt;&lt;slider chkSlider 个人信息素养 个人的&gt;&gt;
**信息管理的视角
***技术的
***经济的
***行政法律的
***人文的
**ILM
***[[六阶段|xinxishengmingzhouqi.png]]</pre>
</div>
<div title="信息管理沿革问题" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="cc7a8ae1ebf216d8bddea2e9ac7e3697c5f4881f" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86%E6%B2%BF%E9%9D%A9%E9%97%AE%E9%A2%98/1188357:80620b58f013ec677b89e1a52f1397703a96a598&quot;" server.page.revision="1188357" server.title="信息管理沿革问题">
<pre>**传统管理阶段
**技术管理阶段
**资源管理阶段
**知识管理阶段</pre>
</div>
<div title="信息管理课题" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="328e27f674be347efe03579a2faaa02ab7070712" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86%E8%AF%BE%E9%A2%98/1188358:ae7f1d35ccf3d59a90fd1a6ca24a0fe66244d8d0&quot;" server.page.revision="1188358" server.title="信息管理课题">
<pre>一个管理系统的两个基本部分是管理者被管理对象，而建立管理者与被管理对象之间联系的正是信息。

我们从&lt;&lt;slider ChkSlider 管理中的信息图 这张图&gt;&gt;中可以看出，目标、指令、状态包括对管理者的各种干扰因素，都是以信息的形式存在。

正是这些信息构成了管理者与被管理者之间所有的关系。同时，管理也正是通过这些信息才得以实现的。 

由此我们可以确定[[信息在管理中的地位和作用]]</pre>
</div>
<div title="信息系统建设" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="a8baac72140ddd9af605c60483271b61a8f09b1c" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E7%B3%BB%E7%BB%9F%E5%BB%BA%E8%AE%BE/1188359:ae41d85a8875fd8f7deeba5022bd2a179fb12175&quot;" server.page.revision="1188359" server.title="信息系统建设">
<pre>各位的MIS课程讲解得比较详细了</pre>
</div>
<div title="信息经济研究" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="a82c3e11ba481b198aaec2b5e92544d8e837552e" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E7%BB%8F%E6%B5%8E%E7%A0%94%E7%A9%B6/1188360:dae136e28bc9064d867981215d02024a998f0e0a&quot;" server.page.revision="1188360" server.title="信息经济研究">
<pre>信息经济学的研究
马费成的《信息经济学》
[[关于信息经济学的争论|data/20091012000324/index.html]]</pre>
</div>
<div title="信息论" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="808b3477036ee915ff4fa9333359fcbe1ceb6566" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E8%AE%BA/1188361:1b4f60f33348dfe35de99491105b2172ec458580&quot;" server.page.revision="1188361" server.title="信息论">
<pre>!信息论三个发展阶段：
　　@@color(red):第一个阶段是狭义信息论。@@即香农创立的信息论。香农信息论以通信系统模型为对象，以概率论和数理统计为工具，主要研究通信过程中消息的信息量、信道容量和消息的编码等问题。它只是对信息的符号作定量的描述，而不考虑信息的意义和效用方面的问题，这是香农信息论的不足之处。
　　@@color(red):第二个阶段是一般信息论。@@这种信息论虽然主要还是研究通信问题，但是新增加了噪声理论，信号的滤波、检测、调制解调，以及信息处理等问题。
　　@@color(red):第三个阶段是广义信息论。@@它是随着现代科学技术纵横交错的发展而逐渐形成的。它的主要内容&lt;&lt;slider chkSlider 广义信息论内容 包括纵向和横向两个方面。&gt;&gt;
　　</pre>
</div>
<div title="信息资源分布的非均衡性导致的稀缺" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="92da28459ae0b462fc1ccb02c73f145f5328be27" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E8%B5%84%E6%BA%90%E5%88%86%E5%B8%83%E7%9A%84%E9%9D%9E%E5%9D%87%E8%A1%A1%E6%80%A7%E5%AF%BC%E8%87%B4%E7%9A%84%E7%A8%80%E7%BC%BA/1188363:3b7ce9b4d9af609bcdfa920027a315eaf802f40b&quot;" server.page.revision="1188363" server.title="信息资源分布的非均衡性导致的稀缺">
<pre>非均衡性是指信息资源在分布上的集中，从地理分布看，集中在发达国家，集中在发达地区。从个体看，不同人群间的信息资源分布也是不均衡的。 我们可以看看几个&lt;&lt;slider chkSlider 信息资源分布非均衡的实例 信息资源分布非均衡的实例&gt;&gt;
</pre>
</div>
<div title="信息资源分布非均衡的实例" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="9c4b8bd35dfe8d952f37292e98843382db8173f7" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E8%B5%84%E6%BA%90%E5%88%86%E5%B8%83%E9%9D%9E%E5%9D%87%E8%A1%A1%E7%9A%84%E5%AE%9E%E4%BE%8B/1188362:c95133a56d35ea6f9440d58c91ea620576374c9d&quot;" server.page.revision="1188362" server.title="信息资源分布非均衡的实例">
<pre>① &lt;&lt;slider chkSlider 数字鸿沟 数字鸿沟&gt;&gt;
② &lt;&lt;slider chkSlider 信息分化 信息分化&gt;&gt; 
③ &lt;&lt;slider chkSlider 马太效应 马太效应&gt;&gt;
</pre>
</div>
<div title="信息资源利用法律规范" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="5262ef837b9013b30347782e2a7af31aeb75609f" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E8%B5%84%E6%BA%90%E5%88%A9%E7%94%A8%E6%B3%95%E5%BE%8B%E8%A7%84%E8%8C%83/1188364:ebf0aba5abf00324cb2bc829ce7ab1f3e6f1d723&quot;" server.page.revision="1188364" server.title="信息资源利用法律规范">
<pre>在信息资源利用方面，最为关键的、问题最多的就是知识产权的问题。这里重点关注互联网络上的知识产权问题的解决方案：[[创作共用。|20081103020155/index.html]]创作共用[[从两个方面来理解|2008-11-03_021631.jpg]]。
</pre>
</div>
<div title="信息资源的体系" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="cd3a97d0b0bf441c3484a6d9522d2b65981fef80" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E8%B5%84%E6%BA%90%E7%9A%84%E4%BD%93%E7%B3%BB/1188365:9b5493f63795b9ffd4428fc0f740fadd9b3a24ca&quot;" server.page.revision="1188365" server.title="信息资源的体系">
<pre>[img[xinxiziyuantixi.JPG]]</pre>
</div>
<div title="信息资源的分类" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="257d23238c6b0bca9fc40f740f4ebad2a37a0410" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E8%B5%84%E6%BA%90%E7%9A%84%E5%88%86%E7%B1%BB/1188368:ff9077307085e52bb6c1828823d3e61a4a9c26db&quot;" server.page.revision="1188368" server.title="信息资源的分类">
<pre>#@@color(#3300cc):以开发程度为依据，可以划分为潜在的信息资源和现实的信息资源。@@ 
**潜在的信息资源是指个人在认知和创造过程中存储在大脑中的信息资源，易于忘却，且无法为他人使用；
**现实的信息资源是指潜在信息资源经过个人表述后能够为他人所利用的信息资源。 
#@@color(#3300cc):现实的信息资源以表述方式为依据，可以划分为口语信息资源、体语信息资源、文献信息资源、实物信息资源和网络信息资源。 @@
**口语信息资源是人类以口头语言所表达出来而未被记录下来的信息资源。 
**体语信息资源是人类以手势、表情、姿态等方式表达出来的信息资源。
**文献信息资源是以语言、文字、数据、图像、声频、视频等方式记录在特定载体上的信息资源。
**实物信息资源是人类通过创造性的劳动以实物形式表达出来的信息资源。
**网络信息资源是指因特网、外联网和内联网上处于流动状态的信息资源，其中，外联网是指一个组织与其他合作伙伴之间通过专用电话线、数据封装技术或互联网建立的能够有限共享的网络，内联网是指一个组织通过防火墙与因特网相隔离的内部专用网络。</pre>
</div>
<div title="信息资源的特性" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="0fbf5ecaac93545394a7eeec62bbe09903194354" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E8%B5%84%E6%BA%90%E7%9A%84%E7%89%B9%E6%80%A7/1188366:8f78f33bc1c801c638be37564c43d6fe238ad2ac&quot;" server.page.revision="1188366" server.title="信息资源的特性">
<pre>关于性质不同的人从不同的角度可以总结出N种特性，所以作为学者一不小心就容易演变为“性“学家或者“化”学家。
*信息资源的自然特性：
**非物质性
**易流动性
**可再生性（数量上的无限性）
**易转换性
**易分享性
**质量差异性
**意义多样性
*信息资源的经济特性
**效用性
**供给稀缺性
**成本特殊性（生产成本高，复制成本底）
**体验性
我们重点看看[[稀缺性]]。
</pre>
</div>
<div title="信息资源稀缺的讨论" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="f48767f345d13c169e0aae71cde98d397da99f87" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E8%B5%84%E6%BA%90%E7%A8%80%E7%BC%BA%E7%9A%84%E8%AE%A8%E8%AE%BA/1188367:02691c79ef1433a6621a505def8fe496c7e39e54&quot;" server.page.revision="1188367" server.title="信息资源稀缺的讨论">
<pre>*&lt;&lt;slider chkSlider 注意力稀缺 注意力稀缺&gt;&gt;
*&lt;&lt;slider chkSlider 信息资源质量与数量上的稀缺 信息资源质量与数量上的稀缺&gt;&gt;
*&lt;&lt;slider chkSlider 信息资源分布的非均衡性导致的稀缺 信息资源分布的非均衡性导致的稀缺&gt;&gt;</pre>
</div>
<div title="信息资源管理" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="5112a988cc3508f64b37ef90dbb54f45c9041fa1" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86/1188369:fad06918465108f28996ad1e1605a0898dfd9f6e&quot;" server.page.revision="1188369" server.title="信息资源管理">
<pre>逻辑发展过程：

OR——》MIS——》IRM

狭义的管理科学（运筹学/OR）理论在促进管理理论的定量化与科学化方面做了大量的工作，但它过于强调定量技术而忽略管理中实际存在的问题，客观上有一定的局限性。
      
管理信息系统（MIS）由于过分依赖于电子计算机这一现代化手段而忽视人的作用也未能在管理领域发挥更大的作用。

超越管理信息系统而兼及定性与定量分析、强调对信息资源进行全面系统管理的信息资源管理（IRM）就成为当今管理领域的一种发展潮流。
</pre>
</div>
<div title="信息资源管理导论封面" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201409110433" _hash="986a17c6f2f75601d9de7c29e97a9bcc8e198222" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E5%AF%BC%E8%AE%BA%E5%B0%81%E9%9D%A2/1884194:a12317376fc98292b316c7f03b91b44111bee499&quot;" server.page.revision="1884194" server.title="信息资源管理导论封面">
<pre>[img[信息资源管理导论（第三版）的封面|http://inforabbi.opendrive.com/files/Ml82Mzc2ODI4MV92bGVwMw/s2997162.jpg]]</pre>
</div>
<div title="信息资源质量与数量上的稀缺" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="f030e5897a4e5f45a83a350dd5135bf59c659d28" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E8%B5%84%E6%BA%90%E8%B4%A8%E9%87%8F%E4%B8%8E%E6%95%B0%E9%87%8F%E4%B8%8A%E7%9A%84%E7%A8%80%E7%BC%BA/1188370:ac252f2ee62a88f4e331260bc20e4c9ed6ff1685&quot;" server.page.revision="1188370" server.title="信息资源质量与数量上的稀缺">
<pre>对于信息资源利用者的需求而言的， 是质上的稀缺，而非量上的稀缺。
&gt;据统计，全世界每年出版近 70万种期刊，60 多万种新书，新增期刊近万种，发表科技文献 500 多万篇，编写学术报告、学位论文 25 多万份等，这些统计数字还没有包括因特网上流动的、数以亿计的各种信息。</pre>
</div>
<div title="信息采集的政策法律" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="18774dc9d7ec144186e0df9805617ca6714003a9" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E9%87%87%E9%9B%86%E7%9A%84%E6%94%BF%E7%AD%96%E6%B3%95%E5%BE%8B/1188376:c38311bc6d10e11e4dff6a9a1525582bb0b6cae3&quot;" server.page.revision="1188376" server.title="信息采集的政策法律">
<pre>*政府信息采集法律规范
*大众信息采集法律规范
*商业性机构信息采集法律规范
*公益性机构信息采集法律规范
*公民个人信息采集法律规范
看看[[最新的案例|data/20101013153300/index.html]]
</pre>
</div>
<div title="信息革命/进化" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="9d15afb6bcb8e780f72f4079e6bbb384dc4f26d4" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E9%9D%A9%E5%91%BD%2F%E8%BF%9B%E5%8C%96/1188371:9ce80b27de344ca7a1edffef60f7857b912b3d9d&quot;" server.page.revision="1188371" server.title="信息革命/进化">
<pre>&lt;html&gt;
&lt;object height=&quot;350&quot; width=&quot;500&quot; codebase=&quot;http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,29,0&quot; classid=&quot;clsid:D27CDB6E-AE6D-11cf-96B8-444553540000&quot;&gt; &lt;param value=&quot;Flvplayer.swf?vcastr_file=Information Revolution.flv&quot; name=&quot;movie&quot; /&gt; &lt;param value=&quot;high&quot; name=&quot;quality&quot; /&gt; &lt;param value=&quot;true&quot; name=&quot;allowFullScreen&quot; /&gt; &lt;embed height=&quot;350&quot; width=&quot;500&quot; type=&quot;application/x-shockwave-flash&quot; pluginspage=&quot;http://www.macromedia.com/go/getflashplayer&quot; quality=&quot;high&quot; allowfullscreen=&quot;true&quot; src=&quot;Flvplayer.swf?vcastr_file=Information Revolution.flv&quot; /&gt;
&lt;/html&gt;</pre>
</div>
<div title="信息饥渴一书" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201409110436" _hash="3fcb2105478cf4de4553a3ca15323ecc7a9e1f95" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E4%BF%A1%E6%81%AF%E9%A5%A5%E6%B8%B4%E4%B8%80%E4%B9%A6/1884200:9b28b503d606528055070212b9afcb55d119948a&quot;" server.page.revision="1884200" server.title="信息饥渴一书">
<pre>[img[信息饥渴一书的封面|http://inforabbi.opendrive.com/files/Ml82Mzc2ODI2OF9qOG51eQ/s1486792.jpg]]</pre>
</div>
<div title="克罗宁（B.Cronin）和达文波特（E.Davenport）的信息管理理论" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="5af2d3af3233d668a0fd67b5bd322eab6ff681e1" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%85%8B%E7%BD%97%E5%AE%81%EF%BC%88B.Cronin%EF%BC%89%E5%92%8C%E8%BE%BE%E6%96%87%E6%B3%A2%E7%89%B9%EF%BC%88E.Davenport%EF%BC%89%E7%9A%84%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86%E7%90%86%E8%AE%BA/1188375:b6b06ce555ab4eadd45f01287915fcaf6ea7c828&quot;" server.page.revision="1188375" server.title="克罗宁（B.Cronin）和达文波特（E.Davenport）的信息管理理论">
<pre> 克罗宁与达文波特于1991年合作出版的《信息管理的要素》（Elements of Information Management）[28]开拓了信息资源管理理论研究的新领域。克罗宁供职于美国印地安纳大学图书馆和情报学院，达文波特执教于苏格兰斯特拉斯克莱德大学情报科学系，他们不满足于现有的理论思维和探索，试图从直觉入手，运用模型、隐喻和相关的方法论，剖析信息管理的深刻内涵，并使之上升到一般理论的层次。该书仅分5章，内容包括：模型、隐喻与转喻；激活财产；价值分析；竞争优势；商品与市场。
    克罗宁和达文波特认为，迄今为止的信息资源管理理论多少都带有形式主义的特征，为了克服这种理论通病，他们放弃运用观察和统计解释方法而代之以直觉和模型方法，他们强调隐喻这一造模要素在信息管理理论中的重要性，更关心认知和概念层次的信息管理和信息本身。在他们看来，大家都是信息管理者，“当你储存、归档和参考那些构成你的公民和法律身份的纪录（如保险号码，医疗卡片，出生，婚姻与死亡证明，抵押文献，地契等）时，你就在扮演信息管理者的角色。”而信息之所以能够被管理是因为它可以模型化。他们进一步归纳了信息管理中的三种模型：隐喻模型是根据源事物描述目标事物的方法，常见的隐喻包括资源、武器、资产、财产、商品等；转喻模型是以部分代表整体的方法，常用的转喻包括肖像、关键词、文摘、概要、屏幕菜单等；分类模型基于共同的明显的因素来约束分离的实体，常用的分类方法包括等级分类、综合分类、语义网、图形理论、结群分类等。模型方法能够帮助我们理解周围的世界，有助于我们把握各个学科领域的概念结构。究其实，克罗宁和达文波特的模型和隐喻方法是从已有概念所蕴含的丰富的语义内容来推知、建立理论模型的方法，这是一种需要想象和创见的方法。
    信息财产是信息管理的一个重要概念，套用上述模型，它属于隐喻式模型。作者认为，信息财产是在特定情境中实现模型化的，具体的情境有很多种，但他们主要考察了企业、政府、大学和图书馆四种情境，，并运用2×2矩阵表逐一分析了这四种情境中信息财产的表现形式、类型和如何激活这些财产的方法。以图书馆为例，其信息财产可以概括为藏书、不动产、职业技术、信誉、技术基础和继承物六种主要类型，这些财产有可归入财产矩阵模型中进行分析（见图2.5）；作者认为，由于缺乏生产、包装、分配、营销等有效手段，图书馆的财产只是一种静态的财产，我们必须运用财产管理战略才能激活这些财产，这些战略包括转让、出租、特许经营、合同承包、重新估价和开发等。
    信息价值是与信息财产相关的概念，从某种意义上说，价值是财产的内涵，没有价值的事物不可能成为财产。作者认为，信息只有在适合当前任务或出境时才有价值。信息价值有实际价值和符号价值之分，例如，商标和产品就分别对应着信息的符号价值和实际价值。在现有信息资源管理理论中，测度信息价值的常用方法是研究信息与生产率的关系，但其结果往往缺乏说服力，为此，作者发展了情境——模式——焦点相结合的信息价值三维研究模型，这可看作是信息价值分析方法的一种突破。
    因为信息可转换为一种有价值的财产，所以它能帮助以个人、一个组织乃至一个国家确立竞争优势。从一般意义上讲，竞争优势源于超人的力量、神经和健康，源于对竞争对手优势和不足的洞察，源于对竞争意图的理解和追随，源于为取胜而又不犯规的小动作，源于联盟。从信息管理的角度而言，竞争优势主要源于对内、外部信息的分析、综合和管理。如果说竞争是一个游戏的过程，那么这种游戏是在战略层次上进行的，信息有助于竞争者理解自己自己扮演的角色，了解游戏规则和仲裁者，了解游戏本身和游戏工具等，而这些都是集聚竞争优势并确保竞争获胜的重要前提。
    竞争本身为信息商品的出现创造了前提，“信息商品是直接或间接地在信息市场中买卖的信息财产、价值和竞争的统一体。”信息产品（书籍、杂志、软件包等）、信息服务（联机检索、信息咨询和分析、图书馆服务等）、信息软产品（专利、配方、厨房、设计、商标等）、信息资产（计算机及其配件、计算机外围设备等）、信息渠道（商业网络、广播、有线电视等）皆可称为信息商品。当然，在许多情境中，信息还不是商品；但如果信息管理者不是讲信息管理看作一种支持式服务或高高在上的服务，而是将信息管理置于开放的市场中加以发展，那么更多的信息资源将变为信息商品。
    克罗宁和达文波特的信息管理理论是一种0艰深的理论，它运用直观的而非实证的方法进行分析和推导，其理论深度和高度都是其它信息资源管理理论难以企及的。尤为难能的是，它完全超越了多年来形成的具体的信息行业及其观念的约束，在一般理论层次上发展了信息管理理论，因此具有普遍的指导意义。诚然，该理论也有曲高和寡、晦涩难懂、过于抽象、实证不足等缺陷，但作为哲学意义上的信息管理理论，其体系和方法地确立是成功的，它也可以称为信息资源管理的经典之作。 </pre>
</div>
<div title="免费学术信息资源" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="f61d3c9ac12d40eb974937f471ad4380dda06953" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%85%8D%E8%B4%B9%E5%AD%A6%E6%9C%AF%E4%BF%A1%E6%81%AF%E8%B5%84%E6%BA%90/1188374:2d00ac252218005b05165991e77acfd3f08f9df8&quot;" server.page.revision="1188374" server.title="免费学术信息资源">
<pre>*OA信息资源
*政府出版物
*公共版权资源
*其他免费资源</pre>
</div>
<div title="兩張圖" creator="inforabbi" modifier="inforabbi" created="201311070535" modified="201312181654" _hash="f1ef12b2c18093d6b305f8b7738921bafce22cc4" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%85%A9%E5%BC%B5%E5%9C%96/1599901:f10702c887974fad02d30c7fb754196e124b7341&quot;" server.page.revision="1599901" server.title="兩張圖">
<pre>[img[http://inforabbi.opendrive.com/files/Ml8zMTM0OTYxNl9taVN1Tg/qiancengwang.JPG]] [img[http://inforabbi.opendrive.com/files/Ml8zMTM0OTYyMF94RFJOeQ/shencwjiansuo.jpeg]]</pre>
</div>
<div title="关于MOOCS" creator="inforabbi" modifier="inforabbi" created="201312111526" modified="201312111526" _hash="4474d8ad742a10f31d8b626720d6300fc1022af5" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%85%B3%E4%BA%8EMOOCS/1590827:cc55426858151a073dd654f4d39c8b794bf50903&quot;" server.page.revision="1590827" server.title="关于MOOCS">
<pre>&lt;html&gt;&lt;p&gt;&lt;strong&gt;Please include attribution to OnlineColleges.net with this graphic.&lt;/strong&gt;&lt;br /&gt;&lt;br /&gt;
&lt;a href=&quot;http://www.onlinecolleges.net/2013/02/18/the-dark-side-of-moocs/&quot;&gt;&lt;img src=&quot;http://www.onlinecolleges.net/wp-content/uploads/2013/02/Dark-Side-of-MOOCs-800.png&quot; alt=&quot;The Dark Side of MOOCs&quot; width=&quot;500&quot; border=&quot;0&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&lt;/HTML&gt;</pre>
</div>
<div title="关于Tiddlyspace使用" creator="inforabbi" modifier="inforabbi" created="201310231618" modified="201509211616" _hash="bb03fa8d7d8dbbd2769a96caa68ccfe1b0fb390e" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%85%B3%E4%BA%8ETiddlyspace%E4%BD%BF%E7%94%A8/2343799:982ecdab6c8dbab48677d87191d1946fe00e5284&quot;" server.page.revision="2343799" server.title="关于Tiddlyspace使用">
<pre>*[[Tiddlyspace主页|http://www.tiddlyspace.com]]
*Tiddlyspace本身不支持个人文档存储，所以要利用其他存储空间，利用外链来应用。
&gt;比如使用这个存储空间（点击进去后注册）：&lt;html&gt;&lt;a href=&quot;http://www.opendrive.com&quot;&gt;&lt;img src=&quot;https://od.lk/s/Ml8xMDE0NjU4ODFf/opendrive.png&quot; border=&quot;0&quot; width=&quot;170&quot; height=&quot;40&quot; title=&quot;OpenDrive - Online storage, backup and cloud content management&quot;&gt;&lt;/a&gt;&lt;/html&gt;
*Tiddlyspace的基础：&lt;&lt;slider chkSlider 有关tiddlywiki的资源 tiddlywiki资源&gt;&gt;</pre>
</div>
<div title="关于信息的定义" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="85af1bb877348237e8781ccf2f9bb95e91dd4f5f" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%85%B3%E4%BA%8E%E4%BF%A1%E6%81%AF%E7%9A%84%E5%AE%9A%E4%B9%89/1188378:081de55a9d15c3401b900ef068c73d2284cf5b1b&quot;" server.page.revision="1188378" server.title="关于信息的定义">
<pre>#什么是信息？
##先看一首古诗：&lt;&lt;slider chkSlider 唐李中的诗 《暮春怀故人》&gt;&gt;，实际上，在中国古代的诗词曲赋中''信息''一词多次出现，大家可以自己去检索一下。而且李中据说也不是第一个在诗词中使用''信息''一词的人。在他之前的&lt;&lt;slider chkSlider 杜牧的诗 杜牧&gt;&gt;就已经使用过了。&lt;&lt;slider chkSlider 古代信息总结 总结&gt;&gt;
##在今天的信息时代，我们所要掌握的信息一词则是来源于拉丁文的Information，同时，该词的英文（Information）、法文（l'information）、德文（Informationen）以及西班牙文（información）中都是同一个字。
#各种定义
##信息的定义多达几十种，但是我们只需从自身的理解与需求掌握一种即可。我们看看多样化的&lt;&lt;slider chkSlider  各种信息定义 定义&gt;&gt;
##DIKW体系。从上述众多概念中的表述中我们可以看到，要准确把握信息的内涵并不是一件简单的事情，并且也没有定论，不过，我们已经可以发现，这其中的几个关键要素的把握是十分关键的，这也是&lt;&lt;slider chkSlider DIKW信息金字塔 DIKW体系&gt;&gt;所要探讨的。
##2003年，美国国家科学基金会发表了一份题为《[[Knowledge Lost In Information|Knowledge Lost in Information.pdf]]》的研究报告，这份报告对数字图书馆的发展进行了研究，阐述了数字时代的网络基础设施的建构。我们这里重点关注一下该报告的题目，它为什么用了这样一个题目呢？&lt;&lt;slider chkSlider 关于知识迷失的趣事 Knowledge-Lost-In-Information&gt;&gt;
##关于DIKW体系和其描述，请参考这两篇文献：
***[[The Origin of the “Data Information Knowledge Wisdom” Hierarchy|6929/dikw_origin.html]]（[[来源|http://www-personal.si.umich.edu/~nsharma/dikw_origin.htm]]）
***[[Where is the information we have lost in data?|3177/20vittal.html]]（[[来源|http://www.rediff.com/computer/oct/20vittal.htm]]）
#我们要了解书上所界定的本专业对于信息的定义。
##企业管理界P14
##信息管理界P16
#信息的常见分类P16
#信息的作用P17
##现代管理中
##科学决策中


</pre>
</div>
<div title="关于信息的问题" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201508301754" _hash="713c00afc158429d5c45ce7d37686ffb7ff89581" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%85%B3%E4%BA%8E%E4%BF%A1%E6%81%AF%E7%9A%84%E9%97%AE%E9%A2%98/2322952:2f931fe3d7b237b5451644b74cef00cfa4914763&quot;" server.page.revision="2322952" server.title="关于信息的问题">
<pre>*信息的&lt;&lt;slider chkSlider 信息的概念 概念&gt;&gt;
**信息金字塔：&lt;&lt;slider chkSlider DIKW信息金字塔 DIKW体系&gt;&gt;
**概念：
***通信领域
***生命科学领域
***科技工作领域
***经济活动领域
***哲学领域
**定义
***一般意义
***本体论层次
***认识论层次
**特征
***信息存在的普遍性和客观性
***信息产生的广延性和无限性
***信息在时间和空间上的传递性
***信息对物质载体的独立性
***信息对认识主体的相对性
***信息对利用者的共享性
***信息的不可变换性和不可组合性
***信息产生和利用的时效性
**分类
***按信息描述的对象划分，可分为自然信息、生物信息、机器信息和社会信息。
***按信息的性质划分，可分为语法信息、语义信息和语用信息。
***从利用者观察的角度和过程划分，可分为实在信息、先验信息和实得信息。
***按信息的传递方向划分，可分为纵向信息、横向信息和网状信息。
***按信息的内容划分，可分为经济信息、科技信息、政治信息、文化信息、政策法规信息、娱乐信息等等。
**信息链
***F
***D
***I
***K
***W</pre>
</div>
<div title="关于托马斯·达文波特" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="225e4c3cbb07d73fb42f8ae412fb0f3e3a788b1f" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%85%B3%E4%BA%8E%E6%89%98%E9%A9%AC%E6%96%AF%C2%B7%E8%BE%BE%E6%96%87%E6%B3%A2%E7%89%B9/1188379:13471575dfc7fe24cbeec1f8d77fa47c55400899&quot;" server.page.revision="1188379" server.title="关于托马斯·达文波特">
<pre>@@color(#3300ff):　　虽然托马斯·达文波特(Thomas H. Davenport)从未赢得像迈克·哈默与詹姆斯·钱皮那样的声誉，但他提出的流程再造、知识管理、企业体系等概念，整整影响商界25年，是新兴知识管理运动的缔造者之一。

　　托马斯·达文波特，哈佛大学哲学博士，曾先后任教于哈佛商学院、芝加哥大学、波士顿大学和巴布森管理学院。此外，他还曾任埃森哲战略变革研究主任、常务董事。1983年起，达文波特开始介入商业研究领域，并在90年代初和迈克·哈默以及詹姆斯·钱皮创造了曾经风靡一时的理论——流程再造理论。

　　真正让达文波特享誉全球商业管理界的，是他在互联网兴起时期提出的“注意力经济”概念。2002年9月，达文波特与同事约翰·贝克合作推出《注意力经济》一书，他认为，企业的组织目标影响着管理层的注意力分布和注意力的有效使用，而经理人决定并引导着员工注意力的集中和分散，从事销售和服务的员工决定着客户注意力的方向和密集程度。因此，他建议，好的企业使命可以导致良好的管理层使用其注意力，好的中层管理体系可以发挥员工的注意力，并提高他们注意力产出的生产力，而好的员工执行能力和理解能力又决定和影响着客户的注意力和对企业的忠诚度。

　　达文波特的《注意力经济》被誉为是从“知识时代”到“注意力时代”的开创性著作。它首次探索了正在蓬勃发展的注意力经济，并且勾画出一个组织如何应对它的计划。

　　继《注意力经济》之后，达文波特又推出对企业界有深远影响的作品《最优理念》。知识经济时代，新型管理理念越来越多，如何选择适合自己公司的理念并进行管理，对于大多数企业管理者来说，都是个新的课题。该书确立了一套行之有效的方法，还揭示了最杰出公司基业长青的理念秘诀：永远没有世界通用的最好理念，只有最合适的理念。

　　达文波特一生勤于著述，从1992年开始写《流程再造》起，陆续撰写出大量有关企业知识管理，以及信息技术应用层面上的专著。1997年推出《信息生态学》，2000年又相继推出《危急使命》、《优化信息管理》和《工作知识》。此后的《注意力经济》和《最优理念》两部巨著，更为他在管理学界奠定了坚实的地位。此外，他还著有《关键任务：让企业系统的承诺成真》、《流程创新》、《知识管理案例手册》等书，2005年9月，其最新著作《思考为生：如何从知识工作者身上获得更好的绩效和成果》出版。

　　2003年，达文波特被权威的《咨询师》杂志评选为全世界“最顶尖的25名咨询师”之一。 @@</pre>
</div>
<div title="关于知识迷失的趣事" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="a5419f368ecd827614d61123c0e9252707e8a652" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%85%B3%E4%BA%8E%E7%9F%A5%E8%AF%86%E8%BF%B7%E5%A4%B1%E7%9A%84%E8%B6%A3%E4%BA%8B/1188385:0b97d0bcb866885c84be6ae02d2537ae8e83c4e0&quot;" server.page.revision="1188385" server.title="关于知识迷失的趣事">
<pre>@@color(#6600ff):据说，最早讨论数据、信息、知识与智慧之间的关系的人，不是知识管理专家，也不是计算机科学家，而是美国著名诗人 T.S. Eliot，Eliot是谁？[[自己search|7283/search.html]]。那么艾略特是&lt;&lt;slider chkSlider 艾略特的Rock 怎么说的呢？&gt;&gt;
            
            


@@</pre>
</div>
<div title="关于语法信息、语义信息和语用信息" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="413f4e8798ff626c5527cd208bece0b635d4909c" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%85%B3%E4%BA%8E%E8%AF%AD%E6%B3%95%E4%BF%A1%E6%81%AF%E3%80%81%E8%AF%AD%E4%B9%89%E4%BF%A1%E6%81%AF%E5%92%8C%E8%AF%AD%E7%94%A8%E4%BF%A1%E6%81%AF/1188380:62231472d94a35eae3b74a922f0e6fb44fb6014d&quot;" server.page.revision="1188380" server.title="关于语法信息、语义信息和语用信息">
<pre>@@color(blue):语法信息，即主体所感知或表述的事物运动状态和方式的形式化关系，这是最低层次的认识论信息；语义信息，即主体所感知或表述的事物运动状态和方式的逻辑含义，这是较高层次的认识论信息；语用信息，即主体所感知或表述的事物运动状态与方式相对于某种目的的效用，这是最高层次的认识论信息。一般说来，语法信息、语义信息和语用信息是密切相关的，不可能撇开其中的一个方面而孤立地研究其它方面；当认识和研究一个事物时，人们多是遵循从语法、语义到语用的认识顺序。@@看看&lt;&lt;slider chkSlider 语言学上的语法、语义、语用 通俗的语言学上的说明&gt;&gt;</pre>
</div>
<div title="博蒙特（J.R.Beaumont）和萨瑟兰（E.Sutherland）的信息资源管理理论" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="d8eb7f53a5ad169a714fa73329af89c704313590" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%8D%9A%E8%92%99%E7%89%B9%EF%BC%88J.R.Beaumont%EF%BC%89%E5%92%8C%E8%90%A8%E7%91%9F%E5%85%B0%EF%BC%88E.Sutherland%EF%BC%89%E7%9A%84%E4%BF%A1%E6%81%AF%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E7%90%86%E8%AE%BA/1188381:352f186ec0b81724e56446f43f0746b6f00cba0b&quot;" server.page.revision="1188381" server.title="博蒙特（J.R.Beaumont）和萨瑟兰（E.Sutherland）的信息资源管理理论">
<pre> 博蒙特和萨瑟兰于1992年出版的《信息资源管理》（Information Resources Management）[5]是为工商管理领域的管理者和工商管理硕士（Master of Business Administration,MBA）所提供的理论武器。全书共分九章，内容如下：变化中的商界，我们的组织机构将走向何方，信息产业及其变化中的性质，在信息时代从商，计算机信息系统，信息系统战略与实施，我们能够对付吗，汇报是什么信息资源管理。
    博蒙特和萨瑟兰的《信息资源管理》成书于90年代初，是作为“当代商业丛书”的一种出版的，它所选择的副标题“基于知识的社会和经济的管理 ”（management in our knowledge-based society and economy）表明本书作者对即将来临的新一轮信息热潮——信息高速公路热潮——以有所觉察和认识。作者认为，以往的信息资源管理著作都是从技术的角度强调信息和通信技术（ICT）的重要性，而未能捕捉商界重的现实问题并理解信息和通信技术所提供的机会，为此，作者更多地是从管理的角度来认识信息资源管理，来考察信息合同新技术的利用怎样影响一个组织机构并进而影响商业运行和竞争的。
    博蒙特和萨瑟兰的信息资源管理理论大致可分为两大部分：前三章以理论分析为主，重点论述了90年代急剧变化的社会、经济和技术环境，工商企业的战略定位，新兴的信息产业及其服务于产品等内容。后刘章以应用分析为主，重点论述了信息时代工商管理的独特性质，不同类型的信息系统（包括管理信息系统、办公信息系统、决策支持系统、基于知识的系统、组织机构内系统等），信息系统的规划、设计和安全保障，人力资源管理与企业文化，信息投资的回报，新兴管理实践等内容。作者认为，90年代工商企业所面临的时日以信息化的社会与经济环境，任何企业都不可能回避信息和通信技术的全面影响，但技术的因素并非决定因素，最终的决定力量仍是人——第一流的管理这才是最稀缺的资源，他们是信息时代商战的弄潮儿。
    博蒙特和萨瑟兰对信息资源管理的理解也有独到之处。他们认为，信息资源管理是一个集合名词，它包括所有能够确保信息利用的管理活动，其管理对象则包括所有类型的数据、号码、文本、视象、声音和各种不同的信息与通信技术。他们还认为，信息资源不同于企业资源，它只是企业资源的一部分，其核心是由信息和通信技术所组成的技术平台（见图2.8），这个平台用于获取、存储、处理、分配和检索数据；而在企业的所有活动中，信息资源管理作为整体又起着相当于“平台”的作用，所有其它活动都是在这个平台上进行的（见图2.9）。就信息资源管理所包容的知识领域而言，它涉及如何应用信息和通信技术获取竞争优势的商业知识、信息经济如何改变市场的经济学知识、信息和通信技术如何影响法律框架的法律知识、信息和通信技术的应用与发展趋势方面的技术知识等，这无疑是一个综合应用的知识领域。
    博蒙特和萨瑟兰是管理学专业教师，他们长期为管理学专业的本科生、研究生和MBA讲授信息资源管理方面的专业课程，同时又在各种企业中从事过管理咨询和实际工作，足迹遍及英国、美国和欧洲。他们丰富的经理和经验一方面有助于他们了解管理领域的最新变化和工商管理者的真实需求，另一方面又有助于理论与实践的相互引证和结合，有助于提高他们的理论品位。在他们的专著中，每一章开篇都提出本章的“学习目的”，稳重则穿插大量的案例分析，末尾又列出复习题、讨论体和“泛读材料”，这样不仅有利于读者自学，而且也满足了不同层次读者的需求，有效地扩展了其著作的信息容量。博蒙特和萨瑟兰要求读者阅读时思考这样一些问题：怎样理解一个组织机构的战略信息环节，怎样发展一个组织机构的“信息文化”，怎样确定管理决策的信息需求，怎样预测潜在的投资回报，怎样设计和完善信息系统，怎样诊断企业问题。其实，这些问题也是作者试图解答的问题。
    博蒙特和萨瑟兰的信息资源管理理论是一种高层次的应用管理理论，它对信息技术、信息资源及其管理、信息产业等问题的理解比之80年代的同类著作有明显的进步，在案例研究方面，它也有所突破。然而，该理论仍然是一种重技术的理论，未能对信息资源的建设予以更多的关注，也未能讲图书情报等职业信息资源管理部门纳入统一的信息资源管理框架，其应用范围因而更多地局限在工商管理领域。</pre>
</div>
<div title="古代信息总结" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="593f396dec063c415adb71841e1de7514aa4c554" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%8F%A4%E4%BB%A3%E4%BF%A1%E6%81%AF%E6%80%BB%E7%BB%93/1188386:f1f4ef15f31f0b51ab7d74d313565b393e9eeed9&quot;" server.page.revision="1188386" server.title="古代信息总结">
<pre>{{{
总结来看，古人所使用的信息一词的含义与我们今天所理解的
消息、音讯等没有太大的差别。
}}}</pre>
</div>
<div title="可汗的Ted演讲" creator="inforabbi" modifier="inforabbi" created="201509201825" modified="201509201825" _hash="b32e300cdf00d593a1efdc5b8a9116f25bf25d26" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%8F%AF%E6%B1%97%E7%9A%84Ted%E6%BC%94%E8%AE%B2/2342509:b7ded8af770c9c77e2644e267b110ffc333fff4b&quot;" server.page.revision="2342509" server.title="可汗的Ted演讲">
<pre>&lt;html&gt;&lt;object width=&quot;640&quot; height=&quot;360&quot;&gt;&lt;param name=&quot;movie&quot; value=&quot;http://swf.ws.126.net/openplayer/v02/-0-2_M77ESEJF8_M77ESRDC6-vimg1_ws_126_net//image/snapshot_movie/2013/12/C/L/M9F1O9BCL-1423031805654.swf?isTEDPlay=1&quot;&gt;&lt;/param&gt;&lt;param name=&quot;allowScriptAccess&quot; value=&quot;always&quot;&gt;&lt;/param&gt;&lt;param name=&quot;wmode&quot; value=&quot;transparent&quot;&gt;&lt;/param&gt;&lt;embed src=&quot;http://swf.ws.126.net/openplayer/v02/-0-2_M77ESEJF8_M77ESRDC6-vimg1_ws_126_net//image/snapshot_movie/2013/12/C/L/M9F1O9BCL-1423031805654.swf?isTEDPlay=1&quot; type=&quot;application/x-shockwave-flash&quot; width=&quot;640&quot; height=&quot;360&quot; allowFullScreen=&quot;true&quot; wmode=&quot;transparent&quot; allowScriptAccess=&quot;always&quot;&gt;&lt;/embed&gt;&lt;/object&gt;&lt;/html&gt;</pre>
</div>
<div title="台版译者的简体版前言" creator="inforabbi" modifier="inforabbi" created="201312111645" modified="201312111645" _hash="319cfb7e2513163044d77745cb374e171f5754d6" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%8F%B0%E7%89%88%E8%AF%91%E8%80%85%E7%9A%84%E7%AE%80%E4%BD%93%E7%89%88%E5%89%8D%E8%A8%80/1590956:b9d2c505c749fabd65c51168fe99b668055a7599&quot;" server.page.revision="1590956" server.title="台版译者的简体版前言">
<pre>【说明】这是我写的推荐序，收录在《Ambient Findability》简体中文版书中。

我的技术能力虽不差，但绝对不是最好的。许多技术能力比我好的人，却可能没有获得比我更好的机运。如果要我总结一下原因，我想他们的问题可能出在 findability 上。
 
findability 就是「被人找到的能力」。光靠能力说话是不够的。当别人根本接触不到你、听都没听说过你这个人的时候，他们怎能知道你的能力？这凸显出 findability 的重要性：先能被找到，然后才有机会。
 
在这个一切都泛滥的时代，除了人之外，公司、商品、手机应用 … 一切都需要 findability。手机应用刷榜，为的是 findability；歌手买榜，为的是 findability；网站做 SEO，为的是 findability；竞价排名，为的是 findability；就连用心经营微博粉丝，终究为的也是 findability。
 
我深知 findability 的重要性，所以当我得知《Ambient Findability》出版的时候，我主动跟出版社要求翻译这本书。我翻译的繁体中文版于 2006 年底出版。我想要翻译这本书的原因，除了主题让我感兴趣之外，作者也是一大诱因。
 
本书作者Peter Morville的专长是搜索，他最有名且最重要的书是《Information Architecture for the World Wide Web》，这本书是信息架构领域的基石。或许是为了走进普罗大众，PeterMorville 后来写的这本《Ambient Findability》改走广而泛的路线，没有太多技术与理论，一般人都可以阅读。不管你是在技术、营销、管理，或任何领域，这本书都适合你。
 
《Ambient Findability》是一本有趣的读物，但我必须提醒读者，这本书偏哲学，而不是偏技术。它会引起你的思考，但不会告诉你怎么做。如果你要的是一本行动指南，这本书并不适合。
 
哲学类的书有个特点：你可能读完之后发现自己完全没收获，或者收获很大，这是两个极端。而你会走向哪个极端，完全取决于你是不是能思考，并将书上说的一切与你的生活经验做一个对照。我希望你也跟我一样，让这本书引导你思考，结合你的环境与经验，触发你的行动。

蔡学镛
[[来源|http://www.aiweibang.com/yuedu/tech/148679.html]]</pre>
</div>
<div title="史密斯和梅德利的信息资源管理理论" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="9fdc75ec2e8777a8e4fe10e4ad2f1963db20a4cb" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%8F%B2%E5%AF%86%E6%96%AF%E5%92%8C%E6%A2%85%E5%BE%B7%E5%88%A9%E7%9A%84%E4%BF%A1%E6%81%AF%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E7%90%86%E8%AE%BA/1188387:9cdaab59a894ed1176847eb523ca973beda72b6c&quot;" server.page.revision="1188387" server.title="史密斯和梅德利的信息资源管理理论">
<pre> 史密斯和梅德利是美国加利福尼亚州的学者，史密斯是大西洋·里奇费尔德公司的信息系统主管，梅德利是加利福尼亚州立理工大学信息系统系主任，他们联手于 1987年出版的《信息资源管理》[2]可以说是继霍顿《信息资源管理》之后的有一部经典著作。该书共分4单元12章，内容如下：导论[（1）管理环境；（2）信息、知识与管理的关系；（3）信息资源管理的演化]、信息资源管理的原则[（4）信息资源管理的角色与社会学；（5）组织；（6）计划与控制；（7）信息资源管理的行为科学领域]、信息资源管理过程[（8）系统发展；（9）信息资源管理内部的安全与整合；（10）信息资源管理思想的交流；（11）信息资源管理中的人力资源管理]、信息资源管理的发展方向[（12）进展与趋势]。
    该书也是根据美国数据处理管理协会规定的“计算机信息系统本科教学计划模型”中CIS-15号课程（即“信息资源管理”）的要求编写的一种教材，与此相关，它非常注重系统性、完整性、理论性和可读性，在每一章开篇都给出文摘，末尾则列出思考题，深合教学之所需。与胡赛因的《信息资源管理》相比，史密斯和梅德利的理论有着长足的进步，它已不再是一种计算机资源管理，它将信息技术和信息系统建设等有机地融入了管理理论与实践的框架中，从而使“已拥有计算机知识和技能的人可借以把握一般管理的概念和职责，使一般管理学家可借以获取计算机专业知识，从而在整合的过程中形成真正的信息资源管理理论体系”。
    史密斯和梅德利的信息资源管理理论是从管理思想演变史的角度切入的。他们从最早的人类管理活动谈起，简略地追述了管理学思想的演变过程，剖析了现代管理所面临的新形势，并指明了信息资源管理出现的必然性[8]。随后，他们又从数据、信息、知识等基本概念入手，探讨了他们之间的相互关系及其对管理活动的影响 [26]，并由此转入信息资源管理及其演化过程的论述。作者认为，信息资源管理还是一个发展中的概念，它至少有两层含义：其一，信息资源管理将一个组织机构所拥有的信息等价于资本和人力资源，其实质是一种指导性的管理哲学；其二，信息资源管理将传统意义上的信息服务形式如通讯、办公系统、记录管理、图书馆功能和技术规划等整合起来，形成统一的管理过程，其实质是一种新的管理理论与实践；目前，信息资源管理正由管理哲学向管理过程理论发展。就信息资源管理本身的演化而言，它主要经历了五个阶段：数据处理（DP）阶段→信息系统（IS）阶段→管理信息系统（MIS）阶段→终端用户（end-user）阶段→信息资源管理（IRM）阶段；再次，信息资源管理体现了适合组织机构需求的多种技术的功能整合，它既包括信息技术的管理也包括信息内容的管理，已演变为与战略规划相对应的新型管理理论。
    史密斯和梅德利的信息资源管理理论非常注重管理理论与计算机信息系统理论的结合，这种结合似一根红线贯穿始终，形成了其理论体系的主旋律。首先，这种结合在实践部门产生了一种新的职位——首席信息官员或信息主管（CIO），这是企事业单位中仅次于总经理（chief executive officer, CEO）的新职位，信息主管的任务是全面负责一个单位的信息资源管理，为本单位的战略规划服务。其次，这种结合产生了信息资源管理的过程管理理论，其内核是管理过程理论在信息资源管理中的应用，内容包括信息资源管理的组织、规划、控制、行为管理和人力资源管理。再次，这中结合信息系统理论注入了新的活力，使信息系统的发展融入信息资源管理的框架之中，这样就形成了包括信息系统的发展、信息资源管理的安全与控制、信息资源管理思想的交流等内容的信息资源系统管理理论。
    史密斯和梅德利信息资源管理理论的最后篇章是关于信息资源管理发展趋势的描述，其论述范围涉及计算机产业及其发展趋势、信息技术发展趋势、社会环境和组织机构的发展趋势等。作者最后指出，“信息资源管理能力已成为组织之间乃至国家之间竞争的关键，信息资源管理专业人员理应珍惜时代所提供的机会”。这里可引用伟大运动员佩奇（S.Paige）的忠告，“永远不要向后看，有人可能正在逼近尼（Never look back,someone may be gaining on you）”。
    史密斯和梅德利的信息资源管理理论是面向教学、侧重理论探讨的信息资源管理理论体系，它较好地处理了信息系统理论和管理理论的关系与融合问题，使基于信息与信息资源概念并按信息资源管理的逻辑结构展开的一体化信息资源管理理论。但它同样为能超越管理信息系统的约束，未能真正体现“通讯、办公系统、记录管理、图书馆功能、技术规划等”多功能整合的理论思维。与霍顿的理论体系相比较，使密斯和梅德利的体系更富于理论的完整性，他们可以说是美国信息资源管理理论领域的粮多奇葩。</pre>
</div>
<div title="各种信息定义" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="357d1d27e17cf4b15e536b26dee6d24f2f248f95" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%90%84%E7%A7%8D%E4%BF%A1%E6%81%AF%E5%AE%9A%E4%B9%89/1188382:adc04b3d149462426e805214cc44146a69021592&quot;" server.page.revision="1188382" server.title="各种信息定义">
<pre>|哈莱特 |香农 | 维纳|意大利朗格 |钟义信 |辞海 |
| 《信息传输》|数学方法 | 控制论| 变异量| 信息科学原理| 工具书|
| 通信符号中选择符号的具体方式|信息就是不确定性的减少 |信息就是信息 |信息就是反映事物形式、关系和差别的东西 |信息是事物运动状态和方式 |信息就是收信者事先不知道的报导 |
</pre>
</div>
<div title="唐李中的诗" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="5378c3dcdb5b0d6920f78bc874905f8466d67240" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%94%90%E6%9D%8E%E4%B8%AD%E7%9A%84%E8%AF%97/1188383:199536805c14df7561735a1e906335f9bd470ec5&quot;" server.page.revision="1188383" server.title="唐李中的诗">
<pre>暮春怀故人
【唐】&lt;&lt;slider chkSlider 李中的介绍 李中&gt;&gt;
池馆寂寥三月尽，落花重叠盖莓苔。
惜春眷恋不忍扫，感物心情无计开。
@@color(#cc0033):梦断美人沈信息，目穿长路倚楼台。@@
琅玕绣段安可得，流水浮云共不回。</pre>
</div>
<div title="商业机构信息公开" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="1e3c41540762ddcae35bac355482dbf61ae74039" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%95%86%E4%B8%9A%E6%9C%BA%E6%9E%84%E4%BF%A1%E6%81%AF%E5%85%AC%E5%BC%80/1188384:628f25bac3063185e1361a6981d06feb516b06a0&quot;" server.page.revision="1188384" server.title="商业机构信息公开">
<pre>&gt;看看对于[[金融危机中的相关分析|2421/t1904324.html]]</pre>
</div>
<div title="国外信息资源管理（IRM）理论综述" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="cba0fedfe890447b31c4b3283d5ed98cc887203c" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%9B%BD%E5%A4%96%E4%BF%A1%E6%81%AF%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%EF%BC%88IRM%EF%BC%89%E7%90%86%E8%AE%BA%E7%BB%BC%E8%BF%B0/1188393:ca599c7c1c971f6f56b2b644a729435810bd17d9&quot;" server.page.revision="1188393" server.title="国外信息资源管理（IRM）理论综述">
<pre>@@color(#ff0000):''摘自孟广均等《信息资源管理导论（第三版）P63-79》''@@
前言
    信息资源管理源起于70年代后期的美国，1980年美国国会通过的“文书削减法”可谓信息资源管理的里程碑，它以法律的形式确立了信息资源管理在联邦政府机构中的地位与作用。整个80年代是美国信息资源管理理论迅速发展的时期，80年代中期，信息资源管理理论开始传入欧洲并在那里逐渐演化为“信息管理”理论。90年代初，中国学者孟广均和卢泰宏等人系统地引入了信息资源管理理论，它为处于低潮中的图书情报学注入了活力，并在90年代中期形成了一个小的研究高潮。
!国外信息资源管理理论
    国外信息资源管理理论研究有两个中心，一是美国，二是英国；除此之外，德国和日本也非常重视信息资源管理理论研究。就已出版的专著或教材而言，美国学者多用“信息资源管理”概念，欧洲学者则多用“信息管理”概念，但它们的内容结构没有本质的区别。在此，我们依出版时间为序对欧美的集中主要的信息资源管理理论加以评述，以期大家对信息资源管理理论有一个轮廓性的了解。
&lt;&lt;slider chkSlider 胡塞因的信息资源管理理论 1、胡塞因的信息资源管理理论&gt;&gt;
&lt;&lt;slider chkSlider 里克斯和高的信息资源管理理论 2、里克斯和高的信息资源管理理论&gt;&gt;
&lt;&lt;slider chkSlider 霍顿的信息资源管理理论 3、霍顿的信息资源管理理论&gt;&gt;
&lt;&lt;slider chkSlider 史密斯和梅德利的信息资源管理理论 4、史密斯和梅德利的信息资源管理理论&gt;&gt;
&lt;&lt;slider chkSlider 马丁（W.J.Martin）的信息管理理论 5、马丁（W.J.Martin）的信息管理理论&gt;&gt;
&lt;&lt;slider chkSlider 克罗宁（B.Cronin）和达文波特（E.Davenport）的信息管理理论 6、克罗宁（B.Cronin）和达文波特（E.Davenport）的信息管理理论&gt;&gt;
&lt;&lt;slider chkSlider 施特勒特曼（K.A.Stroetmann）的信息管理理论 7、施特勒特曼（K.A.Stroetmann）的信息管理理论&gt;&gt;
&lt;&lt;slider chkSlider 博蒙特（J.R.Beaumont）和萨瑟兰（E.Sutherland）的信息资源管理理论 8、博蒙特（J.R.Beaumont）和萨瑟兰（E.Sutherland）的信息资源管理理论&gt;&gt;
   </pre>
</div>
<div title="图书馆" creator="inforabbi" modifier="inforabbi" created="201509011718" modified="201509011718" _hash="b81c6f2cb4fc133a35c9a0b1bb36462c8fd21b3c" server.content-type="" server.permissions="read, write, create, delete" server.bag="inforabbi_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/inforabbi_public" server.etag="&quot;inforabbi_public/%E5%9B%BE%E4%B9%A6%E9%A6%86/2327485:fa429e127121db5f596e5b2dae1f357fe7ee2881&quot;" server.page.revision="2327485" server.title="图书馆">
<pre>[[主页|http://library.gufe.edu.cn]]</pre>
</div>
<div title="图片" creator="inforabbi" modifier="inforabbi" created="201509131412" modified="201509131412" tags="@zhizihuakai" _source="/bags/zhizihuakai_public/tiddlers/%E5%9B%BE%E7%89%87" _hash="e0eff438bc0475caaab370316d7337bca1c5d19d" server.content-type="" server.permissions="read, write, create, delete" server.bag="inforabbi_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/inforabbi_public" server.etag="&quot;inforabbi_public/%E5%9B%BE%E7%89%87/2334442:ac70063425eefd3fd74f43fa052666c2510279b5&quot;" server.page.revision="2334442" server.title="图片">
<pre>in reply to [[图片]]@zhizihuakai:

赞一个</pre>
</div>
<div title="圖難於其易，為大於其細；天下難事，必作於易，天下大事，必作於細。" creator="inforabbi" modifier="inforabbi" created="201509011832" modified="201509011832" _hash="ff14a0409e4efd4ffcdb7fb1c42308603d3486b1" server.content-type="" server.permissions="read, write, create, delete" server.bag="inforabbi_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/inforabbi_public" server.etag="&quot;inforabbi_public/%E5%9C%96%E9%9B%A3%E6%96%BC%E5%85%B6%E6%98%93%EF%BC%8C%E7%82%BA%E5%A4%A7%E6%96%BC%E5%85%B6%E7%B4%B0%EF%BC%9B%E5%A4%A9%E4%B8%8B%E9%9B%A3%E4%BA%8B%EF%BC%8C%E5%BF%85%E4%BD%9C%E6%96%BC%E6%98%93%EF%BC%8C%E5%A4%A9%E4%B8%8B%E5%A4%A7%E4%BA%8B%EF%BC%8C%E5%BF%85%E4%BD%9C%E6%96%BC%E7%B4%B0%E3%80%82/2327657:2981d130a2392e90441714f7b859c850d55118a9&quot;" server.page.revision="2327657" server.title="圖難於其易，為大於其細；天下難事，必作於易，天下大事，必作於細。">
<pre>Type the text for 'New Tiddler'</pre>
</div>
<div title="基于信息理解的信息构建" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201409110431" _hash="e3d2001366438c7958fe6f073b37148b589aba73" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%9F%BA%E4%BA%8E%E4%BF%A1%E6%81%AF%E7%90%86%E8%A7%A3%E7%9A%84%E4%BF%A1%E6%81%AF%E6%9E%84%E5%BB%BA/1884192:2ff92517fc5c970f7d62e1dd9a3a3f8a18a3aad7&quot;" server.page.revision="1884192" server.title="基于信息理解的信息构建">
<pre>[img[基于信息理解的信息构建一书的封面|http://inforabbi.opendrive.com/files/Ml82Mzc2ODI3Nl8yRUhpeA/s2028197.jpg]]</pre>
</div>
<div title="如何构建学习空间" creator="inforabbi" modifier="librabbi" created="201509131604" modified="201509131615" tags="学习空间" _hash="0a5ba81390c861a8bc4c440cccf37b62f55d4fbb" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%A6%82%E4%BD%95%E6%9E%84%E5%BB%BA%E5%AD%A6%E4%B9%A0%E7%A9%BA%E9%97%B4/2334613:506cba9e694c19a1632e9212f0aa61c218daeaf4&quot;" server.page.revision="2334613" server.title="如何构建学习空间">
<pre>包含的要素
协作
交流
共享
显现的内容</pre>
</div>
<div title="娱乐内容分类" creator="inforabbi" modifier="inforabbi" created="201406280924" modified="201406280926" _hash="ff14a0409e4efd4ffcdb7fb1c42308603d3486b1" server.content-type="" server.permissions="read, write, create, delete" server.bag="inforabbi_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/inforabbi_public" server.etag="&quot;inforabbi_public/%E5%A8%B1%E4%B9%90%E5%86%85%E5%AE%B9%E5%88%86%E7%B1%BB/1809347:ceeb1e882a08dcba1b4829be4d53d91e0b666d8f&quot;" server.page.revision="1809347" server.title="娱乐内容分类">
<pre>Type the text for 'New Tiddler'</pre>
</div>
<div title="学习内容分类" creator="inforabbi" modifier="inforabbi" created="201403110827" modified="201504191351" _hash="7e83197654dcd1fadd1213a027ac38a49d246433" server.content-type="" server.permissions="read, write, create, delete" server.bag="inforabbi_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/inforabbi_public" server.etag="&quot;inforabbi_public/%E5%AD%A6%E4%B9%A0%E5%86%85%E5%AE%B9%E5%88%86%E7%B1%BB/2184087:37bc0accf6cf9fb1f9164f21c180469ddd81795c&quot;" server.page.revision="2184087" server.title="学习内容分类">
<pre>[[追踪]]</pre>
</div>
<div title="学习资源" creator="inforabbi" modifier="inforabbi" created="201309101630" modified="201511020512" _hash="0b4bda62aa51672d3036a51eefdf2eb5d743c569" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%BA%90/2389146:94ce3c228893a5898022cd28a50630f7f9b1b057&quot;" server.page.revision="2389146" server.title="学习资源">
<pre>[[英文教材资料]]
[[工具]]
[[视频资源]]
[[本课程的MOOC：武汉大学马费城|http://www.icourse163.org/course/whu-21013#/info]]
[[deep web|http://whitepapers.virtualprivatelibrary.net/DeepWeb.pdf]]</pre>
</div>
<div title="学员名单" creator="inforabbi" modifier="inforabbi" created="201409021531" modified="201609131404" _hash="2097243e87fd4e1c301c859474b195f97def6baf" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%AD%A6%E5%91%98%E5%90%8D%E5%8D%95/2558931:8ad8d2ea789e7e46ced9232ff0e9d3ac43969f18&quot;" server.page.revision="2558931" server.title="学员名单">
<pre>[[11信管]]
[[12信管]]
[[13信管]]
[[14信管]]</pre>
</div>
<div title="完整体系" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="92ecc4d55db327fdd15a4da143b913ed5448f7fb" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%AE%8C%E6%95%B4%E4%BD%93%E7%B3%BB/1188401:438ffbd272256cd9b52a63f06e4df53007d8a9c6&quot;" server.page.revision="1188401" server.title="完整体系">
<pre>[img[2009-09-21_103726.png]]</pre>
</div>
<div title="完整的学习" creator="inforabbi" modifier="inforabbi" created="201410211538" modified="201410211538" _hash="26c6c01dd065664d4394531adc66130851a98170" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%AE%8C%E6%95%B4%E7%9A%84%E5%AD%A6%E4%B9%A0/1931002:bc875d51b8e38aeb55408085a8823ae69ca03444&quot;" server.page.revision="1931002" server.title="完整的学习">
<pre>如何完整的学习相关的内容</pre>
</div>
<div title="实用框架体系" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="a0323ccceecdce1311c8a0121e7c52c30268bd0c" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6%E4%BD%93%E7%B3%BB/1188389:836325d481f4efeda463838ea58a9bd2db87bea6&quot;" server.page.revision="1188389" server.title="实用框架体系">
<pre>@@color(#0000ff):核心：信息资源
前提：信息技术
手段：信息系统
宗旨：信息经济@@
[img[2009-10-11_222611.png]]</pre>
</div>
<div title="实践教学内容" creator="inforabbi" modifier="inforabbi" created="201609061523" modified="201609061523" _hash="f008fac16aaaef1b44bb25cb19cd95178cb02ac3" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_private" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_private" server.etag="&quot;gcsim_private/%E5%AE%9E%E8%B7%B5%E6%95%99%E5%AD%A6%E5%86%85%E5%AE%B9/2554564:5a9ecb66841e10756e0fdb627ff43cb1605161a1&quot;" server.page.revision="2554564" server.title="实践教学内容">
<pre>*[[课前小调查]]
*[[information communication]]
*[[information acquire]]
*[[information system]]
*[[paper]]</pre>
</div>
<div title="客户关系管理" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="b94b28d1ebe4dfe75a8ebe1efcc6ec6fe61b69d0" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%AE%A2%E6%88%B7%E5%85%B3%E7%B3%BB%E7%AE%A1%E7%90%86/1188399:594dcf281b2b2c634e8ec20ed79feeb3dd4f2948&quot;" server.page.revision="1188399" server.title="客户关系管理">
<pre>客户关系管理（CRM：Customer Relationship Management）是一种旨在改善企业与客户之间关系的新型管理机制。它应用于企业的市场营销、销售、服务等与客户相关的领域。 

CRM既是一种概念，也是一套管理技术。利用它，企业能搜集、跟踪和分析每一个客户的信息，从而知道什么样的客户需要什么东西，真正的做到了一对一营销。

在当今面对电子商务的发展，较之以前更加注重和意识到客户的重要性，纷纷由原来的“产品导向性”企业实现向“客户导向性”企业的转变。在这一变化过程中，客户关系管理的作用就显得尤为突出了。 

全面地来看，供应链管理、企业资源规划、客户关系管理自左至右将供应商、企业和客户连在一起，构成了&lt;&lt;slider ChkSlider B-B和B-C价值链 所谓的B-B和B-C价值链&gt;&gt; 

</pre>
</div>
<div title="工作内容分类" creator="inforabbi" modifier="inforabbi" created="201406280926" modified="201406280926" _hash="ff14a0409e4efd4ffcdb7fb1c42308603d3486b1" server.content-type="" server.permissions="read, write, create, delete" server.bag="inforabbi_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/inforabbi_public" server.etag="&quot;inforabbi_public/%E5%B7%A5%E4%BD%9C%E5%86%85%E5%AE%B9%E5%88%86%E7%B1%BB/1809348:c4f0dc017f8beeb2ac3a7cab665e545eaa6178f5&quot;" server.page.revision="1809348" server.title="工作内容分类">
<pre>Type the text for 'New Tiddler'</pre>
</div>
<div title="工作文档分类" creator="inforabbi" modifier="inforabbi" created="201403110825" modified="201403110825" _hash="ff14a0409e4efd4ffcdb7fb1c42308603d3486b1" server.content-type="" server.permissions="read, write, create, delete" server.bag="inforabbi_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/inforabbi_public" server.etag="&quot;inforabbi_public/%E5%B7%A5%E4%BD%9C%E6%96%87%E6%A1%A3%E5%88%86%E7%B1%BB/1685865:3d275b8670cd5b8234025ac374673b547db1db53&quot;" server.page.revision="1685865" server.title="工作文档分类">
<pre>Type the text for 'New Tiddler'</pre>
</div>
<div title="工具" creator="inforabbi" modifier="inforabbi" created="201403140225" modified="201403140225" _hash="2432d062517c5b8d1de21e3c3fea1d28ffce08d7" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%B7%A5%E5%85%B7/1688914:92cd3a39f27e2e41349ddd83ce1378edda3330d6&quot;" server.page.revision="1688914" server.title="工具">
<pre>GFW工具之[[GoAgent指南|http://www.kuaipan.cn/file/id_3368572915054038.htm]]</pre>
</div>
<div title="广义信息论内容" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="68384ce0ab3fbca60ca9236a6f77c6a068f8018f" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%B9%BF%E4%B9%89%E4%BF%A1%E6%81%AF%E8%AE%BA%E5%86%85%E5%AE%B9/1188391:9692e0b4c883b39b1c26770fe4e0e0c504a5a545&quot;" server.page.revision="1188391" server.title="广义信息论内容">
<pre>*在纵向上，人们突破了香农信息论的局限性，由对语法信息的研究深入到语义信息和语用信息的探索问题。&lt;&lt;slider chkSlider 关于语法信息、语义信息和语用信息 注意这里的三个概念：语法、语义、语用&gt;&gt;
*在横向上，人们又把有关信息的规律和理论研究成果与系统论、控制论相互整合，并广泛运用于物理学、地质学、地理学、生物学、生理学、心理学、社会学、经济学、历史学、管理学等等学科领域的研究中去，从而拓宽了信息论的研究方向，使得人类对信息现象的认识与揭示不断丰富和完善。形成一门研究信息的产生、获取、变换、传输、存储、处理、显示、识别和利用的广义信息论，即[[信息科学]]。</pre>
</div>
<div title="张维迎的视频" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="f8edd6e682c84c570f381544fa7c9a2833ecac92" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E5%BC%A0%E7%BB%B4%E8%BF%8E%E7%9A%84%E8%A7%86%E9%A2%91/1188398:4e5738931e0432d15d49eb71e200e00176e9c6a4&quot;" server.page.revision="1188398" server.title="张维迎的视频">
<pre>&lt;html&gt;&lt;div&gt;&lt;object id='sinaplayer' width='480' height='370' &gt;&lt;param name='allowScriptAccess' value='always' /&gt;&lt;embed pluginspage='http://www.macromedia.com/go/getflashplayer' src='http://you.video.sina.com.cn/api/sinawebApi/outplayrefer.php/vid=60998870_1249712992_ZkzmHCA5CmGP+Eh0HTWxve0D+/cXuvDoj2q9slqsIg5PE1XaapqZa9QP6C7WFqwbrz0xHcZkeP8wkkR5Zata2jotaAsai1Y/s.swf' type='application/x-shockwave-flash' name='sinaplayer' allowFullScreen='true' allowScriptAccess='always' width='480' height='370'&gt;&lt;/embed&gt;&lt;/object&gt;&lt;/div&gt;&lt;/html&gt;</pre>
</div>
<div title="打开条目" creator="inforabbi" modifier="inforabbi" created="201511041023" modified="201511041024" _hash="957942bb836ef94f30a0eef32809cba2e7ad188d" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E6%89%93%E5%BC%80%E6%9D%A1%E7%9B%AE/2390388:363c6e40fbd7374fee88d3cddfba72ebabc402e4&quot;" server.page.revision="2390388" server.title="打开条目">
<pre>咳咳咳[[第三章]]</pre>
</div>
<div title="控制论" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="85fdf9a66d9fa00e9a24e40127055f3661644889" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E6%8E%A7%E5%88%B6%E8%AE%BA/1188392:a296479fa51d90f79df78439f3509c83974fdf9b&quot;" server.page.revision="1188392" server.title="控制论">
<pre>@@color(#0000ff):控制论的理论、观点，可以成为研究各门科学问题的科学方法，这就是撇开各门科学的质的物点，把它们看作是一个控制系统，分析它的信息流程、反馈机制和控制原理，往往能够寻找到使系统达到最佳状态的方法。这种方法称为控制方法。@@@@color(#ff0033):控制论的主要方法有信息方法、反馈方法、功能模拟方法和黑箱方法等。@@
控制论是在信息反馈理论的基础上建立起来的。反馈的内涵是指信息从授者到受者经过处理返回给授者的过程。
控制机制正是依靠信息，具体地说是依靠信息反馈来达到控制目的。
</pre>
</div>
<div title="教务系统" creator="inforabbi" modifier="inforabbi" created="201509011717" modified="201509011717" _hash="b170fe27926c7e73e90ae3afe9d4642081262578" server.content-type="" server.permissions="read, write, create, delete" server.bag="inforabbi_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/inforabbi_public" server.etag="&quot;inforabbi_public/%E6%95%99%E5%8A%A1%E7%B3%BB%E7%BB%9F/2327481:c431a7e2b7a4eb74c277cbfc498cd1a3de79c2d8&quot;" server.page.revision="2327481" server.title="教务系统">
<pre>[[入口|http://jwc.gzife.edu.cn]]</pre>
</div>
<div title="教学检查" creator="inforabbi" modifier="inforabbi" created="201512061632" modified="201512061633" _hash="99f3775b5415884c330f90c20b138732c380aeed" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_private" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_private" server.etag="&quot;gcsim_private/%E6%95%99%E5%AD%A6%E6%A3%80%E6%9F%A5/2413688:eb444fe8a1d362e8cdba7afbe221b18dd268f816&quot;" server.page.revision="2413688" server.title="教学检查">
<pre>*分小组检查上次布置的任务，4个小组，每组2分钟
*所有同学，每人1分30秒，展示自己的tiddlyspace，检查几个部分：
&gt;我们所布置的课堂作业
&gt;自己空间构建组织的课程学习内容
&gt;自己空间所关联的课程资源、人物（老师、同学）</pre>
</div>
<div title="教材图书下载" creator="inforabbi" modifier="inforabbi" created="201309051640" modified="201509131447" tags="下载 共享 图书 教材 资源" _hash="5bcfc7f94daae6a5946f6a7e20218850d200bb11" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E6%95%99%E6%9D%90%E5%9B%BE%E4%B9%A6%E4%B8%8B%E8%BD%BD/2334500:a1050d67978738337bb21491529043787439e4b0&quot;" server.page.revision="2334500" server.title="教材图书下载">
<pre>* [[Information_Management（Fons_Wijnhoven）|http://inforabbi.opendrive.com/files/Ml82MjYxNzM0MF9YSDRucV82OTFm/Information%20Management.pdf]] [[在线|http://storage.live.com/items/83987F84C55EE366!198?[Fons_Wijnhoven]_Information_Management_An_Inform(Bookos.org).pdf]]
*[[网络素养|https://od.lk/f/Ml8xMDEwNDM4NTVf]]（下载密码咨询老师）
*[[信息简史|https://onedrive.live.com/redir?resid=A85A193CC47A837B!6087&amp;authkey=!AEfDdq152gSfS3k&amp;ithint=file%2cpdf]]（请翻墙）</pre>
</div>
<div title="数字鸿沟" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="69cd207b44db319a44d376821b21ac4505a88b6b" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E6%95%B0%E5%AD%97%E9%B8%BF%E6%B2%9F/1188397:94671d49bd731e0baff5b30bab95ef9e17bf6f0f&quot;" server.page.revision="1188397" server.title="数字鸿沟">
<pre>数字鸿沟（Digital Divide）是对信息拥有、使用、利用程度的不同，带来的信息落差。数字鸿沟出现在国家与国家之间、地区与地区之间、群体与群体之间、个体与个体之间。据有关资料显示，发展中国家有一半人口从未打过电话，整个非洲的电话线加起来才相当于一个纽约曼哈顿岛的电话线长。CPU产量美国占 92%，系统软件产量美国占86%，较早的统计显示（1999）：美国因特网用户占全球总量的 50%以上，电子信箱占全球总量的 58%，电子商务额占全球总额的75%，商业网站占全球的90%，全球大型数据库近 3000 个，70%设在美国，全球 13台顶级域名服务器，10 台设在美国。 （从目前来看，中国在消除Digital Divide方面成效显著）</pre>
</div>
<div title="数据来源包括这么大一堆" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="4b6654311386b56504804565681e415649ab5ae2" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E6%95%B0%E6%8D%AE%E6%9D%A5%E6%BA%90%E5%8C%85%E6%8B%AC%E8%BF%99%E4%B9%88%E5%A4%A7%E4%B8%80%E5%A0%86/1188400:18f2255bc37fd3bb3f3ed77ba613df064ccd359a&quot;" server.page.revision="1188400" server.title="数据来源包括这么大一堆">
<pre>Data provided by the following vendors: B2Bonline.com, BARB, BusinessWeek, Coke, Commission of the European Communities, Comscore, Core Metrics, Datamonitor, Deloitte, The Economist, eMarketer, Enders Analysis, Eurostat, Film Distributors Association, Financial Times, Forrester, GFK, Google Insights for Search, Greenbee.com, Guardian, HarvardBusiness.org, Hitwise, IAB, IFPI, IMF, Internet Retailing, Internetworldstats.com, JP Morgan, KMPG, Media &amp; Marketing, Mediascope Europe, Mindshare, Motorola, Net Imperative, New York Magazine, Nielsen, NMA, Ofcom, Ipsos MediaCT, PriceWaterhouseCoopers, QuickPlay Media Inc., Retail Week, Reuters, TGI Net, Times Online, TNS, Verdict Research, Wall Street Journal, WARC, YouTube, ZenithOptimedia, GM</pre>
</div>
<div title="数码相机原理图" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="eb7fbeaf7043febc5674b3cf98e940030b6d1b02" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E6%95%B0%E7%A0%81%E7%9B%B8%E6%9C%BA%E5%8E%9F%E7%90%86%E5%9B%BE/1188394:d60879553f2237c189e6de95c9a93ef7313da07d&quot;" server.page.revision="1188394" server.title="数码相机原理图">
<pre>[img[2009-10-11_235717.png]]</pre>
</div>
<div title="施特勒特曼（K.A.Stroetmann）的信息管理理论" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="d256c5ccd2f5990cd1b8be05c9d11eb013580016" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E6%96%BD%E7%89%B9%E5%8B%92%E7%89%B9%E6%9B%BC%EF%BC%88K.A.Stroetmann%EF%BC%89%E7%9A%84%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86%E7%90%86%E8%AE%BA/1188403:0b0ca12154e3342353c2730922384457bccb51cf&quot;" server.page.revision="1188403" server.title="施特勒特曼（K.A.Stroetmann）的信息管理理论">
<pre> 施特勒特曼是德国的信息管理学家，他在1992主编的《“为信息服务的信息管理——90年代的经济挑战”会议论文集》中撰写了一篇题为《90鸟代的信息管理：一个概念框架》的论文[15]，系统地阐述了自己的信息管理理论。其主要内容包括：信息管理的意义与定义、为信息服务的信息管理的背景、信息的经济化过程、信息资源、战略管理、信息服务中战略信息管理的分析框架等。
    施特勒特曼认为，信息管理是对信息资源与相关信息过程进行规划、组织和控制的理论。信息资源包括信息内容、信息系统和信息基础结构三部分，信息过程则包括信息产品的生产过程和信息服务的提供过程。引入“价值链”概念，信息管理可简单地概括为沿着价值链的信息资源管理；而所谓“价值链”概念，据施特勒特曼的理解，就是由信息资源的供给、输入、生产、输出、推销、用户服务等环节所组成的有序过程。施特勒特曼还针对图书馆与情报服务指出，它们必须在两个方面改进信息管理：在内部，它们必须改进信息资源管理以提高生产率，提高服务质量和改进服务效果；在外部，它们必须把握各类用户的信息需求并设法满足用户的特殊需求，以支撑它们的信息管理。
    施特勒特曼信息管理理论的核心是对信息管理背景、信息的经济转换过程和信息资源的论述。他认为，信息管理的背景可分为三个层次，这些层次由内而外呈环状层层相套（见图2.6），其中，信息管理是信息服务的内核，信息服务则构成了信息管理的第一重背景，图书馆和情报服务就是信息服务的有机组成部分；在信息服务的外围，信息市场和信息环境依次构成了信息管理的中观背景和宏观背景。
    信息的经济转换过程是施特勒特曼信息管理理论最为精彩的部分。在我们所接触的信息资源管理理论中，要么只描述信息信息资源的规划、预算、控制等所谓“管理过程”，要么单论信息资源的获取、组织、传递等所谓“信息过程”，施特勒特曼的成功之处则在于巧妙地实现了两种过程的统一，并从而形成独具特色的信息转换过程（见图2.7）。
在上图中，供应者和顾客均处于市场之中，它们与信息服务体统进行着信息、资源、货币等多方面的交流，信息服务系统本身又分为两个层次，管理层次的功能是对操作曾进行规划、组织和控制，操作层的功能则是实施信息转换。施特勒特曼的信息管理过程理论是一种比较理想的模式，他一方面统一了管理过程和信息过程，另一方面又为职业的信息管理（如图书馆、档案、情报服务等）与应用信息管理（如管理信息系统、办公系统）提供了“，结合点”，因此它具有较大的普遍性。
    信息资源，据施特勒特曼的理解，包括三个组成部分：①信息内容，即包括产生与信息服务或从外部信息源获取的信息，也包括与内部活动有关的理论和方法论信息、管理和操作信息、与决策相关的信息，还包括与外部活动有关的交易信息、用户信息和市场信息；②信息系统，其要素包括系统目标、操作人员、信息内容、软件、硬件、内部规则等；③信息基础结构，在此是指一个组织结构的信息基础结构，它由各种可共享的数据库、计算机硬件设备、数据库管理系统和其他软件、局域网等所构成。信息内容、信息系统、信息基础结构形成了一个组织的信息管理的三位一体结构。
    信息管理是一种战略管理，施特勒特曼认为，战略信息管理中在创新，包括信息产品或服务的创新、信息转换过程的创新和市场营销的创新等。他还进一步抽象出了适用与信息服务领域的战略信息管理分析框架，这是由信息资源——信息转换过程——战略信息管理（即规划、组织和控制）所组成的三维结构，它可用于分析作为整体的图书馆和情报服务以及它们的个别服务或产品，可用于调节与外部活动相关的特殊战略管理领域。
    施特勒特曼的信息管理理论闪烁着德国学者的理性思维色彩，其宽广的视野、准确的理解、细微的分析、简洁的模型等无不具有理论的魅力。尤为值得赞赏的是，作者试图将新兴的信息管理理论与“图书馆和情报学”统一起来并取得了成功。但与其它理论相比较，该理论缺乏实践案例的支持，它更多的是一种理论推导或创新。 </pre>
</div>
<div title="有关tiddlywiki的资源" creator="inforabbi" modifier="inforabbi" created="201310310543" modified="201311140655" _hash="d1a024fa70436322f2c72a14fff296706e1eb5a9" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E6%9C%89%E5%85%B3tiddlywiki%E7%9A%84%E8%B5%84%E6%BA%90/1530639:7c77ee32215c882cbbb6127ddf3253303a2294f5&quot;" server.page.revision="1530639" server.title="有关tiddlywiki的资源">
<pre>*[[tiddlywiki模板资源|http://themes.tiddlywiki.com/]]
*[[tiddlywiki的官方站点|http://www.tiddlywiki.com]]
*[[中文tiddlywiki站点|http://www.tiddlywiki.cn/]]
*[[繁体中文站点|http://web.nlhs.tyc.edu.tw/~lss/wiki/TiddlyWikiTutorialTW.html]]
*[[tiddlywiki高阶站点|http://www.tiddlytools.com/]](非常喜欢他的那句话：@@color(#990000):Small Tools Big Ideas@@)
[[touchpad|http://mbpowertools.net/iDevices/WiFiTouchpadHD.html]]</pre>
</div>
<div title="未来学术信息传播新的动向" creator="inforabbi" modifier="inforabbi" created="201312181508" modified="201312181648" _hash="4d9d8ce18a10097e57c31783670deffd75cbd708" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E6%9C%AA%E6%9D%A5%E5%AD%A6%E6%9C%AF%E4%BF%A1%E6%81%AF%E4%BC%A0%E6%92%AD%E6%96%B0%E7%9A%84%E5%8A%A8%E5%90%91/1599894:c91695568310978695d54aab1cbcb3bce82bb092&quot;" server.page.revision="1599894" server.title="未来学术信息传播新的动向">
<pre>[img[http://inforabbi.opendrive.com/files/Ml8zNjcwNDc3NF8xdk9nQw/identies.jpg]]
先看看上圖，若要藉由一個識別(identity) 找出一位研究學者散落在各個平台/系統裡的著作(作品)，並與其在學術社交平台(如Academia, ResearchGate) 上的個人檔案做連結，同時又要考慮到 Authority等，以目前的生態來講，困難度相當高。

OCLC 已經組成一個任務小組，成員來自OCLC、ISNI、LC (NACO)、及幾個自己權威或 identity 系統的大學/機構，期望透過 linked data 的環境可以解決這個問題。([[来源|http://libraryview.me/2013/12/13/8939/]])
slidershare上的PPT如下：（要翻墙）

&lt;html&gt;&lt;iframe src=&quot;http://www.slideshare.net/slideshow/embed_code/29122318&quot; width=&quot;527&quot; height=&quot;356&quot; frameborder=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; scrolling=&quot;no&quot; style=&quot;border:1px solid #CCC;border-width:1px 1px 0;margin-bottom:5px&quot; allowfullscreen&gt; &lt;/iframe&gt; &lt;div style=&quot;margin-bottom:5px&quot;&gt; &lt;strong&gt; &lt;a href=&quot;https://www.slideshare.net/oclcr/registering-researchers-in-authority-files&quot; title=&quot;Registering Researchers in Authority Files&quot; target=&quot;_blank&quot;&gt;Registering Researchers in Authority Files&lt;/a&gt; &lt;/strong&gt; from &lt;strong&gt;&lt;a href=&quot;http://www.slideshare.net/oclcr&quot; target=&quot;_blank&quot;&gt;OCLC Research&lt;/a&gt;&lt;/strong&gt; &lt;/div&gt;&lt;/html&gt;</pre>
</div>
<div title="本课程参考书目" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201508310450" _hash="d137e09e8c142ea0df7fbf3ed683efda66d0da09" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E6%9C%AC%E8%AF%BE%E7%A8%8B%E5%8F%82%E8%80%83%E4%B9%A6%E7%9B%AE/2326137:38945bf56f2b25a65e7ce01675dc42a73fefca7f&quot;" server.page.revision="2326137" server.title="本课程参考书目">
<pre>*詹姆斯·格雷克.&lt;&lt;slider chkSlider 信息简史封面 信息简史&gt;&gt;.中信出版社，2007[[在线|http://www.amazon.cn/%E5%9B%BE%E7%81%B5%E6%96%B0%E7%9F%A5-%E4%BF%A1%E6%81%AF%E7%AE%80%E5%8F%B2-%E8%A9%B9%E5%A7%86%E6%96%AF%C2%B7%E6%A0%BC%E9%9B%B7%E5%85%8B/dp/B00G6CY2R8/ref=sr_1_1?ie=UTF8&amp;qid=1440995681&amp;sr=8-1&amp;keywords=%E4%BF%A1%E6%81%AF%E7%AE%80%E5%8F%B2]]

*安·布莱尔 (作者),    徐波 (译者).&lt;&lt;slider chkSlider 中文工具书诞生封面 中文工具书的诞生&gt;&gt;.商务印书馆，2014[[在线|http://www.amazon.cn/%E5%B7%A5%E5%85%B7%E4%B9%A6%E7%9A%84%E8%AF%9E%E7%94%9F-%E8%BF%91%E4%BB%A3%E4%BB%A5%E5%89%8D%E7%9A%84%E5%AD%A6%E6%9C%AF%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86-%E5%AE%89%C2%B7%E5%B8%83%E8%8E%B1%E5%B0%94/dp/B00RJGU3GY/ref=sr_1_1?ie=UTF8&amp;qid=1440996075&amp;sr=8-1&amp;keywords=%E5%B7%A5%E5%85%B7%E4%B9%A6%E7%9A%84%E8%AF%9E%E7%94%9F]]


*司有和.&lt;&lt;slider chkSlider 企业信息管理学一书封面 企业信息管理学&gt;&gt;.科学出版社，2007

*[[Wurman, R. S.|3380/wwwwurmancom.html]] 著, 李银胜译. &lt;&lt;slider chkSlider 信息饥渴一书 信息饥渴.(InformationAnxiety)&gt;&gt;. 北京: 电子工业出版社, 2001 

*周晓英.&lt;&lt;slider chkSlider 基于信息理解的信息构建 基于信息理解的信息构建&gt;&gt;.北京: 中国人民大学出版社, 2005

*[[Peter Morville|data/20090824104932/index.html]],Louis Rosenfeld.&lt;&lt;slider chkSlider Web信息架构一书 Web信息架构：设计大型网站（第3版）&gt;&gt;.北京：电子工业出版社，2008

*孟广均等. &lt;&lt;slider chkSlider 信息资源管理导论封面 信息资源管理导论（第三版）&gt;&gt;. 北京: 科学出版社,2008 

*阿尔弗雷德·D·钱德勒.&lt;&lt;slider chkSlider 信息改变了美国一书 信息改变了美国&gt;&gt;.上海：上海远东出版社，2008

*（英）马克斯·H·布索瓦. &lt;&lt;slider chkSlider 信息空间封面 信息空间：认识组织、制度和文化的一种框架（当代学术思潮译丛）&gt;&gt;.上海：上海译文出版社，2000

*（英）马克斯·H·博伊索特.&lt;&lt;slider chkSlider 知识资产一书 知识资产：在信息经济中赢得竞争优势&gt;&gt;.上海：上海世纪出版集团, 2005（其实这本书的作者和上面那本书都是一个人：[[Max H. Boisot|1683/Prof_Dr_Max_Boisot.html]]）

*（美）林达·M·阿普尔盖特 迈克尔·厄尔 M·本塞欧.&lt;&lt;slider chkSlider 信息时代的管理一书封面 信息时代的管理&gt;&gt;.北京:中国人民大学出版社，2003

*[[你的知识需要管理|file:///E:/Curriculum%20Resources/Informaiton%20Organization%20&amp;%20Retrieval/data/20100530222713/index.html]]

*Case, Donald O. [[Looking for information: a survey of research on information seeking, needs, and behavior. 2nd ed|http://book.douban.com/subject/2903297/]]. Amsterdam: Academic Press, 2007. xvi, 423 pp. ISBN 0-12-369430-2. £42.99/$74.95</pre>
</div>
<div title="李中的介绍" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="e738a4aa9ee72fd2747a1acae417528c6b7b450c" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E6%9D%8E%E4%B8%AD%E7%9A%84%E4%BB%8B%E7%BB%8D/1188396:f660f7de14da6e446ba03f9b2fcc992ab70ae3b8&quot;" server.page.revision="1188396" server.title="李中的介绍">
<pre>李中(约920－974年)，五代南唐江西九江人，年轻就读于南唐最高学府庐山国子监，为秀才一级人物。973年任淦阳宰时，编成诗集《碧云集》，有二百余篇录入全唐诗。序赞其诗：“缘情入妙，丽则可知，出示全篇，备多奇句”。 诗人自谓“诗魔”，有“禅外诗魔尚浓”等句。虽一生为县级小吏，却信手拈来“乾坤一夕雨，草木万方春”(写春日)， “云开碧落星河近，月出沧溟世界秋”(写庐山)等诸多奇句。李中情趣高雅，尤善草书，有《墨池编》，惜乎没有真迹传世。</pre>
</div>
<div title="杜牧的诗" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="d8ced2d189c8c963e60a682a98c1a93cb12dfc06" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E6%9D%9C%E7%89%A7%E7%9A%84%E8%AF%97/1188402:239fcee5cefe68825d1a1686edd49bc68242c192&quot;" server.page.revision="1188402" server.title="杜牧的诗">
<pre>@@color(#3300ff):''寄远''@@
两叶愁眉愁不开，独含惆怅上层台。
碧云空断雁行处，红叶已雕人未来。
@@color(#cc0033):塞外音书无信息，道傍车马起尘埃。@@
功名待寄凌烟阁，力尽辽城不肯回。</pre>
</div>
<div title="标签云" creator="inforabbi" modifier="inforabbi" created="201311201619" modified="201410080650" tags="tag 标签 标签云" _hash="0ba0d54d2c2ce2b6794658be4d21567e6b973858" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E6%A0%87%E7%AD%BE%E4%BA%91/1911243:0320a3b5cbab7c2c264a97c21a10590379a55133&quot;" server.page.revision="1911243" server.title="标签云">
<pre>&lt;&lt;tagCloud&gt;&gt;</pre>
</div>
<div title="每周要点" creator="inforabbi" modifier="inforabbi" created="201012130447" modified="201512100305" tags="专业热点 新闻 时事" _hash="82b2018450fd8668810b5e2f9748e47bb6bf321f" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E6%AF%8F%E5%91%A8%E8%A6%81%E7%82%B9/2420360:646537cfafeb0ffc3e0ec30831dfc40efa9d86d2&quot;" server.page.revision="2420360" server.title="每周要点">
<pre>&lt;&lt;gradient horiz #ff8888 #ffdddd #ffffff&gt;&gt;''教学过程中追踪每一周发生的、值得我们去关注的要点信息：''&gt;&gt;
&lt;&lt;tabs tabsClass 第一周 '本周我们重点推出' 2009年8月24~30
第二周 '本周我们重点推出' 2009年8月31~9月06
第三周 '本周我们重点推出' 2009年9月07~13
第四周 '本周我们重点推出' 2009年9月14~20
第五周 '本周我们重点推出' 2009年9月21~27
第六周 '本周我们重点推出' 2009年9月28~10月04
第七周 '本周我们重点推出' 2009年10月05~11
第八周 '本周我们重点推出' 2009年10月12~18
第九周 '本周我们重点推出' 2009年10月19~25
第十周 '本周我们重点推出' 2009年10月26~11月01
第十一周 '本周我们重点推出' 2009年11月02~08
第十二周 '本周我们重点推出' 2009年11月09~15
第十三周 '本周我们重点推出' 2009年11月16~22
第十四周 '本周我们重点推出' 2009年11月23~29
第十五周 '本周我们重点推出' 2009年11月30~12月06
第十六周 '本周我们重点推出' 2009年12月07~13
第十七周 '本周我们重点推出' 2009年12月14~20
第十八周 '本周我们重点推出' 2009年12月21~27
Archives '所有存档' 每周要点历史记录&gt;&gt;

</pre>
</div>
<div title="每周要点 [draft]" creator="inforabbi" modifier="inforabbi" created="201309081655" modified="201309081656" tags="专业热点 新闻 时事" _hash="37e3b5efa57afbb5da43011d15cf0aebe01d97ba" publish.name="每周要点" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_private" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_private" server.etag="&quot;gcsim_private/%E6%AF%8F%E5%91%A8%E8%A6%81%E7%82%B9%20%5Bdraft%5D/1391800:2638c5fb33667830848c1a03aeccf696a9b71b78&quot;" server.page.revision="1391800" server.title="每周要点 [draft]">
<pre>&lt;&lt;gradient horiz #ff8888 #ffdddd #ffffff&gt;&gt;''教学过程中追踪每一周发生的、值得我们去关注的要点信息：''&gt;&gt;
&lt;&lt;tabs tabsClass 第一周 '本周我们重点推出' 2009年8月24~30
第二周 '本周我们重点推出' 2009年8月31~9月06
第三周 '本周我们重点推出' 2009年9月07~13
第四周 '本周我们重点推出' 2009年9月14~20
第五周 '本周我们重点推出' 2009年9月21~27
第六周 '本周我们重点推出' 2009年9月28~10月04
第七周 '本周我们重点推出' 2009年10月05~11
第八周 '本周我们重点推出' 2009年10月12~18
第九周 '本周我们重点推出' 2009年10月19~25
第十周 '本周我们重点推出' 2009年10月26~11月01
第十一周 '本周我们重点推出' 2009年11月02~08
第十二周 '本周我们重点推出' 2009年11月09~15
第十三周 '本周我们重点推出' 2009年11月16~22
第十四周 '本周我们重点推出' 2009年11月23~29
第十五周 '本周我们重点推出' 2009年11月30~12月06
第十六周 '本周我们重点推出' 2009年12月07~13
第十七周 '本周我们重点推出' 2009年12月14~20
第十八周 '本周我们重点推出' 2009年12月21~27&gt;&gt;</pre>
</div>
<div title="每周要点历史记录" creator="inforabbi" modifier="inforabbi" created="201509201827" modified="201511130433" _hash="7992c972d025c7485b4c646494c4d5bbe7392d9b" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_private" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_private" server.etag="&quot;gcsim_private/%E6%AF%8F%E5%91%A8%E8%A6%81%E7%82%B9%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95/2397056:5723d09d271eda94351a2335853e4f86cef52f00&quot;" server.page.revision="2397056" server.title="每周要点历史记录">
<pre>*再[[推薦一個地方|http://aip.completeplanet.com/aip-engines/browse?thisPage=/browse/browse.jsp&amp;successPage=/browse/browse.jsp&amp;errorFlag=&amp;errorMsg=&amp;event=loadPageEvent&amp;directPage=&amp;directSection=4&amp;treeQueryExpr=&amp;treeQueryType=phrase&amp;treeQueryTarget=tree&amp;account=loc&amp;username=dev2_040308]]
*[[EDUCAUSE|http://www.educause.edu/]] （[[EDUCAUSE简介]]）的[[2012年美國大學生與資訊科技研究報告|http://inforabbi.opendrive.com/files/Ml8zMzIzMDcyM19PcWtqdg/ERS1208.pdf]]、[[2013报告|http://www.educause.edu/library/resources/ecar-study-undergraduate-students-and-information-technology-2013]] [[下载|https://net.educause.edu/ir/library/pdf/ERS1302/ERS1302.pdf]](有11所加拿大及其他國家的學校)，因為自2004年以來幾乎每一年都會做同樣的研究，因此看到一些發展趨勢還算是有趣，也值得我們注意。2014年的报告：[[Study of Students and Information Technology, 2014|http://www.educause.edu/library/resources/study-students-and-information-technology-2014]]。[[该报告的主要发现]] [[来源|http://libraryview.me/2012/10/18/5721/]]
*开放的时代，[[在线的学习|http://libraryview.me/2012/10/18/5721/]]


*[[Open Access|http://socialscience.sla.org/2012/10/open-access-science-resources/]]
*参考这个服务[[ifttt|https://ifttt.com/dashboard]]
*给大家布置了关于Twitter的作业，那么[[这篇文章|data/20091108213759/index.html]]是应该看看的了
*[[Google Internet Stats|http://www.google.co.uk/intl/en/landing/internetstats/]] 是个好工具。看[[这里的图示]]。它的[[数据来源包括这么大一堆]]。
*[[Google Dashboard |data/20091108221309/index.html]]是Google刚刚推出来的一个服务。为Google的privacy policy提供了一种选择。[[官方的宣布|data/20091108223538/index.html]]和一个简介的[[Google Dashboard视频]]

*一个很有影响力的杂志：//[[economist|http://www.economist.com/]]//，上面的一个系列：//[[A special report on managing information|http://www.economist.com/node/21522743/sources-and-acknowledgment]]//，译言上已经有人翻译了[[该特别报告的一系列文章|http://article.yeeyan.org/view/ilovericsson/92753?from=rss_related#]]
*[[enago|http://www.enago.tw/blog]]
*潘少在华为IT产品解决方案中[[关于大数据解说的文章|http://www.dakepu.org/popular_science/0_488f289f85fc40c0a9d376a050ecd8ef.html]]，顺便记住这个&lt;html&gt;&lt;a href=&quot;http://www.dakepu.org&quot;&gt;&lt;img src=&quot;http://www.dakepu.org/images/logo_0.gif&quot; border=&quot;0&quot; width=&quot;170&quot; height=&quot;40&quot;&gt;&lt;/a&gt;&lt;/html&gt;

*从一篇新闻说起：[[中国发明专利仅14.2% 原始创新能力匮乏|file:///E:/Curriculum%20Resources/Information%20Management/data/20120924232849/index.html]]。看看Google在干嘛：[[Patent搜索|file:///E:/Curriculum%20Resources/Information%20Management/data/20120924233200/index.html]]，其[[结果|file:///E:/Curriculum%20Resources/Information%20Management/data/20120924233433/index.html]]。
*新闻要关联起来看：比如[[这个|data/20120924235527/index.html]]。当然，我们也来看看[[Google是如何搜集互联网信息|data/20101110140102/index.html]]。那么这一切再联系到最新的一个新闻：[[Microsoft launches Google-is-evil campaign targeted at Safari users|data/20120925000020/index.html]]。（[[中文版在这里|http://www.china.com.cn/info/digi/2012-09/23/content_26604458.htm]]）。我们自己需要来好好判断一下其中信息的真实有效性。
*微软所推出的[[YouthSpark|http://www.microsoft.com/about/corporatecitizenship/en-us/youthspark/]]:新的项目名为YouthSpark,能为成千上万的年轻用户提供更好的教育机会和就业前景
*[[W3School|http://www.w3schools.com/]]



*[[37 SEO Experts You Should Be Following on Twitter|http://searchenginewatch.com/article/2374336/37-SEO-Experts-You-Should-Be-Following-on-Twitter?utm_source=feedburner&amp;utm_medium=feed&amp;utm_campaign=Feed%3A+sewblog+%28Search+Engine+Watch+Blog%29]]
*[[Internet Marketing for 2020|http://searchenginewatch.com/article/2373629/Internet-Marketing-for-2020?utm_source=feedburner&amp;utm_medium=feed&amp;utm_campaign=Feed%3A+sewblog+%28Search+Engine+Watch+Blog%29]]
*[[一本新书|http://www.cnbeta.com/articles/334407.htm]]
*[[资源|http://www.cmswire.com/news/topic/information+management]]

图书推荐：[[Free|data/20091011201844/index.html]]


*一篇文章：[[How to Crack a Wi-Fi Password|http://lifehacker.com/5953047/how-to-crack-wep-and-wpa-wi+fi-passwords]]。我们应该去关注这个信息源：[[lifehacker|http://lifehacker.com/]]
*如何永久保存网页？搜索引擎能提供cache（网页快照），但是不是按我们自己想要的时间点保存的，同时还有被墙的可能性，所以，我们要自己来：[[Internet Archive|https://archive.org/web/web.php]]提供了一个[[时光机|https://archive.org/web/web.php]]
*图书推荐：[[The Culture of Big Data|http://oreilly.com/data/culture-of-big-data.csp]]。
&gt;&lt;html&gt;&lt;a href=&quot;http://oreilly.com/&quot;&gt;&lt;img src=&quot;http://cdn.oreillystatic.com/images/sitewide-headers/ml-header-home-blinking.gif&quot; border=&quot;1&quot;  title=&quot; O'Reilly&quot;&gt;&lt;/a&gt;&lt;/html&gt;
&gt;这是一家值得关注的机构，Web2.0的概念就是Tim Oreilly提出的。


*[[EDUCAUSE|http://www.educause.edu/]] （[[EDUCAUSE简介]]）的[[2012年美國大學生與資訊科技研究報告|http://inforabbi.opendrive.com/files/Ml8zMzIzMDcyM19PcWtqdg/ERS1208.pdf]]、[[2013报告|http://www.educause.edu/library/resources/ecar-study-undergraduate-students-and-information-technology-2013]] [[下载|https://net.educause.edu/ir/library/pdf/ERS1302/ERS1302.pdf]](有11所加拿大及其他國家的學校)，因為自2004年以來幾乎每一年都會做同樣的研究，因此看到一些發展趨勢還算是有趣，也值得我們注意。2014年的报告：[[Study of Students and Information Technology, 2014|http://www.educause.edu/library/resources/study-students-and-information-technology-2014]]。[[该报告的主要发现]] [[来源|http://libraryview.me/2012/10/18/5721/]]
*先看[[兩張圖]]


*《从大数据当中发现情报》，[[来源BBC中文|http://www.bbc.co.uk/zhongwen/simp/world/2014/11/141120_china_internet_conference_israel]]
&gt;希勒在论坛现场介绍了如何通过“数据地图”“链接分析”等手段从互联网上收集那些“不能检索的”“隐藏起来并且有密码的”信息，并以一个“示威活动”为例，展示了如何通过大数据分析“谁会参加示威游行的活动”“他们所有的信息” “他们在哪里”“发帖的位置在哪里”等。
&gt;他使用Deep Analytics系统检索在Facebook、Twitter等社交平台上与“zhanzhong”相关的活跃用户及其消息记录。Deep Analytics系统可以告诉他们这些用户的资料、相互关系、地理位置等，并通过分析和过滤，查出活动的“重要成员的主要信息、参加活动的地方和参加活动的具体情况”等，并对在某个地区区域“建立一个围墙”，监管区域内所有人的Twitter数据，进行分析、选择、标注等。
*进一步，[[Deep Analytics系统是什么|http://searchbusinessanalytics.techtarget.com/definition/deep-analytics]]？
*如何用大数据追女神，来源[[优酷|http://v.youku.com/v_show/id_XNjI5MDQ1ODg0.html]]
*老文：[[图解Google搜索秘籍：使用快捷键 善用数据库|http://www.cnbeta.com/articles/174186.htm]]




!1.Tiddlyspace平台个性化模板构建。每个人弄一个具有自己个性的Tiddlyspace空间。完成Tiddlyspace内reply to this tiddler的内容并截图，体验tiddlyspace上群体间信息交流的实现。完成tiddlyspace上资源的集成，掌握include功能。include 一个space在自己的space中。（登陆后在自己的账户your account和this space查看，在http://docs.tiddlyspace.com上寻求相应帮助）
!2.利用blog和wiki完成群体信息交流任务（示例：以个人QQ空间为例，展示blog平台上信息如何交流。每人发表一篇日志，吸引留言，回复，总结在QQ空间里如何完成群体信息交流的任务，归纳其优缺点。Blog平台可自选，包括自己搭建的个人Blog平台 ）
!3.展示移动平台信息交流工具（每个人把自己的手机上用于信息交流的工具展示出来，截图）
!4.[[比较wiki|http://www.wikimatrix.org/]]（利用该工具完成多种wiki软件的比较，论述选择该wiki软件的目的）


----
登陆[[豆瓣|http://www.douban.com]]
查看并分析信息组织方式
在自己的豆瓣主页完成对图书、电影、音乐的收集整理
完成相应的标签描述。
通过标签完成图书、音乐的检索，注明步骤并截图
----
在自己的space上完成条目标签的添加，构建标签云模块
----
比较当当网、亚马逊中国的图书分类（一级类目）和中国图书馆分类法（一级类目）的异同。为什么网上书店的类目与中图法有差别？总结网上书店类表的特点。
----
根据CNNIC发布的第33、34次中国互联网络发展状况统计报告，画出中国域名省份分布图，并用长尾理论阐释之。
----
--登陆technorati.com--
--用两种方式收集10个与信息有关的Blog（目录和标签）--</pre>
</div>
<div title="法律手段" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="36f279eb50fea26ac2a11742641d003ab9b9f884" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E6%B3%95%E5%BE%8B%E6%89%8B%E6%AE%B5/1188410:eed9def0b4c22fade873ea547280ca6a6725ad15&quot;" server.page.revision="1188410" server.title="法律手段">
<pre>*[[信息采集的政策法律]]
*[[信息公开政策法律]]
*[[信息传播法律制度]]
*[[信息市场管理政策法律]]
*[[信息资源利用法律规范]]
*[[信息安全法律规范]]</pre>
</div>
<div title="注意力稀缺" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="7105eea6268a2a067ee8135c9b7f6faa13d171c3" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E6%B3%A8%E6%84%8F%E5%8A%9B%E7%A8%80%E7%BC%BA/1188405:41d9ba7869098a39c176133e3b7a7e9da3adeb6f&quot;" server.page.revision="1188405" server.title="注意力稀缺">
<pre>*@@color(#9900ff):“注意力经济”的理论奠基人是Michael H．Goldhaber。他在一篇题为《注意力购买者》的文章中指出，“注意力经济”是指如何更有效地配置企业现有的资源，以最低成本去吸引用户或消费者的注意力,通过培养其潜在的消费群体,以期获得最大的未来无形资产,即经营消费者的注意力。 @@
*@@color(#9900ff):同时，他还指出，在互联网时代，信息非但不是稀缺资源，而且是过剩的。相对于过剩的信息，只有人们的注意力才是稀缺的资源。目前正在崛起的以互联网为基础的“新经济”从本质上讲就是“注意力经济”,在这种经济状态中，最重要的资源，既不是传统意义上的货币资本，也不是信息本身，而是注意力 @@
*参考这本书[[《注意力经济》|15268/806843.html]]，作者是&lt;&lt;slider chkSlider 关于托马斯·达文波特 托马斯·达文波特&gt;&gt;</pre>
</div>
<div title="现代管理理论" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="a41c0de314058b4313dd5c3c49de24b46890ec59" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%8E%B0%E4%BB%A3%E7%AE%A1%E7%90%86%E7%90%86%E8%AE%BA/1188411:28255e7171340a92d0c556a26a3c382b218bfbd7&quot;" server.page.revision="1188411" server.title="现代管理理论">
<pre>（3）现代管理理论开始研究信息这一因素。     真正把信息作为管理理论研究对象，是现代管理理论中出现的。     巴纳德认为，组织的基本要素有三：共同的目的、协作的愿望和信息。     西蒙认为，决策贯穿于管理的各个方面和全部过程，管理就是决策。在决策过程中，他特别强调信息联系的作用，强调信息联系是一种双向过程，包括从组织的各个部分向决策中心的传递，也包括从决策中心向各个部分的传递。</pre>
</div>
<div title="生存案例答案" creator="inforabbi" modifier="inforabbi" created="201508301756" modified="201508301757" _hash="23e299cd92437009aadcfcde258646173b98d71a" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%94%9F%E5%AD%98%E6%A1%88%E4%BE%8B%E7%AD%94%E6%A1%88/2322967:6732538a738c5f163745567b2ac4f6547981e7f0&quot;" server.page.revision="2322967" server.title="生存案例答案">
<pre>*钢刀、火石、指南针
**为什么？
**维纳关于信息的定义</pre>
</div>
<div title="知识资产一书" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201409110430" _hash="4e6ce98ca2cc5d2c2d2d401abd08e72557213e5f" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%9F%A5%E8%AF%86%E8%B5%84%E4%BA%A7%E4%B8%80%E4%B9%A6/1884191:ce08311ff66fa337d53cc90e39ad7cb65cfc30a3&quot;" server.page.revision="1884191" server.title="知识资产一书">
<pre>[img[知识资产一书的封面|http://inforabbi.opendrive.com/files/Ml82Mzc2ODI3Ml8zUzZkVA/s1999042.jpg]]</pre>
</div>
<div title="研究内容分类" creator="inforabbi" modifier="inforabbi" created="201403110826" modified="201403110826" _hash="ff14a0409e4efd4ffcdb7fb1c42308603d3486b1" server.content-type="" server.permissions="read, write, create, delete" server.bag="inforabbi_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/inforabbi_public" server.etag="&quot;inforabbi_public/%E7%A0%94%E7%A9%B6%E5%86%85%E5%AE%B9%E5%88%86%E7%B1%BB/1685866:13b10431eb161383f3beffc8219f065709855237&quot;" server.page.revision="1685866" server.title="研究内容分类">
<pre>Type the text for 'New Tiddler'</pre>
</div>
<div title="科学管理" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="a6e2ad83f0be3840815f29c617b3df86fc9f3ef9" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%A7%91%E5%AD%A6%E7%AE%A1%E7%90%86/1188416:896e926ec33ef21198cbcf3b4131c56326d89204&quot;" server.page.revision="1188416" server.title="科学管理">
<pre>&lt;html&gt;&lt;p&gt;（1）科学管理理论所关心的主要是物的因素。&lt;/p&gt;&lt;p&gt;泰罗作为&amp;ldquo;科学管理之父&amp;rdquo;对管理理论的主要贡献是把经验上升为理论，著有《科学管理》一书。&lt;/p&gt;&lt;p&gt;法约尔认为，两个平行的指挥链的同级机构之间，在一定范围内进行信息沟通，就像搭一架桥一样，使二者直接沟通，后人之为&amp;ldquo;[[法约尔桥|data/20090823144212/index.html]]&amp;rdquo;。（计划、组织、指挥、协调与控制）&lt;/p&gt;&lt;/html&gt;</pre>
</div>
<div title="稀缺性" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="22a5a43c9356087c7eba36913f4ae37cb7ed3e61" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%A8%80%E7%BC%BA%E6%80%A7/1188407:453e72c1eabb9c184bab5da6c4536faeb69a1dcf&quot;" server.page.revision="1188407" server.title="稀缺性">
<pre>**信息资源的稀缺本质是什么？&lt;&lt;slider chkSlider 信息资源稀缺的讨论 讨论&gt;&gt;</pre>
</div>
<div title="穿墙术" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="bf2845c8011b60657f514b6fdf939ef7b080fade" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%A9%BF%E5%A2%99%E6%9C%AF/1188409:2757610b28d3bd3c2f7d401e666ccc5870955526&quot;" server.page.revision="1188409" server.title="穿墙术">
<pre>*代理
**使用公开的代理列表，比如[[Orzin|zotero://attachment/16123/www.orzin.com.html]]
**使用匿名代理，比如[[Anonymouse|zotero://attachment/11234/anonwww.html]]、[[proxify|zotero://attachment/3692/proxify.com.html]]
*电子邮件服务
**利用电子邮件获取网页，比如[[Web2Mail|zotero://attachment/1299/welcome.html]]
*IP地址
**将域名转换为IP地址进行访问，用于关键词屏蔽而非IP屏蔽的地址。工具如[[hcidata|zotero://attachment/3531/host2ip.html]]。网址[[在这里|http://www.hcidata.info/host2ip.cgi]]
*使用Google Cache
**即网页快照，百度的可用，但Google的不能用。我们可以通过在FF中装插件的方式使用，效果很好。我们这里以Twitter 的检索为例，[[在Google中检索Twitter inforabbi|zotero://attachment/1015/]]，我们[[进入缓存看看|zotero://attachment/1017/]]
*Firefox的各种扩展
**比如Gladder、Torbutton
*带Tor
**@@color(#ff0000):Torpark浏览器@@，[[这里可以下载|http://www.download.com/Torpark/3000-2356_4-10586816.html]]
*其他专门浏览器
**比如@@color(#ff0000):无界浏览@@、@@color(#ff0000):自由门@@
</pre>
</div>
<div title="第一章" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201508310444" tags="章节 课程内容" _hash="ebee787b7d519636c39d79ffd72c4e7e723262be" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%AC%AC%E4%B8%80%E7%AB%A0/2326134:85fa5c0ce6969f5a7afb74201997302970c82551&quot;" server.page.revision="2326134" server.title="第一章">
<pre>!信息与信息管理
*&lt;&lt;slider chkSlider 关于信息的问题 关于信息&gt;&gt;
*&lt;&lt;slider chkSlider 信息化与信息社会的问题 信息化与信息社会&gt;&gt;
*&lt;&lt;slider chkSlider 信息管理概述问题 信息管理概述&gt;&gt;
*&lt;&lt;slider chkSlider 信息管理沿革问题 信息管理沿革与发展&gt;&gt;</pre>
</div>
<div title="第七章" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201311201623" tags="章节 课程内容" _hash="20b29f14057d27c370972fd8ab5220b4f6a6f861" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%AC%AC%E4%B8%83%E7%AB%A0/1547064:35dca18b58f0d51018e8be637d1aa07c3dc47655&quot;" server.page.revision="1547064" server.title="第七章">
<pre>!信息服务
*信息服务的内容与方式
**信息服务的含义与内容
**信息服务的特性
**信息服务的原则
**信息服务的类型及方式
*现代信息服务的主要环节
**现代信息服务的兴起
**信息服务的价值产生与定位
**信息服务设计
**信息服务营销
*信息用户及其需求和行为研究
**用户的信息需求
**用户信息行为及其特征和规律
**信息用户研究的内容
**信息用户的研究方法
*网络信息服务于网络用户
**网络信息服务
**网络用户的信息需求
**网络环境下的用户信息行为</pre>
</div>
<div title="第三章" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201410290526" tags="章节 课程内容" _hash="ed55fd779d22a35f6f2f2558aa2796a50ddff258" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%AC%AC%E4%B8%89%E7%AB%A0/1944709:6b2dfee5f6ba7b390a9c79f576366308782a0c90&quot;" server.page.revision="1944709" server.title="第三章">
<pre>!信息分布
*信息产生与分布中的马太效应
**马太效应的表现和作用形式
**马太效应的负面影响
*信息内容的离散分布规律
**布拉德福定律
**齐夫定律
*信息生产者分布规律
**洛特卡定律
**普赖斯定律
*信息对时间的分布规律
**指数增长律
***普赖斯曲线
***生长曲线
**逐渐过时律
***文献半衰期
***文献信息老化因素
*网络信息资源分布规律
**网络信息内容分布规律
**网络信息生产者分布规律
**网络信息的时间分布规律
***网络信息增长规律
***网络信息老化规律
[[长尾理论|http://www.tobaccochina.com/UploadFiles/pic/20061108105840.jpg]]</pre>
</div>
<div title="第九章" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201311201623" tags="章节 课程内容" _hash="23ad3ff7f722f94b52e59bf3fa4060d86cf26653" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%AC%AC%E4%B9%9D%E7%AB%A0/1547067:29c8800aee6ba53bb693ce642411ebfd6ba0df73&quot;" server.page.revision="1547067" server.title="第九章">
<pre>!信息机构及其管理
*信息机构的类型与职能
**信息机构的含义及类型
**信息机构的职能
*信息机构的运行与管理
**信息机构的运行机制与运行效率
**信息机构的管理策略
**信息机构核心竞争力的识别与发展
*公益性信息机构及其管理
**公益性信息机构的性质与定位
**公益性信息机构的经营思想
**公益性信息机构的协作管理
*营利性信息机构的市场营销管理
**营利性信息机构的市场营销战略
**营利性信息机构的市场营销策略
*网络环境下信息机构的发展
**网络时代的图书馆
**数据库服务商
**网络信息公司
</pre>
</div>
<div title="第二章" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201311201622" tags="章节 课程内容" _hash="c925f0ceac62dac9ca6b83bd6822afd8ce9d9298" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%AC%AC%E4%BA%8C%E7%AB%A0/1547053:a1436df9ec74c35c23c51d9808fc99fb609e9d67&quot;" server.page.revision="1547053" server.title="第二章">
<pre>!信息交流
*信息交流的基本概念
**信息交流的分类
**信息交流的含义和特征
**信息交流行为
**信息交流的条件和要素
*信息交流的模式
**香农－维弗的通信模型
**拉斯韦尔的5W模式
**施拉姆模型
**维克利的S-C-R模式
**A.H.米哈伊洛夫广义的科学交流系统模式
*信息交流机制
**社会信息流的行程
**信息交流与传播中的栈
**直接交流与社会代理交流
**信息传递模式
*网络应用：网络信息交流
**网络信息交流的兴起
**网络信息交流的模式与特点
**Web2.0环境下的信息交流
**移动信息交流

!Notes:
*the key point with information management is not just data management, because data are carriers and not the informing content itself. 
* According to Locke, information is a fact; according to Leibniz, real information is incorporated in the models by which we under- stand the reality. Following Kant there are many competing ways of looking at reality, sometimes resulting in useful complementary insights, and Hegel would probably regard information as a means for people with different views of reality to support their interests. The Lockean and Leibnizian models emphasize the need for objective information, whereas the Kantian view emphasizes the subjectivity of information. The Hegelian view emphasizes the action dimension of information, and the Singerian view emphasizes progress. 可以看看[[Inquiry System]]
</pre>
</div>
<div title="第五章" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201409110419" tags="章节 课程内容" _hash="aa20d9b888982ecc65436af58dd9839a7b630a40" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%AC%AC%E4%BA%94%E7%AB%A0/1884185:c74e4872e4418c43fc9fc05ccdd780aabd87aa8b&quot;" server.page.revision="1884185" server.title="第五章">
<pre>!信息组织
*信息组织的基本原理
**信息组织的概念和内容
**信息组织的类型
**信息组织的原则
**信息组织的理论基础
*信息组织的思想方法
**分类法
**主题法
**分类-主题一体化
*信息的描述与揭示
**信息标引
**MARC
**元数据
**通用标记语言及其相关标准
*网络信息资源组织
**网络信息组织的特点
**网络信息分类组织
**网络信息主题组织
**基于本体的网络信息组织
**网络信息组织方式
**[[Web2.0网络信息组织]]
*知识组织
**知识组织含义及特征
**知识表示
**知识组织技术与方法
![[英文课件|http://inforabbi.opendrive.com/files/Ml8zNjE2MTU3NF82ZVR5Wl85NTAz/whatisioa-fcl-090727141556-phpapp01.ppt]]


</pre>
</div>
<div title="第八章" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201311201623" tags="章节 课程内容" _hash="908b4ad2e8cdaf8ae455c0894515b435566ddf6f" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%AC%AC%E5%85%AB%E7%AB%A0/1547065:15d5c3d223b81c8d3c6b5b163a683a5d4cbc3ab8&quot;" server.page.revision="1547065" server.title="第八章">
<pre>!信息系统
*信息系统的基本概念
**系统的概念
**信息系统的概念与功能
**信息系统的发展与类型
**信息系统的架构模式
*信息系统的开发
**技术基础与运行环境
**信息系统开发的阶段
**信息系统开发方法
*信息系统的管理
**信息系统项目管理
**信息系统质量管理
**信息系统运行与维护管理
**信息系统评价
*信息系统的安全
**信息系统安全的含义
**信息系统安全体系结构
**信息系统安全保护策略
**信息系统安全技术</pre>
</div>
<div title="第六章" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201311201623" tags="章节 课程内容" _hash="7ab143045ca9af676b43b33042d8d5ae340cae1a" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%AC%AC%E5%85%AD%E7%AB%A0/1547061:1b421855ee9ef0ec659b728d4a79e6c47a190abc&quot;" server.page.revision="1547061" server.title="第六章">
<pre>!信息检索
*信息检索的基本概念与原理
**信息检索的涵义
**信息检索的类型与特性
**信息检索的基本原理
**信息检索的模型
*信息检索的发展历程
**手工信息检索阶段
**机械信息检索阶段
**计算机信息检索阶段
**网络信息检索阶段
*信息检索的技术与方法
**手工信息检索的技术与方法
**机械信息检索的技术与方法
**计算机信息检索的技术与方法
**网络信息检索的技术与方法
*信息检索的步骤与策略
**信息检索的步骤
**信息检索策略
**信息检索语言
**信息检索效率的评价
*网络信息检索
**网络信息检索的特点
**网络信息检索工具
**搜索引擎及其应用
**网络信息检索发展趋势</pre>
</div>
<div title="第十一章" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="0ea56f121ce0943deec1aa0d466adc4dee31f1c8" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AB%A0/1188420:3583840c34333c86cfa300a00c9fdebd63519eb9&quot;" server.page.revision="1188420" server.title="第十一章">
<pre>!信息管理案例分析
案例1：海尔公司步入信息化时代
案例2：神龙公司供应链管理
案例3：“格力造”ERP
案例4：CRM让融氏远离脱节
案例5：扬子汽车电子商务应用
案例6：沈飞公司的信息工作
案例7：龙涤集团信息化成功之路
案例8：江铃国际集团MIS
案例9：长虹MIS的实践经验
[[更多案例]]</pre>
</div>
<div title="第十章" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201311201623" tags="章节 课程内容" _hash="7b07eb9bce1406dfd85941b1678a91598eb53fd8" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%AC%AC%E5%8D%81%E7%AB%A0/1547068:3c7308188959bb09a095f751cd103b09eb132702&quot;" server.page.revision="1547068" server.title="第十章">
<pre>!信息政策与信息法律
*信息政策
**信息政策的基本问题
**国家信息政策体系的构建
**国内外信息政策概述
*信息法律
**信息法律的基本问题
**信息法律与信息政策的关系
**信息法律体系
**信息法律的立法模式
*信息政策与法律的制定原则
*网络环境下的信息政策与信息法律
**网络信息政策
**网络环境下的信息法律
</pre>
</div>
<div title="第四章" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201311201622" tags="章节 课程内容" _hash="63519720de6aa7d67cb5627c3dc69ed169dd4110" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%AC%AC%E5%9B%9B%E7%AB%A0/1547055:9c16e80da6e336218372a1e86f6e6164bfb1412a&quot;" server.page.revision="1547055" server.title="第四章">
<pre>!信息获取
*信息源概念
*信息源的分类及特征
**记录型信息源
**实物信息源
**智力型信息源
**零次信息源
*信息的评价与选择
**信息评价的一般指标
**信息源的评价与选择
**信息准确性的评价
**信息经济性的评价
*信息获取的途径
**信息获取效率指标
**信息搜集的原则
**信息搜集的方法与途径
*网络信息的评价与获取
**网络信息源及其特点
**网络信息的评价
**网络信息的获取

!OA资源
*&lt;&lt;slider chkSlider OA的概念 概念&gt;&gt;
*&lt;&lt;slider chkSlider OA产生的历史背景  产生背景&gt;&gt;
*&lt;&lt;slider chkSlider OA的特点 特点&gt;&gt;
*&lt;&lt;slider chkSlider OA的实现方式 实现方式&gt;&gt;
*&lt;&lt;slider chkSlider OA资源检索路径 检索路径&gt;&gt;
*&lt;&lt;slider chkSlider 穿墙术 常用简易穿墙术&gt;&gt;
*&lt;&lt;slider chkSlider RSS介绍与使用  RSS及其利用&gt;&gt;


</pre>
</div>
<div title="管理中的信息图" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="62c2792a6eac057d7bfd44c24f5098baa77212b5" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%AE%A1%E7%90%86%E4%B8%AD%E7%9A%84%E4%BF%A1%E6%81%AF%E5%9B%BE/1188423:4afe0bdd02450a4e2736de1f181a04c401143170&quot;" server.page.revision="1188423" server.title="管理中的信息图">
<pre>[img[管理中的信息图|2009-08-23_150315.png]]</pre>
</div>
<div title="管理和管理科学" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="32a354c666e267a68047f69933a4e35852b180da" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%AE%A1%E7%90%86%E5%92%8C%E7%AE%A1%E7%90%86%E7%A7%91%E5%AD%A6/1188433:3b9c9213e1050fe1096ba064ce429498ffb959d2&quot;" server.page.revision="1188433" server.title="管理和管理科学">
<pre>&lt;html&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(0, 0, 255); &quot;&gt;&lt;span style=&quot;font-size: x-large; &quot;&gt;&lt;strong&gt;概念&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: larger; &quot;&gt;&lt;strong&gt;&lt;&lt;slider chkSlider 管理概念 管理：&gt;&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: larger; &quot;&gt;&lt;strong&gt;&lt;&lt;slider chkSlider 管理科学概念 管理科学：&gt;&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/html&gt;</pre>
</div>
<div title="管理思想" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="df0f18be450985287ec1eac6241507377b4caf5b" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%AE%A1%E7%90%86%E6%80%9D%E6%83%B3/1188424:85285255a36e5926021aac7c1fe47858581dc8e1&quot;" server.page.revision="1188424" server.title="管理思想">
<pre>就管理科学（广义）自身的发展而言，大体可分为科学管理理论，行为科学理论和当代管理理论三个阶段。科学管理理论，行为科学理论和当代管理理论

&lt;&lt;slider chkSlider 科学管理 科学管理理论&gt;&gt;

&lt;&lt;slider chkSlider 行为科学理论 行为科学理论&gt;&gt;

&lt;&lt;slider chkSlider 现代管理理论 当代管理理论&gt;&gt;

&lt;&lt;slider chkSlider 管理思想总结 总结&gt;&gt;</pre>
</div>
<div title="管理思想总结" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="f8ee35445fc7334db04d523881d1676abf6bafc6" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%AE%A1%E7%90%86%E6%80%9D%E6%83%B3%E6%80%BB%E7%BB%93/1188425:11f583ab162dd70fab92f8f778ac2e912af14a55&quot;" server.page.revision="1188425" server.title="管理思想总结">
<pre>管理中对信息认识和利用程度的高低，是管理理论和实践发展的一个重要标志。
        
 概括起来，管理思想的发展过程也就是从科学管理的思想到信息资源管理的思想的演变过程，是管理重心从物的管理到人本管理再到[[信息资源管理]]的变化过程。  </pre>
</div>
<div title="管理概念" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="ff8e173799969306e0a8779cc533599bff3c8d39" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%AE%A1%E7%90%86%E6%A6%82%E5%BF%B5/1188430:247507f525366317c3ac91bf8679f371794cbfb3&quot;" server.page.revision="1188430" server.title="管理概念">
<pre>是通过计划、组织、指挥、协调、控制等基本管理功能，有效地利用人力、财力、物力、设备、技术、信息诸种因素，促使它们密切配合，发挥它们最高的效率，以达到预期的目标。</pre>
</div>
<div title="管理科学学派" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="47341f9f849c145def8333277699056ffac9b7f8" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%AE%A1%E7%90%86%E7%A7%91%E5%AD%A6%E5%AD%A6%E6%B4%BE/1188426:d6ce9685e7e599fb050672b7b3a162cb6f03674c&quot;" server.page.revision="1188426" server.title="管理科学学派">
<pre>管理科学学派并不研究管理科学理论问题，而是要把现代自然科学技术的新成果（运筹学、计算机信息系统等）运用到管理上形成新的管理技术。  </pre>
</div>
<div title="管理科学概念" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="89d73bcf6e7e1457add6e964cc988f79504f10cc" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%AE%A1%E7%90%86%E7%A7%91%E5%AD%A6%E6%A6%82%E5%BF%B5/1188427:1b6c95ece02a3ddd6df5cbdf54ac545561baaf5c&quot;" server.page.revision="1188427" server.title="管理科学概念">
<pre>是在长期管理实践的基础上产生的，在当今社会又扮演着与科学技术同等重要的角色。

管理科学通常有广义和狭义两种解释。

广义的解释是有关管理的科学，凡有关管理的理论都可称为管理科学；

狭义的解释则指西方管理学中的一个学派，即[[管理科学学派]]，该学派又称管理中的数量学派，它几乎是运筹学的同义语。</pre>
</div>
<div title="粉丝" creator="inforabbi" modifier="inforabbi" created="201509131717" modified="201509210646" _hash="646293033ff8c76a192a0d6f8059181390c6ed31" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_private" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_private" server.etag="&quot;gcsim_private/%E7%B2%89%E4%B8%9D/2343186:c76877fb7e2b908033edb1bdcea439d714060377&quot;" server.page.revision="2343186" server.title="粉丝">
<pre>&lt;&lt;followers&gt;&gt;</pre>
</div>
<div title="系统论" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="afd20af80ec20b390967de287cb46131e56266eb" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%B3%BB%E7%BB%9F%E8%AE%BA/1188428:b7165bb398a20e35f27cf03ba14784f2bc78fb92&quot;" server.page.revision="1188428" server.title="系统论">
<pre>*系统论是研究系统的一般模式，结构和规律的学问，它研究各种系统的共同特征，用数学方法定量地描述其功能，寻求并确立适用于一切系统的原理、原则和数学模型，是具有逻辑和数学性质的一门新兴的科学。其创始人是&lt;&lt;slider chkSlider 贝塔朗菲 贝塔朗菲&gt;&gt;，他的专著：[[《一般系统理论——基础、发展和应用》（《General System Theory; Foundations, Development, Applications》）]]，该书被公认为是系统论的代表作。
*在系统论的学习中，我们需要去掌握一种系统性思想方法，即系统论里面的一个基本的定律：@@color(#ff0033):整体大于各孤立部分的总和@@。&lt;&lt;slider chkslider 系统论案例 案例&gt;&gt;。&lt;&lt;slider chkslider 系统论案例启示 启示&gt;&gt;
*关于系统论的学习，可以&lt;&lt;slider chkSlider 系统论总结 有这样的总结&gt;&gt;</pre>
</div>
<div title="系统论总结" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="a2303d6677b51b0cc9042ea9adecc7065cf0c7fb" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%B3%BB%E7%BB%9F%E8%AE%BA%E6%80%BB%E7%BB%93/1188429:a32c1c98f271a571a7e3b73b18848c6d899c7a50&quot;" server.page.revision="1188429" server.title="系统论总结">
<pre>1、系统的概念与特性
　　系统是由相互关联、相互制约、相互作用的若干要素组成的具有特定功能的有机整体，主要具有以下7个特性。
　　（1）集合性。系统不是个体，而是集合体、统一体、整体。
　　（2）关联性。构成系统的每个要素都相互联系、相互依存，形成一个完整的过程。
　　（3）目的性。系统主要分为自然系统和人工系统。前者是自然界客观存在的系统，一般没有明确的目的；后者是为体现人们意志所组成的系统，有明确的目的，一般是可以控制的。
　　（4）层次性。系统分为各个层次，一个系统既可能包含若干个子系统，又可能被包含于更大的系统之中。
　　（5）环境适应性。系统内部的各要素，除彼此紧密关联外，还与系统外部的事物有关，但联系不那么紧密。这些有关的外部事物就是系统的环境，系统必须与环境相适应。
　　（6）动态性。系统的发展变化是永恒的，世界上没有真正的静态系统。凡是系统，都具有时间序列。
　　（7）有序性。系统在空间上表现相互关联的层次，在时间上表现演化动态。因此系统具有空间、时间和功能的有序性质，越有序的系统，其组织化程度越高。
2、系统思想
　　体现系统的整体性和关联性的思想，即为系统思想，主要包括：全面地，而不是局部地看问题；连贯地，而不是孤立地看问题；发展地，而不是静止地看问题；灵活地，而不是呆板地看问题。
３、系统方法的几项基本原则
　　（1）整体性原则。整体性是系统、要素和环境之间的辩证统一。怎样理解系统的整体性呢？①系统的性质和规律，只有在整体中才能显示，而这种整体的性质并非各个单独的要素所具备的。系统理论的创始人贝塔朗菲提出组成系统的著名定律：“整体大于各孤立部分的总和”。这就是说，任何系统虽由若干要素构成，但系统在整体功能和行为、运动性质和规律上，又与构成它的各要素完全不同。②系统内部各要素的性质和行为，都会影响到整体的性质和行为。为了发挥整体功能，各要素一定要把系统看成一个有机整体，在要素与整体之间发生矛盾时，各要素一定要服从全局。③系统内部各要素的性质和行为，依赖于其它要素的性质和行为。
　　（2）结构-功能原则。结构指系统内各要素之间的有机联系和相互作用的方式，结构具有稳定性、层次性、相对性和变异性等。功能指系统与外部环境相互作用、相互联系的效应和能力，功能是多样的、可变的。结构是功能的基础，有什么样的结构，就有什么样的功能。
　　所谓结构一功能原则，就是依据结构、功能的性质及其相互关系，分析研究各种系统，进行结构的复制或功能的模拟，把握结构与功能的辩证发展规律。
　　（3）目的性原则。目的性是人或动物本能的一种行为或意图。对人来讲，目的性指有意识地追求目标；对动物来讲，目的性指机体对环境的适应。所谓目的性原则，就是研究任何一个系统所趋向或所追求的目标，并采取相应的手段与方法，促使该目标实现。
　　（4）最优化原则。从广义上来说，最优化是使一项决策或设计的系统尽可能地完善；从狭义上来说，最优化是实现某种目标的最好途径和方法；从数学上来说，最优化是指在某些约束下使目标函数达到极大值或极小值。所谓最优化原则，是指在给定条件下利用各种手段和方法促使系统实现最佳目标。一般说来，系统的最优，不一定是各个要素最优，这是由系统的整体性原则所决定的。
　　（5）动态性原则。就是把系统内部存在着的一些相互关系和相互作用看成是经常变化的。这些关系和作用不一定是简单的线性相加，有时个别要素的变化常常会引起系统的变化。所以要把系统当作一个动态事物来研究。 </pre>
</div>
<div title="系统论案例" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="cfcf060d46388250f9038b988b452353e0fa1114" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%B3%BB%E7%BB%9F%E8%AE%BA%E6%A1%88%E4%BE%8B/1188431:cca55f984c3650b69dda8e11f71e9648ddbb725a&quot;" server.page.revision="1188431" server.title="系统论案例">
<pre>@@color(#000099):二战时期，奥斯维辛集中营中一位犹太人对儿子说：“现在我们唯一的财富就是我们的智慧。当别人说一加一等于二的时候，你应该想到大于二。”德国纳粹在此毒死了53万多人，这对父子却奇迹般活了下来。1946年，他们来到美国，在休斯敦做铜器生意。一天，父亲问儿子一磅铜的价格是多少？儿子答35美分。父亲说：“对，整个得克萨斯州都知道这个价格，但作为犹太人的儿子应该说3.5美元。你试着把一磅铜做成门把柄看看！”20 年后，父亲死了，儿子独自经营铜器店。他做过铜鼓、瑞士表上的簧片、奥运会的奖牌。他曾将一磅铜卖到3500美元，不过，这时他已是麦考尔公司的董事长。

    1974年，美国政府为清理给自由女神翻新扔下的废料，向社会广泛招标，正在法国旅行的这位董事长得到信息后立即飞往纽约。他看过自由女神下堆积如山的铜块、螺丝和木料，马上签约揽了下来。纽约许多运输公司都为他的愚蠢举动暗自发笑，因为该州对垃圾的处理有严格的规定，弄不好就要受到环保组织的起诉。他让人把废铜熔化，铸成小自由女神像；把水泥块和木头加工成底座；把废铅、废铝做成纽约广场的钥匙；最后，他甚至把从女神身上扫下的灰尘都包装起来，出售给花店。他让这堆废料变成了350万美元的现金，使每磅铜的价格整整翻了1万倍！ @@</pre>
</div>
<div title="系统论案例启示" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="72d8064ed0bda97870630d821d761787cb28e04d" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%B3%BB%E7%BB%9F%E8%AE%BA%E6%A1%88%E4%BE%8B%E5%90%AF%E7%A4%BA/1188432:52cc54b0c133c4cefa029dc6df7c5df5745d7fb6&quot;" server.page.revision="1188432" server.title="系统论案例启示">
<pre>@@color(#ff0033):这位犹太人的思维方法，就是我们常说的系统性思想方法。所谓系统，就是指由若干相互联系、相互作用的要素组成的具有一定层次结构和功能的统一整体。一般来说，组成系统的事物，其整体功能往往大于各孤立部分之和。这位犹太人在处理自由女神像废料过程中充分展示了其娴熟的系统性思想方法。他先整体看待这堆废料，它们都直接联系着自由女神像；再分门别类地将垃圾清理，根据其用途不同做成不同的东西卖掉，层次分明；最后打着“自由女神”的旗号，获得了可观的整体收益。其思维模式应该是：“整体——层次（分类）——整体”。@@</pre>
</div>
<div title="综合性的研究方法" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="a2969e2b79bdd96cec056882b5572d2f2c9f5987" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E7%BB%BC%E5%90%88%E6%80%A7%E7%9A%84%E7%A0%94%E7%A9%B6%E6%96%B9%E6%B3%95/1188435:7977b667e8286b66a36305187d0911f20d4b755a&quot;" server.page.revision="1188435" server.title="综合性的研究方法">
<pre>[img[2009-10-11_221017.png]]</pre>
</div>
<div title="考核" creator="inforabbi" modifier="inforabbi" created="201609131430" modified="201609131430" _hash="dd2c04b8f814b0f1d3db1e5bf714699b2213962d" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_private" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_private" server.etag="&quot;gcsim_private/%E8%80%83%E6%A0%B8/2558959:7df0fe1bee43619537debd7377743e7e6431fb1b&quot;" server.page.revision="2558959" server.title="考核">
<pre>（一）平时考核
平时考核，注重考查学生全学期的学习状况，包括课堂表现、完成作业、空间构建等，所占比例为25%。该课程平时成绩考核包括：考勤（占5%）、随堂作业与课堂讨论:每次课程均会有针对课程教学内容的作业，需要学生利用课余时间完成，并提交在各自的Tiddlyspace学习空间内，目的是培养学生收集资料和独立思考的能力。课堂讨论以信息管理当前热点知识，通过小组的形式展开讨论并形成书面文字记录，同时提交到课程的Tiddlyspace空间内（占10%），个人课程学习信息管理空间之个人Tiddlyspace构建，每个学生完成其Tiddlyspace的构建，掌握基于该空间的个人信息管理方法、信息组织方法、信息交流方法。以每个人空间建构的完善程度考评。（占10%）。
在Tiddlyspace构建的过程中对英文help文档的掌握应用情况将作为双语课程重要的考核内容。
（二）实践考核
实践考核即是利用课程的实践教学环节来考察学生理论联系实际的能力，侧重对学生理解、分析、应用能力的考查，通过考核，引导学生将所学理论与实践结合起来，学会对信息管理（各个层面）的相关问题进行深入分析思考，灵活运用理论来解决问题。
本课程的实践环节包括四次共12学时的实践课程，实践课程的内容涉及到信息交流、信息组织、信息检索、信息系统等信息管理课程中的核心内容，每次实践课程包括若干题目，学生要求完成所有的题目。本部分的考核主要包括针对实践项目的讨论（口试）（占15%）和实践项目的完成并形成相应的实验实践报告文本（占15%）。完成实践考核的预先准备材料以及完成的文本均在个人的Tiddlyspace空间展示，必要的时候学生在课堂上展示说明自己Tiddlyspace空间内的相关内容。
实践课程的考核安排在实践学时中，第一次实践学时中有45分钟的引导与讲解，下一次实践学时抽45分钟完成对上一次实践内容的考核。
（三）期终考核
新的期终考核方式将采用闭卷考试的方式，试题包括名词解释、填空、简答、论述以及应用分析等题型。要求学生在规定的时间内完成试卷。
考试时间：学期末根据学校统一的安排时间和地点。

</pre>
</div>
<div title="胡塞因的信息资源管理理论" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="8b8eb43ddae7475d803fbf9b3e0515a0333873c2" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E8%83%A1%E5%A1%9E%E5%9B%A0%E7%9A%84%E4%BF%A1%E6%81%AF%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E7%90%86%E8%AE%BA/1188434:13e60eed013f5535537954558d342a9295128ce9&quot;" server.page.revision="1188434" server.title="胡塞因的信息资源管理理论">
<pre> 美国新墨西哥州立大学的D·胡赛因（D·Hussain）和K·M·胡赛因（K·M·Hussain）在1984年出版了“Information Resource Management”[24]一书，这是为管理学专业本科高年级学生和硕士生所写的一部教材。该书共分7单元22章，内容如下：计算机资源[（1）导论；（2）计算机处理器；（3）软件；（4）外围设备；（5）数据]、计算机资源的获取[(6)选择供应商；（7）财务与合同]、系统发展[（8）信息系统的规划；（9）信息系统的发展；（10）项目管理]、资源控制[（11）性能评价；（12）质量控制；（13）隐私与安权；（14）计算机系统的审计]、处理与管理[（15）处理与系统改造；（16）计算机处理的预算；（17）标准；（18）变化的管理阻力]、资源组织[（19）计算机部门的组织；（20）分布式数据的处理；（21）计算机中心的监控；（22）计算机部门的用人；（23）计算机服务]、计算机处理的环境[（24）计算机产业；（25）计算机在管理中的影响；（26）计算机与法律；（27）系统为什么成功或失败]。
    胡赛因的信息资源管理理论准确地说是一种“计算机资源管理理论”，其核心是信息系统的开发、管理和计算机在工商企业领域的应用问题，因此它又称为“管理中的信息系统理论。”在该书第一部分的开篇，作者基于自己对计算机资源的理解，设计了信息资源管理的框架结构（见图2.3），其中，第一部分为没有计算机知识的读者提供背景知识，其余六个部分则是计算机资源管理的展开。
    综观胡赛因的信息资源管理理论，可以归纳出这样一些特点：①注重计算机信息系统理论和管理理论的结合。如质量控制、计算机系统的审计、计算机处理的预算、变化的管理阻力、计算机部门的组织与用人、计算机在管理中的影响等章节标题就直观而充分地体现了这种结合；②强调应用性。一方面通过案例研究强调信息资源管理理论在工商企业管理中的应用，另一方面通过附在每章后的关键词、思考题、参考书目和附在书末的若干分考卷，强调其在教学中的应用；③突出实用性。通过大量图表、数据、事例，不仅详细地剖析了计算机和相关技术构成，而且还具体地介绍了如何选择供应商、如何评价计算机的性能、如何保证数据的安全、如何节省每一分钱等经验性知识；④深入浅出，通俗易懂。该书以流畅的大众化语言讲述计算机信息系统的专业理论知识，即使毫无计算机背景知识，也可得其门径而入，诚如作者所云，本课程“不需要先行课”；⑤计算机资源管理不等于信息资源管理，他充其量只是信息资源管理的一个子集，也就是说，该书存在名不符实的问题。
    任何理论都有其特定的时代背景和适合的生存空间，若将胡赛因的信息资源管理理论置于80年代中期的美国，以管理和其他非计算机专业的学生和爱好者为对象，它无疑是非常受欢迎的能反映计算机发展前沿知识的热门理论，事实上，即便在因特网迅速发展的今天，它仍不失为有价值的参考书。但是，胡赛因的信息资源管理理论也有基础明显的缺陷：①它未对信息资源和信息资源管理等概念做任何解释，简单地以计算机资源取代信息资源，这种做法未免有赶时髦之嫌；②它是根据美国数据处理管理协会（Data Processing Management Association,DPMA）所推荐的CIS(computer information system)15号课程的要求所构建的理论体系，面向本科高年级学生和硕士生，但书中却大量地讲述计算机基础知识，这不能不导致重复问题；③信息资源管理理论从产生伊始就以战略层次的管理为主要内容，但该书却停留在信息系统管理的层次上，按霍顿等人的时期划分，这只是信息资源管理初级阶段的理论。当然，作为早期的信息资源管理理论之一，胡赛因在理论方面的缺陷是可以理解的，从某种意义上讲，他们的理论也是对信息资源管理的一种诠释。</pre>
</div>
<div title="艾略特的Rock" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="32de289806c1884d9ee7dbe9cdd575351b26c5ea" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E8%89%BE%E7%95%A5%E7%89%B9%E7%9A%84Rock/1188436:41b5cad127498c982e2e89237cd476ed1c8ec6f4&quot;" server.page.revision="1188436" server.title="艾略特的Rock">
<pre>{{{
   Where is the Life we have lost in living?

   Where is the wisdom we have lost in knowledge?

   Where is the knowledge we have lost in information?
}}}
这是Eliot1934年所写的Rock一诗中的句子，后来有好事者又加了一句：Where is the information we have lost in data?，有人翻译成了中文：
       
{{{
       生活中啊，我们消逝的生命在哪里？
       知识中啊，我们失去的智慧在哪里？
       信息中啊，我们遗漏的知识在哪里？
       数据中啊，我们丢失的信息在哪里？
}}}
</pre>
</div>
<div title="英文教材资料" creator="inforabbi" modifier="inforabbi" created="201309120610" modified="201312151633" _hash="e32223421e08d80aafb101b660bafc41e9c847d0" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E8%8B%B1%E6%96%87%E6%95%99%E6%9D%90%E8%B5%84%E6%96%99/1596764:f2f3c3297464be52cd6df421093521f8001f9d4f&quot;" server.page.revision="1596764" server.title="英文教材资料">
<pre>[[Inquiry System]]
[[约翰·洛克|http://zh.wikipedia.org/wiki/%E7%BA%A6%E7%BF%B0%C2%B7%E6%B4%9B%E5%85%8B]]
[[戈特弗里德·莱布尼茨|http://zh.wikipedia.org/wiki/%E8%8E%B1%E5%B8%83%E5%B0%BC%E8%8C%A8]]
[[格奥尔格·威廉·弗里德里希·黑格尔|http://zh.wikipedia.org/wiki/%E9%BB%91%E6%A0%BC%E5%B0%94]]
[[伊曼努尔·康德|http://zh.wikipedia.org/wiki/%E5%BA%B7%E5%BE%B7]]
[[彼得·辛格|http://zh.wikipedia.org/wiki/%E5%BD%BC%E5%BE%97%C2%B7%E8%BE%9B%E6%A0%BC]]
[[Triangulation]]</pre>
</div>
<div title="行为科学理论" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="cd51a655744793d2e08e02e973fdfce613dad2a5" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E8%A1%8C%E4%B8%BA%E7%A7%91%E5%AD%A6%E7%90%86%E8%AE%BA/1188437:2206bb8535ea62d71b5cbf85c173a09339f9a0cf&quot;" server.page.revision="1188437" server.title="行为科学理论">
<pre>（2）行为科学理论重视的是人的因素。      行为科学理论认为人是组织中最重要的资源，它纠正了古典管理理论忽视人的因素的局限性，标志着管理理论已发展到一个新的阶段。     梅奥通过有名的霍桑实验认为，职工是&amp;ldquo;社会人&amp;rdquo;，企业中存在着&amp;ldquo;非正式组织&amp;rdquo;，企业中管理人员的领导能力在于要同时具有技术&amp;mdash;&amp;mdash;经济的技能和人际关系的技能。      另外，根据明茨泊格的研究，管理实践中存在着沟通人际关系、传递信息和制定决策三类管理角色。成功的管理者同时扮演不同的管理角色。     这些都对信息联系问题作了一定的评价，从一定程度上肯定了信息在管理中的重要地位。</pre>
</div>
<div title="视频资源" creator="inforabbi" modifier="inforabbi" created="201409021422" modified="201509201826" _hash="24a9fd91d12c298352ff4614791f6eabf3d4d29c" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E8%A7%86%E9%A2%91%E8%B5%84%E6%BA%90/2342510:64fc4833010451acedc312f173166e6811d10329&quot;" server.page.revision="2342510" server.title="视频资源">
<pre>*央视：[[互联网时代]]
*[[Information R/evolution|http://v.youku.com/v_show/id_XNjEyNjAzMTY4.html?from=s1.8-1-1.2]]([[another one]])
*[[可汗的Ted演讲]]</pre>
</div>
<div title="该报告的主要发现" creator="inforabbi" modifier="librabbi" created="201304160708" modified="201411111656" _hash="cf7a239448d7ec5eda5b8f1735ccaa1b9080d933" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E8%AF%A5%E6%8A%A5%E5%91%8A%E7%9A%84%E4%B8%BB%E8%A6%81%E5%8F%91%E7%8E%B0/1962632:dbfe5061b8c5ecc8c11dd78460aab17b78b2cab7&quot;" server.page.revision="1962632" server.title="该报告的主要发现">
<pre>&lt;&lt;gradient horiz #ff8888 #ffdddd #ffffff&gt;&gt;''该报告的主要发现''&gt;&gt;
&lt;&lt;tabs tabsClass 
2012 '该年报告观点' 2012年的报告摘要
2013 '该年报告观点' 2013年的报告摘要
2014 '该年报告观点' 2014年的报告摘要&gt;&gt;



</pre>
</div>
<div title="语言学上的语法、语义、语用" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="8190ab12e8c1794ac049ff988cd1b1a188a19e96" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B8%8A%E7%9A%84%E8%AF%AD%E6%B3%95%E3%80%81%E8%AF%AD%E4%B9%89%E3%80%81%E8%AF%AD%E7%94%A8/1188440:c7f2bab24a8ae14aee46f71be88d98eef757b295&quot;" server.page.revision="1188440" server.title="语言学上的语法、语义、语用">
<pre>*@@color(red):语法、语义和语用这三个平面既有联系又有区别。语法是基础，语义和语用都要通过语法结构才能表现。语法结构中构成成分之间存在着诸如主谓、动宾、动补、偏正等语法关系意义，同时也存在着诸如动作与施事、受事、处所、工具等语义关系意义，还存在着诸如陈述、话题、焦点和预设、已知信息与新信息等语用意义。但是，语法、语义和语用实际上又处于不同平面上，它们之间并没有严格的对应。@@
*@@color(red):例如：“写文章”、“写粉笔”、“写黑板”，语法结构完全相同（动宾），但分别表达了“动作与结果”、“动作与工具”、“动作与处所”不同的语义关系；又如：“客人来了”与“来了客人”，两个句法结构的语义关系基本相同，“客人”与“来”都是“施事”与“动作”的关系，但语法关系分别是主谓和动宾。语用意义也不相同，前一个结构的“客人”是定指，表达已知信息，后一个结构的“客人”是非定指，表达新信息。@@</pre>
</div>
<div title="课前小调查" creator="inforabbi" modifier="inforabbi" created="201410150427" modified="201410150427" _hash="9d088014503e266c4816364300dfc5f26ae5ff8f" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_private" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_private" server.etag="&quot;gcsim_private/%E8%AF%BE%E5%89%8D%E5%B0%8F%E8%B0%83%E6%9F%A5/1921703:f4662b6a74d2c39c5bdcac2f67f02d7f4f7e340e&quot;" server.page.revision="1921703" server.title="课前小调查">
<pre>请用自己的话解释下列名词：
[[Google|data/20090824111602/index.html]]
[[del.icio.us|data/20090824111828/index.html]]
[[facebook|2009-08-24_122512.png]]
[[RSS|data/20090824112049/index.html]]
[[Twitter|data/20100901023456/index.html]]
Blog
Wiki和Wikipedia（[[中文|data/20090824112821/index.html]]、[[英文|data/20090824112833/index.html]]）
Firefox

一点插曲，关于[[我们的知识|data/20100901030654/index.html]]</pre>
</div>
<div title="课程简介" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="bbecfd1c280ccedf575ff7d29f10b7c4604242d9" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E8%AF%BE%E7%A8%8B%E7%AE%80%E4%BB%8B/1188448:3ed32f0373b0ceb037baf4b1080eb7c3abc0b0f8&quot;" server.page.revision="1188448" server.title="课程简介">
<pre>&lt;html&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;font-size: x-large;&quot;&gt;本课程的定位与目标：&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: medium; &quot;&gt;&amp;ldquo;信息管理学&amp;rdquo;是信息管理与信息系统专业的一门非常重要的专业基础课、专业入门课、专业导论课。该课程的目的是向学生介绍本专业领域的基础性和概论性知 识，为学习后续课程提供支持。
本课程根据人类社会信息过程的特点，从信息的产生、分布、获取、加工、检索、传递、利用这一主线展开，从微观、宏观两个层面，分析影响社会信息流控制的技术的、经济的、行政的、法律的、人文的方面的问题，行程具有严谨的内在逻辑结构的内容体系。
因为这个专业终究还是一个新的专业，学生往往缺乏对本专业领域的目标、任务的正确理解，甚至简单地把这个 专业等同于计算机技术专业，所以，入门课、导论课的开设很有必要，而且应该努力去开好。&lt;/span&gt;&lt;/p&gt;&lt;/html&gt;
*''@@以“信息技术应用为中心”转向“以信息资源管理为中心”的新观点，反映了信息系统建设发展的规律@@''

*@@''信息管理是目的，信息系统是手段，只有目的和手段相统一，才能真正推进信息化工作。''@@

*@@''信息管理是管理科学的一个分支。信息管理主要是指对信息资源进行的管理。信息管理的实质在于“管理过程”。信息管理的目的就是充分开发和有效利用信息资源。''@@</pre>
</div>
<div title="课程说明" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="9fd704fa458529332302d6f5c3a6bda14fc410f7" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E8%AF%BE%E7%A8%8B%E8%AF%B4%E6%98%8E/1188441:d8897fd40d2f36c2f1504d7192237f5a98710b56&quot;" server.page.revision="1188441" server.title="课程说明">
<pre>!&lt;&lt;slider chkSlider 课程简介 课程内容&gt;&gt;
!&lt;&lt;slider chkSlider 本课程参考书目 参考阅读书目&gt;&gt;
</pre>
</div>
<div title="贝塔朗菲" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="1b0a20c2f0ecc27f8bc6b222037b907df508a85e" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E8%B4%9D%E5%A1%94%E6%9C%97%E8%8F%B2/1188442:0228785651e60fbf16cbf7495a0f607782dea07d&quot;" server.page.revision="1188442" server.title="贝塔朗菲">
<pre>美籍奥地利理论生物学家。一般系统论的创始人。1901年9月19日生于奥地利首都维也纳附近的阿茨格斯多夫， 1972年6月12日卒于纽约州布法罗。@@color(#ff0033):1926 年获维也纳大学哲学博士学位@@，在该校任教。1937年起，先后在美国芝加哥大学、加拿大渥太华大学、阿尔贝塔大学、纽约州立大学等处任教。1954年，与A.拉波包特等人一起创建一般系统论研究会，出版《行为科学》杂志和《一般系统年鉴》。贝塔朗菲的重要贡献之一是建立关于生命组织的机体论，并由此发展成一般系统论。1937年，提出了一般系统论的初步框架，1945年在《德国哲学周刊》 18 期上发表    《关于一般系统论》的文章，但不久毁于战火，未被人们注意。1947年在美国讲学时再次提出系统论思想。1950年发表《物理学和生物学中的开放系统理论》。1955年专著《一般系统论》，成为该领域的奠基性著作。60～70年代受到人们重视。1972年发表《一般系统论的历史和现状》，把一般系统论扩展到系统科学范畴。 </pre>
</div>
<div title="这个产品就是它" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="ee4571a4b380645797898b1ca0bcb5553012a03d" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E8%BF%99%E4%B8%AA%E4%BA%A7%E5%93%81%E5%B0%B1%E6%98%AF%E5%AE%83/1188443:4037d5993329a050500e7eeedfe59d673d1f10ff&quot;" server.page.revision="1188443" server.title="这个产品就是它">
<pre>[img[iphoneimages.jpg]]</pre>
</div>
<div title="这里的图示" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="0be99522ef3306b540e66a4187f5df11224a8947" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E8%BF%99%E9%87%8C%E7%9A%84%E5%9B%BE%E7%A4%BA/1188444:01233a360f8b5528d4fd4e24e316fa55d79d974b&quot;" server.page.revision="1188444" server.title="这里的图示">
<pre>[img[Google internet stats.png]]</pre>
</div>
<div title="追踪" creator="inforabbi" modifier="inforabbi" created="201504191355" modified="201504191355" _hash="bbc353e3b421194b6cfcb21a68c30b3dc52e2651" server.content-type="" server.permissions="read, write, create, delete" server.bag="inforabbi_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/inforabbi_public" server.etag="&quot;inforabbi_public/%E8%BF%BD%E8%B8%AA/2184090:ea0f51b802881e6e6dd90d7da261d1aebf691882&quot;" server.page.revision="2184090" server.title="追踪">
<pre>[[feelly|http://feedly.com/]]</pre>
</div>
<div title="道德经" creator="inforabbi" modifier="inforabbi" created="201504191628" modified="201504191631" _hash="b485bea4448c01a4e1aac897aa3d92f042314c6a" server.content-type="" server.permissions="read, write, create, delete" server.bag="inforabbi_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/inforabbi_public" server.etag="&quot;inforabbi_public/%E9%81%93%E5%BE%B7%E7%BB%8F/2184203:858c1546065bf6517f44c42b591bcf40bc71bfb5&quot;" server.page.revision="2184203" server.title="道德经">
<pre>!一章
&gt;道可道，非常道；名可名，非常名。“无”名天地之始；“有”名万物之母。故常“无”，予以观其妙，常”有“观其徼。此两者，同出而易名，同谓之玄。玄之又玄，众妙之门。

</pre>
</div>
<div title="里克斯和高的信息资源管理理论" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="5780060a5858864257c737588c1bd0d852c9c820" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E9%87%8C%E5%85%8B%E6%96%AF%E5%92%8C%E9%AB%98%E7%9A%84%E4%BF%A1%E6%81%AF%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E7%90%86%E8%AE%BA/1188445:6d7e94ef418e3f652160e2b25621d5db5fc6d1c5&quot;" server.page.revision="1188445" server.title="里克斯和高的信息资源管理理论">
<pre>里克斯和高都是美国弗吉尼亚州的信息资源管理研究人员，里克斯在该州老自治领大学做管理学教授，高则是记录管理和办公自动化系统方面的顾问，他们于 1984年联合推出的《信息资源管理》（Information Resource Management）[3]代表了美国信息资源管理理论的另一种传统，这是一种类似我国文献信息学的信息资源管理理论。该书共分5单元20章，内容如下：导论[（1）记录管理系统]、系统规划[（2）功能规划；（3）记录处理规划；（4）设施规划；（5）分类系统的选择；（6）存贮设备与用品；（7）缩微记录学]、系统组织[（8）记录管理手册；（9）系统操作于检索；（10）集成信息系统；（11）应用特例]、系统人事[（12）记录管理者；（13）发展职员；（14）记录管理职业]、系统控制[（15）控制功能；（16）函件与复本控制；（17）文件指令控制；（18）表格和报告控制；（19）缩微记录控制；（20）记录安全与保障]。
    如前所述，美国联邦政府历来有重视记录管理的传统，早在1942年国会就通过了“联邦报告法”以控制联邦各机构的文书工作，此后又推出一系列有关记录管理的法案，1980年通过的“文书削减法”更明确地提出了信息资源管理的问题。里克斯和高的信息资源管理理论就是上述记录管理实践发展的直接产物，因此，实际上是一种记录管理理论。作者在“序言”中曾谈及信息资源和信息资源管理两个概念，但也仅此而已。“信息资源包括所有与信息的创造、采集、存储、检索、分配、利用、维护和控制有关的系统、程序、人力资源、组织结构、设备、用品和设施。信息资源管理则是为了有效地利用这一重要的组织资源而实施规划、组织、用人、指挥、控制的系统办法”。通观全书，里克斯和高的信息资源管理理论的核心概念是记录和记录管理系统，其体系结构大致由两部分构成，第一单元即导论部分是记录管理理论的浓缩，后四个单元即主体部分则是记录系统管理过程的理论展开。
    记录（record）是里克斯和高的记录管理理论的逻辑起点，它可以是记录在任何媒体上的信息。记录从形式上包括所有书籍、论文、图片、地图、信函、回忆录、文件、报告、表格、缩微胶卷、计算机磁盘、文字处理软盘、视盘、光盘乃至手稿等，从内容上则包括能够反映一个组织结构的功能、政策、决策、程序、操作和其它活动的资源。记录是一个组织结构的共同记忆，它既是一种组织资源又是一种组织财富；作为资源，它主要指记录所包含的信息内容本身；作为财富，它主要指记录信息的文献资料。比较而言，里克斯和高所理解的“记录”更接近于我国学者所理解的“文献信息”。
    记录管理系统（RMS）是里克斯和高的记录管理理论的有一核心概念，它是针对一定的目标，由输入、处理和输出三大板块所构成的有机体（见图2.4）。在图中，“处理板块”所包含的记录的创造、分配、利用、维护（包括整理和检索）、存储与删除过程也称为记录的生命周期，这是记录管理所依持的规律，是从记录角度展开的记录管理过程。
    记录系统管理的核心则是围绕记录系统的计划、组织、用人、控制而形成的理论，这可以看作是从管理角度展开的记录管理过程。计划取决于实现预期结果的方法而又决定着组织期望达到的目标，其对象包括记录管理系统本身及相关设施、设备及用品等；组织是实现计划的过程，内容包括编写记录管理手册、建立检索系统、整合信息技术、记录管理系统在不同领域的应用等；用人是一种人力资源规划，内容包括制订当前和未来的用人计划、招聘和安置新职员、培训和发展专门人才、对职员的表现进行评价等；控制是一种对照目标来衡量结果的功能，内容包括指挥、评估、提供反馈信息等。里克斯和高的记录管理理论主要是依据管理过程展开的，就此而言，它可以说是记录管理与管理理论的一种结合。
    里克斯和高的理论是产生于文献信息领域的信息资源管理理论，作为一种教材，它具有结构流畅、叙述简洁、内容丰富、案例生动、编排灵活、体例规范等优点，此外，该书末尾所附的档案管理、记录管理史、归档规则及考题等也颇有参考价值。然而，记录管理理论也为更多的涉及图书馆与情报服务等方面的内容，因此，记录管理理论只是一种扩大化的档案管理理论，其局限性是不言而喻的。</pre>
</div>
<div title="重要的笔记工具" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="98acf0f69ebd6e0984ff9b57bbd5fae20c21259f" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E9%87%8D%E8%A6%81%E7%9A%84%E7%AC%94%E8%AE%B0%E5%B7%A5%E5%85%B7/1188446:571359d94357eb6bf205acefa4a7b18ac8fcdc96&quot;" server.page.revision="1188446" server.title="重要的笔记工具">
<pre>&gt;个人信息组织工具：note
&gt;&gt;[[evernote|http://www.evernote.com]]
&gt;&gt; tomboy
&gt;&gt; onenote</pre>
</div>
<div title="霍顿IRM提炼" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="ed8a52f47b69928fd92a5df6d3f2c7173ed374e7" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E9%9C%8D%E9%A1%BFIRM%E6%8F%90%E7%82%BC/1188449:2c205286fa16f70d6daf99db7b3d73afafac1e8c&quot;" server.page.revision="1188449" server.title="霍顿IRM提炼">
<pre>霍顿作为IRM理论的奠基人，同时又是一位IRM的积极实践者。他最早使用了IRM这一术语。 概括起来，IRM思想主要有以下几点：
       （1）、信息资源是一种战略性资源；
         正是IRM的兴起，才使信息资源在组织中的战略地位得以确立，并最大限度地发挥信息资源的重要作用，实现信息资源的价值。
       （2）、必须将技术、经济、人文手段相结合，实现对信息资源的整体管理；
    IRM使信息管理摆脱了单纯依靠技术因素的观点，以一种全新的、综合的、系统的管理思想为指导，逐步成为管理科学中独立的领域。
   （3）、信息资源管理是一种观念，也是一种模式；
    IRM作为一种新的思想是管理思想的重要组成部分，具先进性。更重要的是，IRM提供了一种新的、更具实用性的信息管理模式。   
</pre>
</div>
<div title="霍顿其人" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="f74a026299c442c8572843d422f8b6af48600c83" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E9%9C%8D%E9%A1%BF%E5%85%B6%E4%BA%BA/1188452:770d2c1e274d0fa3399263dc6dfd5332d9762345&quot;" server.page.revision="1188452" server.title="霍顿其人">
<pre>FOREST WOODY HORTON, Ph.D.

Forest Woody Horton was born in Merced Falls, California, received an undergraduate degree from the University of California, Berkeley and graduate degrees from U.C.L.A. and Columbia University. He received his doctorate in Public Administration from the University of Lausanne in Lausanne, Switzerland.

Horton has served over 50years with the Federal Government, including three years of active duty military service. He began his career as a computer programmer and systems analyst, first using the IBM punched card equipment of the early 1950’s, and then the large IBM mainframes of the late 1950’s such as the 650, 704, 705, and 709. In the 1960-1980 period he served in a wide variety of ADP, MIS and IRM policy positions with a dozen different Federal agencies. He established and was the first Director of the Office of Information and Regulatory Affairs at OMB in 1967, where he was in charge of automating the Federal budget process from a manual process to IBM 1401’s and 1410’s. He was Studies Director for the Commission on Federal Paperwork in the 1974-1979 period. There he developed the Information Resources Management (IRM), Chief Information Officer (CIO), National Information Infrastructure, and other basic Federal information management concepts that were officially and formally advanced by the Commission in its reports to the Congress, and finally embodied in the original and successive reauthorizations of the Paperwork Reduction Act and OMB Circular A-130 on the Management of Federal Information Resources.

In the late 1980’s and 1990’s Horton worked as an independent consultant to various foreign governments, to U.S. and foreign private industry, and to library, information, and computer-related associations and societies. During this period he also taught for the University of Maryland in its overseas programs five different times, in Bermuda, Japan, Greece, Italy, and Germany. He also has delivered invited seminars and workshops in several dozen foreign countries, including Singapore, Thailand, China, Venezuela, Peru, Chile, Brazil, Mexico, Panama, Finland, Denmark, and others.

Beginning in 1990 as the head of the U.S. National Committee to FID, Horton became Vice President in 1994, and later was elected an Honorary Fellow in 1996. Dr. Horton is also a Lifetime Honorary Member of the Information Industry Association, an Honorary Fellow of the (UK) Institute of Information Scientists, and is a former International Vice President of the UK Association for Information Management (ASLIB). While in the Federal Government he was voted one of the top MIS consultants in the USA by Information Week, and in 1989 was inducted in the Government Computer News Hall of Fame.

In the summer of 1996 the National Commission on Libraries and Information Science, NCLIS, asked Dr. Horton to head up a project to survey the plans and practices of 24 Federal agencies in all three Branches of Government focusing on the problems associated with the increasing migration of public information products from older formats and mediums such as paper and microform, to the newer on-line approaches such as web-based government and commercial electronic information services. The main objective of the study was to assist the Superintendent of Documents and the Nation’s approximately 1400 Federal Depository Libraries better cope with the deluge of Federal electronic products, and the associated problems of permanent public accessibility, permanent records retention, preservation, authentication, metadata locator tools, and related Federal information policy areas.

In 1998 a second major study was undertaken aimed at identifying how to preserve the National Technical Information Service (NTIS), which had been planned to be jettisoned by the Department of Commerce. In 2000 a third, considerably larger in scope, and final study was undertaken at the request of Senators Lieberman and McCain to recommend broad statutory, policy, regulatory, and organizational reforms to the President and the Congress on how the Federal government is organized for public access to government information, and the laws, policies, and regulations followed to disseminate government information to the public. A final report was published in March 2001. The background and current progress of all three of these public information reform studies is at http://www.nclis.gov/govt/assess/assess.html

Currently Horton is helping to plan the first global information literacy leadership conference with UNESCO and the National Forum on Information Literacy, planned for 2002.

Horton has authored over 30 books and major technical monographs, and over 400 articles over the span of his career, including one work of fiction “The Technocrats.”

Dr. Horton lives in Washington, D.C., is the father of two daughters and the grandfather of five grandchildren. He travels extensively and, in addition to traveling, his hobby is collecting seashells.

Contact Information:

Dr. F. W. Horton, Jr.
Apt. B901
500-23rd Street N.W.
Washington, D.C. 20037
Telephone: (202) 293-5519
Fax: (202) 223-5534

[[资料来源|http://www.nclis.gov/libinter/infolitconf&amp;meet/horton-bio.html]]</pre>
</div>
<div title="霍顿的IRM理论" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="de085dac787d516c028d5da29db18e903c50c1e9" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E9%9C%8D%E9%A1%BF%E7%9A%84IRM%E7%90%86%E8%AE%BA/1188447:7e4a58f669ac56cbd675456364c18e414639c694&quot;" server.page.revision="1188447" server.title="霍顿的IRM理论">
<pre>*[[霍顿其人]]，一篇英文的介绍，各位权当阅读理解来读吧。
*关于霍顿的IRM理论思想，则请阅读这篇文章：[[霍顿信息管理思想简论|20071230_huodun.pdf]]
*总结来看，研究IRM，Forest Woody Horton 绝对是一座不能绕过的山，因此，对于[[霍顿的信息资源管理理论]]思想我们有必要进行&lt;&lt;slider ChkSlider 霍顿IRM提炼 简单提炼。&gt;&gt;
</pre>
</div>
<div title="霍顿的信息资源管理理论" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="92279ba5837533d8ccef9d8a8730f8794547b1ec" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E9%9C%8D%E9%A1%BF%E7%9A%84%E4%BF%A1%E6%81%AF%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E7%90%86%E8%AE%BA/1188450:d13ee717fe27fa091a6646cc4c0a97ba867b70a2&quot;" server.page.revision="1188450" server.title="霍顿的信息资源管理理论">
<pre>霍顿是美国著名的信息资源管理学家，曾在联邦文书委员会做信息管理方面的负责人，并且是许多外国政府和跨国公司（如IBM公司等）的信息管理顾问。霍顿在 1985年出版的《信息资源管理》(Information Resources Management)[6]中构建了一种面向应用的信息资源管理理论，这也是第一部真正以信息资源为逻辑起点的信息资源管理专著。该书共分5单元14 章，内容如下：生产率与信息资源管理[（1）生产率；（2）企事业单位中信息资源和财产的界定]、办公室的信息资源和财产的管理[（3）办公室信息流概述；（4）案例分析；（5）信息技术与产品在办公室的应用]、工厂信息资源和财产的管理[（6）工厂信息流概述；（7）关键工具与信息工程师的角色；（8）信息技术与产品在工厂的应用]、实验室信息资源与财产的管理[（9）实验室信息流概述；（10）案例分析；（11）信息技术与产品在实验室的应用]、信息资源管理的方法论[（12）信息资源管理方法论概述及其起点的确立；（13）信息资源和财产的成本估算与定价；（14）信息资源和财产的分析与综合]。
    霍顿的信息资源管理理论是以如何提高生产率这一命题为出发点的。他认为，适合于农业时代和工业时代的生产率概念——产业除以投入——已不能适应信息时代的需要，必须植入信息资源和财产概念以重新定义和测度生产率。他进一步区分了作为单数和复数的信息资源概念和信息财产该：作为单数的信息资源（resource）指信息内容本身，作为复数的信息资源（resources）指各种信息工具包括信息设备、信息用品、信息设施、信息工作者和其他信息处理工具，信息财产则指记录在任何媒体上的信息内容（诸如文献、书籍、数据库等）。信息是一种具有生命周期的资源，信息生命周期是信息运动的自然规律，它一般由信息需求的确定和信息资源的生产、采集、传递、处理、储存、传播与利用等阶段组成；信息资源管理就是基于信息生命周期的一种人类管理活动，是对信息资源实施规划、指导、预算、决策、审计和评估的过程。从信息资源管理产生的角度考察，信息资源管理是不同的信息技术和学科正和发展的产物，这些技术与学科包括管理信息系统、记录管理、自动化数据处理、电子通信网络等。
    霍顿信息资源管理理论的核心是办公室、工厂、实验室环境中信息资源和财产的管理问题。霍顿之所以选择这三种工作环境是因为许多大型机构都必须对付这三类问题，诸如大型跨国公司、联邦级或州级政府机构、大医院、大学、专业学会或协会等大都同时拥有办公室、工厂和实验室。九三种不同环境中的信息资源管理而言，其过程与方法大致是相同的细微之处，办公室管理更强调办公自动化、总裁工作站、无纸办公室、终端计算机利用等方面的活动，工厂管理更强调信息流对生产过程的导向与控制作用和信息工程师的核心作用，实验室管理则更注重研究与发展管理、信息产品管理和计算机信息系统的管理。在此，霍顿收集了许多实例以证实、展开和帮助人们理解不同环境中的信息资源管理问题，这些实例客观上也丰富和激活了其理论体系。
    霍顿信息资源管理理论的最后一个单元是关于信息资源管理方法论的论述，这些论述既是三种不同环境中信息资源管理理论的升华，，又是人们理解和运用信息资源管理理论的工具，还是信息资源管理理论逐步走向成熟的标志。霍顿的方法论是围绕信息资源管理过程的五个步骤展开的：①认识本单位的信息资源与财产；②估算所利用的信息资源的价值以准确地了解信息技术和辅助资源的成本；③根据信息资源在问题解答或决策制订过程中的重要程度确定信息资源的价格；④分析测度信息流和信息财产中的重迭与重复现象和信息资源不能满足信息需求的脱节现象；⑤综合上述要素，重建信息系统，更好地满足用户的信息需求。
    霍顿在1986年与马尔项合作出版的《信息趋势：从信息资源中获利》（Information: Profiting From  Your Information  Resources）[25]一书中进一步发展了自己的信息资源管理理论，该书强调每一个企业都必须将信息资源作为一种战略财产进行管理，必须将信息资源管理与企业的战略规划联系起来，在企业的每个层面上是识别信息资源和获利机会，并借以构筑新的竞争优势。该书还提出了一个发人深省的命题——work smarter, not just harder(精明地工作,而不仅仅是努力地工作)，从而指明了信息经济时代智力资源的重要性和从信息资源中获利的关键所在。
    霍顿的信息资源管理理论是美国乃至全世界范围内最有影响的信息资源管理理论之一，他以其独到的理论视野与魅力征服了许多国家的政府官员和企事业巨头，从而极大地促进了信息资源管理理论的传播、应用和发展。究其所著的《信息资源管理》而论，主要优点包括理论体系严谨，概念术语规范，应用色彩浓重，案例授举得当，针对性强，注重规律性和方法论研究等，其不足之处在于没有充分认识到信息资源大户图书馆、档案馆和情报中心等在信息资源管理中的重要性，没有在更大的范围内展开信息资源管理理论。但就其所达到的理论高度而言，该书完全可称为信息资源管理的经典之作。</pre>
</div>
<div title="马丁（W.J.Martin）的信息管理理论" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="2bea8f2ca1947a5f89ae80d6275756b249f740fa" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E9%A9%AC%E4%B8%81%EF%BC%88W.J.Martin%EF%BC%89%E7%9A%84%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86%E7%90%86%E8%AE%BA/1188453:b57fb2fafef481174f26b6a82184f77f71552f87&quot;" server.page.revision="1188453" server.title="马丁（W.J.Martin）的信息管理理论">
<pre>马丁在英国昆士大学任教，它1988年出版的专著《信息社会》（The Information Society）[4]中专门辟有“信息管理”（Information Management）一章。需要说明，马丁的信息管理理论虽只有一章的篇幅，但作为一种理论框架，它浓缩了马丁对信息管理的认识，足以使我们了解信息资源管理理论传入英国后所发生的变化。马丁的信息管理理论主要涉及一下内容：信息管理的内涵与意义、信息管理的要素、信息管理的原则、信息管理的认知、信息管理的制约因素、信息管理的实施与信息管理过程等。
    马丁的信息管理理论受美国信息资源管理理论的影响非常大，它在文中多次引证霍顿和马尔香的论著，但其理论有不完全是信息资源管理理论的翻版。马丁是图书情报领域的学者，在谈及信息管理产生的背景时，他认为，信息管理可以从两个层次上理解：其一，信息管理是图书情报领域久已熟知的挑战的更为复杂的变体，他设计信息扩散、信息载体的异致性、信息爆炸等问题；其二，这些问题的复杂化又是社会内部变化的结果，这些变化源于信息的机构化和人们对信息认知的深化——信息是竞争优势和利润之源。
  马丁认为，信息管理是使有价值的资源隶属于标准的管理和控制过程以实现其价值的活动，它必须超越程式化的信息收集、储存和传播工作，必须致力于使信息利用为组织机构的目标服务。信息管理不同于管理信息系统，后者是为特定的管理层次提供特定类型信息的方法，前者则是为整个组织机构的所有层次包括战略层次、战术层次、操作层次等服务的。但信息管理与信息资源管理没有什么区别，“因为它们从根本上讲是一回事。信息管理和信息资源管理难以区分。鉴于这两个术语中‘ 信息管理’比较短，人们多倾向于使用它——这种操作性的定义将形成信息资源管理领域最初使用的定义的一种变体”*。马丁的解释有助于澄清我国学术界对信息管理和信息资源管理的认识分歧，因为我们的学者虽然也认为信息管理就是信息资源管理，但他们所构建的信息管理体系却全然不同于信息资源管理[2]，与国际共识的信息管理理论相违，无助于与国际接轨。
    信息管理是一种特殊形式的管理活动，其范围广及数据处理、文字处理、电子通信、文书和纪录管理、图书馆和情报中心、办公系统、外向型信息服务、所有与信息有关的经费控制活动等领域，其构成要素则包括技术、专家、可利用的资源和系统等。信息管理建立在这些原则的基础上：其一，作为资源的信息的利用对于所有其它资源的开发都是至关重要的；其二，信息管理首先关心的是信息资源，它需要区分方法与结果和传递信息的方法与信息本身；其三，信息管理是对所有资源的集成管理；其四，信息管理的每一个领域都应由受过严格的专门化训练的个人来负责。信息管理不是孤立地发展的，置身于社会大环境之中，信息管理的发展不可避免地要受各种社会因素的影响，这些因素包括理论因素、方法论因素、组织机构因素、人的因素、法律因素、财政因素和政治因素等。
    信息管理也是一种管理过程，是对信息资源进行规划、预算和决算的过程。马丁认为，信息管理建立在作为资源的信息概念的基础上，好的信息管理常常意味着用较少的信息来实现预定的目标，这就需要削减信息采集、储存和传播活动的成本，需要对目标、方法、预期结果、信息资源、信息需求与利用、限制条件等因素进行规划，需要对信息的投入和产出进行预算，需要对照计划成本和实际成本进行决算和评估，需要对信息管理全过程实施成本控制。总之，信息管理是利用信息来支持组织目标的活动，是战略层次的管理活动。
    马丁的信息管理理论是一种英国化了的信息资源管理理论，其基本概念与理论框架虽直接承继霍顿和马尔香的理论，但又有所不同。将信息管理置于信息社会中论述表明了作者对信息管理重要性的认识程度，重视投入——产出理论的应用则体现了信息与资源的内在关联，但遗憾的是，作者虽几次谈到图书馆与情报服务和记录管理，但却没有将图书馆与情报服务纳入信息管理的框架。我们认为，图书馆与情报学是信息资源管理理论体系的重要组成部分，有意无意地忽略其存在都将导致信息资源管理论的不完整。</pre>
</div>
<div title="马太效应" creator="inforabbi" modifier="inforabbi" created="201304160708" modified="201304160708" _hash="dc7d0f2cb7db1097253bcc96f50452d568cb0785" server.content-type="" server.permissions="read, write, create, delete" server.bag="gcsim_public" server.recipe="gcsim_private" server.host="http://gcsim.tiddlyspace.com" server.type="tiddlyweb" server.workspace="bags/gcsim_public" server.etag="&quot;gcsim_public/%E9%A9%AC%E5%A4%AA%E6%95%88%E5%BA%94/1188451:ab1756dfd29915172933b5a64fd75b8ffe50fba5&quot;" server.page.revision="1188451" server.title="马太效应">
<pre>[[马太效应的解说|3702/E9A9ACE5A4AAE69588E5BA94.html]]</pre>
</div>
</div>
<!--POST-STOREAREA-->
<!--POST-BODY-START-->

<!--POST-BODY-END-->
<script id="jsArea" type="text/javascript">
//<![CDATA[

//
// Please note:
//
// * This code is designed to be readable but for compactness it only includes brief comments. You can see fuller comments
//   in the project repository at https://github.com/TiddlyWiki/tiddlywiki
//
// * You should never need to modify this source code directly. TiddlyWiki is carefully designed to allow deep customisation
//   without changing the core code. Please consult the development group at http://groups.google.com/group/TiddlyWikiDev
//
// JSLint directives
/*global jQuery:false, version:false */
/*jslint bitwise:true, browser:true, confusion:true, eqeq:true, evil:true, forin:true, maxerr:100, plusplus:true, regexp:true, sloppy:true, sub:true, undef:true, unparam:true, vars:true, white:true */
//--
//-- Configuration repository
//--

// Miscellaneous options
var config = {
	numRssItems: 20, // Number of items in the RSS feed
	animDuration: 400, // Duration of UI animations in milliseconds
	cascadeFast: 20, // Speed for cascade animations (higher == slower)
	cascadeSlow: 60, // Speed for EasterEgg cascade animations
	cascadeDepth: 5, // Depth of cascade animation
	locale: "en" // W3C language tag
};

// Hashmap of alternative parsers for the wikifier
config.parsers = {};

// Adaptors
config.adaptors = {};
config.defaultAdaptor = null;

// Backstage tasks
config.tasks = {};

// Annotations
config.annotations = {};

// Custom fields to be automatically added to new tiddlers
config.defaultCustomFields = {};

// Messages
config.messages = {
	messageClose: {},
	dates: {},
	tiddlerPopup: {}
};

// Options that can be set in the options panel and/or cookies
config.options = {
	chkRegExpSearch: false,
	chkCaseSensitiveSearch: false,
	chkIncrementalSearch: true,
	chkAnimate: true,
	chkSaveBackups: true,
	chkAutoSave: false,
	chkGenerateAnRssFeed: false,
	chkSaveEmptyTemplate: false,
	chkOpenInNewWindow: true,
	chkToggleLinks: false,
	chkHttpReadOnly: true,
	chkForceMinorUpdate: false,
	chkConfirmDelete: true,
	chkInsertTabs: false,
	chkUsePreForStorage: true, // Whether to use <pre> format for storage
	chkDisplayInstrumentation: false,
	txtBackupFolder: "",
	txtEditorFocus: "text",
	txtMainTab: "tabTimeline",
	txtMoreTab: "moreTabAll",
	txtMaxEditRows: "30",
	txtFileSystemCharSet: "UTF-8",
	txtTheme: ""
	};
config.optionsDesc = {};

config.optionsSource = {};

// Default tiddler templates
var DEFAULT_VIEW_TEMPLATE = 1;
var DEFAULT_EDIT_TEMPLATE = 2;
config.tiddlerTemplates = {
	1: "ViewTemplate",
	2: "EditTemplate"
};

// More messages (rather a legacy layout that should not really be like this)
config.views = {
	wikified: {
		tag: {}
	},
	editor: {
		tagChooser: {}
	}
};

// Backstage tasks
config.backstageTasks = ["save","importTask","tweak","upgrade","plugins"];

// Extensions
config.extensions = {};

// Macros; each has a 'handler' member that is inserted later
config.macros = {
	today: {},
	version: {},
	search: {sizeTextbox: 15},
	tiddler: {},
	tag: {},
	tags: {},
	tagging: {},
	timeline: {},
	allTags: {},
	list: {
		all: {},
		missing: {},
		orphans: {},
		shadowed: {},
		touched: {},
		filter: {}
	},
	closeAll: {},
	permaview: {},
	saveChanges: {},
	slider: {},
	option: {},
	options: {},
	newTiddler: {},
	newJournal: {},
	tabs: {},
	gradient: {},
	message: {},
	view: {defaultView: "text"},
	edit: {},
	tagChooser: {},
	toolbar: {},
	plugins: {},
	refreshDisplay: {},
	importTiddlers: {},
	upgrade: {
		source: "http://tiddlywiki-releases.tiddlyspace.com/upgrade",
		backupExtension: "pre.core.upgrade"
	},
	sync: {},
	annotations: {}
};

// Commands supported by the toolbar macro
config.commands = {
	closeTiddler: {},
	closeOthers: {},
	editTiddler: {},
	saveTiddler: {hideReadOnly: true},
	cancelTiddler: {},
	deleteTiddler: {hideReadOnly: true},
	permalink: {},
	references: {type: "popup"},
	jump: {type: "popup"},
	syncing: {type: "popup"},
	fields: {type: "popup"}
};

// Control of macro parameter evaluation
config.evaluateMacroParameters = "all";

// Basic regular expressions
config.textPrimitives = {
	upperLetter: "[A-Z\u00c0-\u00de\u0150\u0170]",
	lowerLetter: "[a-z0-9_\\-\u00df-\u00ff\u0151\u0171]",
	anyLetter:   "[A-Za-z0-9_\\-\u00c0-\u00de\u00df-\u00ff\u0150\u0170\u0151\u0171]",
	anyLetterStrict: "[A-Za-z0-9\u00c0-\u00de\u00df-\u00ff\u0150\u0170\u0151\u0171]"
};
if(!((new RegExp("[\u0150\u0170]","g")).test("\u0150"))) {
	config.textPrimitives = {
		upperLetter: "[A-Z\u00c0-\u00de]",
		lowerLetter: "[a-z0-9_\\-\u00df-\u00ff]",
		anyLetter:   "[A-Za-z0-9_\\-\u00c0-\u00de\u00df-\u00ff]",
		anyLetterStrict: "[A-Za-z0-9\u00c0-\u00de\u00df-\u00ff]"
	};
}
config.textPrimitives.sliceSeparator = "::";
config.textPrimitives.sectionSeparator = "##";
config.textPrimitives.urlPattern = "(?:file|http|https|mailto|ftp|irc|news|data):[^\\s'\"]+(?:/|\\b)";
config.textPrimitives.unWikiLink = "~";
config.textPrimitives.wikiLink = "(?:(?:" + config.textPrimitives.upperLetter + "+" +
	config.textPrimitives.lowerLetter + "+" +
	config.textPrimitives.upperLetter +
	config.textPrimitives.anyLetter + "*)|(?:" +
	config.textPrimitives.upperLetter + "{2,}" +
	config.textPrimitives.lowerLetter + "+))";

config.textPrimitives.cssLookahead = "(?:(" + config.textPrimitives.anyLetter + "+)\\(([^\\)\\|\\n]+)(?:\\):))|(?:(" + config.textPrimitives.anyLetter + "+):([^;\\|\\n]+);)";
config.textPrimitives.cssLookaheadRegExp = new RegExp(config.textPrimitives.cssLookahead,"mg");

config.textPrimitives.brackettedLink = "\\[\\[([^\\]]+)\\]\\]";
config.textPrimitives.titledBrackettedLink = "\\[\\[([^\\[\\]\\|]+)\\|([^\\[\\]\\|]+)\\]\\]";
config.textPrimitives.tiddlerForcedLinkRegExp = new RegExp("(?:" + config.textPrimitives.titledBrackettedLink + ")|(?:" +
	config.textPrimitives.brackettedLink + ")|(?:" +
	config.textPrimitives.urlPattern + ")","mg");
config.textPrimitives.tiddlerAnyLinkRegExp = new RegExp("("+ config.textPrimitives.wikiLink + ")|(?:" +
	config.textPrimitives.titledBrackettedLink + ")|(?:" +
	config.textPrimitives.brackettedLink + ")|(?:" +
	config.textPrimitives.urlPattern + ")","mg");

config.glyphs = {
	currBrowser: null,
	browsers: [],
	codes: {}
};

//--
//-- Shadow tiddlers
//--

config.shadowTiddlers = {
	StyleSheet: "",
	MarkupPreHead: "",
	MarkupPostHead: "",
	MarkupPreBody: "",
	MarkupPostBody: "",
	TabTimeline: '<<timeline>>',
	TabAll: '<<list all>>',
	TabTags: '<<allTags excludeLists>>',
	TabMoreMissing: '<<list missing>>',
	TabMoreOrphans: '<<list orphans>>',
	TabMoreShadowed: '<<list shadowed>>',
	AdvancedOptions: '<<options>>',
	PluginManager: '<<plugins>>',
	SystemSettings: '',
	ToolbarCommands: '|~ViewToolbar|closeTiddler closeOthers +editTiddler > fields syncing permalink references jump|\n|~EditToolbar|+saveTiddler -cancelTiddler deleteTiddler|',
	WindowTitle: '<<tiddler SiteTitle>> - <<tiddler SiteSubtitle>>'
};

// Browser detection... In a very few places, there's nothing else for it but to know what browser we're using.
config.userAgent = navigator.userAgent.toLowerCase();
config.browser = {
	isIE: config.userAgent.indexOf("msie") != -1 && config.userAgent.indexOf("opera") == -1,
	isGecko: navigator.product == "Gecko" && config.userAgent.indexOf("WebKit") == -1,
	ieVersion: /MSIE (\d{1,2}.\d)/i.exec(config.userAgent), // config.browser.ieVersion[1], if it exists, will be the IE version string, eg "6.0"
	isSafari: config.userAgent.indexOf("applewebkit") != -1,
	isBadSafari: !((new RegExp("[\u0150\u0170]","g")).test("\u0150")),
	firefoxDate: /gecko\/(\d{8})/i.exec(config.userAgent), // config.browser.firefoxDate[1], if it exists, will be Firefox release date as "YYYYMMDD"
	isOpera: config.userAgent.indexOf("opera") != -1,
	isChrome: config.userAgent.indexOf('chrome') > -1,
	isLinux: config.userAgent.indexOf("linux") != -1,
	isUnix: config.userAgent.indexOf("x11") != -1,
	isMac: config.userAgent.indexOf("mac") != -1,
	isWindows: config.userAgent.indexOf("win") != -1
};

merge(config.glyphs,{
	browsers: [
		function() {return config.browser.isIE;},
		function() {return true;}
		],
	codes: {
		downTriangle: ["\u25BC","\u25BE"],
		downArrow: ["\u2193","\u2193"],
		bentArrowLeft: ["\u2190","\u21A9"],
		bentArrowRight: ["\u2192","\u21AA"]
	}
});

//--
//-- Translateable strings
//--

// Strings in "double quotes" should be translated; strings in 'single quotes' should be left alone

merge(config.options,{
	txtUserName: "YourName"});

merge(config.tasks,{
	save: {text: "save", tooltip: "Save your changes to this TiddlyWiki"},
	importTask: {text: "import", tooltip: "Import tiddlers and plugins from other TiddlyWiki files and servers", content: '<<importTiddlers>>'},
	tweak: {text: "tweak", tooltip: "Tweak the appearance and behaviour of TiddlyWiki", content: '<<options>>'},
	upgrade: {text: "upgrade", tooltip: "Upgrade TiddlyWiki core code", content: '<<upgrade>>'},
	plugins: {text: "plugins", tooltip: "Manage installed plugins", content: '<<plugins>>'}
});

// Options that can be set in the options panel and/or cookies
merge(config.optionsDesc,{
	txtUserName: "Username for signing your edits",
	chkRegExpSearch: "Enable regular expressions for searches",
	chkCaseSensitiveSearch: "Case-sensitive searching",
	chkIncrementalSearch: "Incremental key-by-key searching",
	chkAnimate: "Enable animations",
	chkSaveBackups: "Keep backup file when saving changes",
	chkAutoSave: "Automatically save changes",
	chkGenerateAnRssFeed: "Generate an RSS feed when saving changes",
	chkSaveEmptyTemplate: "Generate an empty template when saving changes",
	chkOpenInNewWindow: "Open external links in a new window",
	chkToggleLinks: "Clicking on links to open tiddlers causes them to close",
	chkHttpReadOnly: "Hide editing features when viewed over HTTP",
	chkForceMinorUpdate: "Don't update modifier username and date when editing tiddlers",
	chkConfirmDelete: "Require confirmation before deleting tiddlers",
	chkInsertTabs: "Use the tab key to insert tab characters instead of moving between fields",
	txtBackupFolder: "Name of folder to use for backups",
	txtMaxEditRows: "Maximum number of rows in edit boxes",
	txtTheme: "Name of the theme to use",
	txtFileSystemCharSet: "Default character set for saving changes (Firefox/Mozilla only)"});

merge(config.messages,{
	customConfigError: "Problems were encountered loading plugins. See PluginManager for details",
	pluginError: "Error: %0",
	pluginDisabled: "Not executed because disabled via 'systemConfigDisable' tag",
	pluginForced: "Executed because forced via 'systemConfigForce' tag",
	pluginVersionError: "Not executed because this plugin needs a newer version of TiddlyWiki",
	nothingSelected: "Nothing is selected. You must select one or more items first",
	savedSnapshotError: "It appears that this TiddlyWiki has been incorrectly saved. Please see http://www.tiddlywiki.com/#Download for details",
	subtitleUnknown: "(unknown)",
	undefinedTiddlerToolTip: "The tiddler '%0' doesn't yet exist",
	shadowedTiddlerToolTip: "The tiddler '%0' doesn't yet exist, but has a pre-defined shadow value",
	tiddlerLinkTooltip: "%0 - %1, %2",
	externalLinkTooltip: "External link to %0",
	noTags: "There are no tagged tiddlers",
	notFileUrlError: "You need to save this TiddlyWiki to a file before you can save changes",
	cantSaveError: "It's not possible to save changes. Possible reasons include:\n- your browser doesn't support saving (Firefox, Internet Explorer, Safari and Opera all work if properly configured)\n- the pathname to your TiddlyWiki file contains illegal characters\n- the TiddlyWiki HTML file has been moved or renamed",
	invalidFileError: "The original file '%0' does not appear to be a valid TiddlyWiki",
	backupSaved: "Backup saved",
	backupFailed: "Failed to save backup file",
	rssSaved: "RSS feed saved",
	rssFailed: "Failed to save RSS feed file",
	emptySaved: "Empty template saved",
	emptyFailed: "Failed to save empty template file",
	mainSaved: "Main TiddlyWiki file saved",
	mainDownload: "Downloading/saving main TiddlyWiki file",
	mainDownloadManual: "RIGHT CLICK HERE to download/save main TiddlyWiki file",
	mainFailed: "Failed to save main TiddlyWiki file. Your changes have not been saved",
	macroError: "Error in macro <<%0>>",
	macroErrorDetails: "Error while executing macro <<%0>>:\n%1",
	missingMacro: "No such macro",
	overwriteWarning: "A tiddler named '%0' already exists. Choose OK to overwrite it",
	unsavedChangesWarning: "WARNING! There are unsaved changes in TiddlyWiki\n\nChoose OK to save\nChoose CANCEL to discard",
	confirmExit: "--------------------------------\n\nThere are unsaved changes in TiddlyWiki. If you continue you will lose those changes\n\n--------------------------------",
	saveInstructions: "SaveChanges",
	unsupportedTWFormat: "Unsupported TiddlyWiki format '%0'",
	tiddlerSaveError: "Error when saving tiddler '%0'",
	tiddlerLoadError: "Error when loading tiddler '%0'",
	wrongSaveFormat: "Cannot save with storage format '%0'. Using standard format for save.",
	invalidFieldName: "Invalid field name %0",
	fieldCannotBeChanged: "Field '%0' cannot be changed",
	loadingMissingTiddler: "Attempting to retrieve the tiddler '%0' from the '%1' server at:\n\n'%2' in the workspace '%3'",
	upgradeDone: "The upgrade to version %0 is now complete\n\nClick 'OK' to reload the newly upgraded TiddlyWiki",
	invalidCookie: "Invalid cookie '%0'"});

merge(config.messages.messageClose,{
	text: "close",
	tooltip: "close this message area"});

config.messages.backstage = {
	open: {text: "backstage", tooltip: "Open the backstage area to perform authoring and editing tasks"},
	close: {text: "close", tooltip: "Close the backstage area"},
	prompt: "backstage: ",
	decal: {
		edit: {text: "edit", tooltip: "Edit the tiddler '%0'"}
	}
};

config.messages.listView = {
	tiddlerTooltip: "Click for the full text of this tiddler",
	previewUnavailable: "(preview not available)"
};

config.messages.dates.months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November","December"];
config.messages.dates.days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
config.messages.dates.shortMonths = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
config.messages.dates.shortDays = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
// suffixes for dates, eg "1st","2nd","3rd"..."30th","31st"
config.messages.dates.daySuffixes = ["st","nd","rd","th","th","th","th","th","th","th",
		"th","th","th","th","th","th","th","th","th","th",
		"st","nd","rd","th","th","th","th","th","th","th",
		"st"];
config.messages.dates.am = "am";
config.messages.dates.pm = "pm";

merge(config.messages.tiddlerPopup,{
	});

merge(config.views.wikified.tag,{
	labelNoTags: "no tags",
	labelTags: "tags: ",
	openTag: "Open tag '%0'",
	tooltip: "Show tiddlers tagged with '%0'",
	openAllText: "Open all",
	openAllTooltip: "Open all of these tiddlers",
	popupNone: "No other tiddlers tagged with '%0'"});

merge(config.views.wikified,{
	defaultText: "The tiddler '%0' doesn't yet exist. Double-click to create it",
	defaultModifier: "(missing)",
	shadowModifier: "(built-in shadow tiddler)",
	dateFormat: "DD MMM YYYY",
	createdPrompt: "created"});

merge(config.views.editor,{
	tagPrompt: "Type tags separated with spaces, [[use double square brackets]] if necessary, or add existing",
	defaultText: "Type the text for '%0'"});

merge(config.views.editor.tagChooser,{
	text: "tags",
	tooltip: "Choose existing tags to add to this tiddler",
	popupNone: "There are no tags defined",
	tagTooltip: "Add the tag '%0'"});

merge(config.messages,{
	sizeTemplates:
		[
		{unit: 1024*1024*1024, template: "%0\u00a0GB"},
		{unit: 1024*1024, template: "%0\u00a0MB"},
		{unit: 1024, template: "%0\u00a0KB"},
		{unit: 1, template: "%0\u00a0B"}
		]});

merge(config.macros.search,{
	label: "search",
	prompt: "Search this TiddlyWiki",
	placeholder: "",
	accessKey: "F",
	successMsg: "%0 tiddlers found matching %1",
	failureMsg: "No tiddlers found matching %0"});

merge(config.macros.tagging,{
	label: "tagging: ",
	labelNotTag: "not tagging",
	tooltip: "List of tiddlers tagged with '%0'"});

merge(config.macros.timeline,{
	dateFormat: "DD MMM YYYY"});

merge(config.macros.allTags,{
	tooltip: "Show tiddlers tagged with '%0'",
	noTags: "There are no tagged tiddlers"});

config.macros.list.all.prompt = "All tiddlers in alphabetical order";
config.macros.list.missing.prompt = "Tiddlers that have links to them but are not defined";
config.macros.list.orphans.prompt = "Tiddlers that are not linked to from any other tiddlers";
config.macros.list.shadowed.prompt = "Tiddlers shadowed with default contents";
config.macros.list.touched.prompt = "Tiddlers that have been modified locally";

merge(config.macros.closeAll,{
	label: "close all",
	prompt: "Close all displayed tiddlers (except any that are being edited)"});

merge(config.macros.permaview,{
	label: "permaview",
	prompt: "Link to an URL that retrieves all the currently displayed tiddlers"});

merge(config.macros.saveChanges,{
	label: "save changes",
	prompt: "Save all tiddlers to create a new TiddlyWiki",
	accessKey: "S"});

merge(config.macros.newTiddler,{
	label: "new tiddler",
	prompt: "Create a new tiddler",
	title: "New Tiddler",
	accessKey: "N"});

merge(config.macros.newJournal,{
	label: "new journal",
	prompt: "Create a new tiddler from the current date and time",
	accessKey: "J"});

merge(config.macros.options,{
	wizardTitle: "Tweak advanced options",
	step1Title: "These options are saved in cookies in your browser",
	step1Html: "<input type='hidden' name='markList'></input><br><input type='checkbox' checked='false' name='chkUnknown'>Show unknown options</input>",
	unknownDescription: "//(unknown)//",
	listViewTemplate: {
		columns: [
			{name: 'Option', field: 'option', title: "Option", type: 'String'},
			{name: 'Description', field: 'description', title: "Description", type: 'WikiText'},
			{name: 'Name', field: 'name', title: "Name", type: 'String'}
			],
		rowClasses: [
			{className: 'lowlight', field: 'lowlight'}
			]}
	});

merge(config.macros.plugins,{
	wizardTitle: "Manage plugins",
	step1Title: "Currently loaded plugins",
	step1Html: "<input type='hidden' name='markList'></input>", // DO NOT TRANSLATE
	skippedText: "(This plugin has not been executed because it was added since startup)",
	noPluginText: "There are no plugins installed",
	confirmDeleteText: "Are you sure you want to delete these plugins:\n\n%0",
	removeLabel: "remove systemConfig tag",
	removePrompt: "Remove systemConfig tag",
	deleteLabel: "delete",
	deletePrompt: "Delete these tiddlers forever",
	listViewTemplate: {
		columns: [
			{name: 'Selected', field: 'Selected', rowName: 'title', type: 'Selector'},
			{name: 'Tiddler', field: 'tiddler', title: "Tiddler", type: 'Tiddler'},
			{name: 'Description', field: 'Description', title: "Description", type: 'String'},
			{name: 'Version', field: 'Version', title: "Version", type: 'String'},
			{name: 'Size', field: 'size', tiddlerLink: 'size', title: "Size", type: 'Size'},
			{name: 'Forced', field: 'forced', title: "Forced", tag: 'systemConfigForce', type: 'TagCheckbox'},
			{name: 'Disabled', field: 'disabled', title: "Disabled", tag: 'systemConfigDisable', type: 'TagCheckbox'},
			{name: 'Executed', field: 'executed', title: "Loaded", type: 'Boolean', trueText: "Yes", falseText: "No"},
			{name: 'Startup Time', field: 'startupTime', title: "Startup Time", type: 'String'},
			{name: 'Error', field: 'error', title: "Status", type: 'Boolean', trueText: "Error", falseText: "OK"},
			{name: 'Log', field: 'log', title: "Log", type: 'StringList'}
			],
		rowClasses: [
			{className: 'error', field: 'error'},
			{className: 'warning', field: 'warning'}
			]},
	listViewTemplateReadOnly: {
		columns: [
			{name: 'Tiddler', field: 'tiddler', title: "Tiddler", type: 'Tiddler'},
			{name: 'Description', field: 'Description', title: "Description", type: 'String'},
			{name: 'Version', field: 'Version', title: "Version", type: 'String'},
			{name: 'Size', field: 'size', tiddlerLink: 'size', title: "Size", type: 'Size'},
			{name: 'Executed', field: 'executed', title: "Loaded", type: 'Boolean', trueText: "Yes", falseText: "No"},
			{name: 'Startup Time', field: 'startupTime', title: "Startup Time", type: 'String'},
			{name: 'Error', field: 'error', title: "Status", type: 'Boolean', trueText: "Error", falseText: "OK"},
			{name: 'Log', field: 'log', title: "Log", type: 'StringList'}
			],
		rowClasses: [
			{className: 'error', field: 'error'},
			{className: 'warning', field: 'warning'}
			]}
	});

merge(config.macros.toolbar,{
	moreLabel: "more",
	morePrompt: "Show additional commands",
	lessLabel: "less",
	lessPrompt: "Hide additional commands",
	separator: "|"
	});

merge(config.macros.refreshDisplay,{
	label: "refresh",
	prompt: "Redraw the entire TiddlyWiki display"
	});

merge(config.macros.importTiddlers,{
	readOnlyWarning: "You cannot import into a read-only TiddlyWiki file. Try opening it from a file:// URL",
	wizardTitle: "Import tiddlers from another file or server",
	step1Title: "Step 1: Locate the server or TiddlyWiki file",
	step1Html: "Specify the type of the server: <select name='selTypes'><option value=''>Choose...</option></select><br>Enter the URL or pathname here: <input type='text' size=50 name='txtPath'><br>...or browse for a file: <input type='file' size=50 name='txtBrowse'><br><hr>...or select a pre-defined feed: <select name='selFeeds'><option value=''>Choose...</option></select>",
	openLabel: "open",
	openPrompt: "Open the connection to this file or server",
	statusOpenHost: "Opening the host",
	statusGetWorkspaceList: "Getting the list of available workspaces",
	step2Title: "Step 2: Choose the workspace",
	step2Html: "Enter a workspace name: <input type='text' size=50 name='txtWorkspace'><br>...or select a workspace: <select name='selWorkspace'><option value=''>Choose...</option></select>",
	cancelLabel: "cancel",
	cancelPrompt: "Cancel this import",
	statusOpenWorkspace: "Opening the workspace",
	statusGetTiddlerList: "Getting the list of available tiddlers",
	errorGettingTiddlerList: "Error getting list of tiddlers, click Cancel to try again",
	errorGettingTiddlerListHttp404: "Error retrieving tiddlers from url, please ensure the url exists. Click Cancel to try again.",
	errorGettingTiddlerListHttp: "Error retrieving tiddlers from url, please ensure this url exists and is <a href='http://enable-cors.org/'>CORS</a> enabled",
	errorGettingTiddlerListFile: "Error retrieving tiddlers from local file, please make sure the file is in the same directory as your TiddlyWiki. Click Cancel to try again.",
	step3Title: "Step 3: Choose the tiddlers to import",
	step3Html: "<input type='hidden' name='markList'></input><br><input type='checkbox' checked='true' name='chkSync'>Keep these tiddlers linked to this server so that you can synchronise subsequent changes</input><br><input type='checkbox' name='chkSave'>Save the details of this server in a 'systemServer' tiddler called:</input> <input type='text' size=25 name='txtSaveTiddler'>",
	importLabel: "import",
	importPrompt: "Import these tiddlers",
	confirmOverwriteText: "Are you sure you want to overwrite these tiddlers:\n\n%0",
	step4Title: "Step 4: Importing %0 tiddler(s)",
	step4Html: "<input type='hidden' name='markReport'></input>", // DO NOT TRANSLATE
	doneLabel: "done",
	donePrompt: "Close this wizard",
	statusDoingImport: "Importing tiddlers",
	statusDoneImport: "All tiddlers imported",
	systemServerNamePattern: "%2 on %1",
	systemServerNamePatternNoWorkspace: "%1",
	confirmOverwriteSaveTiddler: "The tiddler '%0' already exists. Click 'OK' to overwrite it with the details of this server, or 'Cancel' to leave it unchanged",
	serverSaveTemplate: "|''Type:''|%0|\n|''URL:''|%1|\n|''Workspace:''|%2|\n\nThis tiddler was automatically created to record the details of this server",
	serverSaveModifier: "(System)",
	listViewTemplate: {
		columns: [
			{name: 'Selected', field: 'Selected', rowName: 'title', type: 'Selector'},
			{name: 'Tiddler', field: 'tiddler', title: "Tiddler", type: 'Tiddler'},
			{name: 'Size', field: 'size', tiddlerLink: 'size', title: "Size", type: 'Size'},
			{name: 'Tags', field: 'tags', title: "Tags", type: 'Tags'}
			],
		rowClasses: [
			]}
	});

merge(config.macros.upgrade,{
	wizardTitle: "Upgrade TiddlyWiki core code",
	step1Title: "Update or repair this TiddlyWiki to the latest release",
	step1Html: "You are about to upgrade to the latest release of the TiddlyWiki core code (from <a href='%0' class='externalLink' target='_blank'>%1</a>). Your content will be preserved across the upgrade.<br><br>Note that core upgrades have been known to interfere with older plugins. If you run into problems with the upgraded file, see <a href='http://www.tiddlywiki.org/wiki/CoreUpgrades' class='externalLink' target='_blank'>http://www.tiddlywiki.org/wiki/CoreUpgrades</a>",
	errorCantUpgrade: "Unable to upgrade this TiddlyWiki. You can only perform upgrades on TiddlyWiki files stored locally",
	errorNotSaved: "You must save changes before you can perform an upgrade",
	step2Title: "Confirm the upgrade details",
	step2Html_downgrade: "You are about to downgrade to TiddlyWiki version %0 from %1.<br><br>Downgrading to an earlier version of the core code is not recommended",
	step2Html_restore: "This TiddlyWiki appears to be already using the latest version of the core code (%0).<br><br>You can continue to upgrade anyway to ensure that the core code hasn't been corrupted or damaged",
	step2Html_upgrade: "You are about to upgrade to TiddlyWiki version %0 from %1",
	upgradeLabel: "upgrade",
	upgradePrompt: "Prepare for the upgrade process",
	statusPreparingBackup: "Preparing backup",
	statusSavingBackup: "Saving backup file",
	errorSavingBackup: "There was a problem saving the backup file",
	statusLoadingCore: "Loading core code",
	errorLoadingCore: "Error loading the core code",
	errorCoreFormat: "Error with the new core code",
	statusSavingCore: "Saving the new core code",
	statusReloadingCore: "Reloading the new core code",
	startLabel: "start",
	startPrompt: "Start the upgrade process",
	cancelLabel: "cancel",
	cancelPrompt: "Cancel the upgrade process",
	step3Title: "Upgrade cancelled",
	step3Html: "You have cancelled the upgrade process"
	});

merge(config.macros.annotations,{
	});

merge(config.commands.closeTiddler,{
	text: "close",
	tooltip: "Close this tiddler"});

merge(config.commands.closeOthers,{
	text: "close others",
	tooltip: "Close all other tiddlers"});

merge(config.commands.editTiddler,{
	text: "edit",
	tooltip: "Edit this tiddler",
	readOnlyText: "view",
	readOnlyTooltip: "View the source of this tiddler"});

merge(config.commands.saveTiddler,{
	text: "done",
	tooltip: "Save changes to this tiddler"});

merge(config.commands.cancelTiddler,{
	text: "cancel",
	tooltip: "Undo changes to this tiddler",
	warning: "Are you sure you want to abandon your changes to '%0'?",
	readOnlyText: "done",
	readOnlyTooltip: "View this tiddler normally"});

merge(config.commands.deleteTiddler,{
	text: "delete",
	tooltip: "Delete this tiddler",
	warning: "Are you sure you want to delete '%0'?"});

merge(config.commands.permalink,{
	text: "permalink",
	tooltip: "Permalink for this tiddler"});

merge(config.commands.references,{
	text: "references",
	tooltip: "Show tiddlers that link to this one",
	popupNone: "No references"});

merge(config.commands.jump,{
	text: "jump",
	tooltip: "Jump to another open tiddler"});

merge(config.commands.fields,{
	text: "fields",
	tooltip: "Show the extended fields of this tiddler",
	emptyText: "There are no extended fields for this tiddler",
	listViewTemplate: {
		columns: [
			{name: 'Field', field: 'field', title: "Field", type: 'String'},
			{name: 'Value', field: 'value', title: "Value", type: 'String'}
			],
		rowClasses: [
			],
		buttons: [
			]}});

merge(config.shadowTiddlers,{
	DefaultTiddlers: "[[GettingStarted]]",
	MainMenu: "[[GettingStarted]]",
	SiteTitle: "My TiddlyWiki",
	SiteSubtitle: "a reusable non-linear personal web notebook",
	SiteUrl: "",
	SideBarOptions: '<<search>><<closeAll>><<permaview>><<newTiddler>><<newJournal "DD MMM YYYY" "journal">><<saveChanges>><<slider chkSliderOptionsPanel OptionsPanel "options \u00bb" "Change TiddlyWiki advanced options">>',
	SideBarTabs: '<<tabs txtMainTab "Timeline" "Timeline" TabTimeline "All" "All tiddlers" TabAll "Tags" "All tags" TabTags "More" "More lists" TabMore>>',
	TabMore: '<<tabs txtMoreTab "Missing" "Missing tiddlers" TabMoreMissing "Orphans" "Orphaned tiddlers" TabMoreOrphans "Shadowed" "Shadowed tiddlers" TabMoreShadowed>>'
	});

merge(config.annotations,{
	AdvancedOptions: "This shadow tiddler provides access to several advanced options",
	ColorPalette: "These values in this shadow tiddler determine the colour scheme of the ~TiddlyWiki user interface",
	DefaultTiddlers: "The tiddlers listed in this shadow tiddler will be automatically displayed when ~TiddlyWiki starts up",
	EditTemplate: "The HTML template in this shadow tiddler determines how tiddlers look while they are being edited",
	GettingStarted: "This shadow tiddler provides basic usage instructions",
	ImportTiddlers: "This shadow tiddler provides access to importing tiddlers",
	MainMenu: "This shadow tiddler is used as the contents of the main menu in the left-hand column of the screen",
	MarkupPreHead: "This tiddler is inserted at the top of the <head> section of the TiddlyWiki HTML file",
	MarkupPostHead: "This tiddler is inserted at the bottom of the <head> section of the TiddlyWiki HTML file",
	MarkupPreBody: "This tiddler is inserted at the top of the <body> section of the TiddlyWiki HTML file",
	MarkupPostBody: "This tiddler is inserted at the end of the <body> section of the TiddlyWiki HTML file immediately after the script block",
	OptionsPanel: "This shadow tiddler is used as the contents of the options panel slider in the right-hand sidebar",
	PageTemplate: "The HTML template in this shadow tiddler determines the overall ~TiddlyWiki layout",
	PluginManager: "This shadow tiddler provides access to the plugin manager",
	SideBarOptions: "This shadow tiddler is used as the contents of the option panel in the right-hand sidebar",
	SideBarTabs: "This shadow tiddler is used as the contents of the tabs panel in the right-hand sidebar",
	SiteSubtitle: "This shadow tiddler is used as the second part of the page title",
	SiteTitle: "This shadow tiddler is used as the first part of the page title",
	SiteUrl: "This shadow tiddler should be set to the full target URL for publication",
	StyleSheetColors: "This shadow tiddler contains CSS definitions related to the color of page elements. ''DO NOT EDIT THIS TIDDLER'', instead make your changes in the StyleSheet shadow tiddler",
	StyleSheet: "This tiddler can contain custom CSS definitions",
	StyleSheetLayout: "This shadow tiddler contains CSS definitions related to the layout of page elements. ''DO NOT EDIT THIS TIDDLER'', instead make your changes in the StyleSheet shadow tiddler",
	StyleSheetLocale: "This shadow tiddler contains CSS definitions related to the translation locale",
	StyleSheetPrint: "This shadow tiddler contains CSS definitions for printing",
	SystemSettings: "This tiddler is used to store configuration options for this TiddlyWiki document",
	TabAll: "This shadow tiddler contains the contents of the 'All' tab in the right-hand sidebar",
	TabMore: "This shadow tiddler contains the contents of the 'More' tab in the right-hand sidebar",
	TabMoreMissing: "This shadow tiddler contains the contents of the 'Missing' tab in the right-hand sidebar",
	TabMoreOrphans: "This shadow tiddler contains the contents of the 'Orphans' tab in the right-hand sidebar",
	TabMoreShadowed: "This shadow tiddler contains the contents of the 'Shadowed' tab in the right-hand sidebar",
	TabTags: "This shadow tiddler contains the contents of the 'Tags' tab in the right-hand sidebar",
	TabTimeline: "This shadow tiddler contains the contents of the 'Timeline' tab in the right-hand sidebar",
	ToolbarCommands: "This shadow tiddler determines which commands are shown in tiddler toolbars",
	ViewTemplate: "The HTML template in this shadow tiddler determines how tiddlers look"
	});
//--
//-- Main
//--

var params = null; // Command line parameters
var store = null; // TiddlyWiki storage
var story = null; // Main story
var formatter = null; // Default formatters for the wikifier
var anim = typeof Animator == "function" ? new Animator() : null; // Animation engine
var readOnly = false; // Whether we're in readonly mode
var highlightHack = null; // Embarrassing hack department...
var hadConfirmExit = false; // Don't warn more than once
var safeMode = false; // Disable all plugins and cookies
var showBackstage; // Whether to include the backstage area
var installedPlugins = []; // Information filled in when plugins are executed
var startingUp = false; // Whether we're in the process of starting up
var pluginInfo,tiddler; // Used to pass information to plugins in loadPlugins()

// Whether this file can be saved back to the same location [Preemption]
window.allowSave = window.allowSave || function(l)
{
	return true;
}

// Whether this file is being viewed locally
window.isLocal = function()
{
	return (document.location.protocol == "file:");
}

// Whether to use the JavaSaver applet
var useJavaSaver = window.isLocal() && (config.browser.isSafari || config.browser.isOpera);

// Allow preemption code a chance to tweak config and useJavaSaver [Preemption]
if (window.tweakConfig) window.tweakConfig();

if(!window || !window.console) {
	console = {tiddlywiki:true,log:function(message) {displayMessage(message);}};
}

// Starting up
function main()
{
	window.originalHTML=recreateOriginal();

	var t10,t9,t8,t7,t6,t5,t4,t3,t2,t1,t0 = new Date();
	startingUp = true;
	var doc = jQuery(document);
	jQuery.noConflict();
	window.onbeforeunload = function(e) {if(window.confirmExit) return confirmExit();};
	params = getParameters();
	if(params)
		params = params.parseParams("open",null,false);
	store = new TiddlyWiki({config:config});
	invokeParamifier(params,"oninit");
	story = new Story("tiddlerDisplay","tiddler");
	addEvent(document,"click",Popup.onDocumentClick);
	saveTest();
	var s;
	for(s=0; s<config.notifyTiddlers.length; s++)
		store.addNotification(config.notifyTiddlers[s].name,config.notifyTiddlers[s].notify);
	t1 = new Date();
	loadShadowTiddlers();
	doc.trigger("loadShadows");
	t2 = new Date();
	store.loadFromDiv("storeArea","store",true);
	doc.trigger("loadTiddlers");
	loadOptions();
	t3 = new Date();
	invokeParamifier(params,"onload");
	t4 = new Date();
	readOnly = window.isLocal() ? false : config.options.chkHttpReadOnly;
	var pluginProblem = loadPlugins("systemConfig");
	doc.trigger("loadPlugins");
	t5 = new Date();
	formatter = new Formatter(config.formatters);
	invokeParamifier(params,"onconfig");
	story.switchTheme(config.options.txtTheme);
	showBackstage = showBackstage !== undefined ? showBackstage : !readOnly;
	t6 = new Date();
	var m;
	for(m in config.macros) {
		if(config.macros[m].init)
			config.macros[m].init();
	}
	t7 = new Date();
	store.notifyAll();
	t8 = new Date();
	restart();
	refreshDisplay();
	t9 = new Date();
	if(pluginProblem) {
		story.displayTiddler(null,"PluginManager");
		displayMessage(config.messages.customConfigError);
	}
	if(showBackstage)
		backstage.init();
	t10 = new Date();
	if(config.options.chkDisplayInstrumentation) {
		displayMessage("LoadShadows " + (t2-t1) + " ms");
		displayMessage("LoadFromDiv " + (t3-t2) + " ms");
		displayMessage("LoadPlugins " + (t5-t4) + " ms");
		displayMessage("Macro init " + (t7-t6) + " ms");
		displayMessage("Notify " + (t8-t7) + " ms");
		displayMessage("Restart " + (t9-t8) + " ms");
		displayMessage("Total: " + (t10-t0) + " ms");
	}
	startingUp = false;
	doc.trigger("startup");
}

// Called on unload. All functions called conditionally since they themselves may have been unloaded.
function unload()
{
	if(window.checkUnsavedChanges)
		checkUnsavedChanges();
	if(window.scrubNodes)
		scrubNodes(document.body);
}

// Restarting
function restart()
{
	invokeParamifier(params,"onstart");
	if(story.isEmpty()) {
		story.displayDefaultTiddlers();
	}
	window.scrollTo(0,0);
}

function saveTest()
{
	var s = document.getElementById("saveTest");
	if(s.hasChildNodes())
		alert(config.messages.savedSnapshotError);
	s.appendChild(document.createTextNode("savetest"));
}

function loadShadowTiddlers()
{
	var shadows = new TiddlyWiki();
	shadows.loadFromDiv("shadowArea","shadows",true);
	shadows.forEachTiddler(function(title,tiddler){config.shadowTiddlers[title] = tiddler.text;});
}

function loadPlugins(tag)
{
	if(safeMode)
		return false;
	var tiddlers = store.getTaggedTiddlers(tag);
	tiddlers.sort(function(a,b) {return a.title < b.title ? -1 : (a.title == b.title ? 0 : 1);});
	var toLoad = [];
	var nLoaded = 0;
	var map = {};
	var nPlugins = tiddlers.length;
	installedPlugins = [];
	var i;
	for(i=0; i<nPlugins; i++) {
		var p = getPluginInfo(tiddlers[i]);
		installedPlugins[i] = p;
		var n = p.Name || p.title;
		if(n)
			map[n] = p;
		n = p.Source;
		if(n)
			map[n] = p;
	}
	var visit = function(p) {
		if(!p || p.done)
			return;
		p.done = 1;
		var reqs = p.Requires;
		if(reqs) {
			reqs = reqs.readBracketedList();
			var i;
			for(i=0; i<reqs.length; i++)
				visit(map[reqs[i]]);
		}
		toLoad.push(p);
	};
	for(i=0; i<nPlugins; i++)
		visit(installedPlugins[i]);
	for(i=0; i<toLoad.length; i++) {
		p = toLoad[i];
		pluginInfo = p;
		tiddler = p.tiddler;
		if(isPluginExecutable(p)) {
			if(isPluginEnabled(p)) {
				p.executed = true;
				var startTime = new Date();
				try {
					if(tiddler.text)
						window.eval(tiddler.text);
					nLoaded++;
				} catch(ex) {
					p.log.push(config.messages.pluginError.format([exceptionText(ex)]));
					p.error = true;
					if(!console.tiddlywiki) {
						console.log("error evaluating " + tiddler.title, ex);
					}
				}
				pluginInfo.startupTime = String((new Date()) - startTime) + "ms";
			} else {
				nPlugins--;
			}
		} else {
			p.warning = true;
		}
	}
	return nLoaded != nPlugins;
}

function getPluginInfo(tiddler)
{
	var p = store.getTiddlerSlices(tiddler.title,["Name","Description","Version","Requires","CoreVersion","Date","Source","Author","License","Browsers"]);
	p.tiddler = tiddler;
	p.title = tiddler.title;
	p.log = [];
	return p;
}

// Check that a particular plugin is valid for execution
function isPluginExecutable(plugin)
{
	if(plugin.tiddler.isTagged("systemConfigForce")) {
		plugin.log.push(config.messages.pluginForced);
		return true;
	}
	if(plugin["CoreVersion"]) {
		var coreVersion = plugin["CoreVersion"].split(".");
		var w = parseInt(coreVersion[0],10) - version.major;
		if(w == 0 && coreVersion[1])
			w = parseInt(coreVersion[1],10) - version.minor;
		if(w == 0 && coreVersion[2])
			w = parseInt(coreVersion[2],10) - version.revision;
		if(w > 0) {
			plugin.log.push(config.messages.pluginVersionError);
			return false;
		}
	}
	return true;
}

function isPluginEnabled(plugin)
{
	if(plugin.tiddler.isTagged("systemConfigDisable")) {
		plugin.log.push(config.messages.pluginDisabled);
		return false;
	}
	return true;
}

//--
//-- Paramifiers
//--

function getParameters()
{
	var p = null;
	if(window.location.hash) {
		p = decodeURIComponent(window.location.hash.substr(1));
		if(config.browser.firefoxDate != null && config.browser.firefoxDate[1] < "20051111")
			p = convertUTF8ToUnicode(p);
	}
	return p;
}

function invokeParamifier(params,handler)
{
	if(!params || params.length == undefined || params.length <= 1)
		return;
	var i;
	for(i=1; i<params.length; i++) {
		var p = config.paramifiers[params[i].name];
		if(p && p[handler] instanceof Function)
			p[handler](params[i].value);
		else {
			var h = config.optionHandlers[params[i].name.substr(0,3)];
			if(h && h.set instanceof Function)
				h.set(params[i].name,params[i].value);
		}
	}
}

config.paramifiers = {};

config.paramifiers.start = {
	oninit: function(v) {
		safeMode = v.toLowerCase() == "safe";
	}
};

config.paramifiers.open = {
	onstart: function(v) {
		if(!readOnly || store.tiddlerExists(v) || store.isShadowTiddler(v))
			story.displayTiddler("bottom",v,null,false,null);
	}
};

config.paramifiers.story = {
	onstart: function(v) {
		var list = store.getTiddlerText(v,"").parseParams("open",null,false);
		invokeParamifier(list,"onstart");
	}
};

config.paramifiers.search = {
	onstart: function(v) {
		story.search(v,false,false);
	}
};

config.paramifiers.searchRegExp = {
	onstart: function(v) {
		story.prototype.search(v,false,true);
	}
};

config.paramifiers.tag = {
	onstart: function(v) {
		story.displayTiddlers(null,store.filterTiddlers("[tag["+v+"]]"),null,false,null);
	}
};

config.paramifiers.newTiddler = {
	onstart: function(v) {
		var args = v.parseParams("anon", null, null)[0];
		var title = args.title ? args.title[0] : v;
		var customFields = args.fields ? args.fields[0] : null;
		if(!readOnly) {
			story.displayTiddler(null,title,DEFAULT_EDIT_TEMPLATE,false,null,customFields);
			story.focusTiddler(title,"text");
			var i,tags = args.tag || [];
			for(i=0;i<tags.length;i++) {
				story.setTiddlerTag(title,tags[i],+1);
			}
		}
	}
};

config.paramifiers.newJournal = {
	onstart: function(v) {
		if(!readOnly) {
			var now = new Date();
			var title = now.formatString(v.trim());
			story.displayTiddler(null,title,DEFAULT_EDIT_TEMPLATE);
			story.focusTiddler(title,"text");
		}
	}
};

config.paramifiers.readOnly = {
	onconfig: function(v) {
		var p = v.toLowerCase();
		readOnly = p == "yes" ? true : (p == "no" ? false : readOnly);
	}
};

config.paramifiers.theme = {
	onconfig: function(v) {
		story.switchTheme(v);
	}
};

config.paramifiers.upgrade = {
	onstart: function(v) {
		upgradeFrom(v);
	}
};

config.paramifiers.recent= {
	onstart: function(v) {
		var titles=[];
		var i,tiddlers=store.getTiddlers("modified","excludeLists").reverse();
		for(i=0; i<v && i<tiddlers.length; i++)
			titles.push(tiddlers[i].title);
		story.displayTiddlers(null,titles);
	}
};

config.paramifiers.filter = {
	onstart: function(v) {
		story.displayTiddlers(null,store.filterTiddlers(v),null,false);
	}
};

//--
//-- Formatter helpers
//--

function Formatter(formatters)
{
	var n;
	this.formatters = [];
	var pattern = [];
	for(n=0; n<formatters.length; n++) {
		pattern.push("(" + formatters[n].match + ")");
		this.formatters.push(formatters[n]);
	}
	this.formatterRegExp = new RegExp(pattern.join("|"),"mg");
}

config.formatterHelpers = {

	createElementAndWikify: function(w)
	{
		w.subWikifyTerm(createTiddlyElement(w.output,this.element),this.termRegExp);
	},

	inlineCssHelper: function(w)
	{
		var styles = [];
		config.textPrimitives.cssLookaheadRegExp.lastIndex = w.nextMatch;
		var lookaheadMatch = config.textPrimitives.cssLookaheadRegExp.exec(w.source);
		while(lookaheadMatch && lookaheadMatch.index == w.nextMatch) {
			var s,v;
			if(lookaheadMatch[1]) {
				s = lookaheadMatch[1].unDash();
				v = lookaheadMatch[2];
			} else {
				s = lookaheadMatch[3].unDash();
				v = lookaheadMatch[4];
			}
			if(s=="bgcolor")
				s = "backgroundColor";
			if(s=="float")
				s = "cssFloat";
			styles.push({style: s, value: v});
			w.nextMatch = lookaheadMatch.index + lookaheadMatch[0].length;
			config.textPrimitives.cssLookaheadRegExp.lastIndex = w.nextMatch;
			lookaheadMatch = config.textPrimitives.cssLookaheadRegExp.exec(w.source);
		}
		return styles;
	},

	applyCssHelper: function(e,styles)
	{
		var t;
		for(t=0; t< styles.length; t++) {
			try {
				e.style[styles[t].style] = styles[t].value;
			} catch (ex) {
			}
		}
	},

	enclosedTextHelper: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
			var text = lookaheadMatch[1];
			if(config.browser.isIE && (config.browser.ieVersion[1] < 10))
				text = text.replace(/\n/g,"\r");
			createTiddlyElement(w.output,this.element,null,null,text);
			w.nextMatch = lookaheadMatch.index + lookaheadMatch[0].length;
		}
	},

	isExternalLink: function(link)
	{
		if(store.tiddlerExists(link) || store.isShadowTiddler(link)) {
			return false;
		}
		var urlRegExp = new RegExp(config.textPrimitives.urlPattern,"mg");
		if(urlRegExp.exec(link)) {
			return true;
		}
		if(link.indexOf(".")!=-1 || link.indexOf("\\")!=-1 || link.indexOf("/")!=-1 || link.indexOf("#")!=-1) {
			return true;
		}
		return false;
	}

};

//--
//-- Standard formatters
//--

config.formatters = [
{
	name: "table",
	match: "^\\|(?:[^\\n]*)\\|(?:[fhck]?)$",
	lookaheadRegExp: /^\|([^\n]*)\|([fhck]?)$/mg,
	rowTermRegExp: /(\|(?:[fhck]?)$\n?)/mg,
	cellRegExp: /(?:\|([^\n\|]*)\|)|(\|[fhck]?$\n?)/mg,
	cellTermRegExp: /((?:\x20*)\|)/mg,
	rowTypes: {"c":"caption", "h":"thead", "":"tbody", "f":"tfoot"},
	handler: function(w)
	{
		var table = createTiddlyElement(w.output,"table",null,"twtable");
		var prevColumns = [];
		var currRowType = null;
		var rowContainer;
		var rowCount = 0;
		var onmouseover = function() {jQuery(this).addClass("hoverRow");};
		var onmouseout = function() {jQuery(this).removeClass("hoverRow");};
		w.nextMatch = w.matchStart;
		this.lookaheadRegExp.lastIndex = w.nextMatch;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		while(lookaheadMatch && lookaheadMatch.index == w.nextMatch) {
			var nextRowType = lookaheadMatch[2];
			if(nextRowType == "k") {
				table.className = lookaheadMatch[1];
				w.nextMatch += lookaheadMatch[0].length+1;
			} else {
				if(nextRowType != currRowType) {
					rowContainer = createTiddlyElement(table,this.rowTypes[nextRowType]);
					currRowType = nextRowType;
				}
				if(currRowType == "c") {
					// Caption
					w.nextMatch++;
					if(rowContainer != table.firstChild)
						table.insertBefore(rowContainer,table.firstChild);
					rowContainer.setAttribute("align",rowCount == 0?"top":"bottom");
					w.subWikifyTerm(rowContainer,this.rowTermRegExp);
				} else {
					var theRow = createTiddlyElement(rowContainer,"tr",null,rowCount%2?"oddRow":"evenRow");
					theRow.onmouseover = onmouseover;
					theRow.onmouseout = onmouseout;
					this.rowHandler(w,theRow,prevColumns);
					rowCount++;
				}
			}
			this.lookaheadRegExp.lastIndex = w.nextMatch;
			lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		}
	},
	rowHandler: function(w,e,prevColumns)
	{
		var col = 0;
		var colSpanCount = 1;
		var prevCell = null;
		this.cellRegExp.lastIndex = w.nextMatch;
		var cellMatch = this.cellRegExp.exec(w.source);
		while(cellMatch && cellMatch.index == w.nextMatch) {
			if(cellMatch[1] == "~") {
				// Rowspan
				var last = prevColumns[col];
				if(last) {
					last.rowSpanCount++;
					last.element.setAttribute("rowspan",last.rowSpanCount);
					last.element.setAttribute("rowSpan",last.rowSpanCount); // Needed for IE
					last.element.valign = "center";
					if(colSpanCount > 1) {
						last.element.setAttribute("colspan",colSpanCount);
						last.element.setAttribute("colSpan",colSpanCount); // Needed for IE
						colSpanCount = 1;
					}
				}
				w.nextMatch = this.cellRegExp.lastIndex-1;
			} else if(cellMatch[1] == ">") {
				// Colspan
				colSpanCount++;
				w.nextMatch = this.cellRegExp.lastIndex-1;
			} else if(cellMatch[2]) {
				// End of row
				if(prevCell && colSpanCount > 1) {
					prevCell.setAttribute("colspan",colSpanCount);
					prevCell.setAttribute("colSpan",colSpanCount); // Needed for IE
				}
				w.nextMatch = this.cellRegExp.lastIndex;
				break;
			} else {
				// Cell
				w.nextMatch++;
				var styles = config.formatterHelpers.inlineCssHelper(w);
				var spaceLeft = false;
				var chr = w.source.substr(w.nextMatch,1);
				while(chr == " ") {
					spaceLeft = true;
					w.nextMatch++;
					chr = w.source.substr(w.nextMatch,1);
				}
				var cell;
				if(chr == "!") {
					cell = createTiddlyElement(e,"th");
					w.nextMatch++;
				} else {
					cell = createTiddlyElement(e,"td");
				}
				prevCell = cell;
				prevColumns[col] = {rowSpanCount:1,element:cell};
				if(colSpanCount > 1) {
					cell.setAttribute("colspan",colSpanCount);
					cell.setAttribute("colSpan",colSpanCount); // Needed for IE
					colSpanCount = 1;
				}
				config.formatterHelpers.applyCssHelper(cell,styles);
				w.subWikifyTerm(cell,this.cellTermRegExp);
				if(w.matchText.substr(w.matchText.length-2,1) == " ") // spaceRight
					cell.align = spaceLeft ? "center" : "left";
				else if(spaceLeft)
					cell.align = "right";
				w.nextMatch--;
			}
			col++;
			this.cellRegExp.lastIndex = w.nextMatch;
			cellMatch = this.cellRegExp.exec(w.source);
		}
	}
},

{
	name: "heading",
	match: "^!{1,6}",
	termRegExp: /(\n)/mg,
	handler: function(w)
	{
		w.subWikifyTerm(createTiddlyElement(w.output,"h" + w.matchLength),this.termRegExp);
	}
},

{
	name: "list",
	match: "^(?:[\\*#;:]+)",
	lookaheadRegExp: /^(?:(?:(\*)|(#)|(;)|(:))+)/mg,
	termRegExp: /(\n)/mg,
	handler: function(w)
	{
		var stack = [w.output];
		var currLevel = 0, currType = null;
		var listLevel, listType, itemType, baseType;
		w.nextMatch = w.matchStart;
		this.lookaheadRegExp.lastIndex = w.nextMatch;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		while(lookaheadMatch && lookaheadMatch.index == w.nextMatch) {
			if(lookaheadMatch[1]) {
				listType = "ul";
				itemType = "li";
			} else if(lookaheadMatch[2]) {
				listType = "ol";
				itemType = "li";
			} else if(lookaheadMatch[3]) {
				listType = "dl";
				itemType = "dt";
			} else if(lookaheadMatch[4]) {
				listType = "dl";
				itemType = "dd";
			}
			if(!baseType)
				baseType = listType;
			listLevel = lookaheadMatch[0].length;
			w.nextMatch += lookaheadMatch[0].length;
			var t;
			if(listLevel > currLevel) {
				for(t=currLevel; t<listLevel; t++) {
					var target = (currLevel == 0) ? stack[stack.length-1] : stack[stack.length-1].lastChild;
					stack.push(createTiddlyElement(target,listType));
				}
			} else if(listType!=baseType && listLevel==1) {
				w.nextMatch -= lookaheadMatch[0].length;
				return;
			} else if(listLevel < currLevel) {
				for(t=currLevel; t>listLevel; t--)
					stack.pop();
			} else if(listLevel == currLevel && listType != currType) {
				stack.pop();
				stack.push(createTiddlyElement(stack[stack.length-1].lastChild,listType));
			}
			currLevel = listLevel;
			currType = listType;
			var e = createTiddlyElement(stack[stack.length-1],itemType);
			w.subWikifyTerm(e,this.termRegExp);
			this.lookaheadRegExp.lastIndex = w.nextMatch;
			lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		}
	}
},

{
	name: "quoteByBlock",
	match: "^<<<\\n",
	termRegExp: /(^<<<(\n|$))/mg,
	element: "blockquote",
	handler: config.formatterHelpers.createElementAndWikify
},

{
	name: "quoteByLine",
	match: "^>+",
	lookaheadRegExp: /^>+/mg,
	termRegExp: /(\n)/mg,
	element: "blockquote",
	handler: function(w)
	{
		var stack = [w.output];
		var currLevel = 0;
		var newLevel = w.matchLength;
		var t,matched;
		do {
			if(newLevel > currLevel) {
				for(t=currLevel; t<newLevel; t++)
					stack.push(createTiddlyElement(stack[stack.length-1],this.element));
			} else if(newLevel < currLevel) {
				for(t=currLevel; t>newLevel; t--)
					stack.pop();
			}
			currLevel = newLevel;
			w.subWikifyTerm(stack[stack.length-1],this.termRegExp);
			createTiddlyElement(stack[stack.length-1],"br");
			this.lookaheadRegExp.lastIndex = w.nextMatch;
			var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
			matched = lookaheadMatch && lookaheadMatch.index == w.nextMatch;
			if(matched) {
				newLevel = lookaheadMatch[0].length;
				w.nextMatch += lookaheadMatch[0].length;
			}
		} while(matched);
	}
},

{
	name: "rule",
	match: "^----+$\\n?|<hr ?/?>\\n?",
	handler: function(w)
	{
		createTiddlyElement(w.output,"hr");
	}
},

{
	name: "monospacedByLine",
	match: "^(?:/\\*\\{\\{\\{\\*/|\\{\\{\\{|//\\{\\{\\{|<!--\\{\\{\\{-->)\\n",
	element: "pre",
	handler: function(w)
	{
		switch(w.matchText) {
		case "/*{{{*/\n": // CSS
			this.lookaheadRegExp = /\/\*\{\{\{\*\/\n*((?:^[^\n]*\n)+?)(\n*^\f*\/\*\}\}\}\*\/$\n?)/mg;
			break;
		case "{{{\n": // monospaced block
			this.lookaheadRegExp = /^\{\{\{\n((?:^[^\n]*\n)+?)(^\f*\}\}\}$\n?)/mg;
			break;
		case "//{{{\n": // plugin
			this.lookaheadRegExp = /^\/\/\{\{\{\n\n*((?:^[^\n]*\n)+?)(\n*^\f*\/\/\}\}\}$\n?)/mg;
			break;
		case "<!--{{{-->\n": //template
			this.lookaheadRegExp = /<!--\{\{\{-->\n*((?:^[^\n]*\n)+?)(\n*^\f*<!--\}\}\}-->$\n?)/mg;
			break;
		default:
			break;
		}
		config.formatterHelpers.enclosedTextHelper.call(this,w);
	}
},

{
	name: "wikifyComment",
	match: "^(?:/\\*\\*\\*|<!---)\\n",
	handler: function(w)
	{
		var termRegExp = (w.matchText == "/***\n") ? (/(^\*\*\*\/\n)/mg) : (/(^--->\n)/mg);
		w.subWikifyTerm(w.output,termRegExp);
	}
},

{
	name: "macro",
	match: "<<",
	lookaheadRegExp: /<<([^>\s]+)(?:\s*)((?:[^>]|(?:>(?!>)))*)>>/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart && lookaheadMatch[1]) {
			w.nextMatch = this.lookaheadRegExp.lastIndex;
			invokeMacro(w.output,lookaheadMatch[1],lookaheadMatch[2],w,w.tiddler);
		}
	}
},

{
	name: "prettyLink",
	match: "\\[\\[",
	lookaheadRegExp: /\[\[(.*?)(?:\|(~)?(.*?))?\]\]/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
			var e;
			var text = lookaheadMatch[1];
			if(lookaheadMatch[3]) {
				// Pretty bracketted link
				var link = lookaheadMatch[3];
				e = (!lookaheadMatch[2] && config.formatterHelpers.isExternalLink(link)) ?
						createExternalLink(w.output,link) : createTiddlyLink(w.output,link,false,null,w.isStatic,w.tiddler);
			} else {
				// Simple bracketted link
				e = createTiddlyLink(w.output,text,false,null,w.isStatic,w.tiddler);
			}
			createTiddlyText(e,text);
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
},

{
	name: "wikiLink",
	match: config.textPrimitives.unWikiLink+"?"+config.textPrimitives.wikiLink,
	handler: function(w)
	{
		if(w.matchText.substr(0,1) == config.textPrimitives.unWikiLink) {
			w.outputText(w.output,w.matchStart+1,w.nextMatch);
			return;
		}
		if(w.matchStart > 0) {
			var preRegExp = new RegExp(config.textPrimitives.anyLetterStrict,"mg");
			preRegExp.lastIndex = w.matchStart-1;
			var preMatch = preRegExp.exec(w.source);
			if(preMatch.index == w.matchStart-1) {
				w.outputText(w.output,w.matchStart,w.nextMatch);
				return;
			}
		}
		if(w.autoLinkWikiWords || store.isShadowTiddler(w.matchText)) {
			var link = createTiddlyLink(w.output,w.matchText,false,null,w.isStatic,w.tiddler);
			w.outputText(link,w.matchStart,w.nextMatch);
		} else {
			w.outputText(w.output,w.matchStart,w.nextMatch);
		}
	}
},

{
	name: "urlLink",
	match: config.textPrimitives.urlPattern,
	handler: function(w)
	{
		w.outputText(createExternalLink(w.output,w.matchText),w.matchStart,w.nextMatch);
	}
},

{
	name: "image",
	match: "\\[[<>]?[Ii][Mm][Gg]\\[",
	lookaheadRegExp: /\[([<]?)(>?)[Ii][Mm][Gg]\[(?:([^\|\]]+)\|)?([^\[\]\|]+)\](?:\[([^\]]*)\])?\]/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
			var e = w.output;
			if(lookaheadMatch[5]) {
				var link = lookaheadMatch[5];
				e = config.formatterHelpers.isExternalLink(link) ? createExternalLink(w.output,link) : createTiddlyLink(w.output,link,false,null,w.isStatic,w.tiddler);
				jQuery(e).addClass("imageLink");
			}
			var img = createTiddlyElement(e,"img");
			if(lookaheadMatch[1])
				img.align = "left";
			else if(lookaheadMatch[2])
				img.align = "right";
			if(lookaheadMatch[3]) {
				img.title = lookaheadMatch[3];
				img.setAttribute("alt",lookaheadMatch[3]);
			}
			img.src = lookaheadMatch[4];
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
},

{
	name: "html",
	match: "<[Hh][Tt][Mm][Ll]>",
	lookaheadRegExp: /<[Hh][Tt][Mm][Ll]>((?:.|\n)*?)<\/[Hh][Tt][Mm][Ll]>/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
			createTiddlyElement(w.output,"span").innerHTML = lookaheadMatch[1];
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
},

{
	name: "commentByBlock",
	match: "/%",
	lookaheadRegExp: /\/%((?:.|\n)*?)%\//mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart)
			w.nextMatch = this.lookaheadRegExp.lastIndex;
	}
},

{
	name: "characterFormat",
	match: "''|//|__|\\^\\^|~~|--(?!\\s|$)|\\{\\{\\{",
	handler: function(w)
	{
		switch(w.matchText) {
		case "''":
			w.subWikifyTerm(w.output.appendChild(document.createElement("strong")),/('')/mg);
			break;
		case "//":
			w.subWikifyTerm(createTiddlyElement(w.output,"em"),/(\/\/)/mg);
			break;
		case "__":
			w.subWikifyTerm(createTiddlyElement(w.output,"u"),/(__)/mg);
			break;
		case "^^":
			w.subWikifyTerm(createTiddlyElement(w.output,"sup"),/(\^\^)/mg);
			break;
		case "~~":
			w.subWikifyTerm(createTiddlyElement(w.output,"sub"),/(~~)/mg);
			break;
		case "--":
			w.subWikifyTerm(createTiddlyElement(w.output,"strike"),/(--)/mg);
			break;
		case "{{{":
			var lookaheadRegExp = /\{\{\{((?:.|\n)*?)\}\}\}/mg;
			lookaheadRegExp.lastIndex = w.matchStart;
			var lookaheadMatch = lookaheadRegExp.exec(w.source);
			if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
				createTiddlyElement(w.output,"code",null,null,lookaheadMatch[1]);
				w.nextMatch = lookaheadRegExp.lastIndex;
			}
			break;
		}
	}
},

{
	name: "customFormat",
	match: "@@|\\{\\{",
	handler: function(w)
	{
		switch(w.matchText) {
		case "@@":
			var e = createTiddlyElement(w.output,"span");
			var styles = config.formatterHelpers.inlineCssHelper(w);
			if(styles.length == 0)
				e.className = "marked";
			else
				config.formatterHelpers.applyCssHelper(e,styles);
			w.subWikifyTerm(e,/(@@)/mg);
			break;
		case "{{":
			var lookaheadRegExp = /\{\{[\s]*([\w]+[\s\w]*)[\s]*\{(\n?)/mg;
			lookaheadRegExp.lastIndex = w.matchStart;
			var lookaheadMatch = lookaheadRegExp.exec(w.source);
			if(lookaheadMatch) {
				w.nextMatch = lookaheadRegExp.lastIndex;
				e = createTiddlyElement(w.output,lookaheadMatch[2] == "\n" ? "div" : "span",null,lookaheadMatch[1]);
				w.subWikifyTerm(e,/(\}\}\})/mg);
			}
			break;
		}
	}
},

{
	name: "mdash",
	match: "--",
	handler: function(w)
	{
		createTiddlyElement(w.output,"span").innerHTML = "&mdash;";
	}
},

{
	name: "lineBreak",
	match: "\\n|<br ?/?>",
	handler: function(w)
	{
		createTiddlyElement(w.output,"br");
	}
},

{
	name: "rawText",
	match: "\"{3}|<nowiki>",
	lookaheadRegExp: /(?:\"{3}|<nowiki>)((?:.|\n)*?)(?:\"{3}|<\/nowiki>)/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
			createTiddlyElement(w.output,"span",null,null,lookaheadMatch[1]);
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
},

{
	name: "htmlEntitiesEncoding",
	match: "(?:(?:&#?[a-zA-Z0-9]{2,8};|.)(?:&#?(?:x0*(?:3[0-6][0-9a-fA-F]|1D[c-fC-F][0-9a-fA-F]|20[d-fD-F][0-9a-fA-F]|FE2[0-9a-fA-F])|0*(?:76[89]|7[7-9][0-9]|8[0-7][0-9]|761[6-9]|76[2-7][0-9]|84[0-3][0-9]|844[0-7]|6505[6-9]|6506[0-9]|6507[0-1]));)+|&#?[a-zA-Z0-9]{2,8};)",
	handler: function(w)
	{
		createTiddlyElement(w.output,"span").innerHTML = w.matchText;
	}
}

];

//--
//-- Wikifier
//--

function getParser(tiddler,format)
{
	if(tiddler) {
		if(!format)
			format = tiddler.fields["wikiformat"];
		var i;
		if(format) {
			for(i in config.parsers) {
				if(format == config.parsers[i].format)
					return config.parsers[i];
			}
		} else {
			for(i in config.parsers) {
				if(tiddler.isTagged(config.parsers[i].formatTag))
					return config.parsers[i];
			}
		}
	}
	return formatter;
}

function Wikifier(source,formatter,highlightRegExp,tiddler)
{
	this.source = source;
	this.output = null;
	this.formatter = formatter;
	this.nextMatch = 0;
	this.autoLinkWikiWords = tiddler && tiddler.autoLinkWikiWords() == false ? false : true;
	this.highlightRegExp = highlightRegExp;
	this.highlightMatch = null;
	this.isStatic = false;
	if(highlightRegExp) {
		highlightRegExp.lastIndex = 0;
		this.highlightMatch = highlightRegExp.exec(source);
	}
	this.tiddler = tiddler;
}

Wikifier.prototype.wikifyPlain = function()
{
	var e = createTiddlyElement(document.body,"div");
	e.style.display = "none";
	this.subWikify(e);
	var text = jQuery(e).text();
	jQuery(e).remove();
	return text;
};

Wikifier.prototype.subWikify = function(output,terminator)
{
	try {
		if(terminator)
			this.subWikifyTerm(output,new RegExp("(" + terminator + ")","mg"));
		else
			this.subWikifyUnterm(output);
	} catch(ex) {
		showException(ex);
	}
};

Wikifier.prototype.subWikifyUnterm = function(output)
{
	var oldOutput = this.output;
	this.output = output;
	this.formatter.formatterRegExp.lastIndex = this.nextMatch;
	var formatterMatch = this.formatter.formatterRegExp.exec(this.source);
	while(formatterMatch) {
		// Output any text before the match
		if(formatterMatch.index > this.nextMatch)
			this.outputText(this.output,this.nextMatch,formatterMatch.index);
		// Set the match parameters for the handler
		this.matchStart = formatterMatch.index;
		this.matchLength = formatterMatch[0].length;
		this.matchText = formatterMatch[0];
		this.nextMatch = this.formatter.formatterRegExp.lastIndex;
		var t;
		for(t=1; t<formatterMatch.length; t++) {
			if(formatterMatch[t]) {
				this.formatter.formatters[t-1].handler(this);
				this.formatter.formatterRegExp.lastIndex = this.nextMatch;
				break;
			}
		}
		formatterMatch = this.formatter.formatterRegExp.exec(this.source);
	}
	if(this.nextMatch < this.source.length) {
		this.outputText(this.output,this.nextMatch,this.source.length);
		this.nextMatch = this.source.length;
	}
	this.output = oldOutput;
};

Wikifier.prototype.subWikifyTerm = function(output,terminatorRegExp)
{
	var oldOutput = this.output;
	this.output = output;
	terminatorRegExp.lastIndex = this.nextMatch;
	var terminatorMatch = terminatorRegExp.exec(this.source);
	this.formatter.formatterRegExp.lastIndex = this.nextMatch;
	var formatterMatch = this.formatter.formatterRegExp.exec(terminatorMatch ? this.source.substr(0,terminatorMatch.index) : this.source);
	while(terminatorMatch || formatterMatch) {
		if(terminatorMatch && (!formatterMatch || terminatorMatch.index <= formatterMatch.index)) {
			if(terminatorMatch.index > this.nextMatch)
				this.outputText(this.output,this.nextMatch,terminatorMatch.index);
			this.matchText = terminatorMatch[1];
			this.matchLength = terminatorMatch[1].length;
			this.matchStart = terminatorMatch.index;
			this.nextMatch = this.matchStart + this.matchLength;
			this.output = oldOutput;
			return;
		}
		if(formatterMatch.index > this.nextMatch)
			this.outputText(this.output,this.nextMatch,formatterMatch.index);
		this.matchStart = formatterMatch.index;
		this.matchLength = formatterMatch[0].length;
		this.matchText = formatterMatch[0];
		this.nextMatch = this.formatter.formatterRegExp.lastIndex;
		var t;
		for(t=1; t<formatterMatch.length; t++) {
			if(formatterMatch[t]) {
				this.formatter.formatters[t-1].handler(this);
				this.formatter.formatterRegExp.lastIndex = this.nextMatch;
				break;
			}
		}
		terminatorRegExp.lastIndex = this.nextMatch;
		terminatorMatch = terminatorRegExp.exec(this.source);
		formatterMatch = this.formatter.formatterRegExp.exec(terminatorMatch ? this.source.substr(0,terminatorMatch.index) : this.source);
	}
	if(this.nextMatch < this.source.length) {
		this.outputText(this.output,this.nextMatch,this.source.length);
		this.nextMatch = this.source.length;
	}
	this.output = oldOutput;
};

Wikifier.prototype.outputText = function(place,startPos,endPos)
{
	while(this.highlightMatch && (this.highlightRegExp.lastIndex > startPos) && (this.highlightMatch.index < endPos) && (startPos < endPos)) {
		if(this.highlightMatch.index > startPos) {
			createTiddlyText(place,this.source.substring(startPos,this.highlightMatch.index));
			startPos = this.highlightMatch.index;
		}
		var highlightEnd = Math.min(this.highlightRegExp.lastIndex,endPos);
		createTiddlyElement(place,"span",null,"highlight",this.source.substring(startPos,highlightEnd));
		startPos = highlightEnd;
		if(startPos >= this.highlightRegExp.lastIndex)
			this.highlightMatch = this.highlightRegExp.exec(this.source);
	}
	if(startPos < endPos) {
		createTiddlyText(place,this.source.substring(startPos,endPos));
	}
};

function wikify(source,output,highlightRegExp,tiddler)
{
	if(source) {
		var wikifier = new Wikifier(source,getParser(tiddler),highlightRegExp,tiddler);
		var t0 = new Date();
		wikifier.subWikify(output);
		if(tiddler && config.options.chkDisplayInstrumentation)
			displayMessage("wikify:" +tiddler.title+ " in " + (new Date()-t0) + " ms");
	}
}

function wikifyStatic(source,highlightRegExp,tiddler,format)
{
	var e = createTiddlyElement(document.body,"pre");
	e.style.display = "none";
	var html = "";
	if(source && source != "") {
		if(!tiddler)
			tiddler = new Tiddler("temp");
		var wikifier = new Wikifier(source,getParser(tiddler,format),highlightRegExp,tiddler);
		wikifier.isStatic = true;
		wikifier.subWikify(e);
		html = e.innerHTML;
		jQuery(e).remove();
	}
	return html;
}

function wikifyPlainText(text,limit,tiddler)
{
	if(limit > 0)
		text = text.substr(0,limit);
	var wikifier = new Wikifier(text,formatter,null,tiddler);
	return wikifier.wikifyPlain();
}

function highlightify(source,output,highlightRegExp,tiddler)
{
	if(source) {
		var wikifier = new Wikifier(source,formatter,highlightRegExp,tiddler);
		wikifier.outputText(output,0,source.length);
	}
}

//--
//-- Macro definitions
//--

function invokeMacro(place,macro,params,wikifier,tiddler)
{
	try {
		var m = config.macros[macro];
		if(m && m.handler) {
			var tiddlerElem = story.findContainingTiddler(place);
			window.tiddler = tiddlerElem ? store.getTiddler(tiddlerElem.getAttribute("tiddler")) : null;
			window.place = place;
			var allowEval = true;
			if(config.evaluateMacroParameters=="system") {
				if(!tiddler || tiddler.tags.indexOf("systemAllowEval") == -1) {
					allowEval = false;
				}
			}
			m.handler(place,macro,m.noPreParse?null:params.readMacroParams(!allowEval),wikifier,params,tiddler);
		} else {
			createTiddlyError(place,config.messages.macroError.format([macro]),config.messages.macroErrorDetails.format([macro,config.messages.missingMacro]));
		}
	} catch(ex) {
		createTiddlyError(place,config.messages.macroError.format([macro]),config.messages.macroErrorDetails.format([macro,ex.toString()]));
	}
}

config.macros.version.handler = function(place)
{
	jQuery("<span/>").text(formatVersion()).appendTo(place);
};

config.macros.today.handler = function(place,macroName,params)
{
	var now = new Date();
	var text = params[0] ? now.formatString(params[0].trim()) : now.toLocaleString();
	jQuery("<span/>").text(text).appendTo(place);
};

config.macros.list.template = "<<view title link>>";
config.macros.list.handler = function(place,macroName,params,wikifier,paramString)
{
	var list = document.createElement("ul");
	jQuery(list).attr({ refresh: "macro", macroName: macroName }).data("params", paramString);
	place.appendChild(list);
	this.refresh(list);
};

config.macros.list.refresh = function(list) {
	var paramString = jQuery(list).data("params");
	var params = paramString.readMacroParams();
	var args = paramString.parseParams("anon", null, null)[0];
	var type = args.anon ? args.anon[0] : "all";
	jQuery(list).empty().addClass("list list-" + type);
	var template = args.template ? store.getTiddlerText(args.template[0]) : false;
	if(!template) {
		template = config.macros.list.template;
	}
	if(this[type].prompt)
		createTiddlyElement(list,"li",null,"listTitle",this[type].prompt);
	var results;
	if(this[type].handler)
		results = this[type].handler(params);
	var t;
	for(t = 0; t < results.length; t++) {
		var li = document.createElement("li");
		list.appendChild(li);
		var tiddler = results[t];
		if(typeof(tiddler) == 'string') { // deal with missing etc..
				tiddler = store.getTiddler(tiddler) || new Tiddler(tiddler);
		}
		wikify(template, li, null, tiddler);
	}
	if(results.length === 0 && args.emptyMessage) {
		jQuery(list).addClass("emptyList");
		jQuery("<li />").text(args.emptyMessage[0]).appendTo(list);
	}
};

config.macros.list.all.handler = function(params)
{
	return store.reverseLookup("tags","excludeLists",false,"title");
};

config.macros.list.missing.handler = function(params)
{
	return store.getMissingLinks();
};

config.macros.list.orphans.handler = function(params)
{
	return store.getOrphans();
};

config.macros.list.shadowed.handler = function(params)
{
	return store.getShadowed();
};

config.macros.list.touched.handler = function(params)
{
	return store.getTouched();
};

config.macros.list.filter.handler = function(params)
{
	var filter = params[1];
	var results = [];
	if(filter) {
		var tiddlers = store.filterTiddlers(filter);
		var t;
		for(t=0; t<tiddlers.length; t++)
			results.push(tiddlers[t].title);
	}
	return results;
};

config.macros.allTags.handler = function(place,macroName,params)
{
	var tags = store.getTags(params[0]);
	var ul = createTiddlyElement(place,"ul");
	if(tags.length == 0)
		createTiddlyElement(ul,"li",null,"listTitle",this.noTags);
	var t;
	for(t=0; t<tags.length; t++) {
		var title = tags[t][0];
		var info = getTiddlyLinkInfo(title);
		var li = createTiddlyElement(ul,"li");
		var btn = createTiddlyButton(li,title + " (" + tags[t][1] + ")",this.tooltip.format([title]),onClickTag,info.classes);
		btn.setAttribute("tag",title);
		btn.setAttribute("refresh","link");
		btn.setAttribute("tiddlyLink",title);
		if(params[1]) {
			btn.setAttribute("sortby",params[1]);
		}
	}
};

var macro = config.macros.timeline;
merge(macro, {
	handler: function(place,macroName,params, wikifier, paramString, tiddler) {
		var container = jQuery("<div />").attr("params", paramString).
			attr("macroName", macroName).appendTo(place)[0];
		macro.refresh(container);
	},
	refresh: function(container) {
		jQuery(container).attr("refresh", "macro").empty();
		var paramString = jQuery(container).attr("params");
		var args = paramString.parseParams("anon", null, null)[0];
		var params = args.anon || [];

		var field = params[0] || "modified";
		var prefix = field.charAt(0);
		var no_prefix_field = prefix === "-" || prefix === "+" ? field.substr(1, field.length) : field;
		var dateFormat = params[2] || this.dateFormat;
		var groupTemplate = macro.groupTemplate.format(no_prefix_field, dateFormat);
		groupTemplate = args.groupTemplate ? store.getTiddlerText(args.groupTemplate[0]) || groupTemplate :
			groupTemplate;

		var itemTemplate = macro.itemTemplate;
		itemTemplate = args.template ? store.getTiddlerText(args.template[0]) || itemTemplate :
			itemTemplate;

		var tiddlers = args.filter ? store.sortTiddlers(store.filterTiddlers(args.filter[0]), field) :
			store.reverseLookup("tags", "excludeLists", false, field);
		var lastGroup = "", ul;
		var last = params[1] ? tiddlers.length-Math.min(tiddlers.length,parseInt(params[1],10)) : 0;
		var t;
		for(t=tiddlers.length-1; t>=last; t--) {
			var tiddler = tiddlers[t];
			var theGroup = wikifyPlainText(groupTemplate,0,tiddler);
			if(typeof(ul) == "undefined" || theGroup != lastGroup) {
				ul = document.createElement("ul");
				jQuery(ul).addClass("timeline");
				container.appendChild(ul);
				createTiddlyElement(ul,"li",null,"listTitle",theGroup);
				lastGroup = theGroup;
			}
			var item = createTiddlyElement(ul,"li",null,"listLink");
			wikify(itemTemplate,item,null,tiddler);
		}
	},
	groupTemplate: "<<view %0 date '%1'>>", 
	itemTemplate: "<<view title link>>"
});

config.macros.tiddler.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var allowEval = true;
	var stack = config.macros.tiddler.tiddlerStack;
	if(stack.length > 0 && config.evaluateMacroParameters == "system") {
		// included tiddler and "system" evaluation required, so check tiddler tagged appropriately
		var title = stack[stack.length-1];
		var pos = title.indexOf(config.textPrimitives.sectionSeparator);
		if(pos != -1) {
			title = title.substr(0,pos); // get the base tiddler title
		}
		var t = store.getTiddler(title);
		if(!t || t.tags.indexOf("systemAllowEval") == -1) {
			allowEval = false;
		}
	}
	params = paramString.parseParams("name",null,allowEval,false,true);
	var names = params[0]["name"];
	var tiddlerName = names[0];
	var className = names[1] || null;
	var args = params[0]["with"];
	var wrapper = createTiddlyElement(place,"span",null,className,null,{
		refresh: "content", tiddler: tiddlerName
	});
	if(args!==undefined)
		wrapper.setAttribute("args","[["+args.join("]] [[")+"]]");
	this.transclude(wrapper,tiddlerName,args);
};

config.macros.tiddler.transclude = function(wrapper,tiddlerName,args)
{
	var text = store.getTiddlerText(tiddlerName);
	if(!text)
		return;
	var stack = config.macros.tiddler.tiddlerStack;
	if(stack.indexOf(tiddlerName) !== -1)
		return;
	stack.push(tiddlerName);
	try {
		if(typeof args == "string")
			args = args.readBracketedList();
		var n = args ? Math.min(args.length,9) : 0;
		var i;
		for(i=0; i<n; i++) {
			var placeholderRE = new RegExp("\\$" + (i + 1),"mg");
			text = text.replace(placeholderRE,args[i]);
		}
		config.macros.tiddler.renderText(wrapper,text,tiddlerName);
	} finally {
		stack.pop();
	}
};

config.macros.tiddler.renderText = function(place,text,tiddlerName)
{
	wikify(text,place,null,store.getTiddler(tiddlerName));
};

config.macros.tiddler.tiddlerStack = [];

config.macros.tag.handler = function(place,macroName,params)
{
	var btn = createTagButton(place,params[0],null,params[1],params[2]);
	if(params[3]) {
		btn.setAttribute('sortby',params[3]);
	}
};

config.macros.tags.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	params = paramString.parseParams("anon",null,true,false,false);
	var ul = createTiddlyElement(place,"ul");
	var title = getParam(params,"anon","");
	if(title && store.tiddlerExists(title))
		tiddler = store.getTiddler(title);
	var sep = getParam(params,"sep"," ");
	var lingo = config.views.wikified.tag;
	var label = null;
	var t;
	for(t=0; t<tiddler.tags.length; t++) {
		var tag = store.getTiddler(tiddler.tags[t]);
		if(!tag || !tag.tags.contains("excludeLists")) {
			if(!label)
				label = createTiddlyElement(ul,"li",null,"listTitle",lingo.labelTags.format([tiddler.title]));
			createTagButton(createTiddlyElement(ul,"li"),tiddler.tags[t],tiddler.title);
			if(t<tiddler.tags.length-1)
				createTiddlyText(ul,sep);
		}
	}
	if(!label)
		createTiddlyElement(ul,"li",null,"listTitle",lingo.labelNoTags.format([tiddler.title]));
};

config.macros.tagging.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	params = paramString.parseParams("anon",null,true,false,false);
	var ul = createTiddlyElement(place,"ul");
	var title = getParam(params,"anon","");
	if(title == "" && tiddler instanceof Tiddler)
		title = tiddler.title;
	var sep = getParam(params,"sep"," ");
	ul.setAttribute("title",this.tooltip.format([title]));
	var sortby = getParam(params,"sortBy",false);
	var tagged = store.getTaggedTiddlers(title,sortby);
	var prompt = tagged.length == 0 ? this.labelNotTag : this.label;
	createTiddlyElement(ul,"li",null,"listTitle",prompt.format([title,tagged.length]));
	var t;
	for(t=0; t<tagged.length; t++) {
		createTiddlyLink(createTiddlyElement(ul,"li"),tagged[t].title,true);
		if(t<tagged.length-1)
			createTiddlyText(ul,sep);
	}
};

config.macros.closeAll.handler = function(place)
{
	createTiddlyButton(place,this.label,this.prompt,this.onClick);
};

config.macros.closeAll.onClick = function(e)
{
	story.closeAllTiddlers();
	return false;
};

config.macros.permaview.handler = function(place)
{
	createTiddlyButton(place,this.label,this.prompt,this.onClick);
};

config.macros.permaview.onClick = function(e)
{
	story.permaView();
	return false;
};

config.macros.saveChanges.handler = function(place,macroName,params)
{
	if(!readOnly)
		createTiddlyButton(place,params[0] || this.label,params[1] || this.prompt,this.onClick,null,null,this.accessKey);
};

config.macros.saveChanges.onClick = function(e)
{
	saveChanges();
	return false;
};

config.macros.slider.onClickSlider = function(ev)
{
	var n = this.nextSibling;
	var cookie = n.getAttribute("cookie");
	var isOpen = n.style.display != "none";
	if(config.options.chkAnimate && anim && typeof Slider == "function")
		anim.startAnimating(new Slider(n,!isOpen,null,"none"));
	else
		n.style.display = isOpen ? "none" : "block";
	config.options[cookie] = !isOpen;
	saveOption(cookie);
	return false;
};

config.macros.slider.createSlider = function(place,cookie,title,tooltip)
{
	var c = cookie || "";
	createTiddlyButton(place,title,tooltip,this.onClickSlider);
	var panel = createTiddlyElement(null,"div",null,"sliderPanel");
	panel.setAttribute("cookie",c);
	panel.style.display = config.options[c] ? "block" : "none";
	place.appendChild(panel);
	return panel;
};

config.macros.slider.handler = function(place,macroName,params)
{
	var panel = this.createSlider(place,params[0],params[2],params[3]);
	var text = store.getTiddlerText(params[1]);
	panel.setAttribute("refresh","content");
	panel.setAttribute("tiddler",params[1]);
	if(text)
		wikify(text,panel,null,store.getTiddler(params[1]));
};

// <<gradient [[tiddler name]] vert|horiz rgb rgb rgb rgb... >>
config.macros.gradient.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var panel = wikifier ? createTiddlyElement(place,"div",null,"gradient") : place;
	panel.style.position = "relative";
	panel.style.overflow = "hidden";
	panel.style.zIndex = "0";
	if(wikifier) {
		var styles = config.formatterHelpers.inlineCssHelper(wikifier);
		config.formatterHelpers.applyCssHelper(panel,styles);
	}
	params = paramString.parseParams("color");
	var locolors = [], hicolors = [];
	var t;
	for(t=2; t<params.length; t++) {
		var c = params[t].value;
		if(params[t].name == "snap") {
			hicolors[hicolors.length-1] = c;
		} else {
			locolors.push(c);
			hicolors.push(c);
		}
	}
	drawGradient(panel,params[1].value != "vert",locolors,hicolors);
	if(wikifier)
		wikifier.subWikify(panel,">>");
	if(document.all) {
		panel.style.height = "100%";
		panel.style.width = "100%";
	}
};

config.macros.message.handler = function(place,macroName,params)
{
	if(params[0]) {
		var names = params[0].split(".");
		var lookupMessage = function(root,nameIndex) {
				if(root[names[nameIndex]]) {
					if(nameIndex < names.length-1)
						return (lookupMessage(root[names[nameIndex]],nameIndex+1));
					else
						return root[names[nameIndex]];
				} else
					return null;
			};
		var m = lookupMessage(config,0);
		if(m == null)
			m = lookupMessage(window,0);
		createTiddlyText(place,m.toString().format(params.splice(1)));
	}
};


config.macros.view.depth = 0;
config.macros.view.values = [];
config.macros.view.views = {
	text: function(value,place,params,wikifier,paramString,tiddler) {
		highlightify(value,place,highlightHack,tiddler);
	},
	link: function(value,place,params,wikifier,paramString,tiddler) {
		createTiddlyLink(place,value,true);
	},
	wikified: function(value,place,params,wikifier,paramString,tiddler) {
		if(config.macros.view.depth>50)
			return;
		if(config.macros.view.depth>0) {
			if (value==config.macros.view.values[config.macros.view.depth-1]) {
				return;
			}
		}
		config.macros.view.values[config.macros.view.depth] = value;
		config.macros.view.depth++;
		if(params[2])
			value=params[2].unescapeLineBreaks().format([value]);
		wikify(value,place,highlightHack,tiddler);
		config.macros.view.depth--;
		config.macros.view.values[config.macros.view.depth] = null;
	},
	date: function(value,place,params,wikifier,paramString,tiddler) {
		value = Date.convertFromYYYYMMDDHHMM(value);
		createTiddlyText(place,value.formatString(params[2] || config.views.wikified.dateFormat));
	}
};

config.macros.view.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	if((tiddler instanceof Tiddler) && params[0]) {
		var value = store.getValue(tiddler,params[0]);
		if(value) {
			var type = params[1] || config.macros.view.defaultView;
			var handler = config.macros.view.views[type];
			if(handler)
				handler(value,place,params,wikifier,paramString,tiddler);
		}
	}
};

config.macros.edit.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var field = params[0];
	var rows = params[1] || 0;
	var defVal = params[2] || '';
	if((tiddler instanceof Tiddler) && field) {
		story.setDirty(tiddler.title,true);
		var e,v;
		if(field != "text" && !rows) {
			e = createTiddlyElement(null,"input",null,null,null,{
				type: "text", edit: field, size: "40", autocomplete: "off"
			});
			e.value = store.getValue(tiddler,field) || defVal;
			place.appendChild(e);
		} else {
			var wrapper1 = createTiddlyElement(null,"fieldset",null,"fieldsetFix");
			var wrapper2 = createTiddlyElement(wrapper1,"div");
			e = createTiddlyElement(wrapper2,"textarea");
			e.value = v = store.getValue(tiddler,field) || defVal;
			rows = rows || 10;
			var lines = v.match(/\n/mg);
			var maxLines = Math.max(parseInt(config.options.txtMaxEditRows,10),5);
			if(lines != null && lines.length > rows)
				rows = lines.length + 5;
			rows = Math.min(rows,maxLines);
			e.setAttribute("rows",rows);
			e.setAttribute("edit",field);
			place.appendChild(wrapper1);
		}
		if(tiddler.isReadOnly()) {
			e.setAttribute("readOnly","readOnly");
			jQuery(e).addClass("readOnly");
		}
		return e;
	}
};

config.macros.tagChooser.onClick = function(ev)
{
	var e = ev || window.event;
	var lingo = config.views.editor.tagChooser;
	var popup = Popup.create(this);
	var tags = store.getTags(this.getAttribute("tags"));
	if(tags.length == 0)
		jQuery("<li/>").text(lingo.popupNone).appendTo(popup);
	var t;
	for(t=0; t<tags.length; t++) {
		var tag = createTiddlyButton(createTiddlyElement(popup,"li"),tags[t][0],lingo.tagTooltip.format([tags[t][0]]),config.macros.tagChooser.onTagClick);
		tag.setAttribute("tag",tags[t][0]);
		tag.setAttribute("tiddler",this.getAttribute("tiddler"));
	}
	Popup.show();
	e.cancelBubble = true;
	if(e.stopPropagation) e.stopPropagation();
	return false;
};

config.macros.tagChooser.onTagClick = function(ev)
{
	var e = ev || window.event;
	if(e.metaKey || e.ctrlKey) stopEvent(e); //# keep popup open on CTRL-click
	var tag = this.getAttribute("tag");
	var title = this.getAttribute("tiddler");
	if(!readOnly)
		story.setTiddlerTag(title,tag,0);
	return false;
};

config.macros.tagChooser.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	if(tiddler instanceof Tiddler) {
		var lingo = config.views.editor.tagChooser;
		var btn = createTiddlyButton(place,lingo.text,lingo.tooltip,this.onClick);
		btn.setAttribute("tiddler",tiddler.title);
		btn.setAttribute("tags",params[0]);
	}
};

config.macros.refreshDisplay.handler = function(place)
{
	createTiddlyButton(place,this.label,this.prompt,this.onClick);
};

config.macros.refreshDisplay.onClick = function(e)
{
	refreshAll();
	return false;
};

config.macros.annotations.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var title = tiddler ? tiddler.title : null;
	var a = title ? config.annotations[title] : null;
	if(!tiddler || !title || !a)
		return;
	var text = a.format([title]);
	wikify(text,createTiddlyElement(place,"div",null,"annotation"),null,tiddler);
};
//--
//-- NewTiddler and NewJournal macros
//--

config.macros.newTiddler.createNewTiddlerButton = function(place,title,params,label,prompt,accessKey,newFocus,isJournal)
{
	var tags = [];
	var t;
	for(t=1; t<params.length; t++) {
		if((params[t].name == "anon" && t != 1) || (params[t].name == "tag"))
			tags.push(params[t].value);
	}
	label = getParam(params,"label",label);
	prompt = getParam(params,"prompt",prompt);
	accessKey = getParam(params,"accessKey",accessKey);
	newFocus = getParam(params,"focus",newFocus);
	var customFields = getParam(params,"fields","");
	if(!customFields && !store.isShadowTiddler(title))
		customFields = String.encodeHashMap(config.defaultCustomFields);
	var btn = createTiddlyButton(place,label,prompt,this.onClickNewTiddler,null,null,accessKey);
	btn.setAttribute("newTitle",title);
	btn.setAttribute("isJournal",isJournal ? "true" : "false");
	if(tags.length > 0)
		btn.setAttribute("params",tags.join("|"));
	btn.setAttribute("newFocus",newFocus);
	btn.setAttribute("newTemplate",getParam(params,"template",DEFAULT_EDIT_TEMPLATE));
	if(customFields !== "")
		btn.setAttribute("customFields",customFields);
	var text = getParam(params,"text");
	if(text !== undefined)
		btn.setAttribute("newText",text);
	return btn;
};

config.macros.newTiddler.onClickNewTiddler = function()
{
	var title = this.getAttribute("newTitle");
	if(this.getAttribute("isJournal") == "true") {
		title = new Date().formatString(title.trim());
	}
	var params = this.getAttribute("params");
	var tags = params ? params.split("|") : [];
	var focus = this.getAttribute("newFocus");
	var template = this.getAttribute("newTemplate");
	var customFields = this.getAttribute("customFields");
	if(!customFields && !store.isShadowTiddler(title))
		customFields = String.encodeHashMap(config.defaultCustomFields);
	story.displayTiddler(null,title,template,false,null,null);
	var tiddlerElem = story.getTiddler(title);
	if(customFields)
		story.addCustomFields(tiddlerElem,customFields);
	var text = this.getAttribute("newText");
	if(typeof text == "string" && story.getTiddlerField(title,"text"))
		story.getTiddlerField(title,"text").value = text.format([title]);
	var t;
	for(t=0;t<tags.length;t++)
		story.setTiddlerTag(title,tags[t],+1);
	story.focusTiddler(title,focus);
	return false;
};

config.macros.newTiddler.handler = function(place,macroName,params,wikifier,paramString)
{
	if(!readOnly) {
		params = paramString.parseParams("anon",null,true,false,false);
		var title = params[1] && params[1].name == "anon" ? params[1].value : this.title;
		title = getParam(params,"title",title);
		this.createNewTiddlerButton(place,title,params,this.label,this.prompt,this.accessKey,"title",false);
	}
};

config.macros.newJournal.handler = function(place,macroName,params,wikifier,paramString)
{
	if(!readOnly) {
		params = paramString.parseParams("anon",null,true,false,false);
		var title = params[1] && params[1].name == "anon" ? params[1].value : config.macros.timeline.dateFormat;
		title = getParam(params,"title",title);
		config.macros.newTiddler.createNewTiddlerButton(place,title,params,this.label,this.prompt,this.accessKey,"text",true);
	}
};

//--
//-- Search macro
//--

config.macros.search.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	params = paramString.parseParams("anon",null,false,false,false);
	createTiddlyButton(place,this.label,this.prompt,this.onClick,"searchButton");
	var txt = createTiddlyElement(null,"input",null,"txtOptionInput searchField");
	txt.value = getParam(params,"anon","");
	if(config.browser.isSafari) {
		txt.setAttribute("type","search");
		txt.setAttribute("results","5");
	} else {
		txt.setAttribute("type","text");
	}
	place.appendChild(txt);
	txt.onkeyup = this.onKeyPress;
	txt.onfocus = this.onFocus;
	txt.setAttribute("size",this.sizeTextbox);
	txt.setAttribute("accessKey",getParam(params,"accesskey",this.accessKey));
	txt.setAttribute("autocomplete","off");
	txt.setAttribute("lastSearchText","");
	txt.setAttribute("placeholder",getParam(params,"placeholder",this.placeholder));
};

// Global because there's only ever one outstanding incremental search timer
config.macros.search.timeout = null;

config.macros.search.doSearch = function(txt)
{
	if(txt.value.length > 0) {
		story.search(txt.value,config.options.chkCaseSensitiveSearch,config.options.chkRegExpSearch);
		txt.setAttribute("lastSearchText",txt.value);
	}
};

config.macros.search.onClick = function(e)
{
	config.macros.search.doSearch(this.nextSibling);
	return false;
};

config.macros.search.onKeyPress = function(ev)
{
	var me = config.macros.search;
	var e = ev || window.event;
	switch(e.keyCode) {
		case 9: // Tab
			return;
		case 13: // Ctrl-Enter
		case 10: // Ctrl-Enter on IE PC
			me.doSearch(this);
			break;
		case 27: // Escape
			this.value = "";
			clearMessage();
			break;
	}
	if(config.options.chkIncrementalSearch) {
		if(this.value.length > 2) {
			if(this.value != this.getAttribute("lastSearchText")) {
				if(me.timeout) {
					clearTimeout(me.timeout);
				}
				var txt = this;
				me.timeout = setTimeout(function() {me.doSearch(txt);},500);
			}
		} else {
			if(me.timeout) {
				clearTimeout(me.timeout);
			}
		}
	}
};

config.macros.search.onFocus = function(e)
{
	this.select();
};

//--
//-- Tabs macro
//--

config.macros.tabs.handler = function(place,macroName,params)
{
	var cookie = params[0];
	var numTabs = (params.length-1)/3;
	var wrapper = createTiddlyElement(null,"div",null,"tabsetWrapper " + cookie);
	var tabset = createTiddlyElement(wrapper,"div",null,"tabset");
	tabset.setAttribute("cookie",cookie);
	var validTab = false;
	var t;
	for(t=0; t<numTabs; t++) {
		var label = params[t*3+1];
		var prompt = params[t*3+2];
		var content = params[t*3+3];
		var tab = createTiddlyButton(tabset,label,prompt,this.onClickTab,"tab tabUnselected");
		createTiddlyElement(tab,"span",null,null," ",{style:"font-size:0pt;line-height:0px"});
		tab.setAttribute("tab",label);
		tab.setAttribute("content",content);
		tab.title = prompt;
		if(config.options[cookie] == label)
			validTab = true;
	}
	if(!validTab)
		config.options[cookie] = params[1];
	place.appendChild(wrapper);
	this.switchTab(tabset,config.options[cookie]);
};

config.macros.tabs.onClickTab = function(e)
{
	config.macros.tabs.switchTab(this.parentNode,this.getAttribute("tab"));
	return false;
};

config.macros.tabs.switchTab = function(tabset,tab)
{
	var cookie = tabset.getAttribute("cookie");
	var theTab = null;
	var nodes = tabset.childNodes;
	var t;
	for(t=0; t<nodes.length; t++) {
		if(nodes[t].getAttribute && nodes[t].getAttribute("tab") == tab) {
			theTab = nodes[t];
			theTab.className = "tab tabSelected";
		} else {
			nodes[t].className = "tab tabUnselected";
		}
	}
	if(theTab) {
		if(tabset.nextSibling && tabset.nextSibling.className == "tabContents")
			jQuery(tabset.nextSibling).remove();
		var tabContent = createTiddlyElement(null,"div",null,"tabContents");
		tabset.parentNode.insertBefore(tabContent,tabset.nextSibling);
		var contentTitle = theTab.getAttribute("content");
		wikify(store.getTiddlerText(contentTitle),tabContent,null,store.getTiddler(contentTitle));
		if(cookie) {
			config.options[cookie] = tab;
			saveOption(cookie);
		}
	}
};

//--
//-- Tiddler toolbar
//--

// Create a toolbar command button
config.macros.toolbar.createCommand = function(place,commandName,tiddler,className)
{
	if(typeof commandName != "string") {
		var c = null;
		var t;
		for(t in config.commands) {
			if(config.commands[t] == commandName)
				c = t;
		}
		commandName = c;
	}
	if((tiddler instanceof Tiddler) && (typeof commandName == "string")) {
		var command = config.commands[commandName];
		if(command.isEnabled ? command.isEnabled(tiddler) : this.isCommandEnabled(command,tiddler)) {
			var text = command.getText ? command.getText(tiddler) : this.getCommandText(command,tiddler);
			var tooltip = command.getTooltip ? command.getTooltip(tiddler) : this.getCommandTooltip(command,tiddler);
			var cmd = command.type == "popup" ? this.onClickPopup : this.onClickCommand;
			var btn = createTiddlyButton(null,text,tooltip,cmd);
			btn.setAttribute("commandName",commandName);
			btn.setAttribute("tiddler",tiddler.title);
			jQuery(btn).addClass("command_" + commandName);
			if(className)
				jQuery(btn).addClass(className);
			place.appendChild(btn);
		}
	}
};

config.macros.toolbar.isCommandEnabled = function(command,tiddler)
{
	var title = tiddler.title;
	var ro = tiddler.isReadOnly();
	var shadow = store.isShadowTiddler(title) && !store.tiddlerExists(title);
	return (!ro || (ro && !command.hideReadOnly)) && !(shadow && command.hideShadow);
};

config.macros.toolbar.getCommandText = function(command,tiddler)
{
	return (tiddler.isReadOnly() && command.readOnlyText) || command.text;
};

config.macros.toolbar.getCommandTooltip = function(command,tiddler)
{
	return (tiddler.isReadOnly() && command.readOnlyTooltip) || command.tooltip;
};

config.macros.toolbar.onClickCommand = function(ev)
{
	var e = ev || window.event;
	e.cancelBubble = true;
	if(e.stopPropagation) e.stopPropagation();
	var command = config.commands[this.getAttribute("commandName")];
	return command.handler(e,this,this.getAttribute("tiddler"));
};

config.macros.toolbar.onClickPopup = function(ev)
{
	var e = ev || window.event;
	e.cancelBubble = true;
	if(e.stopPropagation) e.stopPropagation();
	var popup = Popup.create(this);
	var command = config.commands[this.getAttribute("commandName")];
	var title = this.getAttribute("tiddler");
	popup.setAttribute("tiddler",title);
	command.handlePopup(popup,title);
	Popup.show();
	return false;
};

// Invoke the first command encountered from a given place that is tagged with a specified class
config.macros.toolbar.invokeCommand = function(place,className,event)
{
	var children = place.getElementsByTagName("a");
	var t;
	for(t=0; t<children.length; t++) {
		var c = children[t];
		if(jQuery(c).hasClass(className) && c.getAttribute && c.getAttribute("commandName")) {
			if(c.onclick instanceof Function)
				c.onclick.call(c,event);
			break;
		}
	}
};

config.macros.toolbar.onClickMore = function(ev)
{
	var e = this.nextSibling;
	e.style.display = "inline";
	this.style.display = "none";
	return false;
};

config.macros.toolbar.onClickLess = function(ev)
{
	var e = this.parentNode;
	var m = e.previousSibling;
	e.style.display = "none";
	m.style.display = "inline";
	return false;
};

config.macros.toolbar.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var t;
	for(t=0; t<params.length; t++) {
		var btn;
		var c = params[t];
		switch(c) {
		case "!":
			createTiddlyText(place,this.separator);
			break;
		case "*":
			createTiddlyElement(place,"br");
			break;
		case "<":
			btn = createTiddlyButton(place,this.lessLabel,this.lessPrompt,config.macros.toolbar.onClickLess);
			jQuery(btn).addClass("lessCommand");
			break;
		case ">":
			btn = createTiddlyButton(place,this.moreLabel,this.morePrompt,config.macros.toolbar.onClickMore);
			jQuery(btn).addClass("moreCommand");
			var e = createTiddlyElement(place,"span",null,"moreCommand");
			e.style.display = "none";
			place = e;
			break;
		default:
			var className = "";
			switch(c.substr(0,1)) {
			case "+":
				className = "defaultCommand";
				c = c.substr(1);
				break;
			case "-":
				className = "cancelCommand";
				c = c.substr(1);
				break;
			}
			if(config.commands[c]) {
				this.createCommand(place,c,tiddler,className);
			} else {
				this.customCommand(place,c,wikifier,tiddler);
			}
			break;
		}
	}
};

// Overrideable function to extend toolbar handler
config.macros.toolbar.customCommand = function(place,command,wikifier,tiddler)
{
};

//--
//-- Menu and toolbar commands
//--

config.commands.closeTiddler.handler = function(event,src,title)
{
	if(story.isDirty(title) && !readOnly) {
		if(!confirm(config.commands.cancelTiddler.warning.format([title])))
			return false;
	}
	story.setDirty(title,false);
	story.closeTiddler(title,true);
	return false;
};

config.commands.closeOthers.handler = function(event,src,title)
{
	story.closeAllTiddlers(title);
	return false;
};

config.commands.editTiddler.handler = function(event,src,title)
{
	clearMessage();
	var tiddlerElem = story.getTiddler(title);
	var fields = tiddlerElem.getAttribute("tiddlyFields");
	story.displayTiddler(null,title,DEFAULT_EDIT_TEMPLATE,false,null,fields);
	var e = story.getTiddlerField(title,config.options.txtEditorFocus||"text");
	if(e) {
		setCaretPosition(e,0);
	}
	return false;
};

config.commands.saveTiddler.handler = function(event,src,title)
{
	var newTitle = story.saveTiddler(title,event.shiftKey);
	if(newTitle)
		story.displayTiddler(null,newTitle);
	return false;
};

config.commands.cancelTiddler.handler = function(event,src,title)
{
	if(story.hasChanges(title) && !readOnly) {
		if(!confirm(this.warning.format([title])))
			return false;
	}
	story.setDirty(title,false);
	story.displayTiddler(null,title);
	return false;
};

config.commands.deleteTiddler.handler = function(event,src,title)
{
	var deleteIt = true;
	if(config.options.chkConfirmDelete)
		deleteIt = confirm(this.warning.format([title]));
	if(deleteIt) {
		store.removeTiddler(title);
		story.closeTiddler(title,true);
		autoSaveChanges();
	}
	return false;
};

config.commands.permalink.handler = function(event,src,title)
{
	var t = encodeURIComponent(String.encodeTiddlyLink(title));
	if(window.location.hash != t)
		window.location.hash = t;
	return false;
};

config.commands.references.handlePopup = function(popup,title)
{
	var references = store.getReferringTiddlers(title);
	var c = false;
	var r;
	for(r=0; r<references.length; r++) {
		if(references[r].title != title && !references[r].isTagged("excludeLists")) {
			createTiddlyLink(createTiddlyElement(popup,"li"),references[r].title,true);
			c = true;
		}
	}
	if(!c)
		createTiddlyElement(popup,"li",null,"disabled",this.popupNone);
};

config.commands.jump.handlePopup = function(popup,title)
{
	story.forEachTiddler(function(title,element) {
		createTiddlyLink(createTiddlyElement(popup,"li"),title,true,null,false,null,true);
		});
};

config.commands.fields.handlePopup = function(popup,title)
{
	var tiddler = store.fetchTiddler(title);
	if(!tiddler)
		return;
	var items = [];
	store.forEachField(tiddler,function(tiddler,fieldName,value){items.push({field:fieldName,value:value});},true);
	items.sort(function(a,b) {return a.field < b.field ? -1 : (a.field == b.field ? 0 : +1);});
	if(items.length > 0)
		ListView.create(popup,items,this.listViewTemplate);
	else
		createTiddlyElement(popup,"div",null,null,this.emptyText);
};

//--
//-- Tiddler() object
//--

function Tiddler(title)
{
	this.title = title;
	this.text = "";
	this.creator = null;
	this.modifier = null;
	this.created = new Date();
	this.modified = this.created;
	this.links = [];
	this.linksUpdated = false;
	this.tags = [];
	this.fields = {};
	return this;
}

Tiddler.prototype.getLinks = function()
{
	if(this.linksUpdated==false)
		this.changed();
	return this.links;
};

// Returns the fields that are inherited in string field:"value" field2:"value2" format
Tiddler.prototype.getInheritedFields = function()
{
	var f = {};
	var i;
	for(i in this.fields) {
		if(i=="server.host" || i=="server.workspace" || i=="wikiformat"|| i=="server.type") {
			f[i] = this.fields[i];
		}
	}
	return String.encodeHashMap(f);
};

// Increment the changeCount of a tiddler
Tiddler.prototype.incChangeCount = function()
{
	var c = this.fields['changecount'];
	c = c ? parseInt(c,10) : 0;
	this.fields['changecount'] = String(c+1);
};

// Clear the changeCount of a tiddler
Tiddler.prototype.clearChangeCount = function()
{
	if(this.fields['changecount']) {
		delete this.fields['changecount'];
	}
};

Tiddler.prototype.doNotSave = function()
{
	return this.fields['doNotSave'];
};

// Returns true if the tiddler has been updated since the tiddler was created or downloaded
Tiddler.prototype.isTouched = function()
{
	var changecount = this.fields.changecount || 0;
	return changecount > 0;
};

// Change the text and other attributes of a tiddler
Tiddler.prototype.set = function(title,text,modifier,modified,tags,created,fields,creator)
{
	this.assign(title,text,modifier,modified,tags,created,fields,creator);
	this.changed();
	return this;
};

// Change the text and other attributes of a tiddler without triggered a tiddler.changed() call
Tiddler.prototype.assign = function(title,text,modifier,modified,tags,created,fields,creator)
{
	if(title != undefined)
		this.title = title;
	if(text != undefined)
		this.text = text;
	if(modifier != undefined)
		this.modifier = modifier;
	if(modified != undefined)
		this.modified = modified;
	if(creator != undefined)
		this.creator = creator;
	if(created != undefined)
		this.created = created;
	if(fields != undefined)
		this.fields = fields;
	if(tags != undefined)
		this.tags = (typeof tags == "string") ? tags.readBracketedList() : tags;
	else if(this.tags == undefined)
		this.tags = [];
	return this;
};

// Get the tags for a tiddler as a string (space delimited, using [[brackets]] for tags containing spaces)
Tiddler.prototype.getTags = function()
{
	return String.encodeTiddlyLinkList(this.tags);
};

// Test if a tiddler carries a tag
Tiddler.prototype.isTagged = function(tag)
{
	return this.tags.indexOf(tag) != -1;
};

// Static method to convert "\n" to newlines, "\s" to "\"
Tiddler.unescapeLineBreaks = function(text)
{
	return text ? text.unescapeLineBreaks() : "";
};

// Convert newlines to "\n", "\" to "\s"
Tiddler.prototype.escapeLineBreaks = function()
{
	return this.text.escapeLineBreaks();
};

// Updates the secondary information (like links[] array) after a change to a tiddler
Tiddler.prototype.changed = function()
{
	this.links = [];
	var text = this.text;
	// remove 'quoted' text before scanning tiddler source
	text = text.replace(/\/%((?:.|\n)*?)%\//g,"").
		replace(/\{{3}((?:.|\n)*?)\}{3}/g,"").
		replace(/"""((?:.|\n)*?)"""/g,"").
		replace(/<nowiki\>((?:.|\n)*?)<\/nowiki\>/g,"").
		replace(/<html\>((?:.|\n)*?)<\/html\>/g,"").
		replace(/<script((?:.|\n)*?)<\/script\>/g,"");
	var t = this.autoLinkWikiWords() ? 0 : 1;
	var tiddlerLinkRegExp = t==0 ? config.textPrimitives.tiddlerAnyLinkRegExp : config.textPrimitives.tiddlerForcedLinkRegExp;
	tiddlerLinkRegExp.lastIndex = 0;
	var formatMatch = tiddlerLinkRegExp.exec(text);
	while(formatMatch) {
		var lastIndex = tiddlerLinkRegExp.lastIndex;
		if(t==0 && formatMatch[1] && formatMatch[1] != this.title) {
			// wikiWordLink
			if(formatMatch.index > 0) {
				var preRegExp = new RegExp(config.textPrimitives.unWikiLink+"|"+config.textPrimitives.anyLetter,"mg");
				preRegExp.lastIndex = formatMatch.index-1;
				var preMatch = preRegExp.exec(text);
				if(preMatch.index != formatMatch.index-1)
					this.links.pushUnique(formatMatch[1]);
			} else {
				this.links.pushUnique(formatMatch[1]);
			}
		}
		else if(formatMatch[2-t] && !config.formatterHelpers.isExternalLink(formatMatch[3-t])) // titledBrackettedLink
			this.links.pushUnique(formatMatch[3-t]);
		else if(formatMatch[4-t] && formatMatch[4-t] != this.title) // brackettedLink
			this.links.pushUnique(formatMatch[4-t]);
		tiddlerLinkRegExp.lastIndex = lastIndex;
		formatMatch = tiddlerLinkRegExp.exec(text);
	}
	this.linksUpdated = true;
};

Tiddler.prototype.getSubtitle = function()
{
	var modifier = this.modifier;
	if(!modifier)
		modifier = config.messages.subtitleUnknown || "";
	var modified = this.modified;
	if(modified)
		modified = modified.toLocaleString();
	else
		modified = config.messages.subtitleUnknown || "";
	var f = config.messages.tiddlerLinkTooltip || "%0 - %1, %2";
	return f.format([this.title,modifier,modified]);
};

Tiddler.prototype.isReadOnly = function()
{
	return readOnly;
};

Tiddler.prototype.autoLinkWikiWords = function()
{
	return !(this.isTagged("systemConfig") || this.isTagged("excludeMissing"));
};

Tiddler.prototype.getServerType = function()
{
	var serverType = null;
	if(this.fields['server.type'])
		serverType = this.fields['server.type'];
	if(!serverType)
		serverType = this.fields['wikiformat'];
	if(serverType && !config.adaptors[serverType])
		serverType = null;
	return serverType;
};

Tiddler.prototype.getAdaptor = function()
{
	var serverType = this.getServerType();
	return serverType ? new config.adaptors[serverType]() : null;
};

//--
//-- TiddlyWiki instance contains TiddlerS
//--

function TiddlyWiki(params)
{
	var tiddlers = {}; // Hashmap by name of tiddlers
	if(params && params.config) {
		this.config = config;
	}
	this.tiddlersUpdated = false;
	this.namedNotifications = []; // Array of {name:,notify:} of notification functions
	this.notificationLevel = 0;
	this.slices = {}; // map tiddlerName->(map sliceName->sliceValue). Lazy.
	this.clear = function() {
		tiddlers = {};
		this.setDirty(false);
	};
	this.fetchTiddler = function(title) {
		var t = tiddlers[title];
		return t instanceof Tiddler ? t : null;
	};
	this.deleteTiddler = function(title) {
		delete this.slices[title];
		delete tiddlers[title];
	};
	this.addTiddler = function(tiddler) {
		delete this.slices[tiddler.title];
		tiddlers[tiddler.title] = tiddler;
	};
	this.forEachTiddler = function(callback) {
		var t;
		for(t in tiddlers) {
			var tiddler = tiddlers[t];
			if(tiddler instanceof Tiddler)
				callback.call(this,t,tiddler);
		}
	};
}

TiddlyWiki.prototype.setDirty = function(dirty)
{
	this.dirty = dirty;
};

TiddlyWiki.prototype.isDirty = function()
{
	return this.dirty;
};

TiddlyWiki.prototype.tiddlerExists = function(title)
{
	var t = this.fetchTiddler(title);
	return t != undefined;
};

TiddlyWiki.prototype.isShadowTiddler = function(title)
{
	return config.shadowTiddlers[title] === undefined ? false : true;
};

TiddlyWiki.prototype.isAvailable = function(title) {
	if (!title)
		return false;
	var s = title ? title.indexOf(config.textPrimitives.sectionSeparator) : -1;
	if(s!=-1)
		title = title.substr(0,s);
	return this.tiddlerExists(title) || this.isShadowTiddler(title);
};

TiddlyWiki.prototype.createTiddler = function(title)
{
	var tiddler = this.fetchTiddler(title);
	if(!tiddler) {
		tiddler = new Tiddler(title);
		this.addTiddler(tiddler);
		this.setDirty(true);
	}
	return tiddler;
};

TiddlyWiki.prototype.getTiddler = function(title)
{
	var t = this.fetchTiddler(title);
	if(t != undefined)
		return t;
	else
		return null;
};

TiddlyWiki.prototype.getShadowTiddlerText = function(title)
{
	if(typeof config.shadowTiddlers[title] == "string")
		return config.shadowTiddlers[title];
	else
		return "";
};

// Retrieve tiddler contents
TiddlyWiki.prototype.getTiddlerText = function(title,defaultText)
{
	if(!title)
		return defaultText;
	var pos = title.indexOf(config.textPrimitives.sectionSeparator);
	var section = null;
	if(pos != -1) {
		section = title.substr(pos + config.textPrimitives.sectionSeparator.length);
		title = title.substr(0,pos);
	}
	pos = title.indexOf(config.textPrimitives.sliceSeparator);
	if(pos != -1) {
		var slice = this.getTiddlerSlice(title.substr(0,pos),title.substr(pos + config.textPrimitives.sliceSeparator.length));
		if(slice)
			return slice;
	}
	var tiddler = this.fetchTiddler(title);
	var text = tiddler ? tiddler.text : null;
	if(!tiddler && this.isShadowTiddler(title)) {
		text = this.getShadowTiddlerText(title);
	}
	if(text) {
		if(!section)
			return text;
		var re = new RegExp("(^!{1,6}[ \t]*" + section.escapeRegExp() + "[ \t]*\n)","mg");
		re.lastIndex = 0;
		var match = re.exec(text);
		if(match) {
			var t = text.substr(match.index+match[1].length);
			var re2 = /^!/mg;
			re2.lastIndex = 0;
			match = re2.exec(t); //# search for the next heading
			if(match)
				t = t.substr(0,match.index-1);//# don't include final \n
			return t;
		}
		return defaultText;
	}
	if(defaultText != undefined)
		return defaultText;
	return null;
};

TiddlyWiki.prototype.getRecursiveTiddlerText = function(title,defaultText,depth)
{
	var bracketRegExp = new RegExp("(?:\\[\\[([^\\]]+)\\]\\])","mg");
	var text = this.getTiddlerText(title,null);
	if(text == null)
		return defaultText;
	var textOut = [];
	var match,lastPos = 0;
	do {
		match = bracketRegExp.exec(text);
		if(match) {
			textOut.push(text.substr(lastPos,match.index-lastPos));
			if(match[1]) {
				if(depth <= 0)
					textOut.push(match[1]);
				else
					textOut.push(this.getRecursiveTiddlerText(match[1],"",depth-1));
			}
			lastPos = match.index + match[0].length;
		} else {
			textOut.push(text.substr(lastPos));
		}
	} while(match);
	return textOut.join("");
};

//TiddlyWiki.prototype.slicesRE = /(?:^([\'\/]{0,2})~?([\.\w]+)\:\1[\t\x20]*([^\n]+)[\t\x20]*$)|(?:^\|([\'\/]{0,2})~?([\.\w]+)\:?\4\|[\t\x20]*([^\n]+)[\t\x20]*\|$)/gm;
TiddlyWiki.prototype.slicesRE = /(?:^([\'\/]{0,2})~?([\.\w]+)\:\1[\t\x20]*([^\n]*)[\t\x20]*$)|(?:^\|([\'\/]{0,2})~?([\.\w]+)\:?\4\|[\t\x20]*([^\|\n]*)[\t\x20]*\|$)/gm;
// @internal
TiddlyWiki.prototype.calcAllSlices = function(title)
{
	var slices = {};
	var text = this.getTiddlerText(title,"");
	this.slicesRE.lastIndex = 0;
	var m = this.slicesRE.exec(text);
	while(m) {
		if(m[2])
			slices[m[2]] = m[3];
		else
			slices[m[5]] = m[6];
		m = this.slicesRE.exec(text);
	}
	return slices;
};

// Returns the slice of text of the given name
TiddlyWiki.prototype.getTiddlerSlice = function(title,sliceName)
{
	var slices = this.slices[title];
	if(!slices) {
		slices = this.calcAllSlices(title);
		this.slices[title] = slices;
	}
	return slices[sliceName];
};

// Build an hashmap of the specified named slices of a tiddler
TiddlyWiki.prototype.getTiddlerSlices = function(title,sliceNames)
{
	var t,r = {};
	for(t=0; t<sliceNames.length; t++) {
		var slice = this.getTiddlerSlice(title,sliceNames[t]);
		if(slice)
			r[sliceNames[t]] = slice;
	}
	return r;
};

TiddlyWiki.prototype.suspendNotifications = function()
{
	this.notificationLevel--;
};

TiddlyWiki.prototype.resumeNotifications = function()
{
	this.notificationLevel++;
};

// Invoke the notification handlers for a particular tiddler
TiddlyWiki.prototype.notify = function(title,doBlanket)
{
	if(!this.notificationLevel) {
	    var t;
		for(t=0; t<this.namedNotifications.length; t++) {
			var n = this.namedNotifications[t];
			if((n.name == null && doBlanket) || (n.name == title))
				n.notify(title);
		}
	}
};

// Invoke the notification handlers for all tiddlers
TiddlyWiki.prototype.notifyAll = function()
{
	if(!this.notificationLevel) {
	    var t;
		for(t=0; t<this.namedNotifications.length; t++) {
			var n = this.namedNotifications[t];
			if(n.name)
				n.notify(n.name);
		}
	}
};

// Add a notification handler to a tiddler
TiddlyWiki.prototype.addNotification = function(title,fn)
{
	var i;
	for(i=0; i<this.namedNotifications.length; i++) {
		if((this.namedNotifications[i].name == title) && (this.namedNotifications[i].notify == fn))
			return this;
	}
	this.namedNotifications.push({name: title, notify: fn});
	return this;
};

TiddlyWiki.prototype.removeTiddler = function(title)
{
	var tiddler = this.fetchTiddler(title);
	if(tiddler) {
		this.deleteTiddler(title);
		this.notify(title,true);
		this.setDirty(true);
	}
};

// Reset the sync status of a freshly synced tiddler
TiddlyWiki.prototype.resetTiddler = function(title)
{
	var tiddler = this.fetchTiddler(title);
	if(tiddler) {
		tiddler.clearChangeCount();
		this.notify(title,true);
		this.setDirty(true);
	}
};

TiddlyWiki.prototype.setTiddlerTag = function(title,status,tag)
{
	var tiddler = this.fetchTiddler(title);
	if(tiddler) {
		var t = tiddler.tags.indexOf(tag);
		if(t != -1)
			tiddler.tags.splice(t,1);
		if(status)
			tiddler.tags.push(tag);
		tiddler.changed();
		tiddler.incChangeCount();
		this.notify(title,true);
		this.setDirty(true);
	}
};

TiddlyWiki.prototype.addTiddlerFields = function(title,fields)
{
	var tiddler = this.fetchTiddler(title);
	if(!tiddler)
		return;
	merge(tiddler.fields,fields);
	tiddler.changed();
	tiddler.incChangeCount();
	this.notify(title,true);
	this.setDirty(true);
};

// Store tiddler in TiddlyWiki instance
TiddlyWiki.prototype.saveTiddler = function(title,newTitle,newBody,modifier,modified,tags,fields,clearChangeCount,created,creator)
{
	var tiddler;
	if(title instanceof Tiddler) {
		tiddler = title;
		tiddler.fields = merge(merge({},tiddler.fields),config.defaultCustomFields,true);
		title = tiddler.title;
		newTitle = title;
	} else {
		tiddler = this.fetchTiddler(title);
		if(tiddler) {
			created = created || tiddler.created; // Preserve created date
			creator = creator || tiddler.creator;
			this.deleteTiddler(title);
		} else {
			created = created || modified;
			tiddler = new Tiddler();
		}
		fields = merge(merge({},fields),config.defaultCustomFields,true);
		tiddler.set(newTitle,newBody,modifier,modified,tags,created,fields,creator);
	}
	this.addTiddler(tiddler);
	if(clearChangeCount)
		tiddler.clearChangeCount();
	else
		tiddler.incChangeCount();
	if(title != newTitle)
		this.notify(title,true);
	this.notify(newTitle,true);
	this.setDirty(true);
	return tiddler;
};

TiddlyWiki.prototype.incChangeCount = function(title)
{
	var tiddler = this.fetchTiddler(title);
	if(tiddler)
		tiddler.incChangeCount();
};

TiddlyWiki.prototype.getLoader = function()
{
	if(!this.loader)
		this.loader = new TW21Loader();
	return this.loader;
};

TiddlyWiki.prototype.getSaver = function()
{
	if(!this.saver)
		this.saver = new TW21Saver();
	return this.saver;
};

// Return all tiddlers formatted as an HTML string
TiddlyWiki.prototype.allTiddlersAsHtml = function()
{
	return this.getSaver().externalize(store);
};

// Load contents of a TiddlyWiki from an HTML DIV
TiddlyWiki.prototype.loadFromDiv = function(src,idPrefix,noUpdate)
{
	this.idPrefix = idPrefix;
	var storeElem = (typeof src == "string") ? document.getElementById(src) : src;
	if(!storeElem)
		return;
	var tiddlers = this.getLoader().loadTiddlers(this,storeElem.childNodes);
	this.setDirty(false);
	if(!noUpdate) {
		var i;
		for(i = 0;i<tiddlers.length; i++)
			tiddlers[i].changed();
	}
	jQuery(document).trigger("loadTiddlers");
};

// Load contents of a TiddlyWiki from a string
// Returns null if there's an error
TiddlyWiki.prototype.importTiddlyWiki = function(text)
{
	var posDiv = locateStoreArea(text);
	if(!posDiv)
		return null;
	var content = "<" + "html><" + "body>" + text.substring(posDiv[0],posDiv[1] + endSaveArea.length) + "<" + "/body><" + "/html>";
	// Create the iframe
	var iframe = document.createElement("iframe");
	iframe.style.display = "none";
	document.body.appendChild(iframe);
	var doc = iframe.document;
	if(iframe.contentDocument)
		doc = iframe.contentDocument; // For NS6
	else if(iframe.contentWindow)
		doc = iframe.contentWindow.document; // For IE5.5 and IE6
	// Put the content in the iframe
	doc.open();
	doc.writeln(content);
	doc.close();
	// Load the content into a TiddlyWiki() object
	var storeArea = doc.getElementById("storeArea");
	this.loadFromDiv(storeArea,"store");
	// Get rid of the iframe
	iframe.parentNode.removeChild(iframe);
	return this;
};

TiddlyWiki.prototype.updateTiddlers = function()
{
	this.tiddlersUpdated = true;
	this.forEachTiddler(function(title,tiddler) {
		tiddler.changed();
	});
};

// Return an array of tiddlers matching a search regular expression
TiddlyWiki.prototype.search = function(searchRegExp,sortField,excludeTag,match)
{
	var candidates = this.reverseLookup("tags",excludeTag,!!match);
	var t,results = [];
	for(t=0; t<candidates.length; t++) {
		if((candidates[t].title.search(searchRegExp) != -1) || (candidates[t].text.search(searchRegExp) != -1))
			results.push(candidates[t]);
	}
	if(!sortField)
		sortField = "title";
	results.sort(function(a,b) {return a[sortField] < b[sortField] ? -1 : (a[sortField] == b[sortField] ? 0 : +1);});
	return results;
};

// Returns a list of all tags in use
//   excludeTag - if present, excludes tags that are themselves tagged with excludeTag
// Returns an array of arrays where [tag][0] is the name of the tag and [tag][1] is the number of occurances
TiddlyWiki.prototype.getTags = function(excludeTag)
{
	var results = [];
	this.forEachTiddler(function(title,tiddler) {
	    var g,c;
		for(g=0; g<tiddler.tags.length; g++) {
			var tag = tiddler.tags[g];
			var n = true;
			for(c=0; c<results.length; c++) {
				if(results[c][0] == tag) {
					n = false;
					results[c][1]++;
				}
			}
			if(n && excludeTag) {
				var t = this.fetchTiddler(tag);
				if(t && t.isTagged(excludeTag))
					n = false;
			}
			if(n)
				results.push([tag,1]);
		}
	});
	results.sort(function(a,b) {return a[0].toLowerCase() < b[0].toLowerCase() ? -1 : (a[0].toLowerCase() == b[0].toLowerCase() ? 0 : +1);});
	return results;
};

// Return an array of the tiddlers that are tagged with a given tag
TiddlyWiki.prototype.getTaggedTiddlers = function(tag,sortField)
{
	return this.reverseLookup("tags",tag,true,sortField);
};

TiddlyWiki.prototype.getValueTiddlers = function(field,value,sortField)
{
	return this.reverseLookup(field,value,true,sortField);
};

// Return an array of the tiddlers that link to a given tiddler
TiddlyWiki.prototype.getReferringTiddlers = function(title,unusedParameter,sortField)
{
	if(!this.tiddlersUpdated)
		this.updateTiddlers();
	return this.reverseLookup("links",title,true,sortField);
};

// Return an array of the tiddlers that do or do not have a specified entry in the specified storage array (ie, "links" or "tags")
// lookupMatch == true to match tiddlers, false to exclude tiddlers
TiddlyWiki.prototype.reverseLookup = function(lookupField,lookupValue,lookupMatch,sortField)
{
	var results = [];
	this.forEachTiddler(function(title,tiddler) {
		var f = !lookupMatch;
		var values;
		if(["links", "tags"].contains(lookupField)) {
			values = tiddler[lookupField];
		} else {
			var accessor = TiddlyWiki.standardFieldAccess[lookupField];
			if(accessor) {
				values = [ accessor.get(tiddler) ];
			} else {
				values = tiddler.fields[lookupField] ? [tiddler.fields[lookupField]] : [];
			}
		}
		var lookup;
		for(lookup=0; lookup<values.length; lookup++) {
			if(values[lookup] == lookupValue)
				f = lookupMatch;
		}
		if(f)
			results.push(tiddler);
	});
	if(!sortField)
		sortField = "title";
	return this.sortTiddlers(results,sortField);
};

// Return the tiddlers as a sorted array
TiddlyWiki.prototype.getTiddlers = function(field,excludeTag)
{
	var results = [];
	this.forEachTiddler(function(title,tiddler) {
		if(excludeTag == undefined || !tiddler.isTagged(excludeTag))
			results.push(tiddler);
	});
	if(field)
		results.sort(function(a,b) {return a[field] < b[field] ? -1 : (a[field] == b[field] ? 0 : +1);});
	return results;
};

// Return array of names of tiddlers that are referred to but not defined
TiddlyWiki.prototype.getMissingLinks = function()
{
	if(!this.tiddlersUpdated)
		this.updateTiddlers();
	var results = [];
	this.forEachTiddler(function (title,tiddler) {
		if(tiddler.isTagged("excludeMissing") || tiddler.isTagged("systemConfig"))
			return;
		var n;
		for(n=0; n<tiddler.links.length;n++) {
			var link = tiddler.links[n];
			if(this.getTiddlerText(link,null) == null && !this.isShadowTiddler(link) && !config.macros[link])
				results.pushUnique(link);
		}
	});
	results.sort();
	return results;
};

// Return an array of names of tiddlers that are defined but not referred to
TiddlyWiki.prototype.getOrphans = function()
{
	var results = [];
	this.forEachTiddler(function (title,tiddler) {
		if(this.getReferringTiddlers(title).length == 0 && !tiddler.isTagged("excludeLists"))
			results.push(title);
	});
	results.sort();
	return results;
};

// Return an array of names of all the shadow tiddlers
TiddlyWiki.prototype.getShadowed = function()
{
	var t,results = [];
	for(t in config.shadowTiddlers) {
		if(this.isShadowTiddler(t))
			results.push(t);
	}
	results.sort();
	return results;
};

// Return an array of tiddlers that have been touched since they were downloaded or created
TiddlyWiki.prototype.getTouched = function()
{
	var results = [];
	this.forEachTiddler(function(title,tiddler) {
		if(tiddler.isTouched())
			results.push(tiddler);
		});
	results.sort();
	return results;
};

// Resolves a Tiddler reference or tiddler title into a Tiddler object, or null if it doesn't exist
TiddlyWiki.prototype.resolveTiddler = function(tiddler)
{
	var t = (typeof tiddler == "string") ? this.getTiddler(tiddler) : tiddler;
	return t instanceof Tiddler ? t : null;
};

// Sort a list of tiddlers
TiddlyWiki.prototype.sortTiddlers = function(tiddlers,field)
{
	var asc = +1;
	switch(field.substr(0,1)) {
	case "-":
		asc = -1;
		field = field.substr(1);
		break;
	case "+":
		field = field.substr(1);
		break;
	}
	if(TiddlyWiki.standardFieldAccess[field]) {
		if(field=="title") {
			tiddlers.sort(function(a,b) {return a[field].toLowerCase() < b[field].toLowerCase() ? -asc : (a[field].toLowerCase() == b[field].toLowerCase() ? 0 : asc);});
		} else {
			tiddlers.sort(function(a,b) {return a[field] < b[field] ? -asc : (a[field] == b[field] ? 0 : asc);});
		}
	} else {
		tiddlers.sort(function(a,b) {return a.fields[field] < b.fields[field] ? -asc : (a.fields[field] == b.fields[field] ? 0 : +asc);});
	}
	return tiddlers;
};

//--
//-- Filter a list of tiddlers
//--

config.filters = {
	tiddler: function(results,match) {
		var title = match[1]||match[4];
		var tiddler = this.fetchTiddler(title);
		if(tiddler) {
			results.pushUnique(tiddler);
		} else if(this.isShadowTiddler(title)) {
			tiddler = new Tiddler();
			tiddler.set(title,this.getTiddlerText(title));
			results.pushUnique(tiddler);
		} else {
			results.pushUnique(new Tiddler(title));
		}
		return results;
	},
	tag: function(results,match) {
		var m,matched = this.getTaggedTiddlers(match[3]);
		for(m=0; m<matched.length; m++) {
			results.pushUnique(matched[m]);
		}
		return results;
	},
	sort: function(results,match) {
		return this.sortTiddlers(results,match[3]);
	},
	limit: function(results,match) {
		return results.slice(0,parseInt(match[3],10));
	},
	field: function(results,match) {
		var m,matched = this.getValueTiddlers(match[2],match[3]);
		for (m = 0; m < matched.length; m++) {
			results.pushUnique(matched[m]);
		}
		return results;
	}
};

// Filter a list of tiddlers
TiddlyWiki.prototype.filterTiddlers = function(filter)
{
	var re = /([^\s\[\]]+)|(?:\[([ \w\.\-]+)\[([^\]]+)\]\])|(?:\[\[([^\]]+)\]\])/mg;

	var results = [];
	if(filter) {
		var match = re.exec(filter);
		while(match) {
			var handler = (match[1]||match[4])?'tiddler':config.filters[match[2]]?match[2]:'field';
			results = config.filters[handler].call(this,results,match);
			match = re.exec(filter);
		}
	}
	return results;
};
// Returns true if path is a valid field name (path),
// i.e. a sequence of identifiers, separated by "."
TiddlyWiki.isValidFieldName = function(name)
{
	var match = /[a-zA-Z_]\w*(\.[a-zA-Z_]\w*)*/.exec(name);
	return match && (match[0] == name);
};

// Throws an exception when name is not a valid field name.
TiddlyWiki.checkFieldName = function(name)
{
	if(!TiddlyWiki.isValidFieldName(name))
		throw config.messages.invalidFieldName.format([name]);
};

function StringFieldAccess(n,readOnly)
{
	this.set = readOnly ?
			function(t,v) {if(v != t[n]) throw config.messages.fieldCannotBeChanged.format([n]);} :
			function(t,v) {if(v != t[n]) {t[n] = v; return true;}};
	this.get = function(t) {return t[n];};
}

function DateFieldAccess(n)
{
	this.set = function(t,v) {
		var d = v instanceof Date ? v : Date.convertFromYYYYMMDDHHMM(v);
		if(d != t[n]) {
			t[n] = d; return true;
		}
	};
	this.get = function(t) {return t[n].convertToYYYYMMDDHHMM();};
}

function LinksFieldAccess(n)
{
	this.set = function(t,v) {
		var s = (typeof v == "string") ? v.readBracketedList() : v;
		if(s.toString() != t[n].toString()) {
			t[n] = s; return true;
		}
	};
	this.get = function(t) {return String.encodeTiddlyLinkList(t[n]);};
}

TiddlyWiki.standardFieldAccess = {
	// The set functions return true when setting the data has changed the value.
	"title":    new StringFieldAccess("title",true),
	// Handle the "tiddler" field name as the title
	"tiddler":  new StringFieldAccess("title",true),
	"text":     new StringFieldAccess("text"),
	"modifier": new StringFieldAccess("modifier"),
	"modified": new DateFieldAccess("modified"),
	"creator":  new StringFieldAccess("creator"),
	"created":  new DateFieldAccess("created"),
	"tags":     new LinksFieldAccess("tags")
};

TiddlyWiki.isStandardField = function(name)
{
	return TiddlyWiki.standardFieldAccess[name] != undefined;
};

// Sets the value of the given field of the tiddler to the value.
// Setting an ExtendedField's value to null or undefined removes the field.
// Setting a namespace to undefined removes all fields of that namespace.
// The fieldName is case-insensitive.
// All values will be converted to a string value.
TiddlyWiki.prototype.setValue = function(tiddler,fieldName,value)
{
	TiddlyWiki.checkFieldName(fieldName);
	var t = this.resolveTiddler(tiddler);
	if(!t)
		return;
	fieldName = fieldName.toLowerCase();
	var isRemove = (value === undefined) || (value === null);
	var accessor = TiddlyWiki.standardFieldAccess[fieldName];
	if(accessor) {
		if(isRemove)
			// don't remove StandardFields
			return;
		var h = TiddlyWiki.standardFieldAccess[fieldName];
		if(!h.set(t,value))
			return;
	} else {
		var oldValue = t.fields[fieldName];
		if(isRemove) {
			if(oldValue !== undefined) {
				// deletes a single field
				delete t.fields[fieldName];
			} else {
				// no concrete value is defined for the fieldName
				// so we guess this is a namespace path.
				// delete all fields in a namespace
				var re = new RegExp("^"+fieldName+"\\.");
				var dirty = false;
				var n;
				for(n in t.fields) {
					if(n.match(re)) {
						delete t.fields[n];
						dirty = true;
					}
				}
				if(!dirty)
					return;
			}
		} else {
			// the "normal" set case. value is defined (not null/undefined)
			// For convenience provide a nicer conversion Date->String
			value = value instanceof Date ? value.convertToYYYYMMDDHHMMSSMMM() : String(value);
			if(oldValue == value)
				return;
			t.fields[fieldName] = value;
		}
	}
	// When we are here the tiddler/store really was changed.
	this.notify(t.title,true);
	if(!fieldName.match(/^temp\./))
		this.setDirty(true);
};

// Returns the value of the given field of the tiddler.
// The fieldName is case-insensitive.
// Will only return String values (or undefined).
TiddlyWiki.prototype.getValue = function(tiddler,fieldName)
{
	var t = this.resolveTiddler(tiddler);
	if(!t)
		return undefined;
	if(fieldName.indexOf(config.textPrimitives.sectionSeparator) === 0 || fieldName.indexOf(config.textPrimitives.sliceSeparator) === 0) {
		var sliceType = fieldName.substr(0, 2);
		var sliceName = fieldName.substring(2);
		return store.getTiddlerText("%0%1%2".format(t.title,sliceType,sliceName));
	} else {
		fieldName = fieldName.toLowerCase();
		var accessor = TiddlyWiki.standardFieldAccess[fieldName];
		if(accessor) {
			return accessor.get(t);
		}
	}
	return t.fields[fieldName];
};

// Calls the callback function for every field in the tiddler.
// When callback function returns a non-false value the iteration stops
// and that value is returned.
// The order of the fields is not defined.
// @param callback a function(tiddler,fieldName,value).
TiddlyWiki.prototype.forEachField = function(tiddler,callback,onlyExtendedFields)
{
	var t = this.resolveTiddler(tiddler);
	if(!t)
		return undefined;
	var n,result;
	for(n in t.fields) {
		result = callback(t,n,t.fields[n]);
		if(result)
			return result;
		}
	if(onlyExtendedFields)
		return undefined;
	for(n in TiddlyWiki.standardFieldAccess) {
		if(n != "tiddler") {
			// even though the "title" field can also be referenced through the name "tiddler"
			// we only visit this field once.
			result = callback(t,n,TiddlyWiki.standardFieldAccess[n].get(t));
			if(result)
				return result;
		}
	}
	return undefined;
};

//--
//-- Story functions
//--

function Story(containerId,idPrefix)
{
	this.container = containerId;
	this.idPrefix = idPrefix;
	this.highlightRegExp = null;
	this.tiddlerId = function(title) {
		title = title.replace(/_/g, "__").replace(/ /g, "_");
		var id = this.idPrefix + title;
		return id==this.container ? this.idPrefix + "_" + title : id;
	};
	this.containerId = function() {
		return this.container;
	};
}

Story.prototype.getTiddler = function(title)
{
	return document.getElementById(this.tiddlerId(title));
};

Story.prototype.getContainer = function()
{
	return document.getElementById(this.containerId());
};

Story.prototype.forEachTiddler = function(fn)
{
	var place = this.getContainer();
	if(!place)
		return;
	var e = place.firstChild;
	while(e) {
		var n = e.nextSibling;
		var title = e.getAttribute("tiddler");
		if(title) {
			fn.call(this,title,e);
		}
		e = n;
	}
};

Story.prototype.displayDefaultTiddlers = function()
{
	this.displayTiddlers(null,store.filterTiddlers(store.getTiddlerText("DefaultTiddlers")));
};

Story.prototype.displayTiddlers = function(srcElement,titles,template,animate,unused,customFields,toggle)
{
	var t;
	for(t = titles.length-1;t>=0;t--)
		this.displayTiddler(srcElement,titles[t],template,animate,unused,customFields);
};

Story.prototype.displayTiddler = function(srcElement,tiddler,template,animate,unused,customFields,toggle,animationSrc)
{
	var title = (tiddler instanceof Tiddler) ? tiddler.title : tiddler;
	var tiddlerElem = this.getTiddler(title);
	if(tiddlerElem) {
		if(toggle) {
			if(tiddlerElem.getAttribute("dirty") != "true")
				this.closeTiddler(title,true);
		} else {
			this.refreshTiddler(title,template,false,customFields);
		}
	} else {
		var place = this.getContainer();
		var before = this.positionTiddler(srcElement);
		tiddlerElem = this.createTiddler(place,before,title,template,customFields);
	}
	if(animationSrc && typeof animationSrc !== "string") {
		srcElement = animationSrc;
	}
	if(srcElement && typeof srcElement !== "string") {
		if(config.options.chkAnimate && (animate == undefined || animate == true) && anim && typeof Zoomer == "function" && typeof Scroller == "function")
			anim.startAnimating(new Zoomer(title,srcElement,tiddlerElem),new Scroller(tiddlerElem));
		else
			window.scrollTo(0,ensureVisible(tiddlerElem));
	}
	return tiddlerElem;
};

Story.prototype.positionTiddler = function(srcElement)
{
	var place = this.getContainer();
	var before = null;
	if(typeof srcElement == "string") {
		switch(srcElement) {
		case "top":
			before = place.firstChild;
			break;
		case "bottom":
			before = null;
			break;
		}
	} else {
		var after = this.findContainingTiddler(srcElement);
		if(after == null) {
			before = place.firstChild;
		} else if(after.nextSibling) {
			before = after.nextSibling;
			if(before.nodeType != 1)
				before = null;
		}
	}
	return before;
};

Story.prototype.createTiddler = function(place,before,title,template,customFields)
{
	var tiddlerElem = createTiddlyElement(null,"div",this.tiddlerId(title),"tiddler");
	tiddlerElem.setAttribute("refresh","tiddler");
	if(customFields)
		tiddlerElem.setAttribute("tiddlyFields",customFields);
	place.insertBefore(tiddlerElem,before);
	var defaultText = null;
	if(!store.tiddlerExists(title) && !store.isShadowTiddler(title))
		defaultText = this.loadMissingTiddler(title,customFields);
	this.refreshTiddler(title,template,false,customFields,defaultText);
	return tiddlerElem;
};

Story.prototype.loadMissingTiddler = function(title,fields,callback)
{
	var getTiddlerCallback = function(context)
	{
		if(context.status) {
			var t = context.tiddler;
			if(!t.created)
				t.created = new Date();
			if(!t.modified)
				t.modified = t.created;
			var dirty = store.isDirty();
			context.tiddler = store.saveTiddler(t.title,t.title,t.text,t.modifier,t.modified,t.tags,t.fields,true,t.created,t.creator);
			if(!window.allowSave())
				store.setDirty(dirty);
			autoSaveChanges();
		} else {
			story.refreshTiddler(context.title,null,true);
		}
		context.adaptor.close();
		if(callback) {
			callback(context);
		}
	};
	var tiddler = new Tiddler(title);
	tiddler.fields = typeof fields == "string" ? fields.decodeHashMap() : fields||{};
	var context = {serverType:tiddler.getServerType()};
	if(!context.serverType)
		return "";
	context.host = tiddler.fields['server.host'];
	context.workspace = tiddler.fields['server.workspace'];
	var adaptor = new config.adaptors[context.serverType]();
	adaptor.getTiddler(title,context,null,getTiddlerCallback);
	return config.messages.loadingMissingTiddler.format([title,context.serverType,context.host,context.workspace]);
};

Story.prototype.chooseTemplateForTiddler = function(title,template)
{
	if(!template)
		template = DEFAULT_VIEW_TEMPLATE;
	if(template == DEFAULT_VIEW_TEMPLATE || template == DEFAULT_EDIT_TEMPLATE)
		template = config.tiddlerTemplates[template];
	return template;
};

Story.prototype.getTemplateForTiddler = function(title,template,tiddler)
{
	return store.getRecursiveTiddlerText(template,null,10);
};

Story.prototype.refreshTiddler = function(title,template,force,customFields,defaultText)
{
	var tiddlerElem = this.getTiddler(title);
	if(tiddlerElem) {
		if(tiddlerElem.getAttribute("dirty") == "true" && !force)
			return tiddlerElem;
		template = this.chooseTemplateForTiddler(title,template);
		var currTemplate = tiddlerElem.getAttribute("template");
		if((template != currTemplate) || force) {
			var tiddler = store.getTiddler(title);
			if(!tiddler) {
				tiddler = new Tiddler();
				if(store.isShadowTiddler(title)) {
					var tags = [];
					tiddler.set(title,store.getTiddlerText(title),config.views.wikified.shadowModifier,version.date,tags,version.date);
				} else {
					var text = template=="EditTemplate" ?
								config.views.editor.defaultText.format([title]) :
								config.views.wikified.defaultText.format([title]);
					text = defaultText || text;
					var fields = customFields ? customFields.decodeHashMap() : null;
					tiddler.set(title,text,config.views.wikified.defaultModifier,version.date,[],version.date,fields);
				}
			}
			tiddlerElem.setAttribute("tags",tiddler.tags.join(" "));
			tiddlerElem.setAttribute("tiddler",title);
			tiddlerElem.setAttribute("template",template);
			tiddlerElem.onmouseover = this.onTiddlerMouseOver;
			tiddlerElem.onmouseout = this.onTiddlerMouseOut;
			tiddlerElem.ondblclick = this.onTiddlerDblClick;
			tiddlerElem[window.event?"onkeydown":"onkeypress"] = this.onTiddlerKeyPress;
			tiddlerElem.innerHTML = this.getTemplateForTiddler(title,template,tiddler);
			applyHtmlMacros(tiddlerElem,tiddler);
			if(store.getTaggedTiddlers(title).length > 0)
				jQuery(tiddlerElem).addClass("isTag");
			else
				jQuery(tiddlerElem).removeClass("isTag");
			if(store.tiddlerExists(title)) {
				jQuery(tiddlerElem).removeClass("shadow");
				jQuery(tiddlerElem).removeClass("missing");
			} else {
				jQuery(tiddlerElem).addClass(store.isShadowTiddler(title) ? "shadow" : "missing");
			}
			if(customFields)
				this.addCustomFields(tiddlerElem,customFields);
		}
	}
	return tiddlerElem;
};

Story.prototype.addCustomFields = function(place,customFields)
{
	var fields = customFields.decodeHashMap();
	var w = createTiddlyElement(place,"div",null,"customFields");
	w.style.display = "none";
	var t;
	for(t in fields) {
		var e = document.createElement("input");
		e.setAttribute("type","text");
		e.setAttribute("value",fields[t]);
		w.appendChild(e);
		e.setAttribute("edit",t);
	}
};

Story.prototype.refreshAllTiddlers = function(force)
{
	var e = this.getContainer().firstChild;
	while(e) {
		var template = e.getAttribute("template");
		if(template && e.getAttribute("dirty") != "true") {
			this.refreshTiddler(e.getAttribute("tiddler"),force ? null : template,true);
		}
		e = e.nextSibling;
	}
};

Story.prototype.onTiddlerMouseOver = function(e)
{
	jQuery(this).addClass("selected");
};

Story.prototype.onTiddlerMouseOut = function(e)
{
	jQuery(this).removeClass("selected");
};

Story.prototype.onTiddlerDblClick = function(ev)
{
	var e = ev || window.event;
	var target = resolveTarget(e);
	if(target && target.nodeName.toLowerCase() != "input" && target.nodeName.toLowerCase() != "textarea") {
		if(document.selection && document.selection.empty)
			document.selection.empty();
		config.macros.toolbar.invokeCommand(this,"defaultCommand",e);
		e.cancelBubble = true;
		if(e.stopPropagation) e.stopPropagation();
		return true;
	}
	return false;
};

Story.prototype.onTiddlerKeyPress = function(ev)
{
	var e = ev || window.event;
	clearMessage();
	var consume = false;
	var title = this.getAttribute("tiddler");
	var target = resolveTarget(e);
	switch(e.keyCode) {
	case 9: // Tab
		var ed = story.getTiddlerField(title,"text");
		if(target.tagName.toLowerCase() == "input" && ed.value==config.views.editor.defaultText.format([title])) {
			// moving from input field and editor still contains default text, so select it
			ed.focus();
			ed.select();
			consume = true;
		}
		if(config.options.chkInsertTabs && target.tagName.toLowerCase() == "textarea") {
			replaceSelection(target,String.fromCharCode(9));
			consume = true;
		}
		if(config.isOpera) {
			target.onblur = function() {
				this.focus();
				this.onblur = null;
			};
		}
		break;
	case 13: // Ctrl-Enter
	case 10: // Ctrl-Enter on IE PC
	case 77: // Ctrl-Enter is "M" on some platforms
		if(e.ctrlKey) {
			blurElement(this);
			config.macros.toolbar.invokeCommand(this,"defaultCommand",e);
			consume = true;
		}
		break;
	case 27: // Escape
		blurElement(this);
		config.macros.toolbar.invokeCommand(this,"cancelCommand",e);
		consume = true;
		break;
	}
	e.cancelBubble = consume;
	if(consume) {
		if(e.stopPropagation) e.stopPropagation(); // Stop Propagation
		e.returnValue = true; // Cancel The Event in IE
		if(e.preventDefault ) e.preventDefault(); // Cancel The Event in Moz
	}
	return !consume;
};

Story.prototype.getTiddlerField = function(title,field)
{
	var tiddlerElem = this.getTiddler(title);
	var e = null;
	if(tiddlerElem) {
		var t,children = tiddlerElem.getElementsByTagName("*");
		for(t=0; t<children.length; t++) {
			var c = children[t];
			if(c.tagName.toLowerCase() == "input" || c.tagName.toLowerCase() == "textarea") {
				if(!e)
					e = c;
				if(c.getAttribute("edit") == field)
					e = c;
			}
		}
	}
	return e;
};

Story.prototype.focusTiddler = function(title,field)
{
	var e = this.getTiddlerField(title,field);
	if(e) {
		e.focus();
		e.select();
	}
};

Story.prototype.blurTiddler = function(title)
{
	var tiddlerElem = this.getTiddler(title);
	if(tiddlerElem && tiddlerElem.focus && tiddlerElem.blur) {
		tiddlerElem.focus();
		tiddlerElem.blur();
	}
};

Story.prototype.setTiddlerField = function(title,tag,mode,field)
{
	var c = this.getTiddlerField(title,field);
	var tags = c.value.readBracketedList();
	tags.setItem(tag,mode);
	c.value = String.encodeTiddlyLinkList(tags);
};

Story.prototype.setTiddlerTag = function(title,tag,mode)
{
	this.setTiddlerField(title,tag,mode,"tags");
};

Story.prototype.closeTiddler = function(title,animate,unused)
{
	var tiddlerElem = this.getTiddler(title);
	if(tiddlerElem) {
		clearMessage();
		this.scrubTiddler(tiddlerElem);
		if(config.options.chkAnimate && animate && anim && typeof Slider == "function")
			anim.startAnimating(new Slider(tiddlerElem,false,null,"all"));
		else {
			jQuery(tiddlerElem).remove();
		}
	}
};

Story.prototype.scrubTiddler = function(tiddlerElem)
{
	tiddlerElem.id = null;
};

Story.prototype.setDirty = function(title,dirty)
{
	var tiddlerElem = this.getTiddler(title);
	if(tiddlerElem)
		tiddlerElem.setAttribute("dirty",dirty ? "true" : "false");
};

Story.prototype.isDirty = function(title)
{
	var tiddlerElem = this.getTiddler(title);
	if(tiddlerElem)
		return tiddlerElem.getAttribute("dirty") == "true";
	return null;
};

Story.prototype.areAnyDirty = function()
{
	var r = false;
	this.forEachTiddler(function(title,element) {
		if(this.isDirty(title))
			r = true;
	});
	return r;
};

Story.prototype.closeAllTiddlers = function(exclude)
{
	clearMessage();
	this.forEachTiddler(function(title,element) {
		if((title != exclude) && element.getAttribute("dirty") != "true")
			this.closeTiddler(title);
	});
	window.scrollTo(0,ensureVisible(this.container));
};

Story.prototype.isEmpty = function()
{
	var place = this.getContainer();
	return place && place.firstChild == null;
};

Story.prototype.search = function(text,useCaseSensitive,useRegExp)
{
	this.closeAllTiddlers();
	highlightHack = new RegExp(useRegExp ? text : text.escapeRegExp(),useCaseSensitive ? "mg" : "img");
	var matches = store.search(highlightHack,"title","excludeSearch");
	this.displayTiddlers(null,matches);
	highlightHack = null;
	var q = useRegExp ? "/" : "'";
	if(matches.length > 0)
		displayMessage(config.macros.search.successMsg.format([matches.length.toString(),q + text + q]));
	else
		displayMessage(config.macros.search.failureMsg.format([q + text + q]));
};

Story.prototype.findContainingTiddler = function(e)
{
	while(e && !jQuery(e).hasClass("tiddler")) {
		e = jQuery(e).hasClass("popup") && Popup.stack[0] ? Popup.stack[0].root : e.parentNode;
	}
	return e;
};

Story.prototype.gatherSaveFields = function(e,fields)
{
	if(e && e.getAttribute) {
		var f = e.getAttribute("edit");
		if(f)
			fields[f] = e.value.replace(/\r/mg,"");
		if(e.hasChildNodes()) {
			var t,c = e.childNodes;
			for(t=0; t<c.length; t++)
				this.gatherSaveFields(c[t],fields);
		}
	}
};

Story.prototype.hasChanges = function(title)
{
	var e = this.getTiddler(title);
	if(e) {
		var fields = {};
		this.gatherSaveFields(e,fields);
		if(store.fetchTiddler(title)) {
		    var n;
			for(n in fields) {
				if(store.getValue(title,n) != fields[n]) //# tiddler changed
					return true;
			}
		} else {
			if(store.isShadowTiddler(title) && store.getShadowTiddlerText(title) == fields.text) { //# not checking for title or tags
				return false;
			} else { //# changed shadow or new tiddler
				return true;
			}
		}
	}
	return false;
};

Story.prototype.saveTiddler = function(title,minorUpdate)
{
	var tiddlerElem = this.getTiddler(title);
	if(tiddlerElem) {
		var fields = {};
		this.gatherSaveFields(tiddlerElem,fields);
		var newTitle = fields.title || title;
		if(!store.tiddlerExists(newTitle)) {
			newTitle = newTitle.trim();
			var creator = config.options.txtUserName;
		}
		if(store.tiddlerExists(newTitle) && newTitle != title) {
			if(!confirm(config.messages.overwriteWarning.format([newTitle.toString()])))
				return null;
				title = newTitle;
		}
		if(newTitle != title)
			this.closeTiddler(newTitle,false);
		tiddlerElem.id = this.tiddlerId(newTitle);
		tiddlerElem.setAttribute("tiddler",newTitle);
		tiddlerElem.setAttribute("template",DEFAULT_VIEW_TEMPLATE);
		tiddlerElem.setAttribute("dirty","false");
		if(config.options.chkForceMinorUpdate)
			minorUpdate = !minorUpdate;
		if(!store.tiddlerExists(newTitle))
			minorUpdate = false;
		var newDate = new Date();
		if(store.tiddlerExists(title)) {
			var t = store.fetchTiddler(title);
			var extendedFields = t.fields;
			creator = t.creator;
		} else {
			extendedFields = merge({},config.defaultCustomFields);
		}
		var n;
		for(n in fields) {
			if(!TiddlyWiki.isStandardField(n))
				extendedFields[n] = fields[n];
		}
		var tiddler = store.saveTiddler(title,newTitle,fields.text,minorUpdate ? undefined : config.options.txtUserName,minorUpdate ? undefined : newDate,fields.tags,extendedFields,null,null,creator);
		autoSaveChanges(null,[tiddler]);
		return newTitle;
	}
	return null;
};

Story.prototype.permaView = function()
{
	var links = [];
	this.forEachTiddler(function(title,element) {
		links.push(String.encodeTiddlyLink(title));
	});
	var t = encodeURIComponent(links.join(" "));
	if(t == "")
		t = "#";
	if(window.location.hash != t)
		window.location.hash = t;
};

Story.prototype.switchTheme = function(theme)
{
	if(safeMode)
		return;

	var getSlice = function(theme,slice) {
		var r;
		if(readOnly)
			r = store.getTiddlerSlice(theme,slice+"ReadOnly") || store.getTiddlerSlice(theme,"Web"+slice);
		r = r || store.getTiddlerSlice(theme,slice);
		if(r && r.indexOf(config.textPrimitives.sectionSeparator)==0)
			r = theme + r;
		return store.isAvailable(r) ? r : slice;
	};

	var replaceNotification = function(i,name,theme,slice) {
		var newName = getSlice(theme,slice);
		if(name!=newName && store.namedNotifications[i].name==name) {
			store.namedNotifications[i].name = newName;
			return newName;
		}
		return name;
	};

	var pt = config.refresherData.pageTemplate;
	var vi = DEFAULT_VIEW_TEMPLATE;
	var vt = config.tiddlerTemplates[vi];
	var ei = DEFAULT_EDIT_TEMPLATE;
	var et = config.tiddlerTemplates[ei];

	var i;
	for(i=0; i<config.notifyTiddlers.length; i++) {
		var name = config.notifyTiddlers[i].name;
		switch(name) {
		case "PageTemplate":
			config.refresherData.pageTemplate = replaceNotification(i,config.refresherData.pageTemplate,theme,name);
			break;
		case "StyleSheet":
			removeStyleSheet(config.refresherData.styleSheet);
			config.refresherData.styleSheet = replaceNotification(i,config.refresherData.styleSheet,theme,name);
			break;
		case "ColorPalette":
			config.refresherData.colorPalette = replaceNotification(i,config.refresherData.colorPalette,theme,name);
			break;
		default:
			break;
		}
	}
	config.tiddlerTemplates[vi] = getSlice(theme,"ViewTemplate");
	config.tiddlerTemplates[ei] = getSlice(theme,"EditTemplate");
	if(!startingUp) {
		if(config.refresherData.pageTemplate!=pt || config.tiddlerTemplates[vi]!=vt || config.tiddlerTemplates[ei]!=et) {
			refreshAll();
			this.refreshAllTiddlers(true);
		} else {
			setStylesheet(store.getRecursiveTiddlerText(config.refresherData.styleSheet,"",10),config.refreshers.styleSheet);
		}
		config.options.txtTheme = theme;
		saveOption("txtTheme");
	}
};

//--
//-- Backstage
//--
// Backstage tasks
config.tasks.save.action = saveChanges;

var backstage = {
	area: null,
	toolbar: null,
	button: null,
	showButton: null,
	hideButton: null,
	cloak: null,
	panel: null,
	panelBody: null,
	panelFooter: null,
	currTabName: null,
	currTabElem: null,
	content: null,

	init: function() {
		var cmb = config.messages.backstage;
		this.area = document.getElementById("backstageArea");
		this.toolbar = jQuery("#backstageToolbar").empty()[0];
		this.button = jQuery("#backstageButton").empty()[0];
		this.button.style.display = "block";
		var t = cmb.open.text + " " + glyph("bentArrowLeft");
		this.showButton = createTiddlyButton(this.button,t,cmb.open.tooltip,
						function(e) {backstage.show(); return false;},null,"backstageShow");
		t = glyph("bentArrowRight") + " " + cmb.close.text;
		this.hideButton = createTiddlyButton(this.button,t,cmb.close.tooltip,
						function(e) {backstage.hide(); return false;},null,"backstageHide");
		this.cloak = document.getElementById("backstageCloak");
		this.panel = document.getElementById("backstagePanel");
		this.panelFooter = createTiddlyElement(this.panel,"div",null,"backstagePanelFooter");
		this.panelBody = createTiddlyElement(this.panel,"div",null,"backstagePanelBody");
		this.cloak.onmousedown = function(e) {backstage.switchTab(null);};
		createTiddlyText(this.toolbar,cmb.prompt);
		for(t=0; t<config.backstageTasks.length; t++) {
			var taskName = config.backstageTasks[t];
			var task = config.tasks[taskName];
			var handler = task.action ? this.onClickCommand : this.onClickTab;
			var text = task.text + (task.action ? "" : glyph("downTriangle"));
			var btn = createTiddlyButton(this.toolbar,text,task.tooltip,handler,"backstageTab");
			jQuery(btn).addClass(task.action ? "backstageAction" : "backstageTask");
			btn.setAttribute("task", taskName);
			}
		this.content = document.getElementById("contentWrapper");
		if(config.options.chkBackstage)
			this.show();
		else
			this.hide();
	},

	isVisible: function() {
		return this.area ? this.area.style.display == "block" : false;
	},

	show: function() {
		this.area.style.display = "block";
		if(anim && config.options.chkAnimate) {
			backstage.toolbar.style.left = findWindowWidth() + "px";
			var p = [{style: "left", start: findWindowWidth(), end: 0, template: "%0px"}];
			anim.startAnimating(new Morpher(backstage.toolbar,config.animDuration,p));
		} else {
			backstage.area.style.left = "0px";
		}
		jQuery(this.showButton).hide();
		jQuery(this.hideButton).show();
		config.options.chkBackstage = true;
		saveOption("chkBackstage");
		jQuery(this.content).addClass("backstageVisible");
	},

	hide: function() {
		if(this.currTabElem) {
			this.switchTab(null);
		} else {
			backstage.toolbar.style.left = "0px";
			if(anim && config.options.chkAnimate) {
				var p = [{style: "left", start: 0, end: findWindowWidth(), template: "%0px"}];
				var c = function(element,properties) {backstage.area.style.display = "none";};
				anim.startAnimating(new Morpher(backstage.toolbar,config.animDuration,p,c));
			} else {
				this.area.style.display = "none";
			}
			this.showButton.style.display = "block";
			this.hideButton.style.display = "none";
			config.options.chkBackstage = false;
			saveOption("chkBackstage");
			jQuery(this.content).removeClass("backstageVisible");
		}
	},

	onClickCommand: function(e) {
		var task = config.tasks[this.getAttribute("task")];
		if(task.action) {
			backstage.switchTab(null);
			task.action();
		}
		return false;
	},

	onClickTab: function(e) {
		backstage.switchTab(this.getAttribute("task"));
		return false;
	},

	// Switch to a given tab, or none if null is passed
	switchTab: function(tabName) {
		var tabElem = null;
		var e = this.toolbar.firstChild;
		while(e) {
			if(e.getAttribute && e.getAttribute("task") == tabName)
				tabElem = e;
			e = e.nextSibling;
		}
		if(tabName == backstage.currTabName) {
			backstage.hidePanel();
			return;
		}
		if(backstage.currTabElem) {
			jQuery(this.currTabElem).removeClass("backstageSelTab");
		}
		if(tabElem && tabName) {
			backstage.preparePanel();
			jQuery(tabElem).addClass("backstageSelTab");
			var task = config.tasks[tabName];
			wikify(task.content,backstage.panelBody,null,null);
			backstage.showPanel();
		} else if(backstage.currTabElem) {
			backstage.hidePanel();
		}
		backstage.currTabName = tabName;
		backstage.currTabElem = tabElem;
	},

	isPanelVisible: function() {
		return backstage.panel ? backstage.panel.style.display == "block" : false;
	},

	preparePanel: function() {
		backstage.cloak.style.height = findDocHeight() + "px";
		backstage.cloak.style.display = "block";
		jQuery(backstage.panelBody).empty();
		return backstage.panelBody;
	},

	showPanel: function() {
		backstage.panel.style.display = "block";
		if(anim && config.options.chkAnimate) {
			backstage.panel.style.top = (-backstage.panel.offsetHeight) + "px";
			var p = [{style: "top", start: -backstage.panel.offsetHeight, end: 0, template: "%0px"}];
			anim.startAnimating(new Morpher(backstage.panel,config.animDuration,p),new Scroller(backstage.panel,false));
		} else {
			backstage.panel.style.top = "0px";
		}
		return backstage.panelBody;
	},

	hidePanel: function() {
		if(backstage.currTabElem)
			jQuery(backstage.currTabElem).removeClass("backstageSelTab");
		backstage.currTabElem = null;
		backstage.currTabName = null;
		if(anim && config.options.chkAnimate) {
			var p = [
				{style: "top", start: 0, end: -(backstage.panel.offsetHeight), template: "%0px"},
				{style: "display", atEnd: "none"}
			];
			var c = function(element,properties) {backstage.cloak.style.display = "none";};
			anim.startAnimating(new Morpher(backstage.panel,config.animDuration,p,c));
		} else {
			jQuery([backstage.panel,backstage.cloak]).hide();
		}
	}
};

config.macros.backstage = {};

config.macros.backstage.handler = function(place,macroName,params)
{
	var backstageTask = config.tasks[params[0]];
	if(backstageTask)
		createTiddlyButton(place,backstageTask.text,backstageTask.tooltip,function(e) {backstage.switchTab(params[0]); return false;});
};

//--
//-- ImportTiddlers macro
//--

config.macros.importTiddlers.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	if(readOnly) {
		createTiddlyElement(place,"div",null,"marked",this.readOnlyWarning);
		return;
	}
	var w = new Wizard();
	w.createWizard(place,this.wizardTitle);
	this.restart(w);
};

config.macros.importTiddlers.onCancel = function(e)
{
	var wizard = new Wizard(this);
	wizard.clear();
	config.macros.importTiddlers.restart(wizard);
	return false;
};

config.macros.importTiddlers.onClose = function(e)
{
	backstage.hidePanel();
	return false;
};

config.macros.importTiddlers.restart = function(wizard)
{
	var me = config.macros.importTiddlers;
	wizard.addStep(this.step1Title,this.step1Html);
	var t,s = wizard.getElement("selTypes");
	for(t in config.adaptors) {
		var e = createTiddlyElement(s,"option",null,null,config.adaptors[t].serverLabel || t);
		e.value = t;
	}
	if(config.defaultAdaptor)
		s.value = config.defaultAdaptor;
	s = wizard.getElement("selFeeds");
	var feeds = this.getFeeds();
	for(t in feeds) {
		e = createTiddlyElement(s,"option",null,null,t);
		e.value = t;
	}
	wizard.setValue("feeds",feeds);
	s.onchange = me.onFeedChange;
	var fileInput = wizard.getElement("txtBrowse");
	fileInput.onchange = me.onBrowseChange;
	fileInput.onkeyup = me.onBrowseChange;
	wizard.setButtons([{caption: this.openLabel, tooltip: this.openPrompt, onClick: me.onOpen}]);
	wizard.formElem.action = "javascript:;";
	wizard.formElem.onsubmit = function() {
		if(!this.txtPath || this.txtPath.value.length) //# check for manually entered path in first step
			this.lastChild.firstChild.onclick();
	};
};

config.macros.importTiddlers.getFeeds = function()
{
	var feeds = {};
	var t,tagged = store.getTaggedTiddlers("systemServer","title");
	for(t=0; t<tagged.length; t++) {
		var title = tagged[t].title;
		var serverType = store.getTiddlerSlice(title,"Type");
		if(!serverType)
			serverType = "file";
		feeds[title] = {title: title,
						url: store.getTiddlerSlice(title,"URL"),
						workspace: store.getTiddlerSlice(title,"Workspace"),
						workspaceList: store.getTiddlerSlice(title,"WorkspaceList"),
						tiddlerFilter: store.getTiddlerSlice(title,"TiddlerFilter"),
						serverType: serverType,
						description: store.getTiddlerSlice(title,"Description")};
	}
	return feeds;
};

config.macros.importTiddlers.onFeedChange = function(e)
{
	var wizard = new Wizard(this);
	var selTypes = wizard.getElement("selTypes");
	var fileInput = wizard.getElement("txtPath");
	var feeds = wizard.getValue("feeds");
	var f = feeds[this.value];
	if(f) {
		selTypes.value = f.serverType;
		fileInput.value = f.url;
		wizard.setValue("feedName",f.serverType);
		wizard.setValue("feedHost",f.url);
		wizard.setValue("feedWorkspace",f.workspace);
		wizard.setValue("feedWorkspaceList",f.workspaceList);
		wizard.setValue("feedTiddlerFilter",f.tiddlerFilter);
	}
	return false;
};

config.macros.importTiddlers.onBrowseChange = function(e)
{
	var wizard = new Wizard(this);
	var file = this.value;
	file = file.replace(/^C:\\fakepath\\/i,''); // remove fakepath (chrome/opera/safari)
	if(this.files && this.files[0]) {
		try {
			netscape.security.PrivilegeManager.enablePrivilege("UniversalFileRead");
			file = this.files[0].fileName; // REQUIRES PRIVILEGES.. NULL otherwise
		} catch (ex) {
			// non-priv fallback: combine filename with path to current document
			var path=getLocalPath(document.location.href);
			var slashpos=path.lastIndexOf('/'); if (slashpos==-1) slashpos=path.lastIndexOf('\\'); 
			if (slashpos!=-1) path=path.substr(0,slashpos+1); // remove filename, leave trailing 	slash
			file=path+file;
		}
	}
	var fileInput = wizard.getElement("txtPath");
	fileInput.value = config.macros.importTiddlers.getURLFromLocalPath(file);
	var serverType = wizard.getElement("selTypes");
	serverType.value = "file";
	return true;
};

config.macros.importTiddlers.getURLFromLocalPath = function(v)
{
	if(!v || !v.length)
		return v;
	v = v.replace(/\\/g,"/"); // use "/" for cross-platform consistency
	var u;
	var t = v.split(":");
	var p = t[1] || t[0]; // remove drive letter (if any)
	if(t[1] && (t[0] == "http" || t[0] == "https" || t[0] == "file")) {
		u = v;
	} else if(p.substr(0,1)=="/") {
		u = document.location.protocol + "//" + document.location.hostname + (t[1] ? "/" : "") + v;
	} else {
		var c = document.location.href.replace(/\\/g,"/");
		var pos = c.lastIndexOf("/");
		if(pos!=-1)
			c = c.substr(0,pos); // remove filename
		u = c + "/" + p;
	}
	return u;
};

config.macros.importTiddlers.onOpen = function(e)
{
	var me = config.macros.importTiddlers;
	var wizard = new Wizard(this);
	var fileInput = wizard.getElement("txtPath");
	var url = fileInput.value;
	var serverType = wizard.getElement("selTypes").value || config.defaultAdaptor;
	var adaptor = new config.adaptors[serverType]();
	wizard.setValue("adaptor",adaptor);
	wizard.setValue("serverType",serverType);
	wizard.setValue("host",url);
	adaptor.openHost(url,null,wizard,me.onOpenHost);
	wizard.setButtons([{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}],me.statusOpenHost);
	return false;
};

config.macros.importTiddlers.onOpenHost = function(context,wizard)
{
	var me = config.macros.importTiddlers;
	var adaptor = wizard.getValue("adaptor");
	if(context.status !== true)
		displayMessage("Error in importTiddlers.onOpenHost: " + context.statusText);
	adaptor.getWorkspaceList(context,wizard,me.onGetWorkspaceList);
	wizard.setButtons([{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}],me.statusGetWorkspaceList);
};

config.macros.importTiddlers.onGetWorkspaceList = function(context,wizard)
{
	var me = config.macros.importTiddlers;
	if(context.status !== true)
		displayMessage("Error in importTiddlers.onGetWorkspaceList: " + context.statusText);
	wizard.setValue("context",context);
	var workspace = wizard.getValue("feedWorkspace");
	if(!workspace && context.workspaces.length==1)
		workspace = context.workspaces[0].title;
	if(workspace) {
		context.adaptor.openWorkspace(workspace,context,wizard,me.onOpenWorkspace);
		wizard.setValue("workspace",workspace);
		wizard.setButtons([{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}],me.statusOpenWorkspace);
		return;
	}
	wizard.addStep(me.step2Title,me.step2Html);
	var t,s = wizard.getElement("selWorkspace");
	s.onchange = me.onWorkspaceChange;
	for(t=0; t<context.workspaces.length; t++) {
		var e = createTiddlyElement(s,"option",null,null,context.workspaces[t].title);
		e.value = context.workspaces[t].title;
	}
	var workspaceList = wizard.getValue("feedWorkspaceList");
	if(workspaceList) {
		var n,list = workspaceList.parseParams("workspace",null,false,true);
		for(n=1; n<list.length; n++) {
			if(context.workspaces.findByField("title",list[n].value) == null) {
				e = createTiddlyElement(s,"option",null,null,list[n].value);
				e.value = list[n].value;
			}
		}
	}
	if(workspace) {
		t = wizard.getElement("txtWorkspace");
		t.value = workspace;
	}
	wizard.setButtons([{caption: me.openLabel, tooltip: me.openPrompt, onClick: me.onChooseWorkspace}]);
};

config.macros.importTiddlers.onWorkspaceChange = function(e)
{
	var wizard = new Wizard(this);
	var t = wizard.getElement("txtWorkspace");
	t.value = this.value;
	this.selectedIndex = 0;
	return false;
};

config.macros.importTiddlers.onChooseWorkspace = function(e)
{
	var me = config.macros.importTiddlers;
	var wizard = new Wizard(this);
	var adaptor = wizard.getValue("adaptor");
	var workspace = wizard.getElement("txtWorkspace").value;
	wizard.setValue("workspace",workspace);
	var context = wizard.getValue("context");
	adaptor.openWorkspace(workspace,context,wizard,me.onOpenWorkspace);
	wizard.setButtons([{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}],me.statusOpenWorkspace);
	return false;
};

config.macros.importTiddlers.onOpenWorkspace = function(context,wizard)
{
	var me = config.macros.importTiddlers;
	if(context.status !== true)
		displayMessage("Error in importTiddlers.onOpenWorkspace: " + context.statusText);
	var adaptor = wizard.getValue("adaptor");
	var browse=wizard.getElement("txtBrowse");
	if (browse.files) context.file=browse.files[0]; // for HTML5 FileReader
	adaptor.getTiddlerList(context,wizard,me.onGetTiddlerList,wizard.getValue("feedTiddlerFilter"));
	wizard.setButtons([{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}],me.statusGetTiddlerList);
};

config.macros.importTiddlers.onGetTiddlerList = function(context,wizard)
{
	var me = config.macros.importTiddlers;
	if(context.status !== true) {
		var error = context.statusText||me.errorGettingTiddlerList;
		if(context.host.indexOf("file://") === 0) {
			error = me.errorGettingTiddlerListFile;
		} else {
			error = context.xhr && context.xhr.status == 404 ? me.errorGettingTiddlerListHttp404 :
				me.errorGettingTiddlerListHttp;
		}
		wizard.setButtons([{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}],"");
		jQuery("span.status", wizard.footerEl).html(error); // so error message can be html
		return;
	}
	// Extract data for the listview
	var listedTiddlers = [];
	if(context.tiddlers) {
		var n;
		for(n=0; n<context.tiddlers.length; n++) {
			var tiddler = context.tiddlers[n];
			listedTiddlers.push({
				title: tiddler.title,
				modified: tiddler.modified,
				modifier: tiddler.modifier,
				text: tiddler.text ? wikifyPlainText(tiddler.text,100) : "",
				tags: tiddler.tags,
				size: tiddler.text ? tiddler.text.length : 0,
				tiddler: tiddler
			});
		}
	}
	listedTiddlers.sort(function(a,b) {return a.title < b.title ? -1 : (a.title == b.title ? 0 : +1);});
	// Display the listview
	wizard.addStep(me.step3Title,me.step3Html);
	var markList = wizard.getElement("markList");
	var listWrapper = document.createElement("div");
	markList.parentNode.insertBefore(listWrapper,markList);
	var listView = ListView.create(listWrapper,listedTiddlers,me.listViewTemplate);
	wizard.setValue("listView",listView);
	wizard.setValue("context",context);
	var txtSaveTiddler = wizard.getElement("txtSaveTiddler");
	txtSaveTiddler.value = me.generateSystemServerName(wizard);
	wizard.setButtons([
			{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel},
			{caption: me.importLabel, tooltip: me.importPrompt, onClick: me.doImport}
		]);
};

config.macros.importTiddlers.generateSystemServerName = function(wizard)
{
	var serverType = wizard.getValue("serverType");
	var host = wizard.getValue("host");
	var workspace = wizard.getValue("workspace");
	var pattern = config.macros.importTiddlers[workspace ? "systemServerNamePattern" : "systemServerNamePatternNoWorkspace"];
	return pattern.format([serverType,host,workspace]);
};

config.macros.importTiddlers.saveServerTiddler = function(wizard)
{
	var me = config.macros.importTiddlers;
	var txtSaveTiddler = wizard.getElement("txtSaveTiddler").value;
	if(store.tiddlerExists(txtSaveTiddler)) {
		if(!confirm(me.confirmOverwriteSaveTiddler.format([txtSaveTiddler])))
			return;
		store.suspendNotifications();
		store.removeTiddler(txtSaveTiddler);
		store.resumeNotifications();
	}
	var serverType = wizard.getValue("serverType");
	var host = wizard.getValue("host");
	var workspace = wizard.getValue("workspace");
	var text = me.serverSaveTemplate.format([serverType,host,workspace]);
	store.saveTiddler(txtSaveTiddler,txtSaveTiddler,text,me.serverSaveModifier,new Date(),["systemServer"]);
};

config.macros.importTiddlers.doImport = function(e)
{
	var me = config.macros.importTiddlers;
	var wizard = new Wizard(this);
	if(wizard.getElement("chkSave").checked)
		me.saveServerTiddler(wizard);
	var chkSync = wizard.getElement("chkSync").checked;
	wizard.setValue("sync",chkSync);
	var listView = wizard.getValue("listView");
	var rowNames = ListView.getSelectedRows(listView);
	var adaptor = wizard.getValue("adaptor");
	var overwrite = [];
	var t;
	for(t=0; t<rowNames.length; t++) {
		if(store.tiddlerExists(rowNames[t]))
			overwrite.push(rowNames[t]);
	}
	if(overwrite.length > 0) {
		if(!confirm(me.confirmOverwriteText.format([overwrite.join(", ")])))
			return false;
	}
	wizard.addStep(me.step4Title.format([rowNames.length]),me.step4Html);
	for(t=0; t<rowNames.length; t++) {
		var link = document.createElement("div");
		createTiddlyLink(link,rowNames[t],true);
		var place = wizard.getElement("markReport");
		place.parentNode.insertBefore(link,place);
	}
	wizard.setValue("remainingImports",rowNames.length);
	wizard.setButtons([
			{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}
		],me.statusDoingImport);
	var wizardContext = wizard.getValue("context");
	var tiddlers = wizardContext ? wizardContext.tiddlers : [];
	for(t=0; t<rowNames.length; t++) {
		var context = {
			allowSynchronous:true,
			tiddler:tiddlers[tiddlers.findByField("title",rowNames[t])]
		};
		adaptor.getTiddler(rowNames[t],context,wizard,me.onGetTiddler);
	}
	return false;
};

config.macros.importTiddlers.onGetTiddler = function(context,wizard)
{
	var me = config.macros.importTiddlers;
	if(!context.status)
		displayMessage("Error in importTiddlers.onGetTiddler: " + context.statusText);
	var tiddler = context.tiddler;
	store.suspendNotifications();
	store.saveTiddler(tiddler.title, tiddler.title, tiddler.text, tiddler.modifier, tiddler.modified, tiddler.tags, tiddler.fields, true, tiddler.created);
	if(!wizard.getValue("sync")) {
		store.setValue(tiddler.title,'server',null);
	}
	store.resumeNotifications();
	if(!context.isSynchronous)
		store.notify(tiddler.title,true);
	var remainingImports = wizard.getValue("remainingImports")-1;
	wizard.setValue("remainingImports",remainingImports);
	if(remainingImports == 0) {
		if(context.isSynchronous) {
			store.notifyAll();
			refreshDisplay();
		}
		wizard.setButtons([
				{caption: me.doneLabel, tooltip: me.donePrompt, onClick: me.onClose}
			],me.statusDoneImport);
		autoSaveChanges();
	}
};

//--
//-- Upgrade macro
//--

config.macros.upgrade.handler = function(place)
{
	var w = new Wizard();
	w.createWizard(place,this.wizardTitle);
	w.addStep(this.step1Title,this.step1Html.format([this.source,this.source]));
	w.setButtons([{caption: this.upgradeLabel, tooltip: this.upgradePrompt, onClick: this.onClickUpgrade}]);
};

config.macros.upgrade.onClickUpgrade = function(e)
{
	var me = config.macros.upgrade;
	var w = new Wizard(this);
	if(!window.allowSave()) {
		alert(me.errorCantUpgrade);
		return false;
	}
	if(story.areAnyDirty() || store.isDirty()) {
		alert(me.errorNotSaved);
		return false;
	}
	var localPath = getLocalPath(document.location.toString());
	var backupPath = getBackupPath(localPath,me.backupExtension);
	w.setValue("backupPath",backupPath);
	w.setButtons([],me.statusPreparingBackup);
	var original = loadOriginal(localPath);
	w.setButtons([],me.statusSavingBackup);
	var backup = copyFile(backupPath,localPath);
	if(!backup)
		backup = saveFile(backupPath,original);
	if(!backup) {
		w.setButtons([],me.errorSavingBackup);
		alert(me.errorSavingBackup);
		return false;
	}
	w.setButtons([],me.statusLoadingCore);
	var options = {
		type:"GET",
		url:me.source,
		processData:false,
		success:function(data,textStatus,jqXHR) {
			me.onLoadCore(true,w,jqXHR.responseText,me.source,jqXHR);
		},
		error:function(jqXHR,textStatus,errorThrown) {
			me.onLoadCore(false,w,null,me.source,jqXHR);
		}
	};
	ajaxReq(options);
	return false;
};

config.macros.upgrade.onLoadCore = function(status,params,responseText,url,xhr)
{
	var me = config.macros.upgrade;
	var w = params;
	var errMsg;
	if(!status)
		errMsg = me.errorLoadingCore;
	var newVer = me.extractVersion(responseText);
	if(!newVer)
		errMsg = me.errorCoreFormat;
	if(errMsg) {
		w.setButtons([],errMsg);
		alert(errMsg);
		return;
	}
	var onStartUpgrade = function(e) {
		w.setButtons([],me.statusSavingCore);
		var localPath = getLocalPath(document.location.toString());
		saveFile(localPath,responseText);
		w.setButtons([],me.statusReloadingCore);
		var backupPath = w.getValue("backupPath");
		var newLoc = document.location.toString() + "?time=" + new Date().convertToYYYYMMDDHHMM() + "#upgrade:[[" + encodeURI(backupPath) + "]]";
		window.setTimeout(function () {window.location = newLoc;},10);
	};
	var step2 = [me.step2Html_downgrade,me.step2Html_restore,me.step2Html_upgrade][compareVersions(version,newVer) + 1];
	w.addStep(me.step2Title,step2.format([formatVersion(newVer),formatVersion(version)]));
	w.setButtons([{caption: me.startLabel, tooltip: me.startPrompt, onClick: onStartUpgrade},{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}]);
};

config.macros.upgrade.onCancel = function(e)
{
	var me = config.macros.upgrade;
	var w = new Wizard(this);
	w.addStep(me.step3Title,me.step3Html);
	w.setButtons([]);
	return false;
};

config.macros.upgrade.extractVersion = function(upgradeFile)
{
	var re = /^var version = \{title: "([^"]+)", major: (\d+), minor: (\d+), revision: (\d+)(, beta: (\d+)){0,1}, date: new Date\("([^"]+)"\)/mg;
	var m = re.exec(upgradeFile);
	return m ? {title: m[1], major: m[2], minor: m[3], revision: m[4], beta: m[6], date: new Date(m[7])} : null;
};

function upgradeFrom(path)
{
	var importStore = new TiddlyWiki();
	var tw = loadFile(path);
	if(window.netscape !== undefined)
		tw = convertUTF8ToUnicode(tw);
	importStore.importTiddlyWiki(tw);
	importStore.forEachTiddler(function(title,tiddler) {
		if(!store.getTiddler(title)) {
			store.addTiddler(tiddler);
		}
	});
	refreshDisplay();
	saveChanges(); //# To create appropriate Markup* sections
	alert(config.messages.upgradeDone.format([formatVersion()]));
	window.location = window.location.toString().substr(0,window.location.toString().lastIndexOf("?"));
}

//--
//-- Manager UI for groups of tiddlers
//--

config.macros.plugins.handler = function(place,macroName,params,wikifier,paramString)
{
	var wizard = new Wizard();
	wizard.createWizard(place,this.wizardTitle);
	wizard.addStep(this.step1Title,this.step1Html);
	var markList = wizard.getElement("markList");
	var listWrapper = document.createElement("div");
	markList.parentNode.insertBefore(listWrapper,markList);
	listWrapper.setAttribute("refresh","macro");
	listWrapper.setAttribute("macroName","plugins");
	listWrapper.setAttribute("params",paramString);
	this.refresh(listWrapper,paramString);
};

config.macros.plugins.refresh = function(listWrapper,params)
{
	var me = config.macros.plugins;
	var wizard = new Wizard(listWrapper);
	var selectedRows = [];
	ListView.forEachSelector(listWrapper,function(e,rowName) {
			if(e.checked)
				selectedRows.push(e.getAttribute("rowName"));
		});
	jQuery(listWrapper).empty();
	params = params.parseParams("anon");
	var plugins = installedPlugins.slice(0);
	var t,tiddler,p;
	var configTiddlers = store.getTaggedTiddlers("systemConfig");
	for(t=0; t<configTiddlers.length; t++) {
		tiddler = configTiddlers[t];
		if(plugins.findByField("title",tiddler.title) == null) {
			p = getPluginInfo(tiddler);
			p.executed = false;
			p.log.splice(0,0,this.skippedText);
			plugins.push(p);
		}
	}
	for(t=0; t<plugins.length; t++) {
		p = plugins[t];
		p.size = p.tiddler.text ? p.tiddler.text.length : 0;
		p.forced = p.tiddler.isTagged("systemConfigForce");
		p.disabled = p.tiddler.isTagged("systemConfigDisable");
		p.Selected = selectedRows.indexOf(plugins[t].title) != -1;
	}
	if(plugins.length == 0) {
		createTiddlyElement(listWrapper,"em",null,null,this.noPluginText);
		wizard.setButtons([]);
	} else {
		var template = readOnly ? this.listViewTemplateReadOnly : this.listViewTemplate;
		var listView = ListView.create(listWrapper,plugins,template,this.onSelectCommand);
		wizard.setValue("listView",listView);
		if(!readOnly) {
			wizard.setButtons([
				{caption: me.removeLabel, tooltip: me.removePrompt, onClick: me.doRemoveTag},
				{caption: me.deleteLabel, tooltip: me.deletePrompt, onClick: me.doDelete}
			]);
		}
	}
};

config.macros.plugins.doRemoveTag = function(e)
{
	var wizard = new Wizard(this);
	var listView = wizard.getValue("listView");
	var rowNames = ListView.getSelectedRows(listView);
	if(rowNames.length == 0) {
		alert(config.messages.nothingSelected);
	} else {
		var t;
		for(t=0; t<rowNames.length; t++) {
			store.setTiddlerTag(rowNames[t],false,"systemConfig");
		}
		autoSaveChanges();
	}
};

config.macros.plugins.doDelete = function(e)
{
	var wizard = new Wizard(this);
	var listView = wizard.getValue("listView");
	var rowNames = ListView.getSelectedRows(listView);
	if(rowNames.length == 0) {
		alert(config.messages.nothingSelected);
	} else {
		if(confirm(config.macros.plugins.confirmDeleteText.format([rowNames.join(", ")]))) {
			var t;
			for(t=0; t<rowNames.length; t++) {
				store.removeTiddler(rowNames[t]);
				story.closeTiddler(rowNames[t],true);
			}
		}
		autoSaveChanges();
	}
};

//--
//-- Message area
//--

function getMessageDiv()
{
	var msgArea = document.getElementById("messageArea");
	if(!msgArea)
		return null;
	if(!msgArea.hasChildNodes())
		createTiddlyButton(createTiddlyElement(msgArea,"div",null,"messageToolbar"),
			config.messages.messageClose.text,
			config.messages.messageClose.tooltip,
			clearMessage);
	msgArea.style.display = "block";
	return createTiddlyElement(msgArea,"div");
}

function displayMessage(text,linkText)
{
	var e = getMessageDiv();
	if(!e) {
		alert(text);
		return;
	}
	if(linkText) {
		var link = createTiddlyElement(e,"a",null,null,text);
		link.href = linkText;
		link.target = "_blank";
	} else {
		e.appendChild(document.createTextNode(text));
	}
}

function clearMessage()
{
	var msgArea = document.getElementById("messageArea");
	if(msgArea) {
		jQuery(msgArea).empty();
		msgArea.style.display = "none";
	}
	return false;
}

//--
//-- Refresh mechanism
//--

config.notifyTiddlers = [
	{name: "SystemSettings", notify: onSystemSettingsChange},
	{name: "StyleSheetLayout", notify: refreshStyles},
	{name: "StyleSheetColors", notify: refreshStyles},
	{name: "StyleSheet", notify: refreshStyles},
	{name: "StyleSheetPrint", notify: refreshStyles},
	{name: "PageTemplate", notify: refreshPageTemplate},
	{name: "SiteTitle", notify: refreshPageTitle},
	{name: "SiteSubtitle", notify: refreshPageTitle},
	{name: "WindowTitle", notify: refreshPageTitle},
	{name: "ColorPalette", notify: refreshColorPalette},
	{name: null, notify: refreshDisplay}
];

config.refreshers = {
	link: function(e,changeList)
		{
		var title = e.getAttribute("tiddlyLink");
		refreshTiddlyLink(e,title);
		return true;
		},

	tiddler: function(e,changeList)
		{
		var title = e.getAttribute("tiddler");
		var template = e.getAttribute("template");
		if(changeList && (changeList.indexOf && changeList.indexOf(title) != -1) && !story.isDirty(title))
			story.refreshTiddler(title,template,true);
		else
			refreshElements(e,changeList);
		return true;
		},

	content: function(e,changeList)
		{
		var title = e.getAttribute("tiddler");
		var force = e.getAttribute("force");
		var args = e.getAttribute("args");
		if(force != null || changeList == null || (changeList.indexOf && changeList.indexOf(title) != -1)) {
			jQuery(e).empty();
			config.macros.tiddler.transclude(e,title,args);
			return true;
		} else
			return false;
		},

	macro: function(e,changeList)
		{
		var macro = e.getAttribute("macroName");
		var params = e.getAttribute("params");
		if(macro)
			macro = config.macros[macro];
		if(macro && macro.refresh)
			macro.refresh(e,params);
		return true;
		}
};

config.refresherData = {
	styleSheet: "StyleSheet",
	defaultStyleSheet: "StyleSheet",
	pageTemplate: "PageTemplate",
	defaultPageTemplate: "PageTemplate",
	colorPalette: "ColorPalette",
	defaultColorPalette: "ColorPalette"
};

function refreshElements(root,changeList)
{
	var c,nodes = root.childNodes;
	for(c=0; c<nodes.length; c++) {
		var e = nodes[c], type = null;
		if(e.getAttribute && (e.tagName ? e.tagName != "IFRAME" : true))
			type = e.getAttribute("refresh");
		var refresher = config.refreshers[type];
		var refreshed = false;
		if(refresher != undefined)
			refreshed = refresher(e,changeList);
		if(e.hasChildNodes() && !refreshed)
			refreshElements(e,changeList);
	}
}

function applyHtmlMacros(root,tiddler)
{
	var e = root.firstChild;
	while(e) {
		var nextChild = e.nextSibling;
		if(e.getAttribute) {
			var macro = e.getAttribute("macro");
			if(macro) {
				e.removeAttribute("macro");
				var params = "";
				var p = macro.indexOf(" ");
				if(p != -1) {
					params = macro.substr(p+1);
					macro = macro.substr(0,p);
				}
				invokeMacro(e,macro,params,null,tiddler);
			}
		}
		if(e.hasChildNodes())
			applyHtmlMacros(e,tiddler);
		e = nextChild;
	}
}

function refreshPageTemplate(title)
{
	var stash = jQuery("<div/>").appendTo("body").hide()[0];
	var display = story.getContainer();
	var nodes,t;
	if(display) {
		nodes = display.childNodes;
		for(t=nodes.length-1; t>=0; t--)
			stash.appendChild(nodes[t]);
	}
	var wrapper = document.getElementById("contentWrapper");

	if(!title || !store.isAvailable(title))
		title = config.refresherData.pageTemplate;
	if(!store.isAvailable(title))
		title = config.refresherData.defaultPageTemplate; //# this one is always avaialable
	wrapper.innerHTML = store.getRecursiveTiddlerText(title,null,10);
	applyHtmlMacros(wrapper);
	refreshElements(wrapper);
	display = story.getContainer();
	jQuery(display).empty();
	if(!display)
		display = createTiddlyElement(wrapper,"div",story.containerId());
	nodes = stash.childNodes;
	for(t=nodes.length-1; t>=0; t--)
		display.appendChild(nodes[t]);
	jQuery(stash).remove();
}

function refreshDisplay(hint)
{
	if(typeof hint == "string")
		hint = [hint];
	var e = document.getElementById("contentWrapper");
	refreshElements(e,hint);
	if(backstage.isPanelVisible()) {
		e = document.getElementById("backstage");
		refreshElements(e,hint);
	}
}

function refreshPageTitle()
{
	document.title = getPageTitle();
}

function getPageTitle()
{
	return wikifyPlainText(store.getTiddlerText("WindowTitle",""),null,tiddler);
}

function refreshStyles(title,doc)
{
	setStylesheet(title == null ? "" : store.getRecursiveTiddlerText(title,"",10),title,doc || document);
}

function refreshColorPalette(title)
{
	if(!startingUp)
		refreshAll();
}

function refreshAll()
{
	refreshPageTemplate();
	refreshDisplay();
	refreshStyles("StyleSheetLayout");
	refreshStyles("StyleSheetColors");
	refreshStyles(config.refresherData.styleSheet);
	refreshStyles("StyleSheetPrint");
}

//--
//-- Option handling
//--

config.optionHandlers = {
	'txt': {
		get: function(name) {return encodeCookie(config.options[name].toString());},
		set: function(name,value) {config.options[name] = decodeCookie(value);}
	},
	'chk': {
		get: function(name) {return config.options[name] ? 'true' : 'false';},
		set: function(name,value) {config.options[name] = value == 'true';}
	}
};

function setOption(name,value)
{
	var optType = name.substr(0,3);
	if(config.optionHandlers[optType] && config.optionHandlers[optType].set)
		config.optionHandlers[optType].set(name,value);
}

// Gets the value of an option as a string. Most code should just read from config.options.* directly
function getOption(name)
{
	var optType = name.substr(0,3);
	return config.optionHandlers[optType] && config.optionHandlers[optType].get ? config.optionHandlers[optType].get(name) : null;
}

function loadOptions()
{
	if(safeMode)
		return;
	loadCookies();
	loadSystemSettings();
}
// @Deprecated; retained for backwards compatibility
var loadOptionsCookie = loadOptions;

function getCookies()
{
	var cookieList = document.cookie.split(';');
	var i,cookies = {};
	for(i=0; i<cookieList.length; i++) {
		var p = cookieList[i].indexOf('=');
		if(p != -1) {
			var name = cookieList[i].substr(0,p).trim();
			var value = cookieList[i].substr(p+1).trim();
			cookies[name] = value;
		}
	}
	return cookies;
}

function loadCookies()
{
	var i,cookies = getCookies();
	if(cookies['TiddlyWiki']) {
		cookies = cookies['TiddlyWiki'].decodeHashMap();
	}
	for(i in cookies) {
		if(config.optionsSource[i] != 'setting') {
			setOption(i,cookies[i]);
		}
	}
}

function loadSystemSettings()
{
	var key,settings = store.calcAllSlices('SystemSettings');
	config.optionsSource = {};
	for(key in settings) {
		setOption(key,settings[key]);
		config.optionsSource[key] = 'setting';
	}
}

function onSystemSettingsChange()
{
	if(!startingUp) {
		loadSystemSettings();
	}
}

function saveOption(name)
{
	if(safeMode)
		return;
	if(name.match(/[()\s]/g, '_')) {
		alert(config.messages.invalidCookie.format([name]));
		return;
	}
	saveCookie(name);
	if(config.optionsSource[name] == 'setting') {
		saveSystemSetting(name,true);
	}
}
// @Deprecated; retained for backwards compatibility
var saveOptionCookie = saveOption;

function removeCookie(name)
{
	document.cookie = name + '=; expires=Thu, 01-Jan-1970 00:00:01 UTC; path=/;';
}

function saveCookie(name)
{
	var key,cookies = {};
	for(key in config.options) {
		var value = getOption(key);
		value = value == null ? 'false' : value;
		cookies[key] = value;
	}
	document.cookie = 'TiddlyWiki=' + String.encodeHashMap(cookies) + '; expires=Fri, 1 Jan 2038 12:00:00 UTC; path=/';
	cookies = getCookies();
	var c;
	for(c in cookies) {
		var optType = c.substr(0,3);
		if(config.optionHandlers[optType])
			removeCookie(c);
	}
}

var systemSettingSave;
function commitSystemSettings(storeWasDirty)
{
	if(systemSettingSave) {
		window.clearTimeout(systemSettingSave);
	}
	systemSettingSave = window.setTimeout(function() {
		var tiddler = store.getTiddler('SystemSettings');
		autoSaveChanges(null,[tiddler]);
	}, 1000);
}

function saveSystemSetting(name,saveFile)
{
	var title = 'SystemSettings';
	var slice = store.getTiddlerSlice(title,name);
	if(readOnly || slice === getOption(name)) {
		return; //# don't save if read-only or the option hasn't changed
	}
	var slices = store.calcAllSlices(title);
	var key;
	for(key in config.optionsSource) {
		var value = getOption(key) || '';
		if(slices[key] !== value) {
			slices[key] = value;
		}
	}
	var text = [];
	for(key in slices) {
		text.push('%0: %1'.format([key,slices[key]]));
	}
	text = text.sort().join('\n');
	var storeWasDirty = store.isDirty();
	var tiddler = store.getTiddler(title);
	if(tiddler) {
		tiddler.text = text;
		tiddler = store.saveTiddler(tiddler);
	} else {
		tiddler = store.saveTiddler(title,title,text,'System',new Date(),['excludeLists'],config.defaultCustomFields);
	}
	if(saveFile) {
		commitSystemSettings(storeWasDirty);
	}
}

function encodeCookie(s)
{
	return escape(convertUnicodeToHtmlEntities(s));
}

function decodeCookie(s)
{
	s = unescape(s);
	var re = /&#[0-9]{1,5};/g;
	return s.replace(re,function($0) {return String.fromCharCode(eval($0.replace(/[&#;]/g,'')));});
}

config.macros.option.genericCreate = function(place,type,opt,className,desc)
{
	var typeInfo = config.macros.option.types[type];
	var c = document.createElement(typeInfo.elementType);
	if(typeInfo.typeValue)
		c.setAttribute('type',typeInfo.typeValue);
	c[typeInfo.eventName] = typeInfo.onChange;
	c.setAttribute('option',opt);
	c.className = className || typeInfo.className;
	if(config.optionsDesc[opt])
		c.setAttribute('title',config.optionsDesc[opt]);
	place.appendChild(c);
	if(desc != 'no')
		createTiddlyText(place,config.optionsDesc[opt] || opt);
	c[typeInfo.valueField] = config.options[opt];
	return c;
};

config.macros.option.genericOnChange = function(e)
{
	var opt = this.getAttribute('option');
	if(opt) {
		var optType = opt.substr(0,3);
		var handler = config.macros.option.types[optType];
		if(handler.elementType && handler.valueField)
			config.macros.option.propagateOption(opt,handler.valueField,this[handler.valueField],handler.elementType,this);
	}
	return true;
};

config.macros.option.types = {
	'txt': {
		elementType: 'input',
		valueField: 'value',
		eventName: 'onchange',
		className: 'txtOptionInput',
		create: config.macros.option.genericCreate,
		onChange: config.macros.option.genericOnChange
	},
	'chk': {
		elementType: 'input',
		valueField: 'checked',
		eventName: 'onclick',
		className: 'chkOptionInput',
		typeValue: 'checkbox',
		create: config.macros.option.genericCreate,
		onChange: config.macros.option.genericOnChange
	}
};

config.macros.option.propagateOption = function(opt,valueField,value,elementType,elem)
{
	config.options[opt] = value;
	saveOption(opt);
	var t,nodes = document.getElementsByTagName(elementType);
	for(t=0; t<nodes.length; t++) {
		var optNode = nodes[t].getAttribute('option');
		if(opt == optNode && nodes[t]!=elem)
			nodes[t][valueField] = value;
	}
};

config.macros.option.handler = function(place,macroName,params,wikifier,paramString)
{
	params = paramString.parseParams('anon',null,true,false,false);
	var opt = (params[1] && params[1].name == 'anon') ? params[1].value : getParam(params,'name',null);
	var className = (params[2] && params[2].name == 'anon') ? params[2].value : getParam(params,'class',null);
	var desc = getParam(params,'desc','no');
	var type = opt.substr(0,3);
	var h = config.macros.option.types[type];
	if(h && h.create)
		h.create(place,type,opt,className,desc);
};

config.macros.options.handler = function(place,macroName,params,wikifier,paramString)
{
	params = paramString.parseParams('anon',null,true,false,false);
	var showUnknown = getParam(params,'showUnknown','no');
	var wizard = new Wizard();
	wizard.createWizard(place,this.wizardTitle);
	wizard.addStep(this.step1Title,this.step1Html);
	var markList = wizard.getElement('markList');
	var chkUnknown = wizard.getElement('chkUnknown');
	chkUnknown.checked = showUnknown == 'yes';
	chkUnknown.onchange = this.onChangeUnknown;
	var listWrapper = document.createElement('div');
	markList.parentNode.insertBefore(listWrapper,markList);
	wizard.setValue('listWrapper',listWrapper);
	this.refreshOptions(listWrapper,showUnknown == 'yes');
};

config.macros.options.refreshOptions = function(listWrapper,showUnknown)
{
	var n,opts = [];
	for(n in config.options) {
		var opt = {};
		opt.option = '';
		opt.name = n;
		opt.lowlight = !config.optionsDesc[n];
		opt.description = opt.lowlight ? this.unknownDescription : config.optionsDesc[n];
		if(!opt.lowlight || showUnknown)
			opts.push(opt);
	}
	opts.sort(function(a,b) {return a.name.substr(3) < b.name.substr(3) ? -1 : (a.name.substr(3) == b.name.substr(3) ? 0 : +1);});
	ListView.create(listWrapper,opts,this.listViewTemplate);
	for(n=0; n<opts.length; n++) {
		var type = opts[n].name.substr(0,3);
		var h = config.macros.option.types[type];
		if(h && h.create) {
			h.create(opts[n].colElements['option'],type,opts[n].name,null,'no');
		}
	}
};

config.macros.options.onChangeUnknown = function(e)
{
	var wizard = new Wizard(this);
	var listWrapper = wizard.getValue('listWrapper');
	jQuery(listWrapper).empty();
	config.macros.options.refreshOptions(listWrapper,this.checked);
	return false;
};

//--
//-- Saving
//--

var saveUsingSafari = false;

var startSaveArea = '<div id="' + 'storeArea">'; // Split up into two so that indexOf() of this source doesn't find it
var startSaveAreaRE = /<((div)|(DIV)) ((id)|(ID))=["']?storeArea['"]?>/; // Used for IE6
var endSaveArea = '</d' + 'iv>';
var endSaveAreaCaps = '</D' + 'IV>';

// If there are unsaved changes, force the user to confirm before exitting
function confirmExit()
{
	hadConfirmExit = true;
	if((store && store.isDirty && store.isDirty()) || (story && story.areAnyDirty && story.areAnyDirty()))
		return config.messages.confirmExit;
}

// Give the user a chance to save changes before exitting
function checkUnsavedChanges()
{
	if(store && store.isDirty && store.isDirty() && window.hadConfirmExit === false) {
		if(confirm(config.messages.unsavedChangesWarning))
			saveChanges();
	}
}

function updateLanguageAttribute(s)
{
	if(config.locale) {
		var mRE = /(<html(?:.*?)?)(?: xml:lang\="([a-z]+)")?(?: lang\="([a-z]+)")?>/;
		var m = mRE.exec(s);
		if(m) {
			var t = m[1];
			if(m[2])
				t += ' xml:lang="' + config.locale + '"';
			if(m[3])
				t += ' lang="' + config.locale + '"';
			t += ">";
			s = s.substr(0,m.index) + t + s.substr(m.index+m[0].length);
		}
	}
	return s;
}

function updateMarkupBlock(s,blockName,tiddlerName)
{
	return s.replaceChunk(
			"<!--%0-START-->".format([blockName]),
			"<!--%0-END-->".format([blockName]),
			"\n" + convertUnicodeToFileFormat(store.getRecursiveTiddlerText(tiddlerName,"")) + "\n");
}

function updateOriginal(original,posDiv,localPath)
{
	if(!posDiv)
		posDiv = locateStoreArea(original);
	if(!posDiv) {
		alert(config.messages.invalidFileError.format([localPath]));
		return null;
	}
	var revised = original.substr(0,posDiv[0] + startSaveArea.length) + "\n" +
				convertUnicodeToFileFormat(store.allTiddlersAsHtml()) + "\n" +
				original.substr(posDiv[1]);
	var newSiteTitle = convertUnicodeToFileFormat(getPageTitle()).htmlEncode();
	revised = revised.replaceChunk("<title"+">","</title"+">"," " + newSiteTitle + " ");
	revised = updateLanguageAttribute(revised);
	revised = updateMarkupBlock(revised,"PRE-HEAD","MarkupPreHead");
	revised = updateMarkupBlock(revised,"POST-HEAD","MarkupPostHead");
	revised = updateMarkupBlock(revised,"PRE-BODY","MarkupPreBody");
	revised = updateMarkupBlock(revised,"POST-SCRIPT","MarkupPostBody");
	return revised;
}

function locateStoreArea(original)
{
	// Locate the storeArea divs
	if(!original)
		return null;
	var posOpeningDiv = original.search(startSaveAreaRE);
	var limitClosingDiv = original.indexOf("<"+"!--POST-STOREAREA--"+">");
	if(limitClosingDiv == -1)
		limitClosingDiv = original.indexOf("<"+"!--POST-BODY-START--"+">");
	var start = limitClosingDiv == -1 ? original.length : limitClosingDiv;
	var posClosingDiv = original.lastIndexOf(endSaveArea,start);
	if(posClosingDiv == -1)
		posClosingDiv = original.lastIndexOf(endSaveAreaCaps,start);
	return (posOpeningDiv != -1 && posClosingDiv != -1) ? [posOpeningDiv,posClosingDiv] : null;
}

function autoSaveChanges(onlyIfDirty,tiddlers)
{
	if(config.options.chkAutoSave)
		saveChanges(onlyIfDirty,tiddlers);
}

function loadOriginal(localPath)
{
	var content=loadFile(localPath);
	if (!content) content=window.originalHTML||recreateOriginal();
	return content;
}

function recreateOriginal()
{
	// construct doctype
	var content = "<!DOCTYPE ";
	var t=document.doctype;
	if (!t) 
		content+="html"
	else {
		content+=t.name;
		if      (t.publicId)		content+=' PUBLIC "'+t.publicId+'"';
		else if (t.systemId)		content+=' SYSTEM "'+t.systemId+'"';
	}
	content+=' "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"';
	content+='>\n';

	// append current document content
	content+=document.documentElement.outerHTML;

	content=content.replace(/<div id="saveTest">savetest<\/div>/,'<div id="saveTest"></div>');
	content=content.replace(/script><applet [^\>]*><\/applet>/g,'script>');
	content=content.replace(/><head>/,'>\n<head>');
	content=content.replace(/\n\n<\/body><\/html>$/,'</body>\n</html>\n');
	content=content.replace(/(<(meta) [^\>]*[^\/])>/g,'$1 />');
	content=content.replace(/<noscript>[^\<]*<\/noscript>/,
		function(m){return m.replace(/&lt;/g,'<').replace(/&gt;/g,'>');});
	content=content.replace(/<div id="copyright">[^\<]*<\/div>/,
		function(m){return m.replace(/\xA9/g,'&copy;');});

	return content;
}

// Save this tiddlywiki with the pending changes
function saveChanges(onlyIfDirty,tiddlers)
{
	if(onlyIfDirty && !store.isDirty())
		return;
	clearMessage();
	var t0 = new Date();
	var msg = config.messages;
	var originalPath = document.location.toString();
	if(!window.allowSave()) {
		alert(msg.notFileUrlError);
		if(store.tiddlerExists(msg.saveInstructions))
			story.displayTiddler(null,msg.saveInstructions);
		return;
	}
	var localPath = getLocalPath(originalPath);
	var original = loadOriginal(localPath);
	if(original == null) {
		alert(msg.cantSaveError);
		if(store.tiddlerExists(msg.saveInstructions))
			story.displayTiddler(null,msg.saveInstructions);
		return;
	}
	var posDiv = locateStoreArea(original);
	if(!posDiv) {
		alert(msg.invalidFileError.format([localPath]));
		return;
	}
	var co=config.options; //# abbreviation
	config.saveByDownload=false;
	config.saveByManualDownload=false;
	saveMain(localPath,original,posDiv);
	if (!config.saveByDownload && !config.saveByManualDownload) {
		if(co.chkSaveBackups)
			saveBackup(localPath,original);
		if(co.chkSaveEmptyTemplate)
			saveEmpty(localPath,original,posDiv);
		if(co.chkGenerateAnRssFeed && saveRss instanceof Function)
			saveRss(localPath);
	}
	if(co.chkDisplayInstrumentation)
		displayMessage("saveChanges " + (new Date()-t0) + " ms");
}


function saveMain(localPath,original,posDiv)
{
	var save;
	try {
		var revised = updateOriginal(original,posDiv,localPath);
		save = saveFile(localPath,revised);
	} catch (ex) {
		showException(ex);
	}
	if(save) {
		if (!config.saveByManualDownload) {
			if (config.saveByDownload) { //# set by HTML5DownloadSaveFile()
				var link = getDataURI(revised);
				var msg  = config.messages.mainDownload;
			} else {
				var link = "file://" + localPath;
				var msg  = config.messages.mainSaved;
			}
			displayMessage(msg,link);
		}
		store.setDirty(false);
	} else {
		alert(config.messages.mainFailed);
	}
}

function saveBackup(localPath,original)
{
	var backupPath = getBackupPath(localPath);
	var backup = copyFile(backupPath,localPath);
	if(!backup)
		backup = saveFile(backupPath,original);
	if(backup)
		displayMessage(config.messages.backupSaved,"file://" + backupPath);
	else
		alert(config.messages.backupFailed);
}

function saveEmpty(localPath,original,posDiv)
{
	var emptyPath,p;
	if((p = localPath.lastIndexOf("/")) != -1)
		emptyPath = localPath.substr(0,p) + "/";
	else if((p = localPath.lastIndexOf("\\")) != -1)
		emptyPath = localPath.substr(0,p) + "\\";
	else
		emptyPath = localPath + ".";
	emptyPath += "empty.html";
	var empty = original.substr(0,posDiv[0] + startSaveArea.length) + original.substr(posDiv[1]);
	var emptySave = saveFile(emptyPath,empty);
	if(emptySave)
		displayMessage(config.messages.emptySaved,"file://" + emptyPath);
	else
		alert(config.messages.emptyFailed);
}

// Translate URL to local path [Preemption]
window.getLocalPath = window.getLocalPath || function(origPath)
{
	var originalPath = convertUriToUTF8(origPath,config.options.txtFileSystemCharSet);
	// Remove any location or query part of the URL
	var argPos = originalPath.indexOf("?");
	if(argPos != -1)
		originalPath = originalPath.substr(0,argPos);
	var hashPos = originalPath.indexOf("#");
	if(hashPos != -1)
		originalPath = originalPath.substr(0,hashPos);
	// Convert file://localhost/ to file:///
	if(originalPath.indexOf("file://localhost/") == 0)
		originalPath = "file://" + originalPath.substr(16);
	// Convert to a native file format
	var localPath;
	if(originalPath.charAt(9) == ":") // pc local file
		localPath = unescape(originalPath.substr(8)).replace(new RegExp("/","g"),"\\");
	else if(originalPath.indexOf("file://///") == 0) // FireFox pc network file
		localPath = "\\\\" + unescape(originalPath.substr(10)).replace(new RegExp("/","g"),"\\");
	else if(originalPath.indexOf("file:///") == 0) // mac/unix local file
		localPath = unescape(originalPath.substr(7));
	else if(originalPath.indexOf("file:/") == 0) // mac/unix local file
		localPath = unescape(originalPath.substr(5));
	else // pc network file
		localPath = "\\\\" + unescape(originalPath.substr(7)).replace(new RegExp("/","g"),"\\");
	return localPath;
}

function getBackupPath(localPath,title,extension)
{
	var slash = "\\";
	var dirPathPos = localPath.lastIndexOf("\\");
	if(dirPathPos == -1) {
		dirPathPos = localPath.lastIndexOf("/");
		slash = "/";
	}
	var backupFolder = config.options.txtBackupFolder;
	if(!backupFolder || backupFolder == "")
		backupFolder = ".";
	var backupPath = localPath.substr(0,dirPathPos) + slash + backupFolder + localPath.substr(dirPathPos);
	backupPath = backupPath.substr(0,backupPath.lastIndexOf(".")) + ".";
	if(title)
		backupPath += title.replace(/[\\\/\*\?\":<> ]/g,"_") + ".";
	backupPath += (new Date()).convertToYYYYMMDDHHMMSSMMM() + "." + (extension || "html");
	return backupPath;
}

//--
//-- RSS Saving
//--

function saveRss(localPath)
{
	var rssPath = localPath.substr(0,localPath.lastIndexOf(".")) + ".xml";
	if(saveFile(rssPath,convertUnicodeToFileFormat(generateRss())))
		displayMessage(config.messages.rssSaved,"file://" + rssPath);
	else
		alert(config.messages.rssFailed);
}

tiddlerToRssItem = function(tiddler,uri)
{
	var s = "<title" + ">" + tiddler.title.htmlEncode() + "</title" + ">\n";
	s += "<description>" + wikifyStatic(tiddler.text,null,tiddler).htmlEncode() + "</description>\n";
	var i;
	for(i=0; i<tiddler.tags.length; i++)
		s += "<category>" + tiddler.tags[i] + "</category>\n";
	s += "<link>" + uri + "#" + encodeURIComponent(String.encodeTiddlyLink(tiddler.title)) + "</link>\n";
	s +="<pubDate>" + tiddler.modified.toGMTString() + "</pubDate>\n";
	return s;
};

function generateRss()
{
	var s = [];
	var d = new Date();
	var u = store.getTiddlerText("SiteUrl");
	// Assemble the header
	s.push("<" + "?xml version=\"1.0\"?" + ">");
	s.push("<rss version=\"2.0\">");
	s.push("<channel>");
	s.push("<title" + ">" + wikifyPlainText(store.getTiddlerText("SiteTitle",""),null,tiddler).htmlEncode() + "</title" + ">");
	if(u)
		s.push("<link>" + u.htmlEncode() + "</link>");
	s.push("<description>" + wikifyPlainText(store.getTiddlerText("SiteSubtitle",""),null,tiddler).htmlEncode() + "</description>");
	s.push("<language>" + config.locale + "</language>");
	s.push("<copyright>Copyright " + d.getFullYear() + " " + config.options.txtUserName.htmlEncode() + "</copyright>");
	s.push("<pubDate>" + d.toGMTString() + "</pubDate>");
	s.push("<lastBuildDate>" + d.toGMTString() + "</lastBuildDate>");
	s.push("<docs>http://blogs.law.harvard.edu/tech/rss</docs>");
	s.push("<generator>TiddlyWiki " + formatVersion() + "</generator>");
	// The body
	var tiddlers = store.getTiddlers("modified","excludeLists");
	var i,n = config.numRssItems > tiddlers.length ? 0 : tiddlers.length-config.numRssItems;
	for(i=tiddlers.length-1; i>=n; i--) {
		s.push("<item>\n" + tiddlerToRssItem(tiddlers[i],u) + "\n</item>");
	}
	// And footer
	s.push("</channel>");
	s.push("</rss>");
	// Save it all
	return s.join("\n");
}

//--
//-- Filesystem code
//--

// Copy a file in filesystem [Preemption]
window.copyFile = window.copyFile || function(dest,source)
{
	return config.browser.isIE ? ieCopyFile(dest,source) : false;
}


// Save a file in filesystem [Preemption]
window.saveFile = window.saveFile || function(fileUrl,content)
{
	var r = mozillaSaveFile(fileUrl,content);
	if(!r)
		r = ieSaveFile(fileUrl,content);
	if(!r)
		r = javaSaveFile(fileUrl,content);
	if(!r)
		r = HTML5DownloadSaveFile(fileUrl,content);
	if(!r)
		r = manualSaveFile(fileUrl,content);
	return r;
}

// Load a file from filesystem [Preemption]
window.loadFile = window.loadFile || function(fileUrl)
{
	var r = mozillaLoadFile(fileUrl);
	if((r == null) || (r == false))
		r = ieLoadFile(fileUrl);
	if((r == null) || (r == false))
		r = javaLoadFile(fileUrl);
	return r;
}

function ieCreatePath(path)
{
	try {
		var fso = new ActiveXObject("Scripting.FileSystemObject");
	} catch(ex) {
		return null;
	}

	var pos = path.lastIndexOf("\\");
	if(pos==-1)
		pos = path.lastIndexOf("/");
	if(pos!=-1)
		path = path.substring(0,pos+1);

	var scan = [path];
	var parent = fso.GetParentFolderName(path);
	while(parent && !fso.FolderExists(parent)) {
		scan.push(parent);
		parent = fso.GetParentFolderName(parent);
	}

	for(i=scan.length-1;i>=0;i--) {
		if(!fso.FolderExists(scan[i])) {
			fso.CreateFolder(scan[i]);
		}
	}
	return true;
}

// Returns null if it can't do it, false if there's an error, true if it saved OK
function ieSaveFile(filePath,content)
{
	ieCreatePath(filePath);
	try {
		var fso = new ActiveXObject("Scripting.FileSystemObject");
	} catch(ex) {
		return null;
	}
	var file = fso.OpenTextFile(filePath,2,-1,0);
	file.Write(content);
	file.Close();
	return true;
}

// Returns null if it can't do it, false if there's an error, or a string of the content if successful
function ieLoadFile(filePath)
{
	try {
		var fso = new ActiveXObject("Scripting.FileSystemObject");
		var file = fso.OpenTextFile(filePath,1);
		var content = file.ReadAll();
		file.Close();
	} catch(ex) {
		return null;
	}
	return content;
}

function ieCopyFile(dest,source)
{
	ieCreatePath(dest);
	try {
		var fso = new ActiveXObject("Scripting.FileSystemObject");
		fso.GetFile(source).Copy(dest);
	} catch(ex) {
		return false;
	}
	return true;
}

// Returns null if it can't do it, false if there's an error, true if it saved OK
function mozillaSaveFile(filePath,content)
{
	if(window.Components) {
		try {
			netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
			var file = Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsILocalFile);
			file.initWithPath(filePath);
			if(!file.exists())
				file.create(0,0x01B4);// 0x01B4 = 0664
			var out = Components.classes["@mozilla.org/network/file-output-stream;1"].createInstance(Components.interfaces.nsIFileOutputStream);
			out.init(file,0x22,0x04,null);
			out.write(content,content.length);
			out.flush();
			out.close();
			return true;
		} catch(ex) {
			return false;
		}
	}
	return null;
}

// Returns null if it can't do it, false if there's an error, or a string of the content if successful
function mozillaLoadFile(filePath)
{
	if(window.Components) {
		try {
			netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
			var file = Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsILocalFile);
			file.initWithPath(filePath);
			if(!file.exists())
				return null;
			var inputStream = Components.classes["@mozilla.org/network/file-input-stream;1"].createInstance(Components.interfaces.nsIFileInputStream);
			inputStream.init(file,0x01,0x04,null);
			var sInputStream = Components.classes["@mozilla.org/scriptableinputstream;1"].createInstance(Components.interfaces.nsIScriptableInputStream);
			sInputStream.init(inputStream);
			var contents = sInputStream.read(sInputStream.available());
			sInputStream.close();
			inputStream.close();
			return contents;
		} catch(ex) {
			return false;
		}
	}
	return null;
}

function javaUrlToFilename(url)
{
	var f = "//localhost";
	if(url.indexOf(f) == 0)
		return url.substring(f.length);
	var i = url.indexOf(":");
	return i > 0 ? url.substring(i-1) : url;
}

/*
 *
 * in between when the applet has been started
 * and the user has given permission to run the applet
 * we get an applet object, but it doesn't have the methods
 * we expect yet.
 *
 */
var LOG_TIDDLYSAVER = true;
function logTiddlySaverException(msg, ex) {
	var applet = document.applets['TiddlySaver'];
	console.log(msg + ": " + ex);
	if (LOG_TIDDLYSAVER && applet) {
		try {
			console.log(msg + ": " + applet.getLastErrorMsg());
			console.log(msg + ": " + applet.getLastErrorStackTrace());
		} catch (ex) {}
	}
}

function javaDebugInformation () {
	var applet = document.applets['TiddlySaver'];
	var what = [
		["Java Version", applet.getJavaVersion],
		["Last Exception", applet.getLastErrorMessage],
		["Last Exception Stack Trace", applet.getLastErrorStackTrace],
		["System Properties", applet.getSystemProperties] ];

	function formatItem (description, method) {
		try {
			 result = String(method.call(applet));
		} catch (ex) {
			 result = String(ex)
		}
		return description + ": " + result
	}

	return jQuery.map(what, function (item) { return formatItem.apply(this, item) })
			.join('\n\n')
}

function javaSaveFile(filePath,content)
{
	var applet = document.applets['TiddlySaver'];
	try {
		if (applet && filePath) 
			return applet.saveFile(javaUrlToFilename(filePath), "UTF-8", content);
	} catch(ex) {
		logTiddlySaverException("javaSaveFile", ex);
	}
	// is this next block working anywhere ? -- grmble
	try {
		var s = new java.io.PrintStream(new java.io.FileOutputStream(javaUrlToFilename(filePath)));
		s.print(content);
		s.close();
	} catch(ex2) {
		return null;
	}
	return true;
}

function javaLoadFile(filePath)
{
	var applet = document.applets['TiddlySaver'];
	try {
		if (applet && filePath) {
			var ret = applet.loadFile(javaUrlToFilename(filePath),"UTF-8");
			if(!ret)
				return null;
			return String(ret);
		}
	} catch(ex) {
		logTiddlySaverException("javaLoadFile", ex);
	}
	// is this next block working anywhere ? -- grmble
	var content = [];
	try {
		var r = new java.io.BufferedReader(new java.io.FileReader(javaUrlToFilename(filePath)));
		var line;
		while((line = r.readLine()) != null)
			content.push(String(line));
		r.close();
	} catch(ex2) {
		return null;
	}
	return content.join("\n");
}

function HTML5DownloadSaveFile(filePath,content)
{
	if(document.createElement("a").download !== undefined) {
		config.saveByDownload=true;
		var slashpos=filePath.lastIndexOf("/");
		if (slashpos==-1) slashpos=filePath.lastIndexOf("\\"); 
		var filename=filePath.substr(slashpos+1);
		var uri = getDataURI(content);
		var link = document.createElement("a");
		link.setAttribute("target","_blank");
		link.setAttribute("href",uri);
		link.setAttribute("download",filename);
		document.body.appendChild(link); link.click(); document.body.removeChild(link);
		return true;
	}
	return null;
}

// Returns null if it can't do it, false if there's an error, true if it saved OK
function manualSaveFile(filePath,content)
{
	// FALLBACK for showing a link to data: URI
	config.saveByManualDownload=true;
	var slashpos=filePath.lastIndexOf("/");
	if (slashpos==-1) slashpos=filePath.lastIndexOf("\\"); 
	var filename=filePath.substr(slashpos+1);
	var uri = getDataURI(content);
	displayMessage(config.messages.mainDownloadManual,uri);
	return true;
}

// construct data URI (using base64 encoding to preserve multi-byte encodings)
function getDataURI(data) {
	if (config.browser.isIE)
		return "data:text/html,"+encodeURIComponent(data);
	else
		return "data:text/html;base64,"+encodeBase64(data);
}

function encodeBase64(data) {
	if (!data) return "";
	var keyStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
	var out = "";
	var chr1,chr2,chr3="";
	var enc1,enc2,enc3,enc4="";
	for (var count=0,i=0; i<data.length; ) {
		chr1=data.charCodeAt(i++);
		chr2=data.charCodeAt(i++);
		chr3=data.charCodeAt(i++);
		enc1=chr1 >> 2;
		enc2=((chr1 & 3) << 4) | (chr2 >> 4);
		enc3=((chr2 & 15) << 2) | (chr3 >> 6);
		enc4=chr3 & 63;
		if (isNaN(chr2)) enc3=enc4=64;
		else if (isNaN(chr3)) enc4=64;
		out+=keyStr.charAt(enc1)+keyStr.charAt(enc2)+keyStr.charAt(enc3)+keyStr.charAt(enc4);
		chr1=chr2=chr3=enc1=enc2=enc3=enc4="";
	}
	return out;
}//--
//-- Filesystem utilities
//--

function convertUTF8ToUnicode(u)
{
	return config.browser.isOpera || !window.netscape ? manualConvertUTF8ToUnicode(u) : mozConvertUTF8ToUnicode(u);
}


function manualConvertUTF8ToUnicode(utf)
{
	var uni = utf;
	var src = 0;
	var dst = 0;
	var b1, b2, b3;
	var c;
	while(src < utf.length) {
		b1 = utf.charCodeAt(src++);
		if(b1 < 0x80) {
			dst++;
		} else if(b1 < 0xE0) {
			b2 = utf.charCodeAt(src++);
			c = String.fromCharCode(((b1 & 0x1F) << 6) | (b2 & 0x3F));
			uni = uni.substring(0,dst++).concat(c,utf.substr(src));
		} else {
			b2 = utf.charCodeAt(src++);
			b3 = utf.charCodeAt(src++);
			c = String.fromCharCode(((b1 & 0xF) << 12) | ((b2 & 0x3F) << 6) | (b3 & 0x3F));
			uni = uni.substring(0,dst++).concat(c,utf.substr(src));
		}
	}
	return uni;
}

function mozConvertUTF8ToUnicode(u)
{
	try {
		netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
		var converter = Components.classes["@mozilla.org/intl/scriptableunicodeconverter"].createInstance(Components.interfaces.nsIScriptableUnicodeConverter);
		converter.charset = "UTF-8";
	} catch(ex) {
		return manualConvertUTF8ToUnicode(u);
	} // fallback
	var s = converter.ConvertToUnicode(u);
	var fin = converter.Finish();
	return fin.length > 0 ? s+fin : s;
}

function convertUnicodeToFileFormat(s)
{
	return config.browser.isOpera || !window.netscape ? (config.browser.isIE ? convertUnicodeToHtmlEntities(s) : s) : mozConvertUnicodeToUTF8(s);
}

function convertUnicodeToHtmlEntities(s)
{
	var re = /[^\u0000-\u007F]/g;
	return s.replace(re,function($0) {return "&#" + $0.charCodeAt(0).toString() + ";";});
}

function convertUnicodeToUTF8(s)
{
// return convertUnicodeToFileFormat to allow plugin migration
	return convertUnicodeToFileFormat(s);
}

function manualConvertUnicodeToUTF8(s)
{
	return unescape(encodeURIComponent(s));
}

function mozConvertUnicodeToUTF8(s)
{
	try {
		netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
		var converter = Components.classes["@mozilla.org/intl/scriptableunicodeconverter"].createInstance(Components.interfaces.nsIScriptableUnicodeConverter);
		converter.charset = "UTF-8";
	} catch(ex) {
		return manualConvertUnicodeToUTF8(s);
	} // fallback
	var u = converter.ConvertFromUnicode(s);
	var fin = converter.Finish();
	return fin.length > 0 ? u + fin : u;
}

function convertUriToUTF8(uri,charSet)
{
	if(window.netscape == undefined || charSet == undefined || charSet == "")
		return uri;
	try {
		netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
		var converter = Components.classes["@mozilla.org/intl/utf8converterservice;1"].getService(Components.interfaces.nsIUTF8ConverterService);
	} catch(ex) {
		return uri;
	}
	return converter.convertURISpecToUTF8(uri,charSet);
}
//--
//-- Server adaptor base class
//--

function AdaptorBase()
{
	this.host = null;
	this.store = null;
	return this;
}

AdaptorBase.prototype.close = function()
{
	return true;
};

AdaptorBase.prototype.fullHostName = function(host)
{
	if(!host)
		return '';
	host = host.trim();
	if(!host.match(/:\/\//))
		host = 'http://' + host;
	if(host.substr(host.length-1) == '/')
		host = host.substr(0,host.length-1);
	return host;
};

AdaptorBase.minHostName = function(host)
{
	return host;
};

AdaptorBase.prototype.setContext = function(context,userParams,callback)
{
	if(!context) context = {};
	context.userParams = userParams;
	if(callback) context.callback = callback;
	context.adaptor = this;
	if(!context.host)
		context.host = this.host;
	context.host = this.fullHostName(context.host);
	if(!context.workspace)
		context.workspace = this.workspace;
	return context;
};

// Open the specified host
AdaptorBase.prototype.openHost = function(host,context,userParams,callback)
{
	this.host = host;
	context = this.setContext(context,userParams,callback);
	context.status = true;
	if(callback)
		window.setTimeout(function() {context.callback(context,userParams);},10);
	return true;
};

// Open the specified workspace
AdaptorBase.prototype.openWorkspace = function(workspace,context,userParams,callback)
{
	this.workspace = workspace;
	context = this.setContext(context,userParams,callback);
	context.status = true;
	if(callback)
		window.setTimeout(function() {callback(context,userParams);},10);
	return true;
};

//--
//-- Server adaptor for talking to static TiddlyWiki files
//--

function FileAdaptor()
{
}

FileAdaptor.prototype = new AdaptorBase();

FileAdaptor.serverType = 'file';
FileAdaptor.serverLabel = 'TiddlyWiki';

FileAdaptor.loadTiddlyWikiSuccess = function(context,jqXHR)
{
	context.status = true;
	context.adaptor.store = new TiddlyWiki();
	if(!context.adaptor.store.importTiddlyWiki(jqXHR.responseText)) {
		context.statusText = config.messages.invalidFileError.format([context.host]);
		context.status = false;
	}
	context.complete(context,context.userParams);
};

FileAdaptor.loadTiddlyWikiError = function(context,jqXHR)
{
	context.status = false;
	context.statusText = jqXHR.message;
	context.complete(context,context.userParams);
};

// Get the list of workspaces on a given server
FileAdaptor.prototype.getWorkspaceList = function(context,userParams,callback)
{
	context = this.setContext(context,userParams,callback);
	context.workspaces = [{title:"(default)"}];
	context.status = true;
	if(callback)
		window.setTimeout(function() {callback(context,userParams);},10);
	return true;
};

// Gets the list of tiddlers within a given workspace
FileAdaptor.prototype.getTiddlerList = function(context,userParams,callback,filter)
{
	context = this.setContext(context,userParams,callback);
	if(!context.filter)
		context.filter = filter;
	context.complete = FileAdaptor.getTiddlerListComplete;
	if(this.store) {
		return context.complete(context,context.userParams);
	}
	var options = {
		type:"GET",
		url:context.host,
		file:context.file, // for HTML5 FileReader
		processData:false,
		success:function(data,textStatus,jqXHR) {
			FileAdaptor.loadTiddlyWikiSuccess(context,jqXHR);
		},
		error:function(jqXHR,textStatus,errorThrown) {
			context.xhr = jqXHR;
			FileAdaptor.loadTiddlyWikiError(context,jqXHR);
		}
	};
	return ajaxReq(options);
};

FileAdaptor.getTiddlerListComplete = function(context,userParams)
{
	if(context.status) {
		if(context.filter) {
			context.tiddlers = context.adaptor.store.filterTiddlers(context.filter);
		} else {
			context.tiddlers = [];
			context.adaptor.store.forEachTiddler(function(title,tiddler) {context.tiddlers.push(tiddler);});
		}
		var i;
		for(i=0; i<context.tiddlers.length; i++) {
			context.tiddlers[i].fields['server.type'] = FileAdaptor.serverType;
			context.tiddlers[i].fields['server.host'] = AdaptorBase.minHostName(context.host);
			context.tiddlers[i].fields['server.page.revision'] = context.tiddlers[i].modified.convertToYYYYMMDDHHMM();
		}
		context.status = true;
	}
	if(context.callback) {
		window.setTimeout(function() {context.callback(context,userParams);},10);
	}
	return true;
};

FileAdaptor.prototype.generateTiddlerInfo = function(tiddler)
{
	var info = {};
	info.uri = tiddler.fields['server.host'] + "#" + tiddler.title;
	return info;
};

// Retrieve a tiddler from a given workspace on a given server
FileAdaptor.prototype.getTiddler = function(title,context,userParams,callback)
{
	context = this.setContext(context,userParams,callback);
	context.title = title;
	context.complete = FileAdaptor.getTiddlerComplete;
	if(context.adaptor.store) {
		return context.complete(context,context.userParams);
	}
	var options = {
		type:"GET",
		url:context.host,
		processData:false,
		success:function(data,textStatus,jqXHR) {
			FileAdaptor.loadTiddlyWikiSuccess(context,jqXHR);
		},
		error:function(jqXHR,textStatus,errorThrown) {
			FileAdaptor.loadTiddlyWikiError(context,jqXHR);
		}
	};
	return ajaxReq(options);
};

FileAdaptor.getTiddlerComplete = function(context,userParams)
{
	var t = context.adaptor.store.fetchTiddler(context.title);
	if(t) {
		t.fields['server.type'] = FileAdaptor.serverType;
		t.fields['server.host'] = AdaptorBase.minHostName(context.host);
		t.fields['server.page.revision'] = t.modified.convertToYYYYMMDDHHMM();
		context.tiddler = t;
		context.status = true;
	} else { //# tiddler does not exist in document
		context.status = false;
	}
	if(context.allowSynchronous) {
		context.isSynchronous = true;
		context.callback(context,userParams);
	} else {
		window.setTimeout(function() {context.callback(context,userParams);},10);
	}
	return true;
};

FileAdaptor.prototype.close = function()
{
	this.store = null;
};

config.adaptors[FileAdaptor.serverType] = FileAdaptor;

config.defaultAdaptor = FileAdaptor.serverType;

//--
//-- HTTP request code
//--

function ajaxReq(args)
{
	if (args.file || args.url.startsWith("file"))  // LOCAL FILE
		return localAjax(args);
	return jQuery.ajax(args);
}

function localAjax(args)
{
	var success=function(data)
		{ args.success(data,"success",{ responseText:data }); }
	var failure=function(who)
		{ args.error({ message:who+": cannot read local file" },"error",0); }

	if (args.file) try { // HTML5 FileReader (Chrome, FF20+, Safari, etc.)
		var reader=new FileReader();
		reader.onload=function(e)  { success(e.target.result); }
		reader.onerror=function(e) { failure("FileReader"); }
		reader.readAsText(args.file);
		return true;
	} catch (ex) { ; }

	try { // local file I/O (IE, FF with TiddlyFox, Chrome/Safari with TiddlySaver, etc.)
		var data=loadFile(getLocalPath(args.url));
		if (data) success(data);
		else failure("loadFile");
		return true;
	} catch (ex) { ; }

	return true;
}

function httpReq(type,url,callback,params,headers,data,contentType,username,password,allowCache)
{
	var httpSuccess = function(xhr) {
		try {
			// IE error sometimes returns 1223 when it should be 204 so treat it as success, see #1450
			return (!xhr.status && location.protocol === "file:") ||
				(xhr.status >= 200 && xhr.status < 300) ||
				xhr.status === 304 || xhr.status === 1223;
		} catch(e) {}
		return false;
	};

	var options = {
		type:type,
		url:url,
		processData:false,
		data:data,
		cache:!!allowCache,
		beforeSend: function(xhr) {
			var i;
			for(i in headers)
				xhr.setRequestHeader(i,headers[i]);
		}
	};

	if(callback) {
		options.complete = function(xhr,textStatus) {
			if(httpSuccess(xhr))
				callback(true,params,xhr.responseText,url,xhr);
			else
				callback(false,params,null,url,xhr);
		};
	}
	if(contentType)
		options.contentType = contentType;
	if(username)
		options.username = username;
	if(password)
		options.password = password;
	try {
		if(window.Components && window.netscape && window.netscape.security && document.location.protocol.indexOf("http") == -1)
			window.netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead");
	} catch (ex) {
	}
	return jQuery.ajax(options);
}
//--
//-- TiddlyWiki-specific utility functions
//--

// Returns TiddlyWiki version string
function formatVersion(v)
{
	v = v || version;
	return v.major + "." + v.minor + "." + v.revision +
		(v.alpha ? " (alpha " + v.alpha + ")" : "") +
		(v.beta ? " (beta " + v.beta + ")" : "");
}

function compareVersions(v1,v2)
{
	var x1,x2,i,a = ["major","minor","revision"];
	for(i = 0; i<a.length; i++) {
		x1 = v1[a[i]] || 0;
		x2 = v2[a[i]] || 0;
		if(x1<x2)
			return 1;
		if(x1>x2)
			return -1;
	}
	x1 = v1.beta || 9999;
	x2 = v2.beta || 9999;
	if(x1<x2)
		return 1;
	return x1 > x2 ? -1 : 0;
}

function merge(dst,src,preserveExisting)
{
	var i;
	for(i in src) {
		if(!preserveExisting || dst[i] === undefined)
			dst[i] = src[i];
	}
	return dst;
}

// Resolve the target object of an event
function resolveTarget(e)
{
	var obj;
	if(e.target)
		obj = e.target;
	else if(e.srcElement)
		obj = e.srcElement;
	if(obj.nodeType == 3) // defeat Safari bug
		obj = obj.parentNode;
	return obj;
}

// Returns a string containing the description of an exception, optionally prepended by a message
function exceptionText(e,message)
{
	var s = e.description || e.toString();
	return message ? "%0:\n%1".format([message,s]) : s;
}

// Displays an alert of an exception description with optional message
function showException(e,message)
{
	alert(exceptionText(e,message));
}

function alertAndThrow(m)
{
	alert(m);
	throw(m);
}

function glyph(name)
{
	var g = config.glyphs;
	var b = g.currBrowser;
	if(b == null) {
		b = 0;
		while(b < g.browsers.length-1 && !g.browsers[b]())
			b++;
		g.currBrowser = b;
	}
	if(!g.codes[name])
		return "";
	return g.codes[name][b];
}

function createTiddlyText(parent,text)
{
	return parent.appendChild(document.createTextNode(text));
}

function createTiddlyCheckbox(parent,caption,checked,onChange)
{
	var cb = document.createElement("input");
	cb.setAttribute("type","checkbox");
	cb.onclick = onChange;
	parent.appendChild(cb);
	cb.checked = checked;
	cb.className = "chkOptionInput";
	if(caption)
		wikify(caption,parent);
	return cb;
}

function createTiddlyElement(parent,element,id,className,text,attribs)
{
	var n,e = document.createElement(element);
	if(className != null)
		e.className = className;
	if(id != null)
		e.setAttribute("id",id);
	if(text != null)
		e.appendChild(document.createTextNode(text));
	if(attribs) {
		for(n in attribs) {
			e.setAttribute(n,attribs[n]);
		}
	}
	if(parent != null)
		parent.appendChild(e);
	return e;
}

function createTiddlyButton(parent,text,tooltip,action,className,id,accessKey,attribs)
{
	var i,btn = document.createElement("a");
	btn.setAttribute("href","javascript:;");
	if(action) {
		btn.onclick = action;
	}
	if(tooltip)
		btn.setAttribute("title",tooltip);
	if(text)
		btn.appendChild(document.createTextNode(text));
	btn.className = className || "button";
	if(id)
		btn.id = id;
	if(attribs) {
		for(i in attribs) {
			btn.setAttribute(i,attribs[i]);
		}
	}
	if(parent)
		parent.appendChild(btn);
	if(accessKey)
		btn.setAttribute("accessKey",accessKey);
	return btn;
}

function createExternalLink(place,url,label)
{
	var link = document.createElement("a");
	link.className = "externalLink";
	link.href = url;
	var f = config.messages.externalLinkTooltip;
	link.title = f ? f.format([url]) : url;
	if(config.options.chkOpenInNewWindow)
		link.target = "_blank";
	place.appendChild(link);
	if(label)
		createTiddlyText(link, label);
	return link;
}

function getTiddlyLinkInfo(title,currClasses)
{
	var classes = currClasses ? currClasses.split(" ") : [];
	classes.pushUnique("tiddlyLink");
	var tiddler = store.fetchTiddler(title);
	var subTitle;
	if(tiddler) {
		subTitle = tiddler.getSubtitle();
		classes.pushUnique("tiddlyLinkExisting");
		classes.remove("tiddlyLinkNonExisting");
		classes.remove("shadow");
	} else {
	    var f;
		classes.remove("tiddlyLinkExisting");
		classes.pushUnique("tiddlyLinkNonExisting");
		if(store.isShadowTiddler(title)) {
			f = config.messages.shadowedTiddlerToolTip;
			classes.pushUnique("shadow");
		} else {
			f = config.messages.undefinedTiddlerToolTip;
			classes.remove("shadow");
		}
		subTitle = f ? f.format([title]) : "";
	}
	if(typeof config.annotations[title]=="string")
		subTitle = config.annotations[title];
	return {classes: classes.join(" "),subTitle: subTitle};
}

// Event handler for clicking on a tiddly link
function onClickTiddlerLink(ev)
{
	var e = ev || window.event;
	var target = resolveTarget(e);
	var link = target;
	var title = null;
	var fields = null;
	var noToggle = null;
	do {
		title = link.getAttribute("tiddlyLink");
		fields = link.getAttribute("tiddlyFields");
		noToggle = link.getAttribute("noToggle");
		link = link.parentNode;
	} while(title == null && link != null);
	if(!store.isShadowTiddler(title)) {
		var f = fields ? fields.decodeHashMap() : {};
		fields = String.encodeHashMap(merge(f,config.defaultCustomFields,true));
	}
	if(title) {
		var toggling = e.metaKey || e.ctrlKey;
		if(config.options.chkToggleLinks)
			toggling = !toggling;
		if(noToggle)
			toggling = false;
		if(store.getTiddler(title))
			fields = null;
		story.displayTiddler(target,title,null,true,null,fields,toggling);
	}
	clearMessage();
	return false;
}

function createTiddlyLink(place,title,includeText,className,isStatic,linkedFromTiddler,noToggle)
{
	var title = jQuery.trim(title);
	var text = includeText ? title : null;
	var i = getTiddlyLinkInfo(title,className);
	var btn = isStatic ? createExternalLink(place,store.getTiddlerText("SiteUrl",null) + "#" + title) : createTiddlyButton(place,text,i.subTitle,onClickTiddlerLink,i.classes);
	if(isStatic)
		btn.className += ' ' + className;
	btn.setAttribute("refresh","link");
	btn.setAttribute("tiddlyLink",title);
	if(noToggle)
		btn.setAttribute("noToggle","true");
	if(linkedFromTiddler) {
		var fields = linkedFromTiddler.getInheritedFields();
		if(fields)
			btn.setAttribute("tiddlyFields",fields);
	}
	return btn;
}

function refreshTiddlyLink(e,title)
{
	var i = getTiddlyLinkInfo(title,e.className);
	e.className = i.classes;
	e.title = i.subTitle;
}

function createTiddlyDropDown(place,onchange,options,defaultValue)
{
	var sel = createTiddlyElement(place,"select");
	sel.onchange = onchange;
	var t;
	for(t=0; t<options.length; t++) {
		var e = createTiddlyElement(sel,"option",null,null,options[t].caption);
		e.value = options[t].name;
		if(options[t].name == defaultValue)
			e.selected = true;
	}
	return sel;
}

//--
//-- TiddlyWiki-specific popup utility functions
//--

// Event handler for 'open all' on a tiddler popup
function onClickTagOpenAll(ev)
{
	var tiddlers = store.getTaggedTiddlers(this.getAttribute("tag"));
	var sortby = this.getAttribute("sortby");
	if(sortby&&sortby.length) {
		store.sortTiddlers(tiddlers,sortby);
	}
	story.displayTiddlers(this,tiddlers);
	return false;
}

// Event handler for clicking on a tiddler tag
function onClickTag(ev)
{
	var e = ev || window.event;
	var popup = Popup.create(this);
	jQuery(popup).addClass("taggedTiddlerList");
	var tag = this.getAttribute("tag");
	var title = this.getAttribute("tiddler");
	if(popup && tag) {
		var tagged = tag.indexOf("[")==-1 ? store.getTaggedTiddlers(tag) : store.filterTiddlers(tag);
		var sortby = this.getAttribute("sortby");
		if(sortby&&sortby.length) {
			store.sortTiddlers(tagged,sortby);
		}
		var titles = [];
		var r;
		for(r=0;r<tagged.length;r++) {
			if(tagged[r].title != title)
				titles.push(tagged[r].title);
		}
		var lingo = config.views.wikified.tag;
		if(titles.length > 0) {
			var openAll = createTiddlyButton(createTiddlyElement(popup,"li"),lingo.openAllText.format([tag]),lingo.openAllTooltip,onClickTagOpenAll);
			openAll.setAttribute("tag",tag);
			openAll.setAttribute("sortby",sortby);
			createTiddlyElement(createTiddlyElement(popup,"li",null,"listBreak"),"div");
			for(r=0; r<titles.length; r++) {
				createTiddlyLink(createTiddlyElement(popup,"li"),titles[r],true);
			}
		} else {
			createTiddlyElement(popup,"li",null,"disabled",lingo.popupNone.format([tag]));
		}
		createTiddlyElement(createTiddlyElement(popup,"li",null,"listBreak"),"div");
		var h = createTiddlyLink(createTiddlyElement(popup,"li"),tag,false);
		createTiddlyText(h,lingo.openTag.format([tag]));
	}
	Popup.show();
	e.cancelBubble = true;
	if(e.stopPropagation) e.stopPropagation();
	return false;
}

// Create a button for a tag with a popup listing all the tiddlers that it tags
function createTagButton(place,tag,excludeTiddler,title,tooltip)
{
	var btn = createTiddlyButton(place,title||tag,(tooltip||config.views.wikified.tag.tooltip).format([tag]),onClickTag);
	btn.setAttribute("tag",tag);
	if(excludeTiddler)
		btn.setAttribute("tiddler",excludeTiddler);
	return btn;
}

function onClickTiddlyPopup(ev)
{
	var e = ev || window.event;
	var tiddler = this.tiddler;
	if(tiddler.text) {
		var popup = Popup.create(this,"div","popupTiddler");
		wikify(tiddler.text,popup,null,tiddler);
		Popup.show();
	}
	if(e) e.cancelBubble = true;
	if(e && e.stopPropagation) e.stopPropagation();
	return false;
}

function createTiddlyPopup(place,caption,tooltip,tiddler)
{
	if(tiddler.text) {
		createTiddlyLink(place,caption,true);
		var btn = createTiddlyButton(place,glyph("downArrow"),tooltip,onClickTiddlyPopup,"tiddlerPopupButton");
		btn.tiddler = tiddler;
	} else {
		createTiddlyText(place,caption);
	}
}

function onClickError(ev)
{
	var e = ev || window.event;
	var popup = Popup.create(this);
	var lines = this.getAttribute("errorText").split("\n");
	var t;
	for(t=0; t<lines.length; t++)
		createTiddlyElement(popup,"li",null,null,lines[t]);
	Popup.show();
	e.cancelBubble = true;
	if(e.stopPropagation) e.stopPropagation();
	return false;
}

function createTiddlyError(place,title,text)
{
	var btn = createTiddlyButton(place,title,null,onClickError,"errorButton");
	if(text) btn.setAttribute("errorText",text);
}
//-
//- Animation engine
//-

function Animator()
{
	this.running = 0; // Incremented at start of each animation, decremented afterwards. If zero, the interval timer is disabled
	this.timerID = 0; // ID of the timer used for animating
	this.animations = []; // List of animations in progress
	return this;
}

// Start animation engine
Animator.prototype.startAnimating = function() //# Variable number of arguments
{
	var t;
	for(t=0; t<arguments.length; t++)
		this.animations.push(arguments[t]);
	if(this.running == 0) {
		var me = this;
		this.timerID = window.setInterval(function() {me.doAnimate(me);},10);
	}
	this.running += arguments.length;
};

// Perform an animation engine tick, calling each of the known animation modules
Animator.prototype.doAnimate = function(me)
{
	var a = 0;
	while(a < me.animations.length) {
		var animation = me.animations[a];
		if(animation.tick()) {
			a++;
		} else {
			me.animations.splice(a,1);
			if(--me.running == 0)
				window.clearInterval(me.timerID);
		}
	}
};

Animator.slowInSlowOut = function(progress)
{
	return(1-((Math.cos(progress * Math.PI)+1)/2));
};

//--
//-- Morpher animation
//--

// Animate a set of properties of an element
function Morpher(element,duration,properties,callback)
{
	this.element = element;
	this.duration = duration;
	this.properties = properties;
	this.startTime = new Date();
	this.endTime = Number(this.startTime) + duration;
	this.callback = callback;
	this.tick();
	return this;
}

Morpher.prototype.assignStyle = function(element,style,value)
{
	switch(style) {
	case "-tw-vertScroll":
		window.scrollTo(findScrollX(),value);
		break;
	case "-tw-horizScroll":
		window.scrollTo(value,findScrollY());
		break;
	default:
		element.style[style] = value;
		break;
	}
};

Morpher.prototype.stop = function()
{
	var t;
	for(t=0; t<this.properties.length; t++) {
		var p = this.properties[t];
		if(p.atEnd !== undefined) {
			this.assignStyle(this.element,p.style,p.atEnd);
		}
	}
	if(this.callback)
		this.callback(this.element,this.properties);
};

Morpher.prototype.tick = function()
{
	var currTime = Number(new Date());
	var t,progress = Animator.slowInSlowOut(Math.min(1,(currTime-this.startTime)/this.duration));
	for(t=0; t<this.properties.length; t++) {
		var p = this.properties[t];
		if(p.start !== undefined && p.end !== undefined) {
			var template = p.template || "%0";
			switch(p.format) {
			case undefined:
			case "style":
				var v = p.start + (p.end-p.start) * progress;
				this.assignStyle(this.element,p.style,template.format([v]));
				break;
			case "color":
				break;
			}
		}
	}
	if(currTime >= this.endTime) {
		this.stop();
		return false;
	}
	return true;
};

//--
//-- Zoomer animation
//--

function Zoomer(text,startElement,targetElement,unused)
{
	var e = createTiddlyElement(document.body,"div",null,"zoomer");
	createTiddlyElement(e,"div",null,null,text);
	var winWidth = findWindowWidth();
	var winHeight = findWindowHeight();
	var p = [
		{style: 'left', start: findPosX(startElement), end: findPosX(targetElement), template: '%0px'},
		{style: 'top', start: findPosY(startElement), end: findPosY(targetElement), template: '%0px'},
		{style: 'width', start: Math.min(startElement.scrollWidth,winWidth), end: Math.min(targetElement.scrollWidth,winWidth), template: '%0px', atEnd: 'auto'},
		{style: 'height', start: Math.min(startElement.scrollHeight,winHeight), end: Math.min(targetElement.scrollHeight,winHeight), template: '%0px', atEnd: 'auto'},
		{style: 'fontSize', start: 8, end: 24, template: '%0pt'}
	];
	var c = function(element,properties) {jQuery(element).remove();};
	return new Morpher(e,config.animDuration,p,c);
}

//--
//-- Scroller animation
//--

function Scroller(targetElement)
{
	var p = [{style: '-tw-vertScroll', start: findScrollY(), end: ensureVisible(targetElement)}];
	return new Morpher(targetElement,config.animDuration,p);
}

//--
//-- Slider animation
//--

// deleteMode - "none", "all" [delete target element and it's children], [only] "children" [but not the target element]
function Slider(element,opening,unused,deleteMode)
{
	element.style.overflow = 'hidden';
	if(opening)
		element.style.height = '0px'; // Resolves a Firefox flashing bug
	element.style.display = 'block';
	var height = element.scrollHeight;
	var p = [];
	var c = null;
	if(opening) {
		p.push({style: 'height', start: 0, end: height, template: '%0px', atEnd: 'auto'});
		p.push({style: 'opacity', start: 0, end: 1, template: '%0'});
		p.push({style: 'filter', start: 0, end: 100, template: 'alpha(opacity:%0)'});
	} else {
		p.push({style: 'height', start: height, end: 0, template: '%0px'});
		p.push({style: 'display', atEnd: 'none'});
		p.push({style: 'opacity', start: 1, end: 0, template: '%0'});
		p.push({style: 'filter', start: 100, end: 0, template: 'alpha(opacity:%0)'});
		switch(deleteMode) {
		case "all":
			c = function(element,properties) {jQuery(element).remove();};
			break;
		case "children":
			c = function(element,properties) {jQuery(element).empty();};
			break;
		}
	}
	return new Morpher(element,config.animDuration,p,c);
}

//--
//-- Popup menu
//--

var Popup = {
	stack: [] // Array of objects with members root: and popup:
	};

Popup.create = function(root,elem,className)
{
	var stackPosition = this.find(root,"popup");
	Popup.remove(stackPosition+1);
	var popup = createTiddlyElement(document.body,elem || "ol","popup",className || "popup");
	popup.stackPosition = stackPosition;
	Popup.stack.push({root: root, popup: popup});
	return popup;
};

Popup.onDocumentClick = function(ev)
{
	var e = ev || window.event;
	if(e.eventPhase == undefined)
		Popup.remove();
	else if(e.eventPhase == Event.BUBBLING_PHASE || e.eventPhase == Event.AT_TARGET)
		Popup.remove();
	return true;
};

Popup.show = function(valign,halign,offset)
{
	var curr = Popup.stack[Popup.stack.length-1];
	this.place(curr.root,curr.popup,valign,halign,offset);
	jQuery(curr.root).addClass("highlight");
	if(config.options.chkAnimate && anim && typeof Scroller == "function")
		anim.startAnimating(new Scroller(curr.popup));
	else
		window.scrollTo(0,ensureVisible(curr.popup));
};

Popup.place = function(root,popup,valign,halign,offset)
{
	if(!offset)
		offset = {x:0,y:0};
	if(popup.stackPosition >= 0 && !valign && !halign) {
		offset.x = offset.x + root.offsetWidth;
	} else {
		offset.x = (halign == "right") ? offset.x + root.offsetWidth : offset.x;
		offset.y = (valign == "top") ? offset.y : offset.y + root.offsetHeight;
	}
	var rootLeft = findPosX(root);
	var rootTop = findPosY(root);
	var popupLeft = rootLeft + offset.x;
	var popupTop = rootTop + offset.y;
	var winWidth = findWindowWidth();
	if(popup.offsetWidth > winWidth*0.75)
		popup.style.width = winWidth*0.75 + "px";
	var popupWidth = popup.offsetWidth;
	var scrollWidth = winWidth - document.body.offsetWidth;
	if(popupLeft + popupWidth > winWidth - scrollWidth - 1) {
		if(halign == "right")
			popupLeft = popupLeft - root.offsetWidth - popupWidth;
		else
			popupLeft = winWidth - popupWidth - scrollWidth - 1;
	}
	popup.style.left = popupLeft + "px";
	popup.style.top = popupTop + "px";
	popup.style.display = "block";
};

Popup.find = function(e)
{
	var t,pos = -1;
	for(t=this.stack.length-1; t>=0; t--) {
		if(isDescendant(e,this.stack[t].popup))
			pos = t;
	}
	return pos;
};

Popup.remove = function(pos)
{
	if(!pos) pos = 0;
	if(Popup.stack.length > pos) {
		Popup.removeFrom(pos);
	}
};

Popup.removeFrom = function(from)
{
	var t;
	for(t=Popup.stack.length-1; t>=from; t--) {
		var p = Popup.stack[t];
		jQuery(p.root).removeClass("highlight");
		jQuery(p.popup).remove();
	}
	Popup.stack = Popup.stack.slice(0,from);
};

//--
//-- Wizard support
//--

function Wizard(elem)
{
	if(elem) {
		this.formElem = findRelated(elem,"wizard","className");
		this.bodyElem = findRelated(this.formElem.firstChild,"wizardBody","className","nextSibling");
		this.footElem = findRelated(this.formElem.firstChild,"wizardFooter","className","nextSibling");
	} else {
		this.formElem = null;
		this.bodyElem = null;
		this.footElem = null;
	}
}

Wizard.prototype.setValue = function(name,value)
{
	jQuery(this.formElem).data(name, value);
};

Wizard.prototype.getValue = function(name)
{
	return this.formElem ? jQuery(this.formElem).data(name) : null;
};

Wizard.prototype.createWizard = function(place,title)
{
	this.formElem = createTiddlyElement(place,"form",null,"wizard");
	createTiddlyElement(this.formElem,"h1",null,null,title);
	this.bodyElem = createTiddlyElement(this.formElem,"div",null,"wizardBody");
	this.footElem = createTiddlyElement(this.formElem,"div",null,"wizardFooter");
	return this.formElem;
};

Wizard.prototype.clear = function()
{
	jQuery(this.bodyElem).empty();
};

Wizard.prototype.setButtons = function(buttonInfo,status)
{
	jQuery(this.footElem).empty();
	var t;
	for(t=0; t<buttonInfo.length; t++) {
		createTiddlyButton(this.footElem,buttonInfo[t].caption,buttonInfo[t].tooltip,buttonInfo[t].onClick);
		insertSpacer(this.footElem);
		}
	if(typeof status == "string") {
		createTiddlyElement(this.footElem,"span",null,"status",status);
	}
};

Wizard.prototype.addStep = function(stepTitle,html)
{
	jQuery(this.bodyElem).empty();
	var w = createTiddlyElement(this.bodyElem,"div");
	createTiddlyElement(w,"h2",null,null,stepTitle);
	var step = createTiddlyElement(w,"div",null,"wizardStep");
	step.innerHTML = html;
	applyHtmlMacros(step,tiddler);
};

Wizard.prototype.getElement = function(name)
{
	return this.formElem.elements[name];
};

//--
//-- ListView gadget
//--

var ListView = {};

// Create a listview
ListView.create = function(place,listObject,listTemplate,callback,className)
{
	var table = createTiddlyElement(place,"table",null,className || "listView twtable");
	var thead = createTiddlyElement(table,"thead");
	var t,r = createTiddlyElement(thead,"tr");
	for(t=0; t<listTemplate.columns.length; t++) {
		var columnTemplate = listTemplate.columns[t];
		var c = createTiddlyElement(r,"th");
		var colType = ListView.columnTypes[columnTemplate.type];
		if(colType && colType.createHeader) {
			colType.createHeader(c,columnTemplate,t);
			if(columnTemplate.className)
				jQuery(c).addClass(columnTemplate.className);
		}
	}
	var rc,tbody = createTiddlyElement(table,"tbody");
	for(rc=0; rc<listObject.length; rc++) {
		var rowObject = listObject[rc];
		r = createTiddlyElement(tbody,"tr");
		for(c=0; c<listTemplate.rowClasses.length; c++) {
			if(rowObject[listTemplate.rowClasses[c].field])
				jQuery(r).addClass(listTemplate.rowClasses[c].className);
		}
		rowObject.rowElement = r;
		rowObject.colElements = {};
		var cc;
		for(cc=0; cc<listTemplate.columns.length; cc++) {
			c = createTiddlyElement(r,"td");
			columnTemplate = listTemplate.columns[cc];
			var field = columnTemplate.field;
			colType = ListView.columnTypes[columnTemplate.type];
			if(colType && colType.createItem) {
				colType.createItem(c,rowObject,field,columnTemplate,cc,rc);
				if(columnTemplate.className)
					jQuery(c).addClass(columnTemplate.className);
			}
			rowObject.colElements[field] = c;
		}
	}
	if(callback && listTemplate.actions)
		createTiddlyDropDown(place,ListView.getCommandHandler(callback),listTemplate.actions);
	if(callback && listTemplate.buttons) {
		for(t=0; t<listTemplate.buttons.length; t++) {
			var a = listTemplate.buttons[t];
			if(a && a.name != "")
				createTiddlyButton(place,a.caption,null,ListView.getCommandHandler(callback,a.name,a.allowEmptySelection));
		}
	}
	return table;
};

ListView.getCommandHandler = function(callback,name,allowEmptySelection)
{
	return function(e) {
		var view = findRelated(this,"TABLE",null,"previousSibling");
		var tiddlers = [];
		ListView.forEachSelector(view,function(e,rowName) {
					if(e.checked)
						tiddlers.push(rowName);
					});
		if(tiddlers.length == 0 && !allowEmptySelection) {
			alert(config.messages.nothingSelected);
		} else {
			if(this.nodeName.toLowerCase() == "select") {
				callback(view,this.value,tiddlers);
				this.selectedIndex = 0;
			} else {
				callback(view,name,tiddlers);
			}
		}
	};
};

// Invoke a callback for each selector checkbox in the listview
ListView.forEachSelector = function(view,callback)
{
	var checkboxes = view.getElementsByTagName("input");
	var t,hadOne = false;
	for(t=0; t<checkboxes.length; t++) {
		var cb = checkboxes[t];
		if(cb.getAttribute("type") == "checkbox") {
			var rn = cb.getAttribute("rowName");
			if(rn) {
				callback(cb,rn);
				hadOne = true;
			}
		}
	}
	return hadOne;
};

ListView.getSelectedRows = function(view)
{
	var rowNames = [];
	ListView.forEachSelector(view,function(e,rowName) {
				if(e.checked)
					rowNames.push(rowName);
				});
	return rowNames;
};

ListView.columnTypes = {};

ListView.columnTypes.String = {
	createHeader: function(place,columnTemplate,col)
		{
			createTiddlyText(place,columnTemplate.title);
		},
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined)
				createTiddlyText(place,v);
		}
};

ListView.columnTypes.WikiText = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined)
				wikify(v,place,null,null);
		}
};

ListView.columnTypes.Tiddler = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined && v.title)
				createTiddlyPopup(place,v.title,config.messages.listView.tiddlerTooltip,v);
		}
};

ListView.columnTypes.Size = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var msg = config.messages.sizeTemplates;
			var v = listObject[field];
			if(v != undefined) {
				var t = 0;
				while(t<msg.length-1 && v<msg[t].unit)
					t++;
				createTiddlyText(place,msg[t].template.format([Math.round(v/msg[t].unit)]));
			}
		}
};

ListView.columnTypes.Link = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			var c = columnTemplate.text;
			if(v != undefined)
				createExternalLink(place,v,c || v);
		}
};

ListView.columnTypes.Date = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined)
				createTiddlyText(place,v.formatString(columnTemplate.dateFormat));
		}
};

ListView.columnTypes.StringList = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined) {
				var t;
				for(t=0; t<v.length; t++) {
					createTiddlyText(place,v[t]);
					createTiddlyElement(place,"br");
				}
			}
		}
};

ListView.columnTypes.Selector = {
	createHeader: function(place,columnTemplate,col)
		{
			createTiddlyCheckbox(place,null,false,this.onHeaderChange);
		},
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var e = createTiddlyCheckbox(place,null,listObject[field],null);
			e.setAttribute("rowName",listObject[columnTemplate.rowName]);
		},
	onHeaderChange: function(e)
		{
			var state = this.checked;
			var view = findRelated(this,"TABLE");
			if(!view)
				return;
			ListView.forEachSelector(view,function(e,rowName) {
								e.checked = state;
							});
		}
};

ListView.columnTypes.Tags = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var tags = listObject[field];
			createTiddlyText(place,String.encodeTiddlyLinkList(tags));
		}
};

ListView.columnTypes.Boolean = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			if(listObject[field] == true)
				createTiddlyText(place,columnTemplate.trueText);
			if(listObject[field] == false)
				createTiddlyText(place,columnTemplate.falseText);
		}
};

ListView.columnTypes.TagCheckbox = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var e = createTiddlyCheckbox(place,null,listObject[field],this.onChange);
			e.setAttribute("tiddler",listObject.title);
			e.setAttribute("tag",columnTemplate.tag);
		},
	onChange : function(e)
		{
			var tag = this.getAttribute("tag");
			var tiddler = this.getAttribute("tiddler");
			store.setTiddlerTag(tiddler,this.checked,tag);
		}
};

ListView.columnTypes.TiddlerLink = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined) {
				var link = createTiddlyLink(place,listObject[columnTemplate.tiddlerLink],false,null);
				createTiddlyText(link,listObject[field]);
			}
		}
};

//--
//-- Augmented methods for the JavaScript Array() object
//--

// Add indexOf function if browser does not support it
if(!Array.indexOf) {
Array.prototype.indexOf = function(item,from)
{
	if(!from)
		from = 0;
	var i;
	for(i=from; i<this.length; i++) {
		if(this[i] === item)
			return i;
	}
	return -1;
};}

// Find an entry in a given field of the members of an array
Array.prototype.findByField = function(field,value)
{
	var t;
	for(t=0; t<this.length; t++) {
		if(this[t][field] === value)
			return t;
	}
	return null;
};

// Return whether an entry exists in an array
Array.prototype.contains = function(item)
{
	return this.indexOf(item) != -1;
};

// Adds, removes or toggles a particular value within an array
//  value - value to add
//  mode - +1 to add value, -1 to remove value, 0 to toggle it
Array.prototype.setItem = function(value,mode)
{
	var p = this.indexOf(value);
	if(mode == 0)
		mode = (p == -1) ? +1 : -1;
	if(mode == +1) {
		if(p == -1)
			this.push(value);
	} else if(mode == -1) {
		if(p != -1)
			this.splice(p,1);
	}
};

// Return whether one of a list of values exists in an array
Array.prototype.containsAny = function(items)
{
	var i;
	for(i=0; i<items.length; i++) {
		if(this.indexOf(items[i]) != -1)
			return true;
	}
	return false;
};

// Return whether all of a list of values exists in an array
Array.prototype.containsAll = function(items)
{
	var i;
	for(i = 0; i<items.length; i++) {
		if(this.indexOf(items[i]) == -1)
			return false;
	}
	return true;
};

// Push a new value into an array only if it is not already present in the array. If the optional unique parameter is false, it reverts to a normal push
Array.prototype.pushUnique = function(item,unique)
{
	if(unique === false) {
		this.push(item);
	} else {
		if(this.indexOf(item) == -1)
			this.push(item);
	}
};

Array.prototype.remove = function(item)
{
	var p = this.indexOf(item);
	if(p != -1)
		this.splice(p,1);
};

if(!Array.prototype.map) {
Array.prototype.map = function(fn,thisObj)
{
	var scope = thisObj || window;
	var i,j,a = [];
	for(i=0, j=this.length; i < j; ++i) {
		a.push(fn.call(scope,this[i],i,this));
	}
	return a;
};}

//--
//-- Augmented methods for the JavaScript String() object
//--

// Get characters from the right end of a string
String.prototype.right = function(n)
{
	return n < this.length ? this.slice(this.length-n) : this;
};

// Trim whitespace from both ends of a string
String.prototype.trim = function()
{
	return this.replace(/^\s*|\s*$/g,"");
};

// Convert a string from a CSS style property name to a JavaScript style name ("background-color" -> "backgroundColor")
String.prototype.unDash = function()
{
	var t,s = this.split("-");
	if(s.length > 1) {
		for(t=1; t<s.length; t++)
			s[t] = s[t].substr(0,1).toUpperCase() + s[t].substr(1);
	}
	return s.join("");
};

// Substitute substrings from an array into a format string that includes '%1'-type specifiers
String.prototype.format = function(s)
{
	var substrings = s && s.constructor == Array ? s : arguments;
	var subRegExp = /(?:%(\d+))/mg;
	var currPos = 0;
	var match,r = [];
	do {
		match = subRegExp.exec(this);
		if(match && match[1]) {
			if(match.index > currPos)
				r.push(this.substring(currPos,match.index));
			r.push(substrings[parseInt(match[1],10)]);
			currPos = subRegExp.lastIndex;
		}
	} while(match);
	if(currPos < this.length)
		r.push(this.substring(currPos,this.length));
	return r.join("");
};

// Escape any special RegExp characters with that character preceded by a backslash
String.prototype.escapeRegExp = function()
{
	var s = "\\^$*+?()=!|,{}[].";
	var t,c = this;
	for(t=0; t<s.length; t++)
		c = c.replace(new RegExp("\\" + s.substr(t,1),"g"),"\\" + s.substr(t,1));
	return c;
};

// Convert "\" to "\s", newlines to "\n" (and remove carriage returns)
String.prototype.escapeLineBreaks = function()
{
	return this.replace(/\\/mg,"\\s").replace(/\n/mg,"\\n").replace(/\r/mg,"");
};

// Convert "\n" to newlines, "\b" to " ", "\s" to "\" (and remove carriage returns)
String.prototype.unescapeLineBreaks = function()
{
	return this.replace(/\\n/mg,"\n").replace(/\\b/mg," ").replace(/\\s/mg,"\\").replace(/\r/mg,"");
};

// Convert & to "&amp;", < to "&lt;", > to "&gt;" and " to "&quot;"
String.prototype.htmlEncode = function()
{
	return this.replace(/&/mg,"&amp;").replace(/</mg,"&lt;").replace(/>/mg,"&gt;").replace(/\"/mg,"&quot;");
};

// Convert "&amp;" to &, "&lt;" to <, "&gt;" to > and "&quot;" to "
String.prototype.htmlDecode = function()
{
	return this.replace(/&lt;/mg,"<").replace(/&gt;/mg,">").replace(/&quot;/mg,"\"").replace(/&amp;/mg,"&");
};

// Parse a space-separated string of name:value parameters
// The result is an array of objects:
//   result[0] = object with a member for each parameter name, value of that member being an array of values
//   result[1..n] = one object for each parameter, with 'name' and 'value' members
String.prototype.parseParams = function(defaultName,defaultValue,allowEval,noNames,cascadeDefaults)
{
	var parseToken = function(match,p) {
		var n;
		if(match[p]) // Double quoted
			n = match[p];
		else if(match[p+1]) // Single quoted
			n = match[p+1];
		else if(match[p+2]) // Double-square-bracket quoted
			n = match[p+2];
		else if(match[p+3]) // Double-brace quoted
			try {
				n = match[p+3];
				if(allowEval && config.evaluateMacroParameters != "none") {
					if(config.evaluateMacroParameters == "restricted") {
						if(window.restrictedEval) {
							n = window.restrictedEval(n);
						}
					} else {
						n = window.eval(n);
					}
				}
			} catch(ex) {
				throw "Unable to evaluate {{" + match[p+3] + "}}: " + exceptionText(ex);
			}
		else if(match[p+4]) // Unquoted
			n = match[p+4];
		else if(match[p+5]) // empty quote
			n = "";
		return n;
	};
	var r = [{}];
	var dblQuote = "(?:\"((?:(?:\\\\\")|[^\"])+)\")";
	var sngQuote = "(?:'((?:(?:\\\\\')|[^'])+)')";
	var dblSquare = "(?:\\[\\[((?:\\s|\\S)*?)\\]\\])";
	var dblBrace = "(?:\\{\\{((?:\\s|\\S)*?)\\}\\})";
	var unQuoted = noNames ? "([^\"'\\s]\\S*)" : "([^\"':\\s][^\\s:]*)";
	var emptyQuote = "((?:\"\")|(?:''))";
	var skipSpace = "(?:\\s*)";
	var token = "(?:" + dblQuote + "|" + sngQuote + "|" + dblSquare + "|" + dblBrace + "|" + unQuoted + "|" + emptyQuote + ")";
	var re = noNames ? new RegExp(token,"mg") : new RegExp(skipSpace + token + skipSpace + "(?:(\\:)" + skipSpace + token + ")?","mg");
	var match;
	do {
		match = re.exec(this);
		if(match) {
			var n = parseToken(match,1);
			if(noNames) {
				r.push({name:"",value:n});
			} else {
				var v = parseToken(match,8);
				if(v == null && defaultName) {
					v = n;
					n = defaultName;
				} else if(v == null && defaultValue) {
					v = defaultValue;
				}
				r.push({name:n,value:v});
				if(cascadeDefaults) {
					defaultName = n;
					defaultValue = v;
				}
			}
		}
	} while(match);
	// Summarise parameters into first element
	var t;
	for(t=1; t<r.length; t++) {
		if(r[0][r[t].name])
			r[0][r[t].name].push(r[t].value);
		else
			r[0][r[t].name] = [r[t].value];
	}
	return r;
};

// Process a string list of macro parameters into an array. Parameters can be quoted with "", '',
// [[]], {{ }} or left unquoted (and therefore space-separated). Double-braces {{}} results in
// an *evaluated* parameter: e.g. {{config.options.txtUserName}} results in the current user's name.
String.prototype.readMacroParams = function(notAllowEval)
{
	var p = this.parseParams("list",null,!notAllowEval,true);
	var t,n = [];
	for(t=1; t<p.length; t++)
		n.push(p[t].value);
	return n;
};

// Process a string list of unique tiddler names into an array. Tiddler names that have spaces in them must be [[bracketed]]
String.prototype.readBracketedList = function(unique)
{
	var p = this.parseParams("list",null,false,true);
	var t,n = [];
	for(t=1; t<p.length; t++) {
		if(p[t].value)
			n.pushUnique(p[t].value,unique);
	}
	return n;
};

// Returns array with start and end index of chunk between given start and end marker, or undefined.
String.prototype.getChunkRange = function(start,end)
{
	var s = this.indexOf(start);
	if(s != -1) {
		s += start.length;
		var e = this.indexOf(end,s);
		if(e != -1)
			return [s,e];
	}
};

// Replace a chunk of a string given start and end markers
String.prototype.replaceChunk = function(start,end,sub)
{
	var r = this.getChunkRange(start,end);
	return r ? this.substring(0,r[0]) + sub + this.substring(r[1]) : this;
};

// Returns a chunk of a string between start and end markers, or undefined
String.prototype.getChunk = function(start,end)
{
	var r = this.getChunkRange(start,end);
	if(r)
		return this.substring(r[0],r[1]);
};


// Static method to bracket a string with double square brackets if it contains a space
String.encodeTiddlyLink = function(title)
{
	return title.indexOf(" ") == -1 ? title : "[[" + title + "]]";
};

// Static method to encodeTiddlyLink for every item in an array and join them with spaces
String.encodeTiddlyLinkList = function(list)
{
	if(list) {
		var t,results = [];
		for(t=0; t<list.length; t++)
			results.push(String.encodeTiddlyLink(list[t]));
		return results.join(" ");
	} else {
		return "";
	}
};

// Convert a string as a sequence of name:"value" pairs into a hashmap
String.prototype.decodeHashMap = function()
{
	var fields = this.parseParams("anon","",false);
	var t,r = {};
	for(t=1; t<fields.length; t++)
		r[fields[t].name] = fields[t].value;
	return r;
};

// Static method to encode a hashmap into a name:"value"... string
String.encodeHashMap = function(hashmap)
{
	var t,r = [];
	for(t in hashmap)
		r.push(t + ':"' + hashmap[t] + '"');
	return r.join(" ");
};

// Static method to left-pad a string with 0s to a certain width
String.zeroPad = function(n,d)
{
	var s = n.toString();
	if(s.length < d)
		s = "000000000000000000000000000".substr(0,d-s.length) + s;
	return s;
};

String.prototype.startsWith = function(prefix)
{
	return !prefix || this.substring(0,prefix.length) == prefix;
};

// Returns the first value of the given named parameter.
function getParam(params,name,defaultValue)
{
	if(!params)
		return defaultValue;
	var p = params[0][name];
	return p ? p[0] : defaultValue;
}

// Returns the first value of the given boolean named parameter.
function getFlag(params,name,defaultValue)
{
	return !!getParam(params,name,defaultValue);
}

//--
//-- Augmented methods for the JavaScript Date() object
//--

// Substitute date components into a string
Date.prototype.formatString = function(template)
{
	var t = template.replace(/0hh12/g,String.zeroPad(this.getHours12(),2));
	t = t.replace(/hh12/g,this.getHours12());
	t = t.replace(/0hh/g,String.zeroPad(this.getHours(),2));
	t = t.replace(/hh/g,this.getHours());
	t = t.replace(/mmm/g,config.messages.dates.shortMonths[this.getMonth()]);
	t = t.replace(/0mm/g,String.zeroPad(this.getMinutes(),2));
	t = t.replace(/mm/g,this.getMinutes());
	t = t.replace(/0ss/g,String.zeroPad(this.getSeconds(),2));
	t = t.replace(/ss/g,this.getSeconds());
	t = t.replace(/[ap]m/g,this.getAmPm().toLowerCase());
	t = t.replace(/[AP]M/g,this.getAmPm().toUpperCase());
	t = t.replace(/wYYYY/g,this.getYearForWeekNo());
	t = t.replace(/wYY/g,String.zeroPad(this.getYearForWeekNo()-2000,2));
	t = t.replace(/YYYY/g,this.getFullYear());
	t = t.replace(/YY/g,String.zeroPad(this.getFullYear()-2000,2));
	t = t.replace(/MMM/g,config.messages.dates.months[this.getMonth()]);
	t = t.replace(/0MM/g,String.zeroPad(this.getMonth()+1,2));
	t = t.replace(/MM/g,this.getMonth()+1);
	t = t.replace(/0WW/g,String.zeroPad(this.getWeek(),2));
	t = t.replace(/WW/g,this.getWeek());
	t = t.replace(/DDD/g,config.messages.dates.days[this.getDay()]);
	t = t.replace(/ddd/g,config.messages.dates.shortDays[this.getDay()]);
	t = t.replace(/0DD/g,String.zeroPad(this.getDate(),2));
	t = t.replace(/DDth/g,this.getDate()+this.daySuffix());
	t = t.replace(/DD/g,this.getDate());
	var tz = this.getTimezoneOffset();
	var atz = Math.abs(tz);
	t = t.replace(/TZD/g,(tz < 0 ? '+' : '-') + String.zeroPad(Math.floor(atz / 60),2) + ':' + String.zeroPad(atz % 60,2));
	t = t.replace(/\\/g,"");
	return t;
};

Date.prototype.getWeek = function()
{
	var dt = new Date(this.getTime());
	var d = dt.getDay();
	if(d==0) d=7;// JavaScript Sun=0, ISO Sun=7
	dt.setTime(dt.getTime()+(4-d)*86400000);// shift day to Thurs of same week to calculate weekNo
	var n = Math.floor((dt.getTime()-new Date(dt.getFullYear(),0,1)+3600000)/86400000);
	return Math.floor(n/7)+1;
};

Date.prototype.getYearForWeekNo = function()
{
	var dt = new Date(this.getTime());
	var d = dt.getDay();
	if(d==0) d=7;// JavaScript Sun=0, ISO Sun=7
	dt.setTime(dt.getTime()+(4-d)*86400000);// shift day to Thurs of same week
	return dt.getFullYear();
};

Date.prototype.getHours12 = function()
{
	var h = this.getHours();
	return h > 12 ? h-12 : ( h > 0 ? h : 12 );
};

Date.prototype.getAmPm = function()
{
	return this.getHours() >= 12 ? config.messages.dates.pm : config.messages.dates.am;
};

Date.prototype.daySuffix = function()
{
	return config.messages.dates.daySuffixes[this.getDate()-1];
};

// Convert a date to local YYYYMMDDHHMM string format
Date.prototype.convertToLocalYYYYMMDDHHMM = function()
{
	return this.getFullYear() + String.zeroPad(this.getMonth()+1,2) + String.zeroPad(this.getDate(),2) + String.zeroPad(this.getHours(),2) + String.zeroPad(this.getMinutes(),2);
};

// Convert a date to UTC YYYYMMDDHHMM string format
Date.prototype.convertToYYYYMMDDHHMM = function()
{
	return this.getUTCFullYear() + String.zeroPad(this.getUTCMonth()+1,2) + String.zeroPad(this.getUTCDate(),2) + String.zeroPad(this.getUTCHours(),2) + String.zeroPad(this.getUTCMinutes(),2);
};

// Convert a date to UTC YYYYMMDD.HHMMSSMMM string format
Date.prototype.convertToYYYYMMDDHHMMSSMMM = function()
{
	return this.getUTCFullYear() + String.zeroPad(this.getUTCMonth()+1,2) + String.zeroPad(this.getUTCDate(),2) + "." + String.zeroPad(this.getUTCHours(),2) + String.zeroPad(this.getUTCMinutes(),2) + String.zeroPad(this.getUTCSeconds(),2) + String.zeroPad(this.getUTCMilliseconds(),3) +"0";
};

// Static method to create a date from a UTC YYYYMMDDHHMM format string
Date.convertFromYYYYMMDDHHMM = function(d)
{
	d = d?d.replace(/[^0-9]/g, ""):"";
	return Date.convertFromYYYYMMDDHHMMSSMMM(d.substr(0,12));
};

// Static method to create a date from a UTC YYYYMMDDHHMMSS format string
Date.convertFromYYYYMMDDHHMMSS = function(d)
{
	d = d?d.replace(/[^0-9]/g, ""):"";
	return Date.convertFromYYYYMMDDHHMMSSMMM(d.substr(0,14));
};

// Static method to create a date from a UTC YYYYMMDDHHMMSSMMM format string
Date.convertFromYYYYMMDDHHMMSSMMM = function(d)
{
	d = d ? d.replace(/[^0-9]/g, "") : "";
	return new Date(Date.UTC(parseInt(d.substr(0,4),10),
			parseInt(d.substr(4,2),10)-1,
			parseInt(d.substr(6,2),10),
			parseInt(d.substr(8,2)||"00",10),
			parseInt(d.substr(10,2)||"00",10),
			parseInt(d.substr(12,2)||"00",10),
			parseInt(d.substr(14,3)||"000",10)));
};

//--
//-- RGB colour object
//--

// Construct an RGB colour object from a '#rrggbb', '#rgb' or 'rgb(n,n,n)' string or from separate r,g,b values
function RGB(r,g,b)
{
	this.r = 0;
	this.g = 0;
	this.b = 0;
	if(typeof r == "string") {
		if(r.substr(0,1) == "#") {
			if(r.length == 7) {
				this.r = parseInt(r.substr(1,2),16)/255;
				this.g = parseInt(r.substr(3,2),16)/255;
				this.b = parseInt(r.substr(5,2),16)/255;
			} else {
				this.r = parseInt(r.substr(1,1),16)/15;
				this.g = parseInt(r.substr(2,1),16)/15;
				this.b = parseInt(r.substr(3,1),16)/15;
			}
		} else {
			var rgbPattern = /rgb\s*\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/;
			var c = r.match(rgbPattern);
			if(c) {
				this.r = parseInt(c[1],10)/255;
				this.g = parseInt(c[2],10)/255;
				this.b = parseInt(c[3],10)/255;
			}
		}
	} else {
		this.r = r;
		this.g = g;
		this.b = b;
	}
	return this;
}

// Mixes this colour with another in a specified proportion
// c = other colour to mix
// f = 0..1 where 0 is this colour and 1 is the new colour
// Returns an RGB object
RGB.prototype.mix = function(c,f)
{
	return new RGB(this.r + (c.r-this.r) * f,this.g + (c.g-this.g) * f,this.b + (c.b-this.b) * f);
};

// Return an rgb colour as a #rrggbb format hex string
RGB.prototype.toString = function()
{
	var clamp = function(x,min,max) {
		return x < min ? min : (x > max ? max : x);
	};
	return "#" +
			("0" + Math.floor(clamp(this.r,0,1) * 255).toString(16)).right(2) +
			("0" + Math.floor(clamp(this.g,0,1) * 255).toString(16)).right(2) +
			("0" + Math.floor(clamp(this.b,0,1) * 255).toString(16)).right(2);
};

//--
//-- DOM utilities - many derived from www.quirksmode.org
//--

function drawGradient(place,horiz,locolors,hicolors)
{
	if(!hicolors)
		hicolors = locolors;
	var t;
	for(t=0; t<= 100; t+=2) {
		var bar = document.createElement("div");
		place.appendChild(bar);
		bar.style.position = "absolute";
		bar.style.left = horiz ? t + "%" : 0;
		bar.style.top = horiz ? 0 : t + "%";
		bar.style.width = horiz ? (101-t) + "%" : "100%";
		bar.style.height = horiz ? "100%" : (101-t) + "%";
		bar.style.zIndex = -1;
		var p = t/100*(locolors.length-1);
		var hc = hicolors[Math.floor(p)];
		if(typeof hc == "string")
			hc = new RGB(hc);
		var lc = locolors[Math.ceil(p)];
		if(typeof lc == "string")
			lc = new RGB(lc);
		bar.style.backgroundColor = hc.mix(lc,p-Math.floor(p)).toString();
	}
}

function addEvent(obj,type,fn)
{
	if(obj.attachEvent) {
		obj["e"+type+fn] = fn;
		obj[type+fn] = function(){obj["e"+type+fn](window.event);};
		obj.attachEvent("on"+type,obj[type+fn]);
	} else {
		obj.addEventListener(type,fn,false);
	}
}

function removeEvent(obj,type,fn)
{
	if(obj.detachEvent) {
		obj.detachEvent("on"+type,obj[type+fn]);
		obj[type+fn] = null;
	} else {
		obj.removeEventListener(type,fn,false);
	}
}

// Find the closest relative with a given property value (property defaults to tagName, relative defaults to parentNode)
function findRelated(e,value,name,relative)
{
	name = name || "tagName";
	relative = relative || "parentNode";
	if(name == "className") {
		while(e && !jQuery(e).hasClass(value)) {
			e = e[relative];
		}
	} else {
		while(e && e[name] != value) {
			e = e[relative];
		}
	}
	return e;
}

// Get the scroll position for window.scrollTo necessary to scroll a given element into view
function ensureVisible(e)
{
	var posTop = findPosY(e);
	var posBot = posTop + e.offsetHeight;
	var winTop = findScrollY();
	var winHeight = findWindowHeight();
	var winBot = winTop + winHeight;
	if(posTop < winTop) {
		return posTop;
	} else if(posBot > winBot) {
		if(e.offsetHeight < winHeight)
			return posTop - (winHeight - e.offsetHeight);
		else
			return posTop;
	} else {
		return winTop;
	}
}

// Get the current width of the display window
function findWindowWidth()
{
	return window.innerWidth || document.documentElement.clientWidth;
}

// Get the current height of the display window
function findWindowHeight()
{
	return window.innerHeight || document.documentElement.clientHeight;
}

// Get the current height of the document
function findDocHeight() {
    var D = document;
    return Math.max(
        Math.max(D.body.scrollHeight, D.documentElement.scrollHeight),
        Math.max(D.body.offsetHeight, D.documentElement.offsetHeight),
        Math.max(D.body.clientHeight, D.documentElement.clientHeight)
    );
}

// Get the current horizontal page scroll position
function findScrollX()
{
	return window.scrollX || document.documentElement.scrollLeft;
}

// Get the current vertical page scroll position
function findScrollY()
{
	return window.scrollY || document.documentElement.scrollTop;
}

function findPosX(obj)
{
	var curleft = 0;
	while(obj.offsetParent) {
		curleft += obj.offsetLeft;
		obj = obj.offsetParent;
	}
	return curleft;
}

function findPosY(obj)
{
	var curtop = 0;
	while(obj.offsetParent) {
		curtop += obj.offsetTop;
		obj = obj.offsetParent;
	}
	return curtop;
}

// Blur a particular element
function blurElement(e)
{
	if(e && e.focus && e.blur) {
		e.focus();
		e.blur();
	}
}

// Create a non-breaking space
function insertSpacer(place)
{
	var e = document.createTextNode(String.fromCharCode(160));
	if(place)
		place.appendChild(e);
	return e;
}

// Replace the current selection of a textarea or text input and scroll it into view
function replaceSelection(e,text)
{
	if(e.setSelectionRange) {
		var oldpos = e.selectionStart;
		var isRange = e.selectionEnd > e.selectionStart;
		e.value = e.value.substr(0,e.selectionStart) + text + e.value.substr(e.selectionEnd);
		e.setSelectionRange(isRange ? oldpos : oldpos + text.length,oldpos + text.length);
		var linecount = e.value.split("\n").length;
		var thisline = e.value.substr(0,e.selectionStart).split("\n").length-1;
		e.scrollTop = Math.floor((thisline - e.rows / 2) * e.scrollHeight / linecount);
	} else if(document.selection) {
		var range = document.selection.createRange();
		if(range.parentElement() == e) {
			var isCollapsed = range.text == "";
			range.text = text;
			if(!isCollapsed) {
				range.moveStart("character", -text.length);
				range.select();
			}
		}
	}
}

// Set the caret position in a text area
function setCaretPosition(e,pos)
{
	if(e.selectionStart || e.selectionStart == '0') {
		e.selectionStart = pos;
		e.selectionEnd = pos;
		e.focus();
	} else if(document.selection) {
		// IE support
		e.focus ();
		var sel = document.selection.createRange();
		sel.moveStart('character', -e.value.length);
		sel.moveStart('character',pos);
		sel.moveEnd('character',0);
		sel.select();
	}
}

// Returns the text of the given (text) node, possibly merging subsequent text nodes
function getNodeText(e)
{
	var t = "";
	while(e && e.nodeName == "#text") {
		t += e.nodeValue;
		e = e.nextSibling;
	}
	return t;
}

// Returns true if the element e has a given ancestor element
function isDescendant(e,ancestor)
{
	while(e) {
		if(e === ancestor)
			return true;
		e = e.parentNode;
	}
	return false;
}


// deprecate the following...

// Prevent an event from bubbling
function stopEvent(e)
{
	var ev = e || window.event;
	ev.cancelBubble = true;
	if(ev.stopPropagation) ev.stopPropagation();
	return false;
}

// Remove any event handlers or non-primitve custom attributes
function scrubNode(e)
{
	if(!config.browser.isIE)
		return;
	var att = e.attributes;
	if(att) {
		var t;
		for(t=0; t<att.length; t++) {
			var n = att[t].name;
			if(n !== "style" && (typeof e[n] === "function" || (typeof e[n] === "object" && e[n] != null))) {
				try {
					e[n] = null;
				} catch(ex) {
				}
			}
		}
	}
	var c = e.firstChild;
	while(c) {
		scrubNode(c);
		c = c.nextSibling;
	}
}

function setStylesheet(s,id,doc)
{
	jQuery.twStylesheet(s,{id:id,doc:doc});
}

function removeStyleSheet(id)
{
	jQuery.twStylesheet.remove({id:id});
}

//--
//-- LoaderBase and SaverBase
//--

function LoaderBase() {}

LoaderBase.prototype.loadTiddler = function(store,node,tiddlers)
{
	var title = this.getTitle(store,node);
	if(safeMode && store.isShadowTiddler(title))
		return;
	if(title) {
		var tiddler = store.createTiddler(title);
		this.internalizeTiddler(store,tiddler,title,node);
		tiddlers.push(tiddler);
	}
};

LoaderBase.prototype.loadTiddlers = function(store,nodes)
{
	var t,tiddlers = [];
	for(t = 0; t < nodes.length; t++) {
		try {
			this.loadTiddler(store,nodes[t],tiddlers);
		} catch(ex) {
			showException(ex,config.messages.tiddlerLoadError.format([this.getTitle(store,nodes[t])]));
		}
	}
	return tiddlers;
};

function SaverBase() {}

SaverBase.prototype.externalize = function(store)
{
	var results = [];
	var t,tiddlers = store.getTiddlers("title");
	for(t = 0; t < tiddlers.length; t++) {
		if(!tiddlers[t].doNotSave())
			results.push(this.externalizeTiddler(store, tiddlers[t]));
	}
	return results.join("\n");
};

//--
//-- TW21Loader (inherits from LoaderBase)
//--

function TW21Loader() {}

TW21Loader.prototype = new LoaderBase();

TW21Loader.prototype.getTitle = function(store,node)
{
	var title = null;
	if(node.getAttribute) {
		title = node.getAttribute("title");
		if(!title)
			title = node.getAttribute("tiddler");
	}
	if(!title && node.id) {
		var lenPrefix = store.idPrefix.length;
		if(node.id.substr(0,lenPrefix) == store.idPrefix)
			title = node.id.substr(lenPrefix);
	}
	return title;
};

TW21Loader.prototype.internalizeTiddler = function(store,tiddler,title,node)
{
	var e = node.firstChild;
	var text = null;
	if(node.getAttribute("tiddler")) {
		text = getNodeText(e).unescapeLineBreaks();
	} else {
		while(e.nodeName!="PRE" && e.nodeName!="pre") {
			e = e.nextSibling;
		}
		text = e.innerHTML.replace(/\r/mg,"").htmlDecode();
	}
	var creator = node.getAttribute("creator");
	var modifier = node.getAttribute("modifier");
	var c = node.getAttribute("created");
	var m = node.getAttribute("modified");
	var created = c ? Date.convertFromYYYYMMDDHHMMSS(c) : version.date;
	var modified = m ? Date.convertFromYYYYMMDDHHMMSS(m) : created;
	var tags = node.getAttribute("tags");
	var fields = {};
	var i,attrs = node.attributes;
	for(i = attrs.length-1; i >= 0; i--) {
		var name = attrs[i].name;
		if(attrs[i].specified && !TiddlyWiki.isStandardField(name)) {
			fields[name] = attrs[i].value.unescapeLineBreaks();
		}
	}
	tiddler.assign(title,text,modifier,modified,tags,created,fields,creator);
	return tiddler;
};

//--
//-- TW21Saver (inherits from SaverBase)
//--

function TW21Saver() {}

TW21Saver.prototype = new SaverBase();

TW21Saver.prototype.externalizeTiddler = function(store,tiddler)
{
	try {
		var extendedAttributes = "";
		var usePre = config.options.chkUsePreForStorage;
		store.forEachField(tiddler,
			function(tiddler,fieldName,value) {
				// don't store stuff from the temp namespace
				if(typeof value != "string")
					value = "";
				if(!fieldName.match(/^temp\./))
					extendedAttributes += ' %0="%1"'.format([fieldName,value.escapeLineBreaks().htmlEncode()]);
			},true);
		var created = tiddler.created;
		var modified = tiddler.modified;
		var attributes = tiddler.creator ? ' creator="' + tiddler.creator.htmlEncode() + '"' : "";
		attributes += tiddler.modifier ? ' modifier="' + tiddler.modifier.htmlEncode() + '"' : "";
		attributes += (usePre && created == version.date) ? "" :' created="' + created.convertToYYYYMMDDHHMM() + '"';
		attributes += (usePre && modified == created) ? "" : ' modified="' + modified.convertToYYYYMMDDHHMM() +'"';
		var tags = tiddler.getTags();
		if(!usePre || tags)
			attributes += ' tags="' + tags.htmlEncode() + '"';
		return ('<div %0="%1"%2%3>%4</'+'div>').format([
				usePre ? "title" : "tiddler",
				tiddler.title.htmlEncode(),
				attributes,
				extendedAttributes,
				usePre ? "\n<pre>" + tiddler.text.htmlEncode() + "</pre>\n" : tiddler.text.escapeLineBreaks().htmlEncode()
			]);
	} catch (ex) {
		throw exceptionText(ex,config.messages.tiddlerSaveError.format([tiddler.title]));
	}
};



//]]>
</script>

<script id="jsdeprecatedArea" type="text/javascript">
//<![CDATA[
//--
//-- Deprecated Crypto functions and associated conversion routines.
//-- Use the jQuery.encoding functions directly instead.
//--

// Crypto 'namespace'
function Crypto() {}

// Convert a string to an array of big-endian 32-bit words
Crypto.strToBe32s = function(str)
{
	return jQuery.encoding.strToBe32s(str);
};

// Convert an array of big-endian 32-bit words to a string
Crypto.be32sToStr = function(be)
{
	return jQuery.encoding.be32sToStr(be);
};

// Convert an array of big-endian 32-bit words to a hex string
Crypto.be32sToHex = function(be)
{
	return jQuery.encoding.be32sToHex(be);
};

// Return, in hex, the SHA-1 hash of a string
Crypto.hexSha1Str = function(str)
{
	return jQuery.encoding.digests.hexSha1Str(str);
};

// Return the SHA-1 hash of a string
Crypto.sha1Str = function(str)
{
	return jQuery.encoding.digests.sha1Str(str);
};

// Calculate the SHA-1 hash of an array of blen bytes of big-endian 32-bit words
Crypto.sha1 = function(x,blen)
{
	return jQuery.encoding.digests.sha1(x,blen);
};

//--
//-- Deprecated code
//--

// @Deprecated: Use createElementAndWikify and this.termRegExp instead
config.formatterHelpers.charFormatHelper = function(w)
{
	w.subWikify(createTiddlyElement(w.output,this.element),this.terminator);
};

// @Deprecated: Use enclosedTextHelper and this.lookaheadRegExp instead
config.formatterHelpers.monospacedByLineHelper = function(w)
{
	var lookaheadRegExp = new RegExp(this.lookahead,"mg");
	lookaheadRegExp.lastIndex = w.matchStart;
	var lookaheadMatch = lookaheadRegExp.exec(w.source);
	if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
		var text = lookaheadMatch[1];
		if(config.browser.isIE)
			text = text.replace(/\n/g,"\r");
		createTiddlyElement(w.output,"pre",null,null,text);
		w.nextMatch = lookaheadRegExp.lastIndex;
	}
};

// @Deprecated: Use <br> or <br /> instead of <<br>>
config.macros.br = {};
config.macros.br.handler = function(place)
{
	createTiddlyElement(place,"br");
};

// Find an entry in an array. Returns the array index or null
// @Deprecated: Use indexOf instead
Array.prototype.find = function(item)
{
	var i = this.indexOf(item);
	return i == -1 ? null : i;
};

// Load a tiddler from an HTML DIV. The caller should make sure to later call Tiddler.changed()
// @Deprecated: Use store.getLoader().internalizeTiddler instead
Tiddler.prototype.loadFromDiv = function(divRef,title)
{
	return store.getLoader().internalizeTiddler(store,this,title,divRef);
};

// Format the text for storage in an HTML DIV
// @Deprecated Use store.getSaver().externalizeTiddler instead.
Tiddler.prototype.saveToDiv = function()
{
	return store.getSaver().externalizeTiddler(store,this);
};

// @Deprecated: Use store.allTiddlersAsHtml() instead
function allTiddlersAsHtml()
{
	return store.allTiddlersAsHtml();
}

// @Deprecated: Use refreshPageTemplate instead
function applyPageTemplate(title)
{
	refreshPageTemplate(title);
}

// @Deprecated: Use story.displayTiddlers instead
function displayTiddlers(srcElement,titles,template,unused1,unused2,animate,unused3)
{
	story.displayTiddlers(srcElement,titles,template,animate);
}

// @Deprecated: Use story.displayTiddler instead
function displayTiddler(srcElement,title,template,unused1,unused2,animate,unused3)
{
	story.displayTiddler(srcElement,title,template,animate);
}

// @Deprecated: Use functions on right hand side directly instead
var createTiddlerPopup = Popup.create;
var scrollToTiddlerPopup = Popup.show;
var hideTiddlerPopup = Popup.remove;

// @Deprecated: Use right hand side directly instead
var regexpBackSlashEn = new RegExp("\\\\n","mg");
var regexpBackSlash = new RegExp("\\\\","mg");
var regexpBackSlashEss = new RegExp("\\\\s","mg");
var regexpNewLine = new RegExp("\n","mg");
var regexpCarriageReturn = new RegExp("\r","mg");

//--
//-- Deprecated FileAdaptor functions
//--

FileAdaptor.loadTiddlyWikiCallback = function(status,context,responseText,url,xhr)
{
	context.status = status;
	if(!status) {
		context.statusText = "Error reading file";
	} else {
		context.adaptor.store = new TiddlyWiki();
		if(!context.adaptor.store.importTiddlyWiki(responseText)) {
			context.statusText = config.messages.invalidFileError.format([url]);
			context.status = false;
		}
	}
	context.complete(context,context.userParams);
};

//--
//-- Deprecated HTTP request code
//-- Use the jQuery ajax functions directly instead
//--

function loadRemoteFile(url,callback,params)
{
	return httpReq("GET",url,callback,params);
}

function doHttp(type,url,data,contentType,username,password,callback,params,headers,allowCache)
{
	return httpReq(type,url,callback,params,headers,data,contentType,username,password,allowCache);
}

//--
//-- Deprecated String functions
//--

// @Deprecated: no direct replacement, since not used in core code
String.prototype.toJSONString = function()
{
	// Convert a string to it's JSON representation by encoding control characters, double quotes and backslash. See json.org
	var m = {
		'\b': '\\b',
		'\f': '\\f',
		'\n': '\\n',
		'\r': '\\r',
		'\t': '\\t',
		'"' : '\\"',
		'\\': '\\\\'
		};
	var replaceFn = function(a,b) {
		var c = m[b];
		if(c)
			return c;
		c = b.charCodeAt();
		return '\\u00' + Math.floor(c / 16).toString(16) + (c % 16).toString(16);
		};
	if(/["\\\x00-\x1f]/.test(this))
		return '"' + this.replace(/([\x00-\x1f\\"])/g,replaceFn) + '"';
	return '"' + this + '"';
};

//--
//-- Deprecated Tiddler code
//--

// @Deprecated: Use tiddlerToRssItem(tiddler,uri) instead
Tiddler.prototype.toRssItem = function(uri)
{
	return tiddlerToRssItem(this,uri);
};

// @Deprecated: Use "<item>\n" + tiddlerToRssItem(tiddler,uri)  + "\n</item>" instead
Tiddler.prototype.saveToRss = function(uri)
{
	return "<item>\n" + tiddlerToRssItem(this,uri) + "\n</item>";
};

// @Deprecated: Use jQuery.encoding.digests.hexSha1Str instead
Tiddler.prototype.generateFingerprint = function()
{
	return "0x" + Crypto.hexSha1Str(this.text);
};

//--
//-- Deprecated Number functions
//--

// @Deprecated: no direct replacement, since not used in core code
// Clamp a number to a range
Number.prototype.clamp = function(min,max)
{
	var c = this;
	if(c < min)
		c = min;
	if(c > max)
		c = max;
	return Number(c);
};

//--
//-- Deprecated utility functions
//-- Use the jQuery functions directly instead
//--

// Remove all children of a node
function removeChildren(e)
{
	jQuery(e).empty();
}

// Remove a node and all it's children
function removeNode(e)
{
	jQuery(e).remove();
}

// Return the content of an element as plain text with no formatting
function getPlainText(e)
{
	return jQuery(e).text();
}

function addClass(e,className)
{
	jQuery(e).addClass(className);
}

function removeClass(e,className)
{
	jQuery(e).removeClass(className);
}

function hasClass(e,className)
{
	return jQuery(e).hasClass(className);
}

//--
//-- Deprecated Wikifier code
//--

function wikifyPlain(title,theStore,limit)
{
	if(!theStore)
		theStore = store;
	if(theStore.tiddlerExists(title) || theStore.isShadowTiddler(title)) {
		return wikifyPlainText(theStore.getTiddlerText(title),limit,tiddler);
	} else {
		return "";
	}
}


//]]>
</script>
<script id="jslibArea" type="text/javascript">
//<![CDATA[
/*! jQuery v1.8.3 jquery.com | jquery.org/license */
(function(e,t){function _(e){var t=M[e]={};return v.each(e.split(y),function(e,n){t[n]=!0}),t}function H(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(P,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:D.test(r)?v.parseJSON(r):r}catch(s){}v.data(e,n,r)}else r=t}return r}function B(e){var t;for(t in e){if(t==="data"&&v.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function et(){return!1}function tt(){return!0}function ut(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function at(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function ft(e,t,n){t=t||0;if(v.isFunction(t))return v.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return v.grep(e,function(e,r){return e===t===n});if(typeof t=="string"){var r=v.grep(e,function(e){return e.nodeType===1});if(it.test(t))return v.filter(t,r,!n);t=v.filter(t,r)}return v.grep(e,function(e,r){return v.inArray(e,t)>=0===n})}function lt(e){var t=ct.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function Lt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function At(e,t){if(t.nodeType!==1||!v.hasData(e))return;var n,r,i,s=v._data(e),o=v._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)v.event.add(t,n,u[n][r])}o.data&&(o.data=v.extend({},o.data))}function Ot(e,t){var n;if(t.nodeType!==1)return;t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),n==="object"?(t.parentNode&&(t.outerHTML=e.outerHTML),v.support.html5Clone&&e.innerHTML&&!v.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):n==="input"&&Et.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):n==="option"?t.selected=e.defaultSelected:n==="input"||n==="textarea"?t.defaultValue=e.defaultValue:n==="script"&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(v.expando)}function Mt(e){return typeof e.getElementsByTagName!="undefined"?e.getElementsByTagName("*"):typeof e.querySelectorAll!="undefined"?e.querySelectorAll("*"):[]}function _t(e){Et.test(e.type)&&(e.defaultChecked=e.checked)}function Qt(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Jt.length;while(i--){t=Jt[i]+n;if(t in e)return t}return r}function Gt(e,t){return e=t||e,v.css(e,"display")==="none"||!v.contains(e.ownerDocument,e)}function Yt(e,t){var n,r,i=[],s=0,o=e.length;for(;s<o;s++){n=e[s];if(!n.style)continue;i[s]=v._data(n,"olddisplay"),t?(!i[s]&&n.style.display==="none"&&(n.style.display=""),n.style.display===""&&Gt(n)&&(i[s]=v._data(n,"olddisplay",nn(n.nodeName)))):(r=Dt(n,"display"),!i[s]&&r!=="none"&&v._data(n,"olddisplay",r))}for(s=0;s<o;s++){n=e[s];if(!n.style)continue;if(!t||n.style.display==="none"||n.style.display==="")n.style.display=t?i[s]||"":"none"}return e}function Zt(e,t,n){var r=Rt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function en(e,t,n,r){var i=n===(r?"border":"content")?4:t==="width"?1:0,s=0;for(;i<4;i+=2)n==="margin"&&(s+=v.css(e,n+$t[i],!0)),r?(n==="content"&&(s-=parseFloat(Dt(e,"padding"+$t[i]))||0),n!=="margin"&&(s-=parseFloat(Dt(e,"border"+$t[i]+"Width"))||0)):(s+=parseFloat(Dt(e,"padding"+$t[i]))||0,n!=="padding"&&(s+=parseFloat(Dt(e,"border"+$t[i]+"Width"))||0));return s}function tn(e,t,n){var r=t==="width"?e.offsetWidth:e.offsetHeight,i=!0,s=v.support.boxSizing&&v.css(e,"boxSizing")==="border-box";if(r<=0||r==null){r=Dt(e,t);if(r<0||r==null)r=e.style[t];if(Ut.test(r))return r;i=s&&(v.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+en(e,t,n||(s?"border":"content"),i)+"px"}function nn(e){if(Wt[e])return Wt[e];var t=v("<"+e+">").appendTo(i.body),n=t.css("display");t.remove();if(n==="none"||n===""){Pt=i.body.appendChild(Pt||v.extend(i.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!Ht||!Pt.createElement)Ht=(Pt.contentWindow||Pt.contentDocument).document,Ht.write("<!doctype html><html><body>"),Ht.close();t=Ht.body.appendChild(Ht.createElement(e)),n=Dt(t,"display"),i.body.removeChild(Pt)}return Wt[e]=n,n}function fn(e,t,n,r){var i;if(v.isArray(t))v.each(t,function(t,i){n||sn.test(e)?r(e,i):fn(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&v.type(t)==="object")for(i in t)fn(e+"["+i+"]",t[i],n,r);else r(e,t)}function Cn(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i,s,o=t.toLowerCase().split(y),u=0,a=o.length;if(v.isFunction(n))for(;u<a;u++)r=o[u],s=/^\+/.test(r),s&&(r=r.substr(1)||"*"),i=e[r]=e[r]||[],i[s?"unshift":"push"](n)}}function kn(e,n,r,i,s,o){s=s||n.dataTypes[0],o=o||{},o[s]=!0;var u,a=e[s],f=0,l=a?a.length:0,c=e===Sn;for(;f<l&&(c||!u);f++)u=a[f](n,r,i),typeof u=="string"&&(!c||o[u]?u=t:(n.dataTypes.unshift(u),u=kn(e,n,r,i,u,o)));return(c||!u)&&!o["*"]&&(u=kn(e,n,r,i,"*",o)),u}function Ln(e,n){var r,i,s=v.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((s[r]?e:i||(i={}))[r]=n[r]);i&&v.extend(!0,e,i)}function An(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes,l=e.responseFields;for(s in l)s in r&&(n[l[s]]=r[s]);while(f[0]==="*")f.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("content-type"));if(i)for(s in a)if(a[s]&&a[s].test(i)){f.unshift(s);break}if(f[0]in r)o=f[0];else{for(s in r){if(!f[0]||e.converters[s+" "+f[0]]){o=s;break}u||(u=s)}o=o||u}if(o)return o!==f[0]&&f.unshift(o),r[o]}function On(e,t){var n,r,i,s,o=e.dataTypes.slice(),u=o[0],a={},f=0;e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(o[1])for(n in e.converters)a[n.toLowerCase()]=e.converters[n];for(;i=o[++f];)if(i!=="*"){if(u!=="*"&&u!==i){n=a[u+" "+i]||a["* "+i];if(!n)for(r in a){s=r.split(" ");if(s[1]===i){n=a[u+" "+s[0]]||a["* "+s[0]];if(n){n===!0?n=a[r]:a[r]!==!0&&(i=s[0],o.splice(f--,0,i));break}}}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(l){return{state:"parsererror",error:n?l:"No conversion from "+u+" to "+i}}}u=i}return{state:"success",data:t}}function Fn(){try{return new e.XMLHttpRequest}catch(t){}}function In(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function $n(){return setTimeout(function(){qn=t},0),qn=v.now()}function Jn(e,t){v.each(t,function(t,n){var r=(Vn[t]||[]).concat(Vn["*"]),i=0,s=r.length;for(;i<s;i++)if(r[i].call(e,t,n))return})}function Kn(e,t,n){var r,i=0,s=0,o=Xn.length,u=v.Deferred().always(function(){delete a.elem}),a=function(){var t=qn||$n(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,i=1-r,s=0,o=f.tweens.length;for(;s<o;s++)f.tweens[s].run(i);return u.notifyWith(e,[f,i,n]),i<1&&o?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:v.extend({},t),opts:v.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:qn||$n(),duration:n.duration,tweens:[],createTween:function(t,n,r){var i=v.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(i),i},stop:function(t){var n=0,r=t?f.tweens.length:0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;Qn(l,f.opts.specialEasing);for(;i<o;i++){r=Xn[i].call(f,e,l,f.opts);if(r)return r}return Jn(f,l),v.isFunction(f.opts.start)&&f.opts.start.call(e,f),v.fx.timer(v.extend(a,{anim:f,queue:f.opts.queue,elem:e})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function Qn(e,t){var n,r,i,s,o;for(n in e){r=v.camelCase(n),i=t[r],s=e[n],v.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=v.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function Gn(e,t,n){var r,i,s,o,u,a,f,l,c,h=this,p=e.style,d={},m=[],g=e.nodeType&&Gt(e);n.queue||(l=v._queueHooks(e,"fx"),l.unqueued==null&&(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,h.always(function(){h.always(function(){l.unqueued--,v.queue(e,"fx").length||l.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],v.css(e,"display")==="inline"&&v.css(e,"float")==="none"&&(!v.support.inlineBlockNeedsLayout||nn(e.nodeName)==="inline"?p.display="inline-block":p.zoom=1)),n.overflow&&(p.overflow="hidden",v.support.shrinkWrapBlocks||h.done(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t){s=t[r];if(Un.exec(s)){delete t[r],a=a||s==="toggle";if(s===(g?"hide":"show"))continue;m.push(r)}}o=m.length;if(o){u=v._data(e,"fxshow")||v._data(e,"fxshow",{}),"hidden"in u&&(g=u.hidden),a&&(u.hidden=!g),g?v(e).show():h.done(function(){v(e).hide()}),h.done(function(){var t;v.removeData(e,"fxshow",!0);for(t in d)v.style(e,t,d[t])});for(r=0;r<o;r++)i=m[r],f=h.createTween(i,g?u[i]:0),d[i]=u[i]||v.style(e,i),i in u||(u[i]=f.start,g&&(f.end=f.start,f.start=i==="width"||i==="height"?1:0))}}function Yn(e,t,n,r,i){return new Yn.prototype.init(e,t,n,r,i)}function Zn(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t)n=$t[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function tr(e){return v.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var n,r,i=e.document,s=e.location,o=e.navigator,u=e.jQuery,a=e.$,f=Array.prototype.push,l=Array.prototype.slice,c=Array.prototype.indexOf,h=Object.prototype.toString,p=Object.prototype.hasOwnProperty,d=String.prototype.trim,v=function(e,t){return new v.fn.init(e,t,n)},m=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,g=/\S/,y=/\s+/,b=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,w=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,E=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,S=/^[\],:{}\s]*$/,x=/(?:^|:|,)(?:\s*\[)+/g,T=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,N=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,C=/^-ms-/,k=/-([\da-z])/gi,L=function(e,t){return(t+"").toUpperCase()},A=function(){i.addEventListener?(i.removeEventListener("DOMContentLoaded",A,!1),v.ready()):i.readyState==="complete"&&(i.detachEvent("onreadystatechange",A),v.ready())},O={};v.fn=v.prototype={constructor:v,init:function(e,n,r){var s,o,u,a;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?s=[null,e,null]:s=w.exec(e);if(s&&(s[1]||!n)){if(s[1])return n=n instanceof v?n[0]:n,a=n&&n.nodeType?n.ownerDocument||n:i,e=v.parseHTML(s[1],a,!0),E.test(s[1])&&v.isPlainObject(n)&&this.attr.call(e,n,!0),v.merge(this,e);o=i.getElementById(s[2]);if(o&&o.parentNode){if(o.id!==s[2])return r.find(e);this.length=1,this[0]=o}return this.context=i,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return v.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),v.makeArray(e,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return l.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=v.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,t==="find"?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return v.each(this,e,t)},ready:function(e){return v.ready.promise().done(e),this},eq:function(e){return e=+e,e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(l.apply(this,arguments),"slice",l.call(arguments).join(","))},map:function(e){return this.pushStack(v.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:[].sort,splice:[].splice},v.fn.init.prototype=v.fn,v.extend=v.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;typeof u=="boolean"&&(l=u,u=arguments[1]||{},a=2),typeof u!="object"&&!v.isFunction(u)&&(u={}),f===a&&(u=this,--a);for(;a<f;a++)if((e=arguments[a])!=null)for(n in e){r=u[n],i=e[n];if(u===i)continue;l&&i&&(v.isPlainObject(i)||(s=v.isArray(i)))?(s?(s=!1,o=r&&v.isArray(r)?r:[]):o=r&&v.isPlainObject(r)?r:{},u[n]=v.extend(l,o,i)):i!==t&&(u[n]=i)}return u},v.extend({noConflict:function(t){return e.$===v&&(e.$=a),t&&e.jQuery===v&&(e.jQuery=u),v},isReady:!1,readyWait:1,holdReady:function(e){e?v.readyWait++:v.ready(!0)},ready:function(e){if(e===!0?--v.readyWait:v.isReady)return;if(!i.body)return setTimeout(v.ready,1);v.isReady=!0;if(e!==!0&&--v.readyWait>0)return;r.resolveWith(i,[v]),v.fn.trigger&&v(i).trigger("ready").off("ready")},isFunction:function(e){return v.type(e)==="function"},isArray:Array.isArray||function(e){return v.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):O[h.call(e)]||"object"},isPlainObject:function(e){if(!e||v.type(e)!=="object"||e.nodeType||v.isWindow(e))return!1;try{if(e.constructor&&!p.call(e,"constructor")&&!p.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||p.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var r;return!e||typeof e!="string"?null:(typeof t=="boolean"&&(n=t,t=0),t=t||i,(r=E.exec(e))?[t.createElement(r[1])]:(r=v.buildFragment([e],t,n?null:[]),v.merge([],(r.cacheable?v.clone(r.fragment):r.fragment).childNodes)))},parseJSON:function(t){if(!t||typeof t!="string")return null;t=v.trim(t);if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(S.test(t.replace(T,"@").replace(N,"]").replace(x,"")))return(new Function("return "+t))();v.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||typeof n!="string")return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&v.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&g.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(C,"ms-").replace(k,L)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,r){var i,s=0,o=e.length,u=o===t||v.isFunction(e);if(r){if(u){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;s<o;)if(n.apply(e[s++],r)===!1)break}else if(u){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;s<o;)if(n.call(e[s],s,e[s++])===!1)break;return e},trim:d&&!d.call("\ufeff\u00a0")?function(e){return e==null?"":d.call(e)}:function(e){return e==null?"":(e+"").replace(b,"")},makeArray:function(e,t){var n,r=t||[];return e!=null&&(n=v.type(e),e.length==null||n==="string"||n==="function"||n==="regexp"||v.isWindow(e)?f.call(r,e):v.merge(r,e)),r},inArray:function(e,t,n){var r;if(t){if(c)return c.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r=="number")for(;s<r;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,n,r){var i,s,o=[],u=0,a=e.length,f=e instanceof v||a!==t&&typeof a=="number"&&(a>0&&e[0]&&e[a-1]||a===0||v.isArray(e));if(f)for(;u<a;u++)i=n(e[u],u,r),i!=null&&(o[o.length]=i);else for(s in e)i=n(e[s],s,r),i!=null&&(o[o.length]=i);return o.concat.apply([],o)},guid:1,proxy:function(e,n){var r,i,s;return typeof n=="string"&&(r=e[n],n=e,e=r),v.isFunction(e)?(i=l.call(arguments,2),s=function(){return e.apply(n,i.concat(l.call(arguments)))},s.guid=e.guid=e.guid||v.guid++,s):t},access:function(e,n,r,i,s,o,u){var a,f=r==null,l=0,c=e.length;if(r&&typeof r=="object"){for(l in r)v.access(e,n,l,r[l],1,o,i);s=1}else if(i!==t){a=u===t&&v.isFunction(i),f&&(a?(a=n,n=function(e,t,n){return a.call(v(e),n)}):(n.call(e,i),n=null));if(n)for(;l<c;l++)n(e[l],r,a?i.call(e[l],l,n(e[l],r)):i,u);s=1}return s?e:f?n.call(e):c?n(e[0],r):o},now:function(){return(new Date).getTime()}}),v.ready.promise=function(t){if(!r){r=v.Deferred();if(i.readyState==="complete")setTimeout(v.ready,1);else if(i.addEventListener)i.addEventListener("DOMContentLoaded",A,!1),e.addEventListener("load",v.ready,!1);else{i.attachEvent("onreadystatechange",A),e.attachEvent("onload",v.ready);var n=!1;try{n=e.frameElement==null&&i.documentElement}catch(s){}n&&n.doScroll&&function o(){if(!v.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}v.ready()}}()}}return r.promise(t)},v.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){O["[object "+t+"]"]=t.toLowerCase()}),n=v(i);var M={};v.Callbacks=function(e){e=typeof e=="string"?M[e]||_(e):v.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&&[],l=function(t){n=e.memory&&t,r=!0,u=s||0,s=0,o=a.length,i=!0;for(;a&&u<o;u++)if(a[u].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}i=!1,a&&(f?f.length&&l(f.shift()):n?a=[]:c.disable())},c={add:function(){if(a){var t=a.length;(function r(t){v.each(t,function(t,n){var i=v.type(n);i==="function"?(!e.unique||!c.has(n))&&a.push(n):n&&n.length&&i!=="string"&&r(n)})})(arguments),i?o=a.length:n&&(s=t,l(n))}return this},remove:function(){return a&&v.each(arguments,function(e,t){var n;while((n=v.inArray(t,a,n))>-1)a.splice(n,1),i&&(n<=o&&o--,n<=u&&u--)}),this},has:function(e){return v.inArray(e,a)>-1},empty:function(){return a=[],this},disable:function(){return a=f=n=t,this},disabled:function(){return!a},lock:function(){return f=t,n||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],a&&(!r||f)&&(i?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},v.extend({Deferred:function(e){var t=[["resolve","done",v.Callbacks("once memory"),"resolved"],["reject","fail",v.Callbacks("once memory"),"rejected"],["notify","progress",v.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return v.Deferred(function(n){v.each(t,function(t,r){var s=r[0],o=e[t];i[r[1]](v.isFunction(o)?function(){var e=o.apply(this,arguments);e&&v.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n:this,[e])}:n[s])}),e=null}).promise()},promise:function(e){return e!=null?v.extend(e,r):r}},i={};return r.pipe=r.then,v.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=o.fire,i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=l.call(arguments),r=n.length,i=r!==1||e&&v.isFunction(e.promise)?r:0,s=i===1?e:v.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?l.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&v.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}}),v.support=function(){var t,n,r,s,o,u,a,f,l,c,h,p=i.createElement("div");p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),r=p.getElementsByTagName("a")[0];if(!n||!r||!n.length)return{};s=i.createElement("select"),o=s.appendChild(i.createElement("option")),u=p.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute("href")==="/a",opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:u.value==="on",optSelected:o.selected,getSetAttribute:p.className!=="t",enctype:!!i.createElement("form").enctype,html5Clone:i.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:i.compatMode==="CSS1Compat",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},u.checked=!0,t.noCloneChecked=u.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!o.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",h=function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick"),p.detachEvent("onclick",h)),u=i.createElement("input"),u.value="t",u.setAttribute("type","radio"),t.radioValue=u.value==="t",u.setAttribute("checked","checked"),u.setAttribute("name","t"),p.appendChild(u),a=i.createDocumentFragment(),a.appendChild(p.lastChild),t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=u.checked,a.removeChild(u),a.appendChild(p);if(p.attachEvent)for(l in{submit:!0,change:!0,focusin:!0})f="on"+l,c=f in p,c||(p.setAttribute(f,"return;"),c=typeof p[f]=="function"),t[l+"Bubbles"]=c;return v(function(){var n,r,s,o,u="padding:0;margin:0;border:0;display:block;overflow:hidden;",a=i.getElementsByTagName("body")[0];if(!a)return;n=i.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",a.insertBefore(n,a.firstChild),r=i.createElement("div"),n.appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=r.getElementsByTagName("td"),s[0].style.cssText="padding:0;margin:0;border:0;display:none",c=s[0].offsetHeight===0,s[0].style.display="",s[1].style.display="none",t.reliableHiddenOffsets=c&&s[0].offsetHeight===0,r.innerHTML="",r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=r.offsetWidth===4,t.doesNotIncludeMarginInBodyOffset=a.offsetTop!==1,e.getComputedStyle&&(t.pixelPosition=(e.getComputedStyle(r,null)||{}).top!=="1%",t.boxSizingReliable=(e.getComputedStyle(r,null)||{width:"4px"}).width==="4px",o=i.createElement("div"),o.style.cssText=r.style.cssText=u,o.style.marginRight=o.style.width="0",r.style.width="1px",r.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),typeof r.style.zoom!="undefined"&&(r.innerHTML="",r.style.cssText=u+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=r.offsetWidth===3,r.style.display="block",r.style.overflow="visible",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t.shrinkWrapBlocks=r.offsetWidth!==3,n.style.zoom=1),a.removeChild(n),n=r=s=o=null}),a.removeChild(p),n=r=s=o=u=a=p=null,t}();var D=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;v.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(v.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?v.cache[e[v.expando]]:e[v.expando],!!e&&!B(e)},data:function(e,n,r,i){if(!v.acceptData(e))return;var s,o,u=v.expando,a=typeof n=="string",f=e.nodeType,l=f?v.cache:e,c=f?e[u]:e[u]&&u;if((!c||!l[c]||!i&&!l[c].data)&&a&&r===t)return;c||(f?e[u]=c=v.deletedIds.pop()||v.guid++:c=u),l[c]||(l[c]={},f||(l[c].toJSON=v.noop));if(typeof n=="object"||typeof n=="function")i?l[c]=v.extend(l[c],n):l[c].data=v.extend(l[c].data,n);return s=l[c],i||(s.data||(s.data={}),s=s.data),r!==t&&(s[v.camelCase(n)]=r),a?(o=s[n],o==null&&(o=s[v.camelCase(n)])):o=s,o},removeData:function(e,t,n){if(!v.acceptData(e))return;var r,i,s,o=e.nodeType,u=o?v.cache:e,a=o?e[v.expando]:v.expando;if(!u[a])return;if(t){r=n?u[a]:u[a].data;if(r){v.isArray(t)||(t in r?t=[t]:(t=v.camelCase(t),t in r?t=[t]:t=t.split(" ")));for(i=0,s=t.length;i<s;i++)delete r[t[i]];if(!(n?B:v.isEmptyObject)(r))return}}if(!n){delete u[a].data;if(!B(u[a]))return}o?v.cleanData([e],!0):v.support.deleteExpando||u!=u.window?delete u[a]:u[a]=null},_data:function(e,t,n){return v.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&v.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),v.fn.extend({data:function(e,n){var r,i,s,o,u,a=this[0],f=0,l=null;if(e===t){if(this.length){l=v.data(a);if(a.nodeType===1&&!v._data(a,"parsedAttrs")){s=a.attributes;for(u=s.length;f<u;f++)o=s[f].name,o.indexOf("data-")||(o=v.camelCase(o.substring(5)),H(a,o,l[o]));v._data(a,"parsedAttrs",!0)}}return l}return typeof e=="object"?this.each(function(){v.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",i=r[1]+"!",v.access(this,function(n){if(n===t)return l=this.triggerHandler("getData"+i,[r[0]]),l===t&&a&&(l=v.data(a,e),l=H(a,e,l)),l===t&&r[1]?this.data(r[0]):l;r[1]=n,this.each(function(){var t=v(this);t.triggerHandler("setData"+i,r),v.data(this,e,n),t.triggerHandler("changeData"+i,r)})},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){v.removeData(this,e)})}}),v.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=v._data(e,t),n&&(!r||v.isArray(n)?r=v._data(e,t,v.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=v.queue(e,t),r=n.length,i=n.shift(),s=v._queueHooks(e,t),o=function(){v.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return v._data(e,n)||v._data(e,n,{empty:v.Callbacks("once memory").add(function(){v.removeData(e,t+"queue",!0),v.removeData(e,n,!0)})})}}),v.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?v.queue(this[0],e):n===t?this:this.each(function(){var t=v.queue(this,e,n);v._queueHooks(this,e),e==="fx"&&t[0]!=="inprogress"&&v.dequeue(this,e)})},dequeue:function(e){return this.each(function(){v.dequeue(this,e)})},delay:function(e,t){return e=v.fx?v.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=v.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};typeof e!="string"&&(n=e,e=t),e=e||"fx";while(u--)r=v._data(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var j,F,I,q=/[\t\r\n]/g,R=/\r/g,U=/^(?:button|input)$/i,z=/^(?:button|input|object|select|textarea)$/i,W=/^a(?:rea|)$/i,X=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,V=v.support.getSetAttribute;v.fn.extend({attr:function(e,t){return v.access(this,v.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){v.removeAttr(this,e)})},prop:function(e,t){return v.access(this,v.prop,e,t,arguments.length>1)},removeProp:function(e){return e=v.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o,u;if(v.isFunction(e))return this.each(function(t){v(this).addClass(e.call(this,t,this.className))});if(e&&typeof e=="string"){t=e.split(y);for(n=0,r=this.length;n<r;n++){i=this[n];if(i.nodeType===1)if(!i.className&&t.length===1)i.className=e;else{s=" "+i.className+" ";for(o=0,u=t.length;o<u;o++)s.indexOf(" "+t[o]+" ")<0&&(s+=t[o]+" ");i.className=v.trim(s)}}}return this},removeClass:function(e){var n,r,i,s,o,u,a;if(v.isFunction(e))return this.each(function(t){v(this).removeClass(e.call(this,t,this.className))});if(e&&typeof e=="string"||e===t){n=(e||"").split(y);for(u=0,a=this.length;u<a;u++){i=this[u];if(i.nodeType===1&&i.className){r=(" "+i.className+" ").replace(q," ");for(s=0,o=n.length;s<o;s++)while(r.indexOf(" "+n[s]+" ")>=0)r=r.replace(" "+n[s]+" "," ");i.className=e?v.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t=="boolean";return v.isFunction(e)?this.each(function(n){v(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var i,s=0,o=v(this),u=t,a=e.split(y);while(i=a[s++])u=r?u:!o.hasClass(i),o[u?"addClass":"removeClass"](i)}else if(n==="undefined"||n==="boolean")this.className&&v._data(this,"__className__",this.className),this.className=this.className||e===!1?"":v._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(q," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s)return n=v.valHooks[s.type]||v.valHooks[s.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(s,"value"))!==t?r:(r=s.value,typeof r=="string"?r.replace(R,""):r==null?"":r);return}return i=v.isFunction(e),this.each(function(r){var s,o=v(this);if(this.nodeType!==1)return;i?s=e.call(this,r,o.val()):s=e,s==null?s="":typeof s=="number"?s+="":v.isArray(s)&&(s=v.map(s,function(e){return e==null?"":e+""})),n=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()];if(!n||!("set"in n)||n.set(this,s,"value")===t)this.value=s})}}),v.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(v.support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!v.nodeName(n.parentNode,"optgroup"))){t=v(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n=v.makeArray(t);return v(e).find("option").each(function(){this.selected=v.inArray(v(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,r,i){var s,o,u,a=e.nodeType;if(!e||a===3||a===8||a===2)return;if(i&&v.isFunction(v.fn[n]))return v(e)[n](r);if(typeof e.getAttribute=="undefined")return v.prop(e,n,r);u=a!==1||!v.isXMLDoc(e),u&&(n=n.toLowerCase(),o=v.attrHooks[n]||(X.test(n)?F:j));if(r!==t){if(r===null){v.removeAttr(e,n);return}return o&&"set"in o&&u&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,r+""),r)}return o&&"get"in o&&u&&(s=o.get(e,n))!==null?s:(s=e.getAttribute(n),s===null?t:s)},removeAttr:function(e,t){var n,r,i,s,o=0;if(t&&e.nodeType===1){r=t.split(y);for(;o<r.length;o++)i=r[o],i&&(n=v.propFix[i]||i,s=X.test(i),s||v.attr(e,i,""),e.removeAttribute(V?i:n),s&&n in e&&(e[n]=!1))}},attrHooks:{type:{set:function(e,t){if(U.test(e.nodeName)&&e.parentNode)v.error("type property can't be changed");else if(!v.support.radioValue&&t==="radio"&&v.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return j&&v.nodeName(e,"button")?j.get(e,t):t in e?e.value:null},set:function(e,t,n){if(j&&v.nodeName(e,"button"))return j.set(e,t,n);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;return o=u!==1||!v.isXMLDoc(e),o&&(n=v.propFix[n]||n,s=v.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):z.test(e.nodeName)||W.test(e.nodeName)&&e.href?0:t}}}}),F={get:function(e,n){var r,i=v.prop(e,n);return i===!0||typeof i!="boolean"&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?v.removeAttr(e,n):(r=v.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},V||(I={name:!0,id:!0,coords:!0},j=v.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(I[n]?r.value!=="":r.specified)?r.value:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=i.createAttribute(n),e.setAttributeNode(r)),r.value=t+""}},v.each(["width","height"],function(e,t){v.attrHooks[t]=v.extend(v.attrHooks[t],{set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}})}),v.attrHooks.contenteditable={get:j.get,set:function(e,t,n){t===""&&(t="false"),j.set(e,t,n)}}),v.support.hrefNormalized||v.each(["href","src","width","height"],function(e,n){v.attrHooks[n]=v.extend(v.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r===null?t:r}})}),v.support.style||(v.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),v.support.optSelected||(v.propHooks.selected=v.extend(v.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),v.support.enctype||(v.propFix.enctype="encoding"),v.support.checkOn||v.each(["radio","checkbox"],function(){v.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),v.each(["radio","checkbox"],function(){v.valHooks[this]=v.extend(v.valHooks[this],{set:function(e,t){if(v.isArray(t))return e.checked=v.inArray(v(e).val(),t)>=0}})});var $=/^(?:textarea|input|select)$/i,J=/^([^\.]*|)(?:\.(.+)|)$/,K=/(?:^|\s)hover(\.\S+|)\b/,Q=/^key/,G=/^(?:mouse|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,Z=function(e){return v.event.special.hover?e:e.replace(K,"mouseenter$1 mouseleave$1")};v.event={add:function(e,n,r,i,s){var o,u,a,f,l,c,h,p,d,m,g;if(e.nodeType===3||e.nodeType===8||!n||!r||!(o=v._data(e)))return;r.handler&&(d=r,r=d.handler,s=d.selector),r.guid||(r.guid=v.guid++),a=o.events,a||(o.events=a={}),u=o.handle,u||(o.handle=u=function(e){return typeof v=="undefined"||!!e&&v.event.triggered===e.type?t:v.event.dispatch.apply(u.elem,arguments)},u.elem=e),n=v.trim(Z(n)).split(" ");for(f=0;f<n.length;f++){l=J.exec(n[f])||[],c=l[1],h=(l[2]||"").split(".").sort(),g=v.event.special[c]||{},c=(s?g.delegateType:g.bindType)||c,g=v.event.special[c]||{},p=v.extend({type:c,origType:l[1],data:i,handler:r,guid:r.guid,selector:s,needsContext:s&&v.expr.match.needsContext.test(s),namespace:h.join(".")},d),m=a[c];if(!m){m=a[c]=[],m.delegateCount=0;if(!g.setup||g.setup.call(e,i,h,u)===!1)e.addEventListener?e.addEventListener(c,u,!1):e.attachEvent&&e.attachEvent("on"+c,u)}g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),s?m.splice(m.delegateCount++,0,p):m.push(p),v.event.global[c]=!0}e=null},global:{},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,m,g=v.hasData(e)&&v._data(e);if(!g||!(h=g.events))return;t=v.trim(Z(t||"")).split(" ");for(s=0;s<t.length;s++){o=J.exec(t[s])||[],u=a=o[1],f=o[2];if(!u){for(u in h)v.event.remove(e,u+t[s],n,r,!0);continue}p=v.event.special[u]||{},u=(r?p.delegateType:p.bindType)||u,d=h[u]||[],l=d.length,f=f?new RegExp("(^|\\.)"+f.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(c=0;c<d.length;c++)m=d[c],(i||a===m.origType)&&(!n||n.guid===m.guid)&&(!f||f.test(m.namespace))&&(!r||r===m.selector||r==="**"&&m.selector)&&(d.splice(c--,1),m.selector&&d.delegateCount--,p.remove&&p.remove.call(e,m));d.length===0&&l!==d.length&&((!p.teardown||p.teardown.call(e,f,g.handle)===!1)&&v.removeEvent(e,u,g.handle),delete h[u])}v.isEmptyObject(h)&&(delete g.handle,v.removeData(e,"events",!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,s,o){if(!s||s.nodeType!==3&&s.nodeType!==8){var u,a,f,l,c,h,p,d,m,g,y=n.type||n,b=[];if(Y.test(y+v.event.triggered))return;y.indexOf("!")>=0&&(y=y.slice(0,-1),a=!0),y.indexOf(".")>=0&&(b=y.split("."),y=b.shift(),b.sort());if((!s||v.event.customEvent[y])&&!v.event.global[y])return;n=typeof n=="object"?n[v.expando]?n:new v.Event(y,n):new v.Event(y),n.type=y,n.isTrigger=!0,n.exclusive=a,n.namespace=b.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h=y.indexOf(":")<0?"on"+y:"";if(!s){u=v.cache;for(f in u)u[f].events&&u[f].events[y]&&v.event.trigger(n,r,u[f].handle.elem,!0);return}n.result=t,n.target||(n.target=s),r=r!=null?v.makeArray(r):[],r.unshift(n),p=v.event.special[y]||{};if(p.trigger&&p.trigger.apply(s,r)===!1)return;m=[[s,p.bindType||y]];if(!o&&!p.noBubble&&!v.isWindow(s)){g=p.delegateType||y,l=Y.test(g+y)?s:s.parentNode;for(c=s;l;l=l.parentNode)m.push([l,g]),c=l;c===(s.ownerDocument||i)&&m.push([c.defaultView||c.parentWindow||e,g])}for(f=0;f<m.length&&!n.isPropagationStopped();f++)l=m[f][0],n.type=m[f][1],d=(v._data(l,"events")||{})[n.type]&&v._data(l,"handle"),d&&d.apply(l,r),d=h&&l[h],d&&v.acceptData(l)&&d.apply&&d.apply(l,r)===!1&&n.preventDefault();return n.type=y,!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(s.ownerDocument,r)===!1)&&(y!=="click"||!v.nodeName(s,"a"))&&v.acceptData(s)&&h&&s[y]&&(y!=="focus"&&y!=="blur"||n.target.offsetWidth!==0)&&!v.isWindow(s)&&(c=s[h],c&&(s[h]=null),v.event.triggered=y,s[y](),v.event.triggered=t,c&&(s[h]=c)),n.result}return},dispatch:function(n){n=v.event.fix(n||e.event);var r,i,s,o,u,a,f,c,h,p,d=(v._data(this,"events")||{})[n.type]||[],m=d.delegateCount,g=l.call(arguments),y=!n.exclusive&&!n.namespace,b=v.event.special[n.type]||{},w=[];g[0]=n,n.delegateTarget=this;if(b.preDispatch&&b.preDispatch.call(this,n)===!1)return;if(m&&(!n.button||n.type!=="click"))for(s=n.target;s!=this;s=s.parentNode||this)if(s.disabled!==!0||n.type!=="click"){u={},f=[];for(r=0;r<m;r++)c=d[r],h=c.selector,u[h]===t&&(u[h]=c.needsContext?v(h,this).index(s)>=0:v.find(h,this,null,[s]).length),u[h]&&f.push(c);f.length&&w.push({elem:s,matches:f})}d.length>m&&w.push({elem:this,matches:d.slice(m)});for(r=0;r<w.length&&!n.isPropagationStopped();r++){a=w[r],n.currentTarget=a.elem;for(i=0;i<a.matches.length&&!n.isImmediatePropagationStopped();i++){c=a.matches[i];if(y||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace))n.data=c.data,n.handleObj=c,o=((v.event.special[c.origType]||{}).handle||c.handler).apply(a.elem,g),o!==t&&(n.result=o,o===!1&&(n.preventDefault(),n.stopPropagation()))}}return b.postDispatch&&b.postDispatch.call(this,n),n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,s,o,u=n.button,a=n.fromElement;return e.pageX==null&&n.clientX!=null&&(r=e.target.ownerDocument||i,s=r.documentElement,o=r.body,e.pageX=n.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),!e.which&&u!==t&&(e.which=u&1?1:u&2?3:u&4?2:0),e}},fix:function(e){if(e[v.expando])return e;var t,n,r=e,s=v.event.fixHooks[e.type]||{},o=s.props?this.props.concat(s.props):this.props;e=v.Event(r);for(t=o.length;t;)n=o[--t],e[n]=r[n];return e.target||(e.target=r.srcElement||i),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,r):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){v.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=v.extend(new v.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?v.event.trigger(i,null,t):v.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},v.event.handle=v.event.dispatch,v.removeEvent=i.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]=="undefined"&&(e[r]=null),e.detachEvent(r,n))},v.Event=function(e,t){if(!(this instanceof v.Event))return new v.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?tt:et):this.type=e,t&&v.extend(this,t),this.timeStamp=e&&e.timeStamp||v.now(),this[v.expando]=!0},v.Event.prototype={preventDefault:function(){this.isDefaultPrevented=tt;var e=this.originalEvent;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=tt;var e=this.originalEvent;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=tt,this.stopPropagation()},isDefaultPrevented:et,isPropagationStopped:et,isImmediatePropagationStopped:et},v.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){v.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj,o=s.selector;if(!i||i!==r&&!v.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),v.support.submitBubbles||(v.event.special.submit={setup:function(){if(v.nodeName(this,"form"))return!1;v.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=v.nodeName(n,"input")||v.nodeName(n,"button")?n.form:t;r&&!v._data(r,"_submit_attached")&&(v.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),v._data(r,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&v.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(v.nodeName(this,"form"))return!1;v.event.remove(this,"._submit")}}),v.support.changeBubbles||(v.event.special.change={setup:function(){if($.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")v.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),v.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),v.event.simulate("change",this,e,!0)});return!1}v.event.add(this,"beforeactivate._change",function(e){var t=e.target;$.test(t.nodeName)&&!v._data(t,"_change_attached")&&(v.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&v.event.simulate("change",this.parentNode,e,!0)}),v._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return v.event.remove(this,"._change"),!$.test(this.nodeName)}}),v.support.focusinBubbles||v.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){v.event.simulate(t,e.target,v.event.fix(e),!0)};v.event.special[t]={setup:function(){n++===0&&i.addEventListener(e,r,!0)},teardown:function(){--n===0&&i.removeEventListener(e,r,!0)}}}),v.fn.extend({on:function(e,n,r,i,s){var o,u;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(u in e)this.on(u,n,r,e[u],s);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=et;else if(!i)return this;return s===1&&(o=i,i=function(e){return v().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=v.guid++)),this.each(function(){v.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,v(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if(typeof e=="object"){for(s in e)this.off(s,n,e[s]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=et),this.each(function(){v.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return v(this.context).on(e,this.selector,t,n),this},die:function(e,t){return v(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){v.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return v.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||v.guid++,r=0,i=function(n){var i=(v._data(this,"lastToggle"+e.guid)||0)%r;return v._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};i.guid=n;while(r<t.length)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),v.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){v.fn[t]=function(e,n){return n==null&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Q.test(t)&&(v.event.fixHooks[t]=v.event.keyHooks),G.test(t)&&(v.event.fixHooks[t]=v.event.mouseHooks)}),function(e,t){function nt(e,t,n,r){n=n||[],t=t||g;var i,s,a,f,l=t.nodeType;if(!e||typeof e!="string")return n;if(l!==1&&l!==9)return[];a=o(t);if(!a&&!r)if(i=R.exec(e))if(f=i[1]){if(l===9){s=t.getElementById(f);if(!s||!s.parentNode)return n;if(s.id===f)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(f))&&u(t,s)&&s.id===f)return n.push(s),n}else{if(i[2])return S.apply(n,x.call(t.getElementsByTagName(e),0)),n;if((f=i[3])&&Z&&t.getElementsByClassName)return S.apply(n,x.call(t.getElementsByClassName(f),0)),n}return vt(e.replace(j,"$1"),t,n,r,a)}function rt(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function it(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function st(e){return N(function(t){return t=+t,N(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function ot(e,t,n){if(e===t)return n;var r=e.nextSibling;while(r){if(r===t)return-1;r=r.nextSibling}return 1}function ut(e,t){var n,r,s,o,u,a,f,l=L[d][e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=i.preFilter;while(u){if(!n||(r=F.exec(u)))r&&(u=u.slice(r[0].length)||u),a.push(s=[]);n=!1;if(r=I.exec(u))s.push(n=new m(r.shift())),u=u.slice(n.length),n.type=r[0].replace(j," ");for(o in i.filter)(r=J[o].exec(u))&&(!f[o]||(r=f[o](r)))&&(s.push(n=new m(r.shift())),u=u.slice(n.length),n.type=o,n.matches=r);if(!n)break}return t?u.length:u?nt.error(e):L(e,a).slice(0)}function at(e,t,r){var i=t.dir,s=r&&t.dir==="parentNode",o=w++;return t.first?function(t,n,r){while(t=t[i])if(s||t.nodeType===1)return e(t,n,r)}:function(t,r,u){if(!u){var a,f=b+" "+o+" ",l=f+n;while(t=t[i])if(s||t.nodeType===1){if((a=t[d])===l)return t.sizset;if(typeof a=="string"&&a.indexOf(f)===0){if(t.sizset)return t}else{t[d]=l;if(e(t,r,u))return t.sizset=!0,t;t.sizset=!1}}}else while(t=t[i])if(s||t.nodeType===1)if(e(t,r,u))return t}}function ft(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function lt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function ct(e,t,n,r,i,s){return r&&!r[d]&&(r=ct(r)),i&&!i[d]&&(i=ct(i,s)),N(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||dt(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?lt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=lt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?T.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=lt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):S.apply(o,g)})}function ht(e){var t,n,r,s=e.length,o=i.relative[e[0].type],u=o||i.relative[" "],a=o?1:0,f=at(function(e){return e===t},u,!0),l=at(function(e){return T.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==c)||((t=n).nodeType?f(e,n,r):l(e,n,r))}];for(;a<s;a++)if(n=i.relative[e[a].type])h=[at(ft(h),n)];else{n=i.filter[e[a].type].apply(null,e[a].matches);if(n[d]){r=++a;for(;r<s;r++)if(i.relative[e[r].type])break;return ct(a>1&&ft(h),a>1&&e.slice(0,a-1).join("").replace(j,"$1"),n,a<r&&ht(e.slice(a,r)),r<s&&ht(e=e.slice(r)),r<s&&e.join(""))}h.push(n)}return ft(h)}function pt(e,t){var r=t.length>0,s=e.length>0,o=function(u,a,f,l,h){var p,d,v,m=[],y=0,w="0",x=u&&[],T=h!=null,N=c,C=u||s&&i.find.TAG("*",h&&a.parentNode||a),k=b+=N==null?1:Math.E;T&&(c=a!==g&&a,n=o.el);for(;(p=C[w])!=null;w++){if(s&&p){for(d=0;v=e[d];d++)if(v(p,a,f)){l.push(p);break}T&&(b=k,n=++o.el)}r&&((p=!v&&p)&&y--,u&&x.push(p))}y+=w;if(r&&w!==y){for(d=0;v=t[d];d++)v(x,m,a,f);if(u){if(y>0)while(w--)!x[w]&&!m[w]&&(m[w]=E.call(l));m=lt(m)}S.apply(l,m),T&&!u&&m.length>0&&y+t.length>1&&nt.uniqueSort(l)}return T&&(b=k,c=N),x};return o.el=0,r?N(o):o}function dt(e,t,n){var r=0,i=t.length;for(;r<i;r++)nt(e,t[r],n);return n}function vt(e,t,n,r,s){var o,u,f,l,c,h=ut(e),p=h.length;if(!r&&h.length===1){u=h[0]=h[0].slice(0);if(u.length>2&&(f=u[0]).type==="ID"&&t.nodeType===9&&!s&&i.relative[u[1].type]){t=i.find.ID(f.matches[0].replace($,""),t,s)[0];if(!t)return n;e=e.slice(u.shift().length)}for(o=J.POS.test(e)?-1:u.length-1;o>=0;o--){f=u[o];if(i.relative[l=f.type])break;if(c=i.find[l])if(r=c(f.matches[0].replace($,""),z.test(u[0].type)&&t.parentNode||t,s)){u.splice(o,1),e=r.length&&u.join("");if(!e)return S.apply(n,x.call(r,0)),n;break}}}return a(e,h)(r,t,s,n,z.test(e)),n}function mt(){}var n,r,i,s,o,u,a,f,l,c,h=!0,p="undefined",d=("sizcache"+Math.random()).replace(".",""),m=String,g=e.document,y=g.documentElement,b=0,w=0,E=[].pop,S=[].push,x=[].slice,T=[].indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},N=function(e,t){return e[d]=t==null||t,e},C=function(){var e={},t=[];return N(function(n,r){return t.push(n)>i.cacheLength&&delete e[t.shift()],e[n+" "]=r},e)},k=C(),L=C(),A=C(),O="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",_=M.replace("w","w#"),D="([*^$|!~]?=)",P="\\["+O+"*("+M+")"+O+"*(?:"+D+O+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+_+")|)|)"+O+"*\\]",H=":("+M+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+P+")|[^:]|\\\\.)*|.*))\\)|)",B=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)",j=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g"),F=new RegExp("^"+O+"*,"+O+"*"),I=new RegExp("^"+O+"*([\\x20\\t\\r\\n\\f>+~])"+O+"*"),q=new RegExp(H),R=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,U=/^:not/,z=/[\x20\t\r\n\f]*[+~]/,W=/:not\($/,X=/h\d/i,V=/input|select|textarea|button/i,$=/\\(?!\\)/g,J={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),NAME:new RegExp("^\\[name=['\"]?("+M+")['\"]?\\]"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+H),POS:new RegExp(B,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),needsContext:new RegExp("^"+O+"*[>+~]|"+B,"i")},K=function(e){var t=g.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},Q=K(function(e){return e.appendChild(g.createComment("")),!e.getElementsByTagName("*").length}),G=K(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==p&&e.firstChild.getAttribute("href")==="#"}),Y=K(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),Z=K(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!e.getElementsByClassName||!e.getElementsByClassName("e").length?!1:(e.lastChild.className="e",e.getElementsByClassName("e").length===2)}),et=K(function(e){e.id=d+0,e.innerHTML="<a name='"+d+"'></a><div name='"+d+"'></div>",y.insertBefore(e,y.firstChild);var t=g.getElementsByName&&g.getElementsByName(d).length===2+g.getElementsByName(d+0).length;return r=!g.getElementById(d),y.removeChild(e),t});try{x.call(y.childNodes,0)[0].nodeType}catch(tt){x=function(e){var t,n=[];for(;t=this[e];e++)n.push(t);return n}}nt.matches=function(e,t){return nt(e,null,null,t)},nt.matchesSelector=function(e,t){return nt(t,null,null,[e]).length>0},s=nt.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(i===3||i===4)return e.nodeValue}else for(;t=e[r];r++)n+=s(t);return n},o=nt.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},u=nt.contains=y.contains?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&r.nodeType===1&&n.contains&&n.contains(r))}:y.compareDocumentPosition?function(e,t){return t&&!!(e.compareDocumentPosition(t)&16)}:function(e,t){while(t=t.parentNode)if(t===e)return!0;return!1},nt.attr=function(e,t){var n,r=o(e);return r||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):r||Y?e.getAttribute(t):(n=e.getAttributeNode(t),n?typeof e[t]=="boolean"?e[t]?t:null:n.specified?n.value:null:null)},i=nt.selectors={cacheLength:50,createPseudo:N,match:J,attrHandle:G?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:r?function(e,t,n){if(typeof t.getElementById!==p&&!n){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==p&&!r){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==p&&i.getAttributeNode("id").value===e?[i]:t:[]}},TAG:Q?function(e,t){if(typeof t.getElementsByTagName!==p)return t.getElementsByTagName(e)}:function(e,t){var n=t.getElementsByTagName(e);if(e==="*"){var r,i=[],s=0;for(;r=n[s];s++)r.nodeType===1&&i.push(r);return i}return n},NAME:et&&function(e,t){if(typeof t.getElementsByName!==p)return t.getElementsByName(name)},CLASS:Z&&function(e,t,n){if(typeof t.getElementsByClassName!==p&&!n)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace($,""),e[3]=(e[4]||e[5]||"").replace($,""),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1]==="nth"?(e[2]||nt.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]==="even"||e[2]==="odd")),e[4]=+(e[6]+e[7]||e[2]==="odd")):e[2]&&nt.error(e[0]),e},PSEUDO:function(e){var t,n;if(J.CHILD.test(e[0]))return null;if(e[3])e[2]=e[3];else if(t=e[4])q.test(t)&&(n=ut(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t;return e.slice(0,3)}},filter:{ID:r?function(e){return e=e.replace($,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace($,""),function(t){var n=typeof t.getAttributeNode!==p&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return e==="*"?function(){return!0}:(e=e.replace($,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=k[d][e+" "];return t||(t=new RegExp("(^|"+O+")"+e+"("+O+"|$)"))&&k(e,function(e){return t.test(e.className||typeof e.getAttribute!==p&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r,i){var s=nt.attr(r,e);return s==null?t==="!=":t?(s+="",t==="="?s===n:t==="!="?s!==n:t==="^="?n&&s.indexOf(n)===0:t==="*="?n&&s.indexOf(n)>-1:t==="$="?n&&s.substr(s.length-n.length)===n:t==="~="?(" "+s+" ").indexOf(n)>-1:t==="|="?s===n||s.substr(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r){return e==="nth"?function(e){var t,i,s=e.parentNode;if(n===1&&r===0)return!0;if(s){i=0;for(t=s.firstChild;t;t=t.nextSibling)if(t.nodeType===1){i++;if(e===t)break}}return i-=r,i===n||i%n===0&&i/n>=0}:function(t){var n=t;switch(e){case"only":case"first":while(n=n.previousSibling)if(n.nodeType===1)return!1;if(e==="first")return!0;n=t;case"last":while(n=n.nextSibling)if(n.nodeType===1)return!1;return!0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||nt.error("unsupported pseudo: "+e);return r[d]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?N(function(e,n){var i,s=r(e,t),o=s.length;while(o--)i=T.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:N(function(e){var t=[],n=[],r=a(e.replace(j,"$1"));return r[d]?N(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:N(function(e){return function(t){return nt(e,t).length>0}}),contains:N(function(e){return function(t){return(t.textContent||t.innerText||s(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!i.pseudos.empty(e)},empty:function(e){var t;e=e.firstChild;while(e){if(e.nodeName>"@"||(t=e.nodeType)===3||t===4)return!1;e=e.nextSibling}return!0},header:function(e){return X.test(e.nodeName)},text:function(e){var t,n;return e.nodeName.toLowerCase()==="input"&&(t=e.type)==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()===t)},radio:rt("radio"),checkbox:rt("checkbox"),file:rt("file"),password:rt("password"),image:rt("image"),submit:it("submit"),reset:it("reset"),button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},input:function(e){return V.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:st(function(){return[0]}),last:st(function(e,t){return[t-1]}),eq:st(function(e,t,n){return[n<0?n+t:n]}),even:st(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:st(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:st(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:st(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},f=y.compareDocumentPosition?function(e,t){return e===t?(l=!0,0):(!e.compareDocumentPosition||!t.compareDocumentPosition?e.compareDocumentPosition:e.compareDocumentPosition(t)&4)?-1:1}:function(e,t){if(e===t)return l=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],s=[],o=e.parentNode,u=t.parentNode,a=o;if(o===u)return ot(e,t);if(!o)return-1;if(!u)return 1;while(a)i.unshift(a),a=a.parentNode;a=u;while(a)s.unshift(a),a=a.parentNode;n=i.length,r=s.length;for(var f=0;f<n&&f<r;f++)if(i[f]!==s[f])return ot(i[f],s[f]);return f===n?ot(e,s[f],-1):ot(i[f],t,1)},[0,0].sort(f),h=!l,nt.uniqueSort=function(e){var t,n=[],r=1,i=0;l=h,e.sort(f);if(l){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));while(i--)e.splice(n[i],1)}return e},nt.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},a=nt.compile=function(e,t){var n,r=[],i=[],s=A[d][e+" "];if(!s){t||(t=ut(e)),n=t.length;while(n--)s=ht(t[n]),s[d]?r.push(s):i.push(s);s=A(e,pt(i,r))}return s},g.querySelectorAll&&function(){var e,t=vt,n=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,i=[":focus"],s=[":active"],u=y.matchesSelector||y.mozMatchesSelector||y.webkitMatchesSelector||y.oMatchesSelector||y.msMatchesSelector;K(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||i.push("\\["+O+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||i.push(":checked")}),K(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&i.push("[*^$]="+O+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||i.push(":enabled",":disabled")}),i=new RegExp(i.join("|")),vt=function(e,r,s,o,u){if(!o&&!u&&!i.test(e)){var a,f,l=!0,c=d,h=r,p=r.nodeType===9&&e;if(r.nodeType===1&&r.nodeName.toLowerCase()!=="object"){a=ut(e),(l=r.getAttribute("id"))?c=l.replace(n,"\\$&"):r.setAttribute("id",c),c="[id='"+c+"'] ",f=a.length;while(f--)a[f]=c+a[f].join("");h=z.test(e)&&r.parentNode||r,p=a.join(",")}if(p)try{return S.apply(s,x.call(h.querySelectorAll(p),0)),s}catch(v){}finally{l||r.removeAttribute("id")}}return t(e,r,s,o,u)},u&&(K(function(t){e=u.call(t,"div");try{u.call(t,"[test!='']:sizzle"),s.push("!=",H)}catch(n){}}),s=new RegExp(s.join("|")),nt.matchesSelector=function(t,n){n=n.replace(r,"='$1']");if(!o(t)&&!s.test(n)&&!i.test(n))try{var a=u.call(t,n);if(a||e||t.document&&t.document.nodeType!==11)return a}catch(f){}return nt(n,null,null,[t]).length>0})}(),i.pseudos.nth=i.pseudos.eq,i.filters=mt.prototype=i.pseudos,i.setFilters=new mt,nt.attr=v.attr,v.find=nt,v.expr=nt.selectors,v.expr[":"]=v.expr.pseudos,v.unique=nt.uniqueSort,v.text=nt.getText,v.isXMLDoc=nt.isXML,v.contains=nt.contains}(e);var nt=/Until$/,rt=/^(?:parents|prev(?:Until|All))/,it=/^.[^:#\[\.,]*$/,st=v.expr.match.needsContext,ot={children:!0,contents:!0,next:!0,prev:!0};v.fn.extend({find:function(e){var t,n,r,i,s,o,u=this;if(typeof e!="string")return v(e).filter(function(){for(t=0,n=u.length;t<n;t++)if(v.contains(u[t],this))return!0});o=this.pushStack("","find",e);for(t=0,n=this.length;t<n;t++){r=o.length,v.find(e,this[t],o);if(t>0)for(i=r;i<o.length;i++)for(s=0;s<r;s++)if(o[s]===o[i]){o.splice(i--,1);break}}return o},has:function(e){var t,n=v(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(v.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e,!1),"not",e)},filter:function(e){return this.pushStack(ft(this,e,!0),"filter",e)},is:function(e){return!!e&&(typeof e=="string"?st.test(e)?v(e,this.context).index(this[0])>=0:v.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,s=[],o=st.test(e)||typeof e!="string"?v(e,t||this.context):0;for(;r<i;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&n.nodeType!==11){if(o?o.index(n)>-1:v.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}}return s=s.length>1?v.unique(s):s,this.pushStack(s,"closest",e)},index:function(e){return e?typeof e=="string"?v.inArray(this[0],v(e)):v.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?v(e,t):v.makeArray(e&&e.nodeType?[e]:e),r=v.merge(this.get(),n);return this.pushStack(ut(n[0])||ut(r[0])?r:v.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),v.fn.andSelf=v.fn.addBack,v.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return v.dir(e,"parentNode")},parentsUntil:function(e,t,n){return v.dir(e,"parentNode",n)},next:function(e){return at(e,"nextSibling")},prev:function(e){return at(e,"previousSibling")},nextAll:function(e){return v.dir(e,"nextSibling")},prevAll:function(e){return v.dir(e,"previousSibling")},nextUntil:function(e,t,n){return v.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return v.dir(e,"previousSibling",n)},siblings:function(e){return v.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return v.sibling(e.firstChild)},contents:function(e){return v.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:v.merge([],e.childNodes)}},function(e,t){v.fn[e]=function(n,r){var i=v.map(this,t,n);return nt.test(e)||(r=n),r&&typeof r=="string"&&(i=v.filter(r,i)),i=this.length>1&&!ot[e]?v.unique(i):i,this.length>1&&rt.test(e)&&(i=i.reverse()),this.pushStack(i,e,l.call(arguments).join(","))}}),v.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?v.find.matchesSelector(t[0],e)?[t[0]]:[]:v.find.matches(e,t)},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!v(s).is(r)))s.nodeType===1&&i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var ct="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ht=/ jQuery\d+="(?:null|\d+)"/g,pt=/^\s+/,dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,vt=/<([\w:]+)/,mt=/<tbody/i,gt=/<|&#?\w+;/,yt=/<(?:script|style|link)/i,bt=/<(?:script|object|embed|option|style)/i,wt=new RegExp("<(?:"+ct+")[\\s/>]","i"),Et=/^(?:checkbox|radio)$/,St=/checked\s*(?:[^=]|=\s*.checked.)/i,xt=/\/(java|ecma)script/i,Tt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Nt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Ct=lt(i),kt=Ct.appendChild(i.createElement("div"));Nt.optgroup=Nt.option,Nt.tbody=Nt.tfoot=Nt.colgroup=Nt.caption=Nt.thead,Nt.th=Nt.td,v.support.htmlSerialize||(Nt._default=[1,"X<div>","</div>"]),v.fn.extend({text:function(e){return v.access(this,function(e){return e===t?v.text(this):this.empty().append((this[0]&&this[0].ownerDocument||i).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(v.isFunction(e))return this.each(function(t){v(this).wrapAll(e.call(this,t))});if(this[0]){var t=v(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return v.isFunction(e)?this.each(function(t){v(this).wrapInner(e.call(this,t))}):this.each(function(){var t=v(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=v.isFunction(e);return this.each(function(n){v(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){v.nodeName(this,"body")||v(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(e,this),"before",this.selector)}},after:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(this,e),"after",this.selector)}},remove:function(e,t){var n,r=0;for(;(n=this[r])!=null;r++)if(!e||v.filter(e,[n]).length)!t&&n.nodeType===1&&(v.cleanData(n.getElementsByTagName("*")),v.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&v.cleanData(e.getElementsByTagName("*"));while(e.firstChild)e.removeChild(e.firstChild)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return v.clone(this,e,t)})},html:function(e){return v.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(ht,""):t;if(typeof e=="string"&&!yt.test(e)&&(v.support.htmlSerialize||!wt.test(e))&&(v.support.leadingWhitespace||!pt.test(e))&&!Nt[(vt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(dt,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(v.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return ut(this[0])?this.length?this.pushStack(v(v.isFunction(e)?e():e),"replaceWith",e):this:v.isFunction(e)?this.each(function(t){var n=v(this),r=n.html();n.replaceWith(e.call(this,t,r))}):(typeof e!="string"&&(e=v(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;v(this).remove(),t?v(t).before(e):v(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=[].concat.apply([],e);var i,s,o,u,a=0,f=e[0],l=[],c=this.length;if(!v.support.checkClone&&c>1&&typeof f=="string"&&St.test(f))return this.each(function(){v(this).domManip(e,n,r)});if(v.isFunction(f))return this.each(function(i){var s=v(this);e[0]=f.call(this,i,n?s.html():t),s.domManip(e,n,r)});if(this[0]){i=v.buildFragment(e,this,l),o=i.fragment,s=o.firstChild,o.childNodes.length===1&&(o=s);if(s){n=n&&v.nodeName(s,"tr");for(u=i.cacheable||c-1;a<c;a++)r.call(n&&v.nodeName(this[a],"table")?Lt(this[a],"tbody"):this[a],a===u?o:v.clone(o,!0,!0))}o=s=null,l.length&&v.each(l,function(e,t){t.src?v.ajax?v.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):v.error("no ajax"):v.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Tt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),v.buildFragment=function(e,n,r){var s,o,u,a=e[0];return n=n||i,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,e.length===1&&typeof a=="string"&&a.length<512&&n===i&&a.charAt(0)==="<"&&!bt.test(a)&&(v.support.checkClone||!St.test(a))&&(v.support.html5Clone||!wt.test(a))&&(o=!0,s=v.fragments[a],u=s!==t),s||(s=n.createDocumentFragment(),v.clean(e,n,s,r),o&&(v.fragments[a]=u&&s)),{fragment:s,cacheable:o}},v.fragments={},v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){v.fn[e]=function(n){var r,i=0,s=[],o=v(n),u=o.length,a=this.length===1&&this[0].parentNode;if((a==null||a&&a.nodeType===11&&a.childNodes.length===1)&&u===1)return o[t](this[0]),this;for(;i<u;i++)r=(i>0?this.clone(!0):this).get(),v(o[i])[t](r),s=s.concat(r);return this.pushStack(s,e,o.selector)}}),v.extend({clone:function(e,t,n){var r,i,s,o;v.support.html5Clone||v.isXMLDoc(e)||!wt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(kt.innerHTML=e.outerHTML,kt.removeChild(o=kt.firstChild));if((!v.support.noCloneEvent||!v.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!v.isXMLDoc(e)){Ot(e,o),r=Mt(e),i=Mt(o);for(s=0;r[s];++s)i[s]&&Ot(r[s],i[s])}if(t){At(e,o);if(n){r=Mt(e),i=Mt(o);for(s=0;r[s];++s)At(r[s],i[s])}}return r=i=null,o},clean:function(e,t,n,r){var s,o,u,a,f,l,c,h,p,d,m,g,y=t===i&&Ct,b=[];if(!t||typeof t.createDocumentFragment=="undefined")t=i;for(s=0;(u=e[s])!=null;s++){typeof u=="number"&&(u+="");if(!u)continue;if(typeof u=="string")if(!gt.test(u))u=t.createTextNode(u);else{y=y||lt(t),c=t.createElement("div"),y.appendChild(c),u=u.replace(dt,"<$1></$2>"),a=(vt.exec(u)||["",""])[1].toLowerCase(),f=Nt[a]||Nt._default,l=f[0],c.innerHTML=f[1]+u+f[2];while(l--)c=c.lastChild;if(!v.support.tbody){h=mt.test(u),p=a==="table"&&!h?c.firstChild&&c.firstChild.childNodes:f[1]==="<table>"&&!h?c.childNodes:[];for(o=p.length-1;o>=0;--o)v.nodeName(p[o],"tbody")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o])}!v.support.leadingWhitespace&&pt.test(u)&&c.insertBefore(t.createTextNode(pt.exec(u)[0]),c.firstChild),u=c.childNodes,c.parentNode.removeChild(c)}u.nodeType?b.push(u):v.merge(b,u)}c&&(u=c=y=null);if(!v.support.appendChecked)for(s=0;(u=b[s])!=null;s++)v.nodeName(u,"input")?_t(u):typeof u.getElementsByTagName!="undefined"&&v.grep(u.getElementsByTagName("input"),_t);if(n){m=function(e){if(!e.type||xt.test(e.type))return r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e)};for(s=0;(u=b[s])!=null;s++)if(!v.nodeName(u,"script")||!m(u))n.appendChild(u),typeof u.getElementsByTagName!="undefined"&&(g=v.grep(v.merge([],u.getElementsByTagName("script")),m),b.splice.apply(b,[s+1,0].concat(g)),s+=g.length)}return b},cleanData:function(e,t){var n,r,i,s,o=0,u=v.expando,a=v.cache,f=v.support.deleteExpando,l=v.event.special;for(;(i=e[o])!=null;o++)if(t||v.acceptData(i)){r=i[u],n=r&&a[r];if(n){if(n.events)for(s in n.events)l[s]?v.event.remove(i,s):v.removeEvent(i,s,n.handle);a[r]&&(delete a[r],f?delete i[u]:i.removeAttribute?i.removeAttribute(u):i[u]=null,v.deletedIds.push(r))}}}}),function(){var e,t;v.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=v.uaMatch(o.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),v.browser=t,v.sub=function(){function e(t,n){return new e.fn.init(t,n)}v.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(r,i){return i&&i instanceof v&&!(i instanceof e)&&(i=e(i)),v.fn.init.call(this,r,i,t)},e.fn.init.prototype=e.fn;var t=e(i);return e}}();var Dt,Pt,Ht,Bt=/alpha\([^)]*\)/i,jt=/opacity=([^)]*)/,Ft=/^(top|right|bottom|left)$/,It=/^(none|table(?!-c[ea]).+)/,qt=/^margin/,Rt=new RegExp("^("+m+")(.*)$","i"),Ut=new RegExp("^("+m+")(?!px)[a-z%]+$","i"),zt=new RegExp("^([-+])=("+m+")","i"),Wt={BODY:"block"},Xt={position:"absolute",visibility:"hidden",display:"block"},Vt={letterSpacing:0,fontWeight:400},$t=["Top","Right","Bottom","Left"],Jt=["Webkit","O","Moz","ms"],Kt=v.fn.toggle;v.fn.extend({css:function(e,n){return v.access(this,function(e,n,r){return r!==t?v.style(e,n,r):v.css(e,n)},e,n,arguments.length>1)},show:function(){return Yt(this,!0)},hide:function(){return Yt(this)},toggle:function(e,t){var n=typeof e=="boolean";return v.isFunction(e)&&v.isFunction(t)?Kt.apply(this,arguments):this.each(function(){(n?e:Gt(this))?v(this).show():v(this).hide()})}}),v.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Dt(e,"opacity");return n===""?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":v.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var s,o,u,a=v.camelCase(n),f=e.style;n=v.cssProps[a]||(v.cssProps[a]=Qt(f,a)),u=v.cssHooks[n]||v.cssHooks[a];if(r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];o=typeof r,o==="string"&&(s=zt.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(v.css(e,n)),o="number");if(r==null||o==="number"&&isNaN(r))return;o==="number"&&!v.cssNumber[a]&&(r+="px");if(!u||!("set"in u)||(r=u.set(e,r,i))!==t)try{f[n]=r}catch(l){}},css:function(e,n,r,i){var s,o,u,a=v.camelCase(n);return n=v.cssProps[a]||(v.cssProps[a]=Qt(e.style,a)),u=v.cssHooks[n]||v.cssHooks[a],u&&"get"in u&&(s=u.get(e,!0,i)),s===t&&(s=Dt(e,n)),s==="normal"&&n in Vt&&(s=Vt[n]),r||i!==t?(o=parseFloat(s),r||v.isNumeric(o)?o||0:s):s},swap:function(e,t,n){var r,i,s={};for(i in t)s[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=s[i];return r}}),e.getComputedStyle?Dt=function(t,n){var r,i,s,o,u=e.getComputedStyle(t,null),a=t.style;return u&&(r=u.getPropertyValue(n)||u[n],r===""&&!v.contains(t.ownerDocument,t)&&(r=v.style(t,n)),Ut.test(r)&&qt.test(n)&&(i=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=u.width,a.width=i,a.minWidth=s,a.maxWidth=o)),r}:i.documentElement.currentStyle&&(Dt=function(e,t){var n,r,i=e.currentStyle&&e.currentStyle[t],s=e.style;return i==null&&s&&s[t]&&(i=s[t]),Ut.test(i)&&!Ft.test(t)&&(n=s.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),s.left=t==="fontSize"?"1em":i,i=s.pixelLeft+"px",s.left=n,r&&(e.runtimeStyle.left=r)),i===""?"auto":i}),v.each(["height","width"],function(e,t){v.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&It.test(Dt(e,"display"))?v.swap(e,Xt,function(){return tn(e,t,r)}):tn(e,t,r)},set:function(e,n,r){return Zt(e,n,r?en(e,t,r,v.support.boxSizing&&v.css(e,"boxSizing")==="border-box"):0)}}}),v.support.opacity||(v.cssHooks.opacity={get:function(e,t){return jt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=v.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if(t>=1&&v.trim(s.replace(Bt,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(r&&!r.filter)return}n.filter=Bt.test(s)?s.replace(Bt,i):s+" "+i}}),v(function(){v.support.reliableMarginRight||(v.cssHooks.marginRight={get:function(e,t){return v.swap(e,{display:"inline-block"},function(){if(t)return Dt(e,"marginRight")})}}),!v.support.pixelPosition&&v.fn.position&&v.each(["top","left"],function(e,t){v.cssHooks[t]={get:function(e,n){if(n){var r=Dt(e,t);return Ut.test(r)?v(e).position()[t]+"px":r}}}})}),v.expr&&v.expr.filters&&(v.expr.filters.hidden=function(e){return e.offsetWidth===0&&e.offsetHeight===0||!v.support.reliableHiddenOffsets&&(e.style&&e.style.display||Dt(e,"display"))==="none"},v.expr.filters.visible=function(e){return!v.expr.filters.hidden(e)}),v.each({margin:"",padding:"",border:"Width"},function(e,t){v.cssHooks[e+t]={expand:function(n){var r,i=typeof n=="string"?n.split(" "):[n],s={};for(r=0;r<4;r++)s[e+$t[r]+t]=i[r]||i[r-2]||i[0];return s}},qt.test(e)||(v.cssHooks[e+t].set=Zt)});var rn=/%20/g,sn=/\[\]$/,on=/\r?\n/g,un=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,an=/^(?:select|textarea)/i;v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?v.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||an.test(this.nodeName)||un.test(this.type))}).map(function(e,t){var n=v(this).val();return n==null?null:v.isArray(n)?v.map(n,function(e,n){return{name:t.name,value:e.replace(on,"\r\n")}}):{name:t.name,value:n.replace(on,"\r\n")}}).get()}}),v.param=function(e,n){var r,i=[],s=function(e,t){t=v.isFunction(t)?t():t==null?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=v.ajaxSettings&&v.ajaxSettings.traditional);if(v.isArray(e)||e.jquery&&!v.isPlainObject(e))v.each(e,function(){s(this.name,this.value)});else for(r in e)fn(r,e[r],n,s);return i.join("&").replace(rn,"+")};var ln,cn,hn=/#.*$/,pn=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,dn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,vn=/^(?:GET|HEAD)$/,mn=/^\/\//,gn=/\?/,yn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bn=/([?&])_=[^&]*/,wn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,En=v.fn.load,Sn={},xn={},Tn=["*/"]+["*"];try{cn=s.href}catch(Nn){cn=i.createElement("a"),cn.href="",cn=cn.href}ln=wn.exec(cn.toLowerCase())||[],v.fn.load=function(e,n,r){if(typeof e!="string"&&En)return En.apply(this,arguments);if(!this.length)return this;var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),v.isFunction(n)?(r=n,n=t):n&&typeof n=="object"&&(s="POST"),v.ajax({url:e,type:s,dataType:"html",data:n,complete:function(e,t){r&&u.each(r,o||[e.responseText,t,e])}}).done(function(e){o=arguments,u.html(i?v("<div>").append(e.replace(yn,"")).find(i):e)}),this},v.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){v.fn[t]=function(e){return this.on(t,e)}}),v.each(["get","post"],function(e,n){v[n]=function(e,r,i,s){return v.isFunction(r)&&(s=s||i,i=r,r=t),v.ajax({type:n,url:e,data:r,success:i,dataType:s})}}),v.extend({getScript:function(e,n){return v.get(e,t,n,"script")},getJSON:function(e,t,n){return v.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?Ln(e,v.ajaxSettings):(t=e,e=v.ajaxSettings),Ln(e,t),e},ajaxSettings:{url:cn,isLocal:dn.test(ln[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Tn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":v.parseJSON,"text xml":v.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:Cn(Sn),ajaxTransport:Cn(xn),ajax:function(e,n){function T(e,n,s,a){var l,y,b,w,S,T=n;if(E===2)return;E=2,u&&clearTimeout(u),o=t,i=a||"",x.readyState=e>0?4:0,s&&(w=An(c,x,s));if(e>=200&&e<300||e===304)c.ifModified&&(S=x.getResponseHeader("Last-Modified"),S&&(v.lastModified[r]=S),S=x.getResponseHeader("Etag"),S&&(v.etag[r]=S)),e===304?(T="notmodified",l=!0):(l=On(c,w),T=l.state,y=l.data,b=l.error,l=!b);else{b=T;if(!T||e)T="error",e<0&&(e=0)}x.status=e,x.statusText=(n||T)+"",l?d.resolveWith(h,[y,T,x]):d.rejectWith(h,[x,T,b]),x.statusCode(g),g=t,f&&p.trigger("ajax"+(l?"Success":"Error"),[x,c,l?y:b]),m.fireWith(h,[x,T]),f&&(p.trigger("ajaxComplete",[x,c]),--v.active||v.event.trigger("ajaxStop"))}typeof e=="object"&&(n=e,e=t),n=n||{};var r,i,s,o,u,a,f,l,c=v.ajaxSetup({},n),h=c.context||c,p=h!==c&&(h.nodeType||h instanceof v)?v(h):v.event,d=v.Deferred(),m=v.Callbacks("once memory"),g=c.statusCode||{},b={},w={},E=0,S="canceled",x={readyState:0,setRequestHeader:function(e,t){if(!E){var n=e.toLowerCase();e=w[n]=w[n]||e,b[e]=t}return this},getAllResponseHeaders:function(){return E===2?i:null},getResponseHeader:function(e){var n;if(E===2){if(!s){s={};while(n=pn.exec(i))s[n[1].toLowerCase()]=n[2]}n=s[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return E||(c.mimeType=e),this},abort:function(e){return e=e||S,o&&o.abort(e),T(0,e),this}};d.promise(x),x.success=x.done,x.error=x.fail,x.complete=m.add,x.statusCode=function(e){if(e){var t;if(E<2)for(t in e)g[t]=[g[t],e[t]];else t=e[x.status],x.always(t)}return this},c.url=((e||c.url)+"").replace(hn,"").replace(mn,ln[1]+"//"),c.dataTypes=v.trim(c.dataType||"*").toLowerCase().split(y),c.crossDomain==null&&(a=wn.exec(c.url.toLowerCase()),c.crossDomain=!(!a||a[1]===ln[1]&&a[2]===ln[2]&&(a[3]||(a[1]==="http:"?80:443))==(ln[3]||(ln[1]==="http:"?80:443)))),c.data&&c.processData&&typeof c.data!="string"&&(c.data=v.param(c.data,c.traditional)),kn(Sn,c,n,x);if(E===2)return x;f=c.global,c.type=c.type.toUpperCase(),c.hasContent=!vn.test(c.type),f&&v.active++===0&&v.event.trigger("ajaxStart");if(!c.hasContent){c.data&&(c.url+=(gn.test(c.url)?"&":"?")+c.data,delete c.data),r=c.url;if(c.cache===!1){var N=v.now(),C=c.url.replace(bn,"$1_="+N);c.url=C+(C===c.url?(gn.test(c.url)?"&":"?")+"_="+N:"")}}(c.data&&c.hasContent&&c.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",c.contentType),c.ifModified&&(r=r||c.url,v.lastModified[r]&&x.setRequestHeader("If-Modified-Since",v.lastModified[r]),v.etag[r]&&x.setRequestHeader("If-None-Match",v.etag[r])),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!=="*"?", "+Tn+"; q=0.01":""):c.accepts["*"]);for(l in c.headers)x.setRequestHeader(l,c.headers[l]);if(!c.beforeSend||c.beforeSend.call(h,x,c)!==!1&&E!==2){S="abort";for(l in{success:1,error:1,complete:1})x[l](c[l]);o=kn(xn,c,n,x);if(!o)T(-1,"No Transport");else{x.readyState=1,f&&p.trigger("ajaxSend",[x,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){x.abort("timeout")},c.timeout));try{E=1,o.send(b,T)}catch(k){if(!(E<2))throw k;T(-1,k)}}return x}return x.abort()},active:0,lastModified:{},etag:{}});var Mn=[],_n=/\?/,Dn=/(=)\?(?=&|$)|\?\?/,Pn=v.now();v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Mn.pop()||v.expando+"_"+Pn++;return this[e]=!0,e}}),v.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.data,f=n.url,l=n.jsonp!==!1,c=l&&Dn.test(f),h=l&&!c&&typeof a=="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Dn.test(a);if(n.dataTypes[0]==="jsonp"||c||h)return s=n.jsonpCallback=v.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,o=e[s],c?n.url=f.replace(Dn,"$1"+s):h?n.data=a.replace(Dn,"$1"+s):l&&(n.url+=(_n.test(f)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return u||v.error(s+" was not called"),u[0]},n.dataTypes[0]="json",e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,Mn.push(s)),u&&v.isFunction(o)&&o(u[0]),u=o=t}),"script"}),v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return v.globalEval(e),e}}}),v.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),v.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=i.head||i.getElementsByTagName("head")[0]||i.documentElement;return{send:function(s,o){n=i.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){if(i||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||o(200,"success")},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Hn,Bn=e.ActiveXObject?function(){for(var e in Hn)Hn[e](0,1)}:!1,jn=0;v.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&Fn()||In()}:Fn,function(e){v.extend(v.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(v.ajaxSettings.xhr()),v.support.ajax&&v.ajaxTransport(function(n){if(!n.crossDomain||v.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c,h;try{if(r&&(i||a.readyState===4)){r=t,o&&(a.onreadystatechange=v.noop,Bn&&delete Hn[o]);if(i)a.readyState!==4&&a.abort();else{u=a.status,l=a.getAllResponseHeaders(),c={},h=a.responseXML,h&&h.documentElement&&(c.xml=h);try{c.text=a.responseText}catch(p){}try{f=a.statusText}catch(p){f=""}!u&&n.isLocal&&!n.crossDomain?u=c.text?200:404:u===1223&&(u=204)}}}catch(d){i||s(-1,d)}c&&s(u,f,c,l)},n.async?a.readyState===4?setTimeout(r,0):(o=++jn,Bn&&(Hn||(Hn={},v(e).unload(Bn)),Hn[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var qn,Rn,Un=/^(?:toggle|show|hide)$/,zn=new RegExp("^(?:([-+])=|)("+m+")([a-z%]*)$","i"),Wn=/queueHooks$/,Xn=[Gn],Vn={"*":[function(e,t){var n,r,i=this.createTween(e,t),s=zn.exec(t),o=i.cur(),u=+o||0,a=1,f=20;if(s){n=+s[2],r=s[3]||(v.cssNumber[e]?"":"px");if(r!=="px"&&u){u=v.css(i.elem,e,!0)||n||1;do a=a||".5",u/=a,v.style(i.elem,e,u+r);while(a!==(a=i.cur()/o)&&a!==1&&--f)}i.unit=r,i.start=u,i.end=s[1]?u+(s[1]+1)*n:n}return i}]};v.Animation=v.extend(Kn,{tweener:function(e,t){v.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],Vn[n]=Vn[n]||[],Vn[n].unshift(t)},prefilter:function(e,t){t?Xn.unshift(e):Xn.push(e)}}),v.Tween=Yn,Yn.prototype={constructor:Yn,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(v.cssNumber[n]?"":"px")},cur:function(){var e=Yn.propHooks[this.prop];return e&&e.get?e.get(this):Yn.propHooks._default.get(this)},run:function(e){var t,n=Yn.propHooks[this.prop];return this.options.duration?this.pos=t=v.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Yn.propHooks._default.set(this),this}},Yn.prototype.init.prototype=Yn.prototype,Yn.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=v.css(e.elem,e.prop,!1,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){v.fx.step[e.prop]?v.fx.step[e.prop](e):e.elem.style&&(e.elem.style[v.cssProps[e.prop]]!=null||v.cssHooks[e.prop])?v.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Yn.propHooks.scrollTop=Yn.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},v.each(["toggle","show","hide"],function(e,t){var n=v.fn[t];v.fn[t]=function(r,i,s){return r==null||typeof r=="boolean"||!e&&v.isFunction(r)&&v.isFunction(i)?n.apply(this,arguments):this.animate(Zn(t,!0),r,i,s)}}),v.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Gt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=v.isEmptyObject(e),s=v.speed(t,n,r),o=function(){var t=Kn(this,v.extend({},e),s);i&&t.stop(!0)};return i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=e!=null&&e+"queueHooks",s=v.timers,o=v._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Wn.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem===this&&(e==null||s[n].queue===e)&&(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&v.dequeue(this,e)})}}),v.each({slideDown:Zn("show"),slideUp:Zn("hide"),slideToggle:Zn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){v.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),v.speed=function(e,t,n){var r=e&&typeof e=="object"?v.extend({},e):{complete:n||!n&&t||v.isFunction(e)&&e,duration:e,easing:n&&t||t&&!v.isFunction(t)&&t};r.duration=v.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in v.fx.speeds?v.fx.speeds[r.duration]:v.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){v.isFunction(r.old)&&r.old.call(this),r.queue&&v.dequeue(this,r.queue)},r},v.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},v.timers=[],v.fx=Yn.prototype.init,v.fx.tick=function(){var e,n=v.timers,r=0;qn=v.now();for(;r<n.length;r++)e=n[r],!e()&&n[r]===e&&n.splice(r--,1);n.length||v.fx.stop(),qn=t},v.fx.timer=function(e){e()&&v.timers.push(e)&&!Rn&&(Rn=setInterval(v.fx.tick,v.fx.interval))},v.fx.interval=13,v.fx.stop=function(){clearInterval(Rn),Rn=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fx.step={},v.expr&&v.expr.filters&&(v.expr.filters.animated=function(e){return v.grep(v.timers,function(t){return e===t.elem}).length});var er=/^(?:body|html)$/i;v.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){v.offset.setOffset(this,e,t)});var n,r,i,s,o,u,a,f={top:0,left:0},l=this[0],c=l&&l.ownerDocument;if(!c)return;return(r=c.body)===l?v.offset.bodyOffset(l):(n=c.documentElement,v.contains(n,l)?(typeof l.getBoundingClientRect!="undefined"&&(f=l.getBoundingClientRect()),i=tr(c),s=n.clientTop||r.clientTop||0,o=n.clientLeft||r.clientLeft||0,u=i.pageYOffset||n.scrollTop,a=i.pageXOffset||n.scrollLeft,{top:f.top+u-s,left:f.left+a-o}):f)},v.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return v.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(v.css(e,"marginTop"))||0,n+=parseFloat(v.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=v.css(e,"position");r==="static"&&(e.style.position="relative");var i=v(e),s=i.offset(),o=v.css(e,"top"),u=v.css(e,"left"),a=(r==="absolute"||r==="fixed")&&v.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),v.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+c),t.left!=null&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},v.fn.extend({position:function(){if(!this[0])return;var e=this[0],t=this.offsetParent(),n=this.offset(),r=er.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(v.css(e,"marginTop"))||0,n.left-=parseFloat(v.css(e,"marginLeft"))||0,r.top+=parseFloat(v.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(v.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||i.body;while(e&&!er.test(e.nodeName)&&v.css(e,"position")==="static")e=e.offsetParent;return e||i.body})}}),v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);v.fn[e]=function(i){return v.access(this,function(e,i,s){var o=tr(e);if(s===t)return o?n in o?o[n]:o.document.documentElement[i]:e[i];o?o.scrollTo(r?v(o).scrollLeft():s,r?s:v(o).scrollTop()):e[i]=s},e,i,arguments.length,null)}}),v.each({Height:"height",Width:"width"},function(e,n){v.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){v.fn[i]=function(i,s){var o=arguments.length&&(r||typeof i!="boolean"),u=r||(i===!0||s===!0?"margin":"border");return v.access(this,function(n,r,i){var s;return v.isWindow(n)?n.document.documentElement["client"+e]:n.nodeType===9?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?v.css(n,r,i,u):v.style(n,r,i,u)},n,o?i:t,o,null)}})}),e.jQuery=e.$=v,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return v})})(window);
//]]>
</script>
<script id="jqueryArea" type="text/javascript">
//<![CDATA[
/*
jQuery.encoding.digests.sha1.js

SHA-1 digest and associated utility functions

Copyright (c) UnaMesa Association 2009

Dual licensed under the MIT and GPL licenses:
  http://www.opensource.org/licenses/mit-license.php
  http://www.gnu.org/licenses/gpl.html
*/

(function($) {

if(!$.encoding)
	$.encoding = {};
	$.extend($.encoding,{
		strToBe32s: function(str) {
			// Convert a string to an array of big-endian 32-bit words
			var be=[];
			var len=Math.floor(str.length/4);
			var i, j;
			for(i=0, j=0; i<len; i++, j+=4) {
				be[i]=((str.charCodeAt(j)&0xff) << 24)|((str.charCodeAt(j+1)&0xff) << 16)|((str.charCodeAt(j+2)&0xff) << 8)|(str.charCodeAt(j+3)&0xff);
			}
			while(j<str.length) {
				be[j>>2] |= (str.charCodeAt(j)&0xff)<<(24-(j*8)%32);
				j++;
			}
			return be;
		},
		be32sToStr: function(be) {
			// Convert an array of big-endian 32-bit words to a string
			var str='';
			for(var i=0;i<be.length*32;i+=8) {
				str += String.fromCharCode((be[i>>5]>>>(24-i%32)) & 0xff);
			}
			return str;
		},
		be32sToHex: function(be) {
			// Convert an array of big-endian 32-bit words to a hex string
			var hex='0123456789ABCDEF';
			var str='';
			for(var i=0;i<be.length*4;i++) {
				str += hex.charAt((be[i>>2]>>((3-i%4)*8+4))&0xF) + hex.charAt((be[i>>2]>>((3-i%4)*8))&0xF);
			}
			return str;
		}
	});
})(jQuery);


(function($) {

if(!$.encoding.digests)
	$.encoding.digests = {};
	$.extend($.encoding.digests,{
		hexSha1Str: function(str) {
			// Return, in hex, the SHA-1 hash of a string
			return $.encoding.be32sToHex($.encoding.digests.sha1Str(str));
		},
		sha1Str: function(str) {
			// Return the SHA-1 hash of a string
			return sha1($.encoding.strToBe32s(str),str.length);
		},
		sha1: function(x,blen) {
			// Calculate the SHA-1 hash of an array of blen bytes of big-endian 32-bit words
			return sha1($.encoding.strToBe32s(str),str.length);
		}
	});

	// Private functions.
	function sha1(x,blen) {
		// Calculate the SHA-1 hash of an array of blen bytes of big-endian 32-bit words
		function add32(a,b) {
			// Add 32-bit integers, wrapping at 32 bits
			// Uses 16-bit operations internally to work around bugs in some JavaScript interpreters.
			var lsw=(a&0xFFFF)+(b&0xFFFF);
			var msw=(a>>16)+(b>>16)+(lsw>>16);
			return (msw<<16)|(lsw&0xFFFF);
		}
		function AA(a,b,c,d,e) {
			// Cryptographic round helper function. Add five 32-bit integers, wrapping at 32 bits, second parameter is rotated left 5 bits before the addition
			// Uses 16-bit operations internally to work around bugs in some JavaScript interpreters.
			b=(b>>>27)|(b<<5);
			var lsw=(a&0xFFFF)+(b&0xFFFF)+(c&0xFFFF)+(d&0xFFFF)+(e&0xFFFF);
			var msw=(a>>16)+(b>>16)+(c>>16)+(d>>16)+(e>>16)+(lsw>>16);
			return (msw<<16)|(lsw&0xFFFF);
		}
		function RR(w,j) {
			// Cryptographic round helper function.
			var n=w[j-3]^w[j-8]^w[j-14]^w[j-16];
			return (n>>>31)|(n<<1);
		}

		var len=blen*8;
		x[len>>5] |= 0x80 << (24-len%32);
		x[((len+64>>9)<<4)+15]=len;
		var w=new Array(80);

		var k1=0x5A827999;
		var k2=0x6ED9EBA1;
		var k3=0x8F1BBCDC;
		var k4=0xCA62C1D6;

		var h0=0x67452301;
		var h1=0xEFCDAB89;
		var h2=0x98BADCFE;
		var h3=0x10325476;
		var h4=0xC3D2E1F0;

		for(var i=0;i<x.length;i+=16) {
			var j=0;
			var t;
			var a=h0;
			var b=h1;
			var c=h2;
			var d=h3;
			var e=h4;
			while(j<16) {
				w[j]=x[i+j];
				t=AA(e,a,d^(b&(c^d)),w[j],k1);
				e=d; d=c; c=(b>>>2)|(b<<30); b=a; a=t; j++;
			}
			while(j<20) {
				w[j]=RR(w,j);
				t=AA(e,a,d^(b&(c^d)),w[j],k1);
				e=d; d=c; c=(b>>>2)|(b<<30); b=a; a=t; j++;
			}
			while(j<40) {
				w[j]=RR(w,j);
				t=AA(e,a,b^c^d,w[j],k2);
				e=d; d=c; c=(b>>>2)|(b<<30); b=a; a=t; j++;
			}
			while(j<60) {
				w[j]=RR(w,j);
				t=AA(e,a,(b&c)|(d&(b|c)),w[j],k3);
				e=d; d=c; c=(b>>>2)|(b<<30); b=a; a=t; j++;
			}
			while(j<80) {
				w[j]=RR(w,j);
				t=AA(e,a,b^c^d,w[j],k4);
				e=d; d=c; c=(b>>>2)|(b<<30); b=a; a=t; j++;
			}
			h0=add32(h0,a);
			h1=add32(h1,b);
			h2=add32(h2,c);
			h3=add32(h3,d);
			h4=add32(h4,e);
		}
		return [h0,h1,h2,h3,h4];
	}
})(jQuery);
/*
jQuery.twStylesheet.js

jQuery plugin to dynamically insert CSS rules into a document

Usage:
  jQuery.twStylesheet applies style definitions
  jQuery.twStylesheet.remove neutralizes style definitions

Copyright (c) UnaMesa Association 2009

Triple licensed under the BSD, MIT and GPL licenses:
  http://www.opensource.org/licenses/bsd-license.php
  http://www.opensource.org/licenses/mit-license.php
  http://www.gnu.org/licenses/gpl.html
*/

(function($) {

var defaultId = "customStyleSheet"; // XXX: rename to dynamicStyleSheet?

// Add or replace a style sheet
// css argument is a string of CSS rule sets
// options.id is an optional name identifying the style sheet
// options.doc is an optional document reference
// N.B.: Uses DOM methods instead of jQuery to ensure cross-browser comaptibility.
$.twStylesheet = function(css, options) {
	options = options || {};
	var id = options.id || defaultId;
	var doc = options.doc || document;
	var el = doc.getElementById(id);
	if(doc.createStyleSheet) { // IE-specific handling
		if(el) {
			el.parentNode.removeChild(el);
		}
		doc.getElementsByTagName("head")[0].insertAdjacentHTML("beforeEnd",
			'&nbsp;<style id="' + id + '" type="text/css">' + css + '</style>'); // fails without &nbsp;
	} else { // modern browsers
		if(el) {
			el.replaceChild(doc.createTextNode(css), el.firstChild);
		} else {
			el = doc.createElement("style");
			el.type = "text/css";
			el.id = id;
			el.appendChild(doc.createTextNode(css));
			doc.getElementsByTagName("head")[0].appendChild(el);
		}
	}
};

// Remove existing style sheet
// options.id is an optional name identifying the style sheet
// options.doc is an optional document reference
$.twStylesheet.remove = function(options) {
	options = options || {};
	var id = options.id || defaultId;
	var doc = options.doc || document;
	var el = doc.getElementById(id);
	if(el) {
		el.parentNode.removeChild(el);
	}
};

})(jQuery);

//]]>
</script>
<script type="text/javascript">
//<![CDATA[
if(useJavaSaver)
	document.write("<applet style='position:absolute;left:-1px' name='TiddlySaver' code='TiddlySaver.class' archive='TiddlySaver.jar' width='1' height='1'></applet>");
//]]>
</script>
<!--POST-SCRIPT-START-->

<!--POST-SCRIPT-END-->
</body>
</html>
